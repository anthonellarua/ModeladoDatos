{"version":3,"sources":["jquery/common/bizagi.mobiscroll/js/mobiscroll.min.js","jquery/rendering/js/base/render/bizagi.rendering.render.js","jquery/rendering/js/base/container/bizagi.rendering.form.js","jquery/rendering/js/base/render/layout/bizagi.rendering.layout.render.js","jquery/rendering/js/base/render/bizagi.rendering.combo.js","jquery/rendering/js/base/render/bizagi.rendering.date.js","jquery/rendering/js/base/render/bizagi.rendering.extendedText.js","jquery/rendering/js/base/render/bizagi.rendering.grid.js","jquery/rendering/js/base/render/bizagi.rendering.label.js","jquery/rendering/js/base/render/bizagi.rendering.search.js","jquery/rendering/js/base/render/bizagi.rendering.handSignature.js","jquery/rendering/js/base/render/column/bizagi.rendering.columns.column.js","jquery/rendering/js/bizagi.rendering.facade.js","jquery/common/bizagi.tabs/js/jquery.material.tab.js","jquery/common/bizagi.mfb/js/bizagi.mfb.js","jquery/common/bizagi.ripple/js/jquery.ripple.js","jquery/common/bizagi.grid/js/smartphone/bizagi.grid.smartphone.js","jquery/common/base/js/lib/mobile/jquery.tabs.js","jquery/common/bizagi.mobiscroll/js/mobiscroll.modules.js","jquery/rendering/js/base/bizagi.rendering.element.js","jquery/rendering/js/base/container/bizagi.rendering.container.js","jquery/rendering/js/base/render/bizagi.rendering.render.base.js","jquery/rendering/js/base/container/bizagi.rendering.formTemplate.js","jquery/rendering/js/base/container/bizagi.rendering.layout.js","jquery/rendering/js/base/container/bizagi.rendering.accordion.js","jquery/rendering/js/base/container/bizagi.rendering.accordionItem.js","jquery/rendering/js/base/render/bizagi.rendering.collectionnavigator.js","jquery/rendering/js/base/container/bizagi.rendering.group.js","jquery/rendering/js/base/container/bizagi.rendering.section.js","jquery/rendering/js/base/container/bizagi.rendering.horizontal.js","jquery/rendering/js/base/container/bizagi.rendering.panel.js","jquery/rendering/js/base/container/bizagi.rendering.contentPanel.js","jquery/rendering/js/base/container/bizagi.rendering.searchForm.js","jquery/rendering/js/base/container/bizagi.rendering.tab.js","jquery/rendering/js/base/container/bizagi.rendering.tabItem.js","jquery/rendering/js/base/render/layout/bizagi.rendering.layout.image.js","jquery/rendering/js/base/render/layout/bizagi.rendering.layout.link.js","jquery/rendering/js/base/render/layout/bizagi.rendering.layout.label.js","jquery/rendering/js/base/render/layout/bizagi.rendering.layout.text.js","jquery/rendering/js/base/render/layout/bizagi.rendering.layout.upload.js","jquery/rendering/js/base/render/layout/bizagi.rendering.layout.boolean.js","jquery/rendering/js/base/render/layout/bizagi.rendering.layout.dateTime.js","jquery/rendering/js/base/render/layout/bizagi.rendering.layout.number.js","jquery/rendering/js/base/render/layout/bizagi.rendering.layout.money.js","jquery/rendering/js/base/render/layout/bizagi.rendering.layout.placeholder.js","jquery/rendering/js/base/container/bizagi.rendering.nestedForm.js","jquery/rendering/js/base/render/bizagi.rendering.check.js","jquery/rendering/js/base/render/bizagi.rendering.number.js","jquery/rendering/js/base/render/bizagi.rendering.numberScientificNotation.js","jquery/rendering/js/base/render/bizagi.rendering.hidden.js","jquery/rendering/js/base/render/bizagi.rendering.text.js","jquery/rendering/js/base/render/bizagi.rendering.readonly.js","jquery/rendering/js/base/render/bizagi.rendering.checkList.js","jquery/rendering/js/base/render/bizagi.rendering.range.js","jquery/rendering/js/base/render/bizagi.rendering.rangeDate.js","jquery/rendering/js/base/render/bizagi.rendering.rangeMoney.js","jquery/rendering/js/base/render/bizagi.rendering.rangeNumber.js","jquery/rendering/js/base/render/bizagi.rendering.actionLauncher.js","jquery/rendering/js/base/render/bizagi.rendering.entityTemplate.js","jquery/rendering/js/base/render/bizagi.rendering.polymorphicLauncher.js","jquery/rendering/js/base/render/bizagi.rendering.button.js","jquery/rendering/js/base/render/bizagi.rendering.fileprint.js","jquery/rendering/js/base/render/bizagi.rendering.link.js","jquery/rendering/js/base/render/bizagi.rendering.geolocation.js","jquery/rendering/js/base/render/bizagi.rendering.association.js","jquery/rendering/js/base/render/bizagi.rendering.upload.js","jquery/rendering/js/base/render/bizagi.rendering.ecm.js","jquery/rendering/js/base/render/bizagi.rendering.yesno.js","jquery/rendering/js/base/render/bizagi.rendering.letter.js","jquery/rendering/js/base/render/bizagi.rendering.formLink.js","jquery/rendering/js/base/render/bizagi.rendering.cascadingCombo.js","jquery/rendering/js/base/render/bizagi.rendering.list.js","jquery/rendering/js/base/render/bizagi.rendering.multiSelect.js","jquery/rendering/js/base/render/bizagi.rendering.searchList.js","jquery/rendering/js/base/render/bizagi.rendering.money.js","jquery/rendering/js/base/render/bizagi.rendering.radio.js","jquery/rendering/js/base/render/bizagi.rendering.image.js","jquery/rendering/js/base/render/bizagi.rendering.userfield.js","jquery/rendering/js/base/render/bizagi.rendering.document.js","jquery/rendering/js/base/render/column/bizagi.rendering.columns.readonly.js","jquery/rendering/js/base/render/column/bizagi.rendering.columns.combo.js","jquery/rendering/js/base/render/column/bizagi.rendering.columns.date.js","jquery/rendering/js/base/render/column/bizagi.rendering.columns.search.js","jquery/rendering/js/base/render/column/bizagi.rendering.columns.hidden.js","jquery/rendering/js/base/bizagi.rendering.base.factory.js","jquery/rendering/js/bizagi.rendering.device.factory.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","$","updateIndicatorState","tabs","active_tab","direction","tabs_meta","getTabsMetaInfo","tabs_info","tabsMetaInfo","tab_info","tabMetaInfo","left","tmp_left","scrollLeftNormalized","clientWidth","scrollWidth","scrollLeft","width","tabs_meta_info","r","getBoundingClientRect","getNormalizedScrollLeft","right","tab_meta_info","a","n","window","document","body","e","createElement","appendChild","createTextNode","dir","style","fontSize","height","position","top","overflow","type","removeChild","getScrollType","Number","NaN","fn","material_bizagi_tabs","options","params","opts","extend","defaults","base","index","$el","undefined","$active","$active_content","init","el","$ind","self","this","$tabs","$content_tabs","updatePositions","active","$indicator","info","get","css","scroll_info","scrollSelectedIntoView","trigger","active_index_tab","each","element","addClass","data","hide","push","on","stopPropagation","prepend","find","removeClass","reference","show","preventDefault","getActiveTab","tab","contantTab","moveToNextTab","length","click","refreshPositions","refreshTab","id","el_id","indexOf","console","error","mfb","overlay","opened","buttons","activePrincipalButton","placement","efect","clickHoverOpt","toggleMethod","menuState","menuStateValue","isOpen","isClosed","mainButtonClass","restingIcon","activeIcon","children","remove","target","currentState","attachEvt","elems","evt","handler","i","len","addEventListener","configureBlur","blur","siblings","closest","html","kendo","template","useWithBlock","append","toggle","getAttribute","parentNode","button","principal","appendTo","bind","setAttribute","jQuery","bz_navigation_buttons","isDesign","buttonSelected","lastActionExecuted","allowAddButtons","$element","empty","$container","result","caption","properties","$elementButton","replace","handlerOnClickButton","targetElement","offset","offsetWidth","setTimeout","$addButton","htmlButtons","heightAddButton","heightWrapper","heightButtons","$rightNavigationButton","rightNavigationButtonIsLocated","insertAfter","leftNavigationButtonIsLocated","$leftNavigationButton","ev","maxScrollLeft","detach","prependTo","processButtons","transparent","$temp","rippleEffect","eventPageX","eventPageY","inkX","inkY","maxDiameter","rippleColor","$inkSpan","$inkparent","$thisElement","eventType","getRippleColorFromTraverse","inkColor","fallBackColor","backgroundOrInhreitedBackGround","hex","luma","returnLumintion","fallback","getBgColor","$elementToCheckForBg","is","parent","getBackgroundColorForInk","colorToHex","getLuminationValue","getColorLuminance","getInkColor","inkDefaultColor","appendInkTo","inkClass","inkContainerClass","Math","max","outerWidth","outerHeight","idToUse","background-color","pageX","pageY","touch","originalEvent","touches","changedTouches","hexcolor","substring","rgb","parseInt","lum","String","c","resultHex","substr","round","min","toString","color","match","slice","widget","ui","bizagi_grid","attachHandlers","pager","_getComponent","pageNumber","attr","isValid","changePage","page","value","_input","items","actions","add","name","bizagi","localization","getResource","processAction","unselectRow","hasTotalizer","totalizer","overflowMenu","_row_buttons","totalData","draw","_super","verifyTotalizer","rows","rowButtons","actualActionSheet","util","isObjectEmpty","destroy","kendoMobileActionSheet","smartphone","stopLoading","drawRow","rowData","isNewRow","selectedBusinessKey","columnKeyIndex","success_callback","fail_callback","currentPage","total","records","newPage","startLoading","onPageRequested","onRowSelected","apply","arguments","onRowUnselected","_canShowButtons","_canShowRowButtons","getNewRowKeys","map","row","_showRowButtons","_hideRowButtons","_replaceElement","RegExp","isNewRecord","businessKey","bztabs","activeTab","tabNumber","activate","popUp","beforeActivate","tabCountPopup","tabHeader","tabCountReal","widthRow","floor","item","textContent","tabCurrent","eq","widthTabSelected","updateTabSize","first","origin","changeTab","hasClass","dataRef","currentTarget","tabChildren","tempTabs","moveAtTheEnd","reorderTabs","domIncluded","when","done","event","headerWidth","innerWidth","totalWidth","j","pop","last","t","mobiscroll","s","I","component","W","instances","Array","call","o","parseFloat","l","d","se","m","targetTouches","f","h","b","p","v","y","g","settings","tap","Date","abs","mbscClick","createEvent","initMouseEvent","screenX","screenY","clientX","clientY","isMbscTap","isIonicTap","ne","mbscChange","dispatchEvent","u","nodeName","getHours","setHours","me","ge","charAt","getDay","dayNamesShort","dayNames","getTime","getFullYear","getMonth","monthNamesShort","monthNames","getYear","getMinutes","getSeconds","pmText","amText","toUpperCase","D","defaultValue","shortYearCutoff","x","toLowerCase","T","getDate","_","w","tz","M","moment","returnFormat","getMilliseconds","isoParts","toDate","trim","be","exec","he","C","k","xe","V","ie","removeAttr","Y","getComputedStyle","split","A","ke","backgroundColor","E","keyCode","addRipple","off","clearInterval","removeRipple","setInterval","start","stop","F","scrollTop","te","innerHTML","Ee","childNodes","runOutsideAngular","N","H","ceil","L","hasOwnProperty","O","z","q","R","X","U","J","B","G","navigator","userAgent","Q","platform","Z","maxTouchPoints","K","test","ee","requestAnimationFrame","ae","cancelAnimationFrame","clearTimeout","forEach","uid","oe","re","le","ce","de","ue","xsmall","small","medium","large","xlarge","getCoord","preventClick","vibrate","version","autoTheme","themes","form","frame","scroller","listview","navigation","progress","card","majorVersion","minorVersion","i18n","classes","setDefaults","customTheme","baseTheme","fe","responsive","breakpoint","_init","_destroy","_processSettings","_checkResp","_responsive","_getRespCont","context","getVal","_hasDef","_defaults","_hasTheme","theme","_class","_hasLang","lang","_presets","preset","setVal","option","getInst","__ready","pe","ve","dayNamesMin","getMaxDayOfMonth","getWeekNumber","setDate","datetime","formatDate","parseDate","ye","Te","Me","De","Ce","S","animation","transition","webkit","messageHandlers","touchAction","Se","Ve","Ye","Ae","Fe","Ne","He","Pe","Le","We","$e","Oe","qe","activeInstance","shiftKey","cancel","select","_activeElm","focus","focusOnClose","_markupRemove","mbscModals","scrollLock","mbscLock","mbscIOSLock","mbscScrollLeft","mbscScrollTop","P","visibility","offsetHeight","nodeType","contains","_hasContent","_markupInserted","closeOnOverlayTap","stopProp","focusTrap","filter","handlers","_attachEvents","_checkSize","zone","valueText","_tempValue","_isVisible","_fillValue","_value","_isFullScreen","display","_position","_isLiquid","maxPopupWidth","white-space","popup","hasTabs","oldWidth","oldHeight","windowWidth","windowHeight","anchor","scrollHeight","scroll","attachShow","prop","showOnFocus","showOnTap","readOnly","lbl","clear","_clearValue","live","enable","disabled","disable","_readValue","animate","activeElement","cssClass","compClass","showOverlay","rtl","headerText","_generateContent","btnReverse","parentClass","btnWidth","btnClass","icon","text","_markup","markup","_markupReady","_isValid","_detachEvents","isVisible","__processSettings","__init","__destroy","_updateHeader","touchUi","set","setText","setIcon","cancelText","cancelIcon","close","closeText","closeIcon","clearText","clearIcon","_isInput","layout","skipShow","_preventChange","val","selectedText","Frame","showLabel","selectedLineBorder","weekDays","checkIcon","btnPlusClass","btnMinusClass","btnCalPrevClass","btnCalNextClass","Re","Xe","domEvent","prevDef","readonly","lock","scrolled","thresholdY","thresholdX","momentum","speedUnit","deltaY","wheelDelta","detail","deltaX","deltaMode","posX","posY","originX","originY","snap2","snap1","time","timeUnit","destinationX","destinationY","duration","transitionTiming","sync","refresh","contSize","maxScroll","minScroll","snap","offsetTop","offsetLeft","maxSnapScroll","easing","elastic","initialPos","axis","moveElement","scrollbar","mousewheel","Ue","Je","CSS","je","supports","Be","_tempSelected","multiple","selected","_disabled","_$markup","_index","tapSelect","setOnTap","_offset","_array","_map","getIndex","circular","_length","isFunction","isPlainObject","delay","isArray","_batch","key","label","_nr","_current","_first","_last","_margin","_refresh","_scroller","invalid","validate","values","valid","_tempWheelArray","_$active","_$scroller","formatValue","_hasValue","_wheelArray","Object","keys","_selected","change","_setVal","parseValue","_getVal","setArrayVal","getArrayVal","changeWheel","_$3d","getValidValue","wheels","maxWidth","minWidth","onStart","onGestureStart","onGestureEnd","onAnimationStart","onAnimationEnd","onMove","onBtnTap","multiline","showScrollArrows","scroll3d","_getItemValue","join","Scroller","Ge","separator","dateFormat","dateDisplay","timeFormat","dayText","monthText","yearText","hourText","minuteText","ampmText","secText","nowText","todayText","Qe","end","isNaN","dd","tt","yearSuffix","getUTCFullYear","getUTCMonth","getUTCDate","unshift","dateOrder","format","calendarSystem","dateWheels","timeWheels","steps","hour","stepHour","minute","stepMinute","second","stepSecond","zeroBased","_e","we","monthSuffix","daySuffix","_format","_order","now","nowIcon","bootstrap","ios","material","windows","Ze","controls","firstDay","maxMonthWidth","breakPointMd","months","pageBuffer","weeks","highlight","outerMonthChange","quickNav","yearChange","todayClass","dateText","timeText","fromText","toText","moreEventsText","prevMonthText","nextMonthText","prevYearText","nextYearText","Ke","_onSelectShow","ct","Ie","mt","background","marked","_getDayProps","lt","ot","_id","it","nt","_onGenMonth","labels","events","colors","_labels","moreEventsPluralText","_days","xt","ut","year","month","st","$scroller","yt","ht","ariaLabel","dt","dayClass","pos","rt","ft","_isSetDate","at","queue","_onSetDate","gt","pt","vt","et","date","_selectDay","buffer","pages","genPage","getFirst","callback","load","changing","shift","onAfterChange","onBeforeChange","size","_scrollers","_onRefresh","ze","_multiple","altKey","bt","Tt","weekCounter","calendarScroll","calendarWidth","disabledClass","selectedTabClass","selectedClass","calendarHeight","calendar","search","redraw","navigate","_showDayPicker","_prepareObj","__selectDay","onMarkupReady","multiLabel","showEventCount","showOuterDays","calendarClass","before","tabLink","onShow","onHide","onValidated","control","onPosition","selectType","firstSelectDay","setOnDayTap","onClear","onBeforeShow","counter","selectedPluralText","onCancel","hijri","defaulti18n","calendarText","eventText","eventsText","wholeText","fractionText","unitText","delimiter","decimalSeparator","thousandsSeparator","labelsShort","startText","stopText","resetText","lapText","hideText","offText","onText","backText","undoText","setI18nMobiscroll","language","languages","bizagiLang","BIZAGI_LANGUAGE","baseLanguageTag","currentLanguage","dateRegional","currentText","isRTL","nextText","prevText","allDayText","noEventsText","es","fr","zh","nl","ja","cs","ru","ar","ko","ua","observableElement","Class","ELEMENT_TYPE_CONTAINER","ELEMENT_TYPE_RENDER","ELEMENT_TYPE_COLUMN","renderFactory","dataService","resources","disposed","initializeData","subscribers","xpathContext","getXpathContext","idPageCache","getPageCache","visualChanges","getXpath","xpath","getFormContainer","getElementType","resize","required","isScrolledIntoView","effect","triggerGlobalHandler","triggerHandler","unbind","one","getRenderedElement","getMode","getParams","getFormType","ready","isReadyToSave","getCustomHandlers","dispose","timeOutDispose","override","disposeTime","isDisposed","processFailMessage","message","isOfflineForm","errorType","validationController","clearValidationMessages","showErrorMessage","container","idCase","JSON","parse","code","responseText","showAlertMessage","endLoading","beforeToRefresh","afterToRefresh","getResourceByKey","resource","restoreAppearance","command","changeColor","changeBackgroundColor","changeRequired","changeEditability","changeVisibility","changeMinValue","changeMaxValue","getOrientation","orientation","rendering","TYPE_QUERY_FORM","uniqueId","random","editable","parseBoolean","visible","originalProperties","encode","childrenHash","elements","render","createRenderElement","createContainerElement","createFormElement","originalElement","retype","clone","getRender","mode","processDuplicateRender","registerRender","getContainer","getElement","getElementsByType","child","clonedElement","displayName","isClone","cloneRender","internalRender","applyContainerDefaults","tag","requestedForm","renderContainerHtml","postRenderContainer","renderingDeferred","Deferred","renderContainer","isRendered","promise","isEmpty","alert","argument","replaceTag","replaceSelector","replaceChildrenTag","replaceChildrenHtml","replaceFirstWithoutPatterns","resolve","executeChildrenPostRender","configureHandlers","applyPlaceHolderPolyfill","configureDesignView","configureLayoutView","config","placeHolderConfig","forceApply","Placeholders","childrenElements","childElement","postRenderElement","renderChildrenHtml","temp","renderElement","collectRenderValues","renderValues","canBeSent","collectData","hasChanged","collectRenderValuesQueryForm","canBeSentQueryForm","collectDataQueryForm","firstChild","getRenders","renders","getRendersByXpath","invalidElements","hasValidGrids","grid","childrenPromises","getFocus","getCustomHandler","customHandlers","timeOutChildrenDispose","refreshContainer","args","multiaction","refreshControl","idRender","contexttype","idForm","saveChildrenVisualChanges","unregisterChildren","removeActions","currentContainer","replaceWith","refreshActions","triggerChildrenActions","restoreChildrenVisualChanges","restoreAppearanceAfterRefresh","restoreContainerAppearance","fail","always","refreshDesignContainer","messageValidation","triggerRenderChange","changed","registerActions","actionController","buildActions","unregisterRender","replaceChild","splice","getChildById","restoreElementAppearance","childrenVisualChanges","postRenderTimeout","maxRendersPerScreen","rendersExecuted","renderOptimization","startOptimization","stopOptimization","included","includedInResult","renderType","normalizeType","submitOnChange","maxLength","helpText","textFormat","valueFormat","isHidden","editabilityEnabled","contextType","labelAlign","valueAlign","originalValue","previousValue","calculateInitialLayoutProperties","displayType","getDefaultLabelAlign","getDefaultValueAlign","getRTLAlign","renderWidth","calculateRenderWidth","labelWidth","valueWidth","layoutType","includes","renderTemplateName","renderTemplate","getTemplate","encodeString","isFullRender","detectDevice","isTabletDevice","fasttmpl","isExtendedText","isExtended","displayOptionClass","getDisplayOptionClass","labelAlignClass","getAlignClass","valueAlignClass","flexAlignClass","mapAlignClassName","columnAlign","stringLabelWidth","stringValueWidth","printVersion","printversion","cssclass","showFullRender","internalRenderControl","state","replaceControlHtml","resolveResult","asyncRenderDeferred","renderControl","renderReadOnly","configureSubmitOnChange","isLabelFormat","executePostRender","_element","timeOutRender","internalPostRender","getControl","emptyControlByAsyncRenderDeferred","processLayout","postRenderPrintVersion","postRender","postRenderReadOnly","performExecutionModeMethods","performDesignModeMethods","configureHandlersQueryForm","configureHandlersReadOnly","internalSetInitialValue","log","internalSetInitialValueFlag","setDisplayValue","inlineAdd","setValidationMessage","hasValue","isQueryForm","replaceAll","messageData","isQuery","getValue","columnEditable","getColumn","isNumeric","controlValueIsChanged","bold","changeFontBold","italic","changeFontItalic","underline","changeFontUnderline","strikethru","changeFontStrikethru","changeFontSize","changeCellVisibility","setValue","triggerEvents","identicalObjects","checkRequired","changeRequiredLabel","triggerRenderValidate","validateInputRetype","enableCheck","displayValue","getDisplayValue","sanitizeHTML","getLabel","mustImplement","getControlFiller","validationMessage","readOnlyValue","isObject","isString","encodeHtmlText","changeDisplayOption","changeLabelAlign","alignType","changeValueAlign","customizeRenderWidth","setProperty","getElementsToStylize","originalColor","currentStyle","getFormattingLabel","compareValue","baseValue","isStartForm","forceCollectData","showTime","getNormalizedDate","fullFormat","compareValueObj","_findAction","guid","targetObj","guidAction","objectValue","valuestrikethru","valueunderline","newFontSize","emptyControlByChangeEditability","changeEditabilityCellControl","renderColumn","decorated","getDecorated","internalRenderCellControl","readyDeferred","onCellChange","labelElement","controlElement","pipe","saveGridChildrenVisualChanges","controlFiller","currentElement","restoreGridChildrenVisualChanges","restoreGridAppearance","refreshDesignControl","cleanData","clearDisplayValue","input","updateOriginalValue","getRenderId","tryCatch","queryValue","searchType","typeSearch","rangeQuery","newParameter","orderType","renderId","displayXpath","force","displayOnly","defaultControl","innerControl","isIE","autoScrollBottom","timeOutEffect","align","dependencies","action","conditions","expressions","simple","submitOnChangexpathContext","operator","argumentType","commands","elseCommands","containerId","addSubmitAction","bRefreshForm","notCollect","defer","BA_CONTEXT_PARAMETER_PREFIX","internalSubmitOnChange","reject","getCacheIdCase","cache","idCaseObject","parameters","percent2Number","getIdCase","getIdWorkitem","idWorkitem","getidTask","idTask","getSessionId","sessionId","changeCellColor","changeCellBackgroundColor","backgroundImage","needBGPaint","background-image","changeCellRequired","startActionExecution","actionExecutionDeferred","endActionExecution","readyActionExecution","isFromCreatedRow","columns","submitInvalidatePageCacheRequest","pageCacheToInvalidate","invalidatePageCache","isDesignMode","isExecutionMode","preventDefaultForAnchorTag","isSharepointContext","isWebpartContext","getMainForm","currentForm","fromRender","setInterceptionObserver","$context","callbackFn","intersectionObserver","IntersectionObserver","pluginInitialized","disconnect","POLL_INTERVAL","observe","setResizeObserver","resizeObserver","ResizeObserver","indexes","getIndexes","column","decorateRenders","restoreCellAppearance","gridChildrenVisualChanges","cell","surrogateKey","processLabelLayout","processControlLayout","warm","$label","changeFontColor","changeTextDecoration","$control","$elements","textDecoration","getCellBackgroundFunction","true","columnDate","changeInputBackgroundColor","false","default","device","rendersById","rendersByXpath","rendersByXpathId","rendersByType","pageCacheId","displayAsReadOnly","userConfirmationMessage","hasRule","paramsRender","processPath","breadCrumb","validations","allowValidateAndSaveAction","enableActionValidateAndSave","enableExecuteQuickActions","isFeatureEnabled","allowExecuteQuickActions","useQuickActions","hasQuickActions","initializeButtons","transitions","originalProcessButton","processButton","isRoutingDisabled","applicationParent","isOfflineFormsV2Supported","isMobileDevice","ordinal","next","nextWithoutValidations","submitData","back","createnewcase","save","quickAction","routing","executeRule","buildButtonStyle","setParam","property","xpathId","md5","stringify","listRendesByType","getRenderByType","listRendesByTypeLength","renderKey","listRender","getRenderById","getGridByColumn","grids","columnsIds","helptext","queryForm","summaryForm","globalForm","allowQuickActions","complexGatewayContainer","activeTransitions","mainForm","$canvas","getValidationsContainer","controllers","validation","checkboxLabel","transitionId","strStyle","getContextType","getEndPointAction","formtype","getButtons","stopImmediatePropagation","buttonProperties","btn","lastActionButton","routingDisabled","propagateExternalEvents","timeOutButton","processDefer","documentElement","preProcessButton","postProcessButton","responses","setLoaderDeferred","loaderDeferred","deleteLoaderDeferred","isLoaderDeferredSet","useOrSetLoaderDeferred","getLoaderPromise","appendWaitForLoader","create","then","getResolveOrReject","deferred","chrono","initAndStart","getAllTabs","getAllTabsLength","innerTabsLoading","loadingDeferred","performValidations","confirmationStatus","getConfirmationStatus","hasConfirmation","showConfirmationBox","submitForm","expandNotificationBox","customHandler","validateForm","saveForm","isNativeMobileDevice","allowOnlineActions","collectRenderValuesForSubmit","deferredsToWait","deferreds","saveParams","offlineType","removeCaseSyncError","removeSyncErrorOnSubmit","removeStartCaseSyncError","removeTaskCaseSyncError","internalSubmitFormOffline","internalSubmitForm","checkWidgetsData","isComplexGatewayPainted","getLastActionButton","executeButtonAction","loading","executeButton","prepare","countProps","showMessageBox","waitingDeferreds","isSaveForDraft","online","syncDeferred","syncParams","offlineAction","buttonPropertiesAction","radNumber","showToastOnSuccessSync","showMobileToast","IdCase","caseNumber","CaseNumber","isOfflineRefreshWithEdition","shouldRefresh","refreshForm","showNotification","recreateNativeButtons","bHasValidations","alertMessage","response","propertiesToDisplayMessages","validationToDisplayMessages","messages","modalError","failHandler","partialSubmitFormOffline","submitDataAction","performAction","checkpointAction","commitAction","prepareCheckpointAction","prepareCommitAction","getButtonAction","forcePlanCompletion","surrogatekey","flowControlDeferred","execute","sendRollbackAction","jqxhrList","abortAll","res","res2","messageType","addValidationMessage","itemAdditionalClass","autofocus","showValidationMessage","addErrorMessage","errorMessage","selectedTabs","getSelectedTabs","selectedSection","getSelectedSection","isRefresh","idStartScope","isEdited","tabContainers","tabContainer","processInternalSubmitAction","waitingTemplate","waitingOverlay","waitingMessage","tmpl","isSharePoint","canvas","getSize","getOffset","min-height","min-width","getFocusedElement","setFocusedElement","errorJson","setSize","isEmptyObject","executeSubmitData","isRefreshingAfterSync","rule","clearOnlyServer","executeInterface","interface","executeSAPConnector","guidsap","executeConnector","guidConnector","executePipeline","pipeline","tryToExecuteFunction","unbindActions","cancelPreviousRequest","focusIdentifier","IdScope","objMessage","strMessage","multiactionConnection","connection","abort","showErrorAlertDialog","buttonId","sendCheckpoint","url","checkpointUrl","commitLinkForm","commitUrl","rollbackLinkForm","rollbackUrl","timeOutController","getButton","getFloatingButton","isConnected","configureNetworkHandlers","BIZAGI_ENVIRONMENT","handleConnectionChange","handleOfflineSyncEvent","formParams","hasSyncError","offlineFormId","paramsId","database","validateLocalDataForTaskExists","dataResult","applySyncLoader","tasks","warn","isStart","isSyncLoaderRunning","loaderIndex","processQuickButton","isEnable","some","formProperties","hasButtonsConfirmation","needsUserConfirmation","buttonConfirmationMsg","hasFormConfirmation","formConfirmationMsg","saveWorkInProgress","formType","contextEvent","processTemplate","processedTemplate","g1","g2","string","layoutCollection","getCss","layoutGuid","layoutguid","loadStyle","getContextEvent","stripslashes","desktop","allowAdd","withAddForm","allowEdit","withEditForm","allowDetail","inlineEdit","allowDelete","getKeys","pointer","totalRows","inlineAddRecords","showPreview","drawControls","drawActions","drawControl","drawForms","drawPreview","templateItem","hasData","getTotalRows","getRow","getNextRow","getPreviousRow","getFirstRow","getLastRow","setPointer","isTherePendingInlineRow","addKey","newId","removeKey","navigationform","getParameters","recordXpath","recordXPath","submitAddRequest","addGridRecord","addUrl","idEntity","submitEditRequest","editGridRecord","editUrl","submitDeleteRequest","deleteGridRecord","deleteUrl","submitSaveRequest","saveGridRecord","saveUrl","dataFail","submitRollbackRequest","rollbackGridAction","getRemoteData","dataUrl","getData","content","validateControls","collapse","expandedIcon","getExpandedIcon","collapsedIcon","getCollapsedIcon","expandedClassIcon","toogleContainer","bImmediate","displayAs","sectionContent","renderSectionContent","getBreadcrumb","getParentDisplayName","getSectionParent","originalParams","getSectionOrientationRTL","panel","renderResult","performSearch","searchParams","submitSearch","refreshResults","collectSearchValues","isMapEmpty","maxRecords","maxRows","idSearchForm","allowFullSearch","criteria","totalPages","deviceMaxRecordsExceeded","onSearchFinished","errorObject","submitArray","operation","getCriteriaOperation","criteriaData","dataType","parseAdditionalProperties","tabItems","tooltip","tabOrientation","loadOnDemand","containsFocusedElement","setActiveTab","selectedTab","renderTabContent","templateUri","useDefaultImage","getImage64","entity","getEntityImage64","getImageUri","hash","serviceLocator","getUrl","replaceMultiple","allowSendInMail","getValueFilesByData","dataFiles","valueAuxFiles","isContextContainerWidgetRender","getDataFilesWithoutScope","valueResult","err","formContainer","getFilesDataForLayoutUploadControl","files","getUploadXpath","indexHour","dateFormatter","getDateFromInvariant","datePickerRegional","dateObj","dateControl","getDateControl","formattedDateTime","allowDecimals","getDefaultAllowDecimals","numDecimals","BIZAGI_DEFAULT_CURRENCY_INFO","decimalDigits","symbol","positiveFormat","negativeFormat","decimalSymbol","digitGroupSymbol","groupSeparator","groupDigits","getDefaultGroupDigits","colorize","colorizeOnNegative","formatCurrency","roundToDecimalPlace","showsymbol","currencySymbol","hasLocalData","enableTyping","complementData","isDependant","getParentCombo","valueControl","BA_ACTION_PARAMETER_PREFIX","renderCombo","renderComboTemplate","dataPromise","getTemplateName","emptyValue","emptyLabelForCombo","getTemplateParams","unique","randomNumber","formatItem","showEmpty","showCurrentData","getDummyData","remoteDataLoaded","extra","recalculate","allowActions","msgObj","auxMsg","parseJSON","resetData","combo","getSelectedValue","currentValue","parseAdditionalValues","newItem","hidden","bCurrentDataFound","emptyFound","dataValue","comboData","isExtraItem","escapeValue","mapValue","fromAction","validateValue","translated","findDataValueById","showLetters","randomId","setGroupDigits","dataTypeMinValue","calculateMinValue","dataTypeMaxValue","calculateMaxValue","toFixed","isMobile","isAndroidDevice","numericInput","numeric","attachRetypeDouble","attachFormatCurrency","removeValidations","formatNumericInput","$input","digitGroupSeparator","minValue","getMinValue","maxValue","getMaxValue","percentage","inputValue","inputLength","xPath","oldVal","isInvalidFormat","tempValue","asNumber","messageToShow","isValidRender","isValidRenderMessage","executeFormatCurrencyPlugin","regions","tmpData","isIE11","clipboardData","totalVal","eval","keydown","keyUnicode","charCode","formatTimeout","floatPart","selectionStart","selectionEnd","currentPosition","keyup","keypress","character","fromCharCode","removeTrailingZeros","positive","regExp","bValid","validMessage","thousands","performMinValue","newValue","performMaxValue","createTooltip","currentTitle","toolTipZindex","getMaxZindex","zIndex","timeOutFocus","numericSN","ud","getDateFormat","indexDateTimeSeparation","lastIndexOf","datePickerFormat","timePickerFormat","uppercaseDatePlaceholder","intHandler","isNow","timeControl","getTimeControl","onChangeHandler","updatingTime","formatInvariant","getNormalizeDate","setMilliseconds","getTimeFormat","setValueFromCalendarButtons","hasMaxLines","maxLines","regularExpressionExpression","regularExpressionMessage","regularExpression","expression","isEmptyField","textarea","validationMessages","regEx","decodedValue","decodeURI","valueToDisplay","areThereEditableColumns","areThereTotalizedColumns","initProperties","enabledChecks","exclusiveChanges","originalEnabledChecks","columnProperties","groupBy","allowGrouping","isExclusive","hasExclusiveCheck","columnRender","singleInstance","totalize","reverse","showSummary","rowsPerPage","initEditabilityProperties","initAddAndDeleteProperties","isSortable","keyColumn","skipInitialLoad","allowMore","allowFilter","groupSummary","groupText","groupCollapsed","groupOrder","formShowMode","floatingHeader","sortBy","sort","sortOrder","order","addLabel","editLabel","deleteLabel","exportOptionsLabel","detailLabel","tableCssClass","alreadySaved","overrideGetRemoteData","changes","cellOverrides","changeOrderData","rowKey","reverseDataRows","removeRemainingColumns","numColumns","remainingColumns","getColumnType","columnIndex","getGridTemplate","applyTemplate","columnInitializers","initialize","encodeXpath","sortType","searchFilter","getGridData","spliceRowData","spliceIndex","spliceRowDataVisible","spliceRowDataEditable","rowTemplate","buildCellXpathFilter","disableServerGridValidations","dataResp","collectGridChange","isPressed","pressed","configureColumnSubmitOnChange","keysToDelete","columnExclusiveChanges","columnEnabledChecks","columnXpath","canColumnBeSent","checkedObject","cellOverride","getCellOverride","getCellValue","getCellCurrentValue","getControlCell","setError","changeCellEditability","changeCellProperties","changeCellMaxValue","changeCellMinValue","changeColumnEditability","changeColumnVisibility","changeColumnRequired","cleanCellData","saveGrid","tmpEditable","changeColumnsEditability","newRows","saveInlineAddedRows","saveRows","refreshCell","refreshGridCell","typeRender","getDepthData","isBoolean","cellValue","updateAffectedCellManually","canBeExported","rowDeleted","hasErrors","getDataNewRows","merge","uniqueMessages","isValueValid","messagesLength","gridValidationMessage","columnVisible","setCellOverrides","len_v","newRecords","getGridExportFile","disposition","exportType","handleJSONResponse","submitForGridChange","timeOutColumn","getEnabledChecks","xpathfilter","getGridDataExclusivesSelected","cleanNewRecords","setRowAsSaved","hasColorHeader","headerFormat","isRTLOrientation","canBeExport","getExclusiveChangeByRow","idRow","isCurrentGridCell","columnId","getIndexForCurrentCell","findIndex","isSummaryOrGlobalForm","typeForm","allowDinamiclabel","bindingValue","configureHelpText","performLabelLineBreak","advancedSearch","submitVersion","searchForms","allowSuggest","allowTyping","allowClear","searchLength","enableLocalStorage","expireCache","h_contexttype","enableQuerySuggestBehavior","term","regexC","getSearchData","hideStatus","selectedValue","mask","regex","showDesignValidations","isNull","getFormattedValue","getDesignModeValue","formatBoolean","formatMonetaryValue","formatDecimalValue","formatDateValue","horizontal","checkListGroup","vertical","setRanageControls","minControl","maxControl","$maxCanvas","$minCanvas","renderRangeControl","defineRangeControl","dateMin","suscribe","observer","notify","dateMax","getRenderProperties","typeRangeControl","renderProperties","moneyMin","money","moneyMax","numberMin","number","numberMax","deferredActions","engine","templateEngine","autoGenerateData","templateGuid","selecttemplate","processPropertyValueArgs","pcaseId","pguidEntity","guidEntity","psurrogatedKey","surrogatedKey","ptags","tagslist","pmaxitems","maxItems","pactionXpath","xpathActions","processPropertyValueDataTmplArgs","ptemplateGuid","defaultAllowActions","allowactions","isHorizontal","allowSearch","templatetype","executeActionImmediately","processPropertyValueExecuteAction","pguidAction","pparameters","executeActions","notifyExecution","actionName","templateDefined","actionManager","guidProcess","def","actionType","guidWFClass","hasStartForm","processStartForm","guidprocess","title","processActionFormCollection","processActionForm","addActionToQueue","actionsList","additionalXpaths","additionalXpath","idParentWorkitem","idWorkItem","entityXpath","newValueActionsList","removeActionToQueue","controlValue","countSameActions","count","getPropertiesActionLaucher","actionsLaucher","getTagList","processPropertyValueExecuteConstructor","pguidConstructor","guidConstructor","guidObject","displayNamee","taglist","submitOnChangexpathContextRow","runButtonAction","error_obj","getErrorFormatted","filesCount","downloadFile","getFilePrint","geolocation","allowUpdate","getCurrentPosition","succes_callback","getErrorMessage","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","performPrecision","latitude","longitude","toPrecision","allowFlip","flipped","flipstate","leftData","rightData","processPropertyValue","getFlipAssociation","flip","makeJsonBase","getColumnData","getRightAssociation","formatJson","associationData","leftId","association","isChecked","idRight","checked","removeElement","rightId","removeValue","addElement","leftXpath","rightXpath","leftFactName","rightFactName","maxFileSizeOfProperty","maxSize","maxFileSizeOfUser","BIZAGI_SETTINGS","UploadMaxFileSize","maxfiles","validExtensions","singleExtensions","defExtensions","getUploadAddUrl","haveFiles","noFiles","file","fileName","renderUploadItem","replaceFilesHtml","itemTemplate","getTemplateItemName","buildItemUrl","filename","getUploadFileUrl","fileId","deleteUploadItem","deleteUploadFile","grep","fileItem","newRow","buildAddParams","prefix","BA_PAGE_CACHE","BIZAGI_SESSION_NAME","getUploadXpathContext","parents","setRenderRequired","validateObjectStructure","uploadId","validateArrayStructure","reduce","isFormatValid","validator","bzValidator","errors","maxFiles","q_xpath","showMetadata","listControl","fileProperties","idFileUpload","getFileExtension","isImage","lengthValues","idAttrib","renderFileLayout","loader","productBuildToAbout","replaceItemHtml","metadataTemplate","getECMMetadata","getFileProperties","metaData","ecm_ecmStatus","ecmStatus","ecm_isVisible","ecm_allowUpdateMetadata","allowUpdateMetadata","ecm_allowDelete","ecm_allowUpdateContent","allowUpdateContent","ecm_allowView","allowView","ecm_allowCheckOut","allowCheckOut","ecm_allowCancelCheckOut","allowCancelCheckOut","ecm_allowEdit","idFileUploads","deviceType","extension","p_sessionId","cookie","getECMFileUrl","metaValues","deleteECMFile","lockUploadItem","checkOutFile","unlockUploadItem","cancelCheckOut","isEmptyValue","letterOpened","getLetterContent","getContextXpath","saveLetterContent","getCanGenerateLetter","maximized","likeButton","editLinkForm","getFormLinkXpath","saveLinkForm","executeSubmitOnChange","saveFormLinkData","submitCommitRequest","submitCheckpointRequest","submitDataRequest","services","service","dependants","parentCombo","initializingCascadingCombo","bindDependantCombo","isInitialValue","deferredVisible","parentValue","dependantCombo","onChangeFunction","refreshDependantCombo","focusDependant","cleanInput","isEventBinded","_data","unbindDependantCombo","dependant","inputCombo","parentLength","parentArray","configured","itemSelected","listSize","normalizeData","getDataValue","idToRemove","markAsChecked","found","canAddMoreItems","$tagsContainer","toArray","acc","getElementWidth","MORE_OPTION_WIDTH","styles","filterList","query","stringContainer","stringToSearch","addSelectedElements","findItemById","hasSearchForm","list","removeLastElement","getListItems","BASE_IMAGE","EMPTY_IMAGE","EMPTY_VALUE","DELAY_TO_SAVE","RESOURCES_FALLBACK","DONE_BUTTON","EDIT_BUTTON","CLEAR_BUTTON","UPLOAD_SUCCESS","UPLOAD_ERROR","TITLE_DONE","TITLE_DRAW","TITLE_EDIT","STATE_TYPE","edit","success","saveDeferred","saveTimestamp","isChanged","render_signature_action_edit","render_signature_action_done","render_signature_action_clear","getSignatureContainer","initialized","renderSignature","setState","BzjSignature","setData","binaryValue","Blob","b64toBlob","isValidField","getBase64","base64","processUploadFile","dataFile","formData","buildAddFileParams","FormData","isVersion2OrSuperior","compatibilityVersion","blob","blobTob64","getDataUrl","getPropertyData","executeFormFailHandler","assign","saveSignature","dataImage","postSignature","executePartialSaveForm","collectDataToSave","deleteImage","signature","postSignatureOnline","getDataFileFromSignature","saveImageOffline","path","buildOfflineImageId","blobImage","getFormParams","operationType","saveOfflineImage","offlineId","fileService","getOfflineImageName","isSignature","tmpTimeStamp","buildItemUrlOffline","imageId","loadImageFromForm","getOfflineImage","db","AttachmentType","$actions","setActions","isTaskForm","buildOfflineFileLoadingKey","binary","atob","array","stringToByteArray","Uint8Array","setSignature","initialWidth","entries","entry","contentRect","selectorClass","contextClass","getSignatureContext","getUploadAddFileUrl","isUserPreference","initializeWidthAndHeight","isAutoWidth","isAutoHeight","getTemplateItem","currentUser","idUser","forceBase64","getFileService","resolveBlobFromPath","buildFullItemUrl","getFileDependencies","fileDependencies","loadFile","renderUserfieldControl","extendedData","ajax","userEditableControl","getEditableControl","renderComplex","loadUserfieldReadOnly","userReadOnlyControl","getReadonlyControl","getReadonlyValue","setEditableValue","getEditableValue","getPropertyValue","propertyName","jqXHR","textStatus","errorThrown","getRenderElements","getServerResourceURL","userfieldGuid","getRenderValue","showDialog","showPopup","initialParams","userfieldName","startUserfieldLoading","endUserfieldLoading","getUserfieldControl","isColumn","getControlXpathContext","getUserFieldInstance","replicateUserfieldMethods","timeOutUserField","userfieldInstance","downloadalldocuments","allowGenerate","preRenderControl","downloadAllDocuments","documents","getControlHtml","renderDocumentsHtml","renderActionsHtml","noActivateButton","allowgenerate","activateButton","getDocumentXpath","renderDocumentItem","joined","buildAllDocumentsUrl","getAllDocumentsDownloadUrl","caseId","workitemId","htmlControl","updateControlForPrintMode","validateContainer","replaceActionsHtml","buttonExecuted","$generateLink","isPropagationStopped","documentTemplateGenerate","attachEvents","downloadAllFiles","deleteDocumentTemplate","resolveDeleteDocumentTemplate","xpathcontext","generateDocumentTemplate","resolveDocumentTemplateGenerate","messageText","autoOpenDocuments","showDocumentPreview","returnCssTypeFile","lenght","redrawDocuments","documentContainer","renderAllDocumentDownload","removeDeleteButton","startIndex","restOfWord","finishIndex","downloadAllDocumentsLink","getErrorTemplate","getTemplateDownload","getTemplateReadonly","getDocumentFile","getFile","getAllDocumentFiles","getAllDocuments","blobFile","downloadBlobFile","decoratedClass","showColumn","isReadonly","instanceDecoratedClass","applyOverrides","propertyOverrides","invalidElement","overrideDecoratedRenderProperties","renderSummary","postRenderSummary","getCell","setSurrogateKey","defaultvalue","setDefaultValue","getCompositeValue","overrideProperties","getSortName","getAnyDecoratedInstance","getSortColumn","timeOutDecorated","arrayEach","originalGetData","getDataForAllCells","findDataById","fetchingData","valueForGrid","tableCell","formattedDate","compositeValue","templates","loadOverrides","initAsyncStuff","loadTemplates","loadTemplate","templateDestination","templateService","resolvedTemplate","getCommonTemplate","containerParams","mobileform","formTemplate","usersForm","section","contentPanel","nestedForm","tabItem","accordion","accordionItem","group","mobilegroup","searchForm","renderParams","extendedText","mobiletext","check","yesno","cascadingCombo","multiSelect","radio","image","ecm","upload","searchList","letter","formLink","link","layoutImage","layoutLink","layoutLabel","layoutText","layoutDateTime","layoutNumber","layoutMoney","layoutPlaceholder","actionLauncher","layoutBoolean","layoutUpload","entityTemplate","polymorphicLauncher","userfieldWrapper","getSearchRender","getQueryRender","fileprint","collectionnavigator","getUser","rangeDate","rangeMoney","rangeNumber","activityCheckList","columnParams","exclusiveCheck","uploadecm","numberScientificNotation","queryExtendedText","queryText","queryCheck","queryYesNo","queryNumber","queryMoney","queryDate","queryCombo","queryCascadingCombo","querySuggest","queryLabel","queryList","queryMultiSelect","querySearch","queryRadio","queryState","queryCaseState","queryProcess","querySearchUser","execution_device","cachedFactory","getRenderFactory","print","factory","tablet","isSmartphoneDevice","getDataService","executionDeferred","deviceFactory","getFactory","subscribe","unsubscribe","publish","update","doc","ownerDocument","location","queryString","getQueryString","sendExecutingPostMessageWebparts","process","refreshing","pathProcess","insertBefore","lastWidth","lastHeight","timeoutResize","resizeInPopUpHTML","configureOpenForm","configureRefresh","configureRouting","configureRenderError","configureResize","configureGlobalHandlers","stopAndLog","enableE2EInterface","errorTemplate","getFormData","transformGridControl","processForm","getFailDeferred","jsonErrorMessage","refreshParams","fastEmpty","canvasParent","timeoutTrigger","resizeTimeout","forceResize","triggerParams","heightActivitiFormContainer","renderForm","buttonContainer","heightButtonContainer","renderBehavior","postMessageSocket","heightCanvas","innerHeight","iframeCommunicator"],"mappings":"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","sourcesContent":["function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /**\r\n                                                                                                                                                                                                                                                                                                                                                                                * Mobiscroll version 4.8.5\r\n                                                                                                                                                                                                                                                                                                                                                                                * 10-Feb-2020\r\n                                                                                                                                                                                                                                                                                                                                                                                */\n/* eslint-disable */\n!function (e, t) {\n  e.mobiscroll = t(e.jQuery);\n}(this, function (e) {\n  \"use strict\";\n  function t(e, t, a) {\n    var s = e;\n    return \"object\" === (\"undefined\" == typeof t ? \"undefined\" : I(t)) ? e.each(function () {\n      new t.component(this, t);\n    }) : (\"string\" == typeof t && e.each(function () {\n      var e,n = W.instances[this.id];\n      if (n && n[t] && (e = n[t].apply(this, Array.prototype.slice.call(a, 1)),\n      void 0 !== e))\n      return s = e,\n      !1;\n    }),\n    s);\n  }\n  function a(e, a, s) {\n    q[e] = function (n) {\n      return t(this, z(n, {\n        component: a,\n        preset: s === !1 ? void 0 : e }),\n      arguments);\n    };\n  }\n  function s() {}\n  function n(e) {\n    var t,a = [];\n    for (t in e) {\n      a.push(e[t]);}\n    return a;\n  }\n  function o(e) {\n    return e - parseFloat(e) >= 0;\n  }\n  function i(e) {\n    return \"string\" == typeof e;\n  }\n  function r(e, t, a) {\n    return Math.max(t, Math.min(e, a));\n  }\n  function l(e, t) {\n    for (e += \"\",\n    t = t || 2; e.length < t;) {\n      e = \"0\" + e;}\n    return e;\n  }\n  function c(e) {\n    \"vibrate\" in navigator && navigator.vibrate(e || 50);\n  }\n  function d() {\n    se++,\n    setTimeout(function () {\n      se--;\n    }, 500);\n  }\n  function u(e, t) {\n    if (!t.mbscClick) {\n      var a = (e.originalEvent || e).changedTouches[0],\n      s = document.createEvent(\"MouseEvents\");\n      s.initMouseEvent(\"click\", !0, !0, window, 1, a.screenX, a.screenY, a.clientX, a.clientY, !1, !1, !1, !1, 0, null),\n      s.isMbscTap = !0,\n      s.isIonicTap = !0,\n      ne = !0,\n      t.mbscChange = !0,\n      t.mbscClick = !0,\n      t.dispatchEvent(s),\n      ne = !1,\n      d(),\n      setTimeout(function () {\n        delete t.mbscClick;\n      });\n    }\n  }\n  function m(e, t, a) {\n    var s = e.originalEvent || e,\n    n = (a ? \"page\" : \"client\") + t;\n    return s.targetTouches && s.targetTouches[0] ? s.targetTouches[0][n] : s.changedTouches && s.changedTouches[0] ? s.changedTouches[0][n] : e[n];\n  }\n  function f(e, t, a, s, n, o) {\n    function i(e) {\n      b || (s && e.preventDefault(),\n      b = this,\n      f = m(e, \"X\"),\n      h = m(e, \"Y\"),\n      p = !1,\n      v = new Date());\n    }\n    function r(e) {\n      b && !p && (Math.abs(m(e, \"X\") - f) > n || Math.abs(m(e, \"Y\") - h) > n) && (p = !0);\n    }\n    function l(e) {\n      b && (o && new Date() - v < 100 || !p ? u(e, e.target) : d(),\n      b = !1);\n    }\n    function c() {\n      b = !1;\n    }\n    var f,h,b,p,v,g = W.$,y = g(t);\n    n = n || 9,\n    e.settings.tap && y.on(\"touchstart.mbsc\", i).on(\"touchcancel.mbsc\", c).on(\"touchmove.mbsc\", r).on(\"touchend.mbsc\", l),\n    y.on(\"click.mbsc\", function (t) {\n      s && t.preventDefault(),\n      a.call(this, t, e);\n    });\n  }\n  function h(e) {\n    if (se && !ne && !e.isMbscTap && (\"TEXTAREA\" != e.target.nodeName || \"mousedown\" != e.type))\n    return e.stopPropagation(),\n    e.preventDefault(),\n    !1;\n  }\n  function b(e) {\n    return e[0].innerWidth || e.innerWidth();\n  }\n  function p(e, t, a, s, n, o, i) {\n    var r = new Date(e, t, a, s || 0, n || 0, o || 0, i || 0);\n    return 23 == r.getHours() && 0 === (s || 0) && r.setHours(r.getHours() + 2),\n    r;\n  }\n  function v(e, t, a) {\n    if (!t)\n    return null;\n    var s,n,o = me({}, ge, a),i = function i(t) {\n      for (var a = 0; s + 1 < e.length && e.charAt(s + 1) == t;) {\n        a++,\n        s++;}\n      return a;\n    },r = function r(e, t, a) {\n      var s = \"\" + t;\n      if (i(e))\n      for (; s.length < a;) {\n        s = \"0\" + s;}\n      return s;\n    },l = function l(e, t, a, s) {\n      return i(e) ? s[t] : a[t];\n    },c = \"\",d = !1;\n    for (s = 0; s < e.length; s++) {\n      if (d)\n      \"'\" != e.charAt(s) || i(\"'\") ? c += e.charAt(s) : d = !1;else\n\n      switch (e.charAt(s)) {\n        case \"d\":\n          c += r(\"d\", o.getDay(t), 2);\n          break;\n        case \"D\":\n          c += l(\"D\", t.getDay(), o.dayNamesShort, o.dayNames);\n          break;\n        case \"o\":\n          c += r(\"o\", (t.getTime() - new Date(t.getFullYear(), 0, 0).getTime()) / 864e5, 3);\n          break;\n        case \"m\":\n          c += r(\"m\", o.getMonth(t) + 1, 2);\n          break;\n        case \"M\":\n          c += l(\"M\", o.getMonth(t), o.monthNamesShort, o.monthNames);\n          break;\n        case \"y\":\n          n = o.getYear(t),\n          c += i(\"y\") ? n : (n % 100 < 10 ? \"0\" : \"\") + n % 100;\n          break;\n        case \"h\":\n          var u = t.getHours();\n          c += r(\"h\", u > 12 ? u - 12 : 0 === u ? 12 : u, 2);\n          break;\n        case \"H\":\n          c += r(\"H\", t.getHours(), 2);\n          break;\n        case \"i\":\n          c += r(\"i\", t.getMinutes(), 2);\n          break;\n        case \"s\":\n          c += r(\"s\", t.getSeconds(), 2);\n          break;\n        case \"a\":\n          c += t.getHours() > 11 ? o.pmText : o.amText;\n          break;\n        case \"A\":\n          c += t.getHours() > 11 ? o.pmText.toUpperCase() : o.amText.toUpperCase();\n          break;\n        case \"'\":\n          i(\"'\") ? c += \"'\" : d = !0;\n          break;\n        default:\n          c += e.charAt(s);}}\n\n    return c;\n  }\n  function g(e, t, a) {\n    var s = me({}, ge, a),\n    n = D(s.defaultValue || new Date());\n    if (!e || !t)\n    return n;\n    if (t.getTime)\n    return t;\n    t = \"object\" == (\"undefined\" == typeof t ? \"undefined\" : I(t)) ? t.toString() : t + \"\";\n    var o,i = s.shortYearCutoff,r = s.getYear(n),l = s.getMonth(n) + 1,c = s.getDay(n),d = -1,u = n.getHours(),m = n.getMinutes(),f = 0,h = -1,b = !1,p = function p(t) {\n      var a = o + 1 < e.length && e.charAt(o + 1) == t;\n      return a && o++,\n      a;\n    },v = function v(e) {\n      p(e);\n      var a = \"@\" == e ? 14 : \"!\" == e ? 20 : \"y\" == e ? 4 : \"o\" == e ? 3 : 2,\n      s = new RegExp(\"^\\\\d{1,\" + a + \"}\"),\n      n = t.substr(x).match(s);\n      return n ? (x += n[0].length,\n      parseInt(n[0], 10)) : 0;\n    },g = function g(e, a, s) {\n      var n,o = p(e) ? s : a;\n      for (n = 0; n < o.length; n++) {\n        if (t.substr(x, o[n].length).toLowerCase() == o[n].toLowerCase())\n        return x += o[n].length,\n        n + 1;}\n      return 0;\n    },y = function y() {\n      x++;\n    },x = 0;\n    for (o = 0; o < e.length; o++) {\n      if (b)\n      \"'\" != e.charAt(o) || p(\"'\") ? y() : b = !1;else\n\n      switch (e.charAt(o)) {\n        case \"d\":\n          c = v(\"d\");\n          break;\n        case \"D\":\n          g(\"D\", s.dayNamesShort, s.dayNames);\n          break;\n        case \"o\":\n          d = v(\"o\");\n          break;\n        case \"m\":\n          l = v(\"m\");\n          break;\n        case \"M\":\n          l = g(\"M\", s.monthNamesShort, s.monthNames);\n          break;\n        case \"y\":\n          r = v(\"y\");\n          break;\n        case \"H\":\n          u = v(\"H\");\n          break;\n        case \"h\":\n          u = v(\"h\");\n          break;\n        case \"i\":\n          m = v(\"i\");\n          break;\n        case \"s\":\n          f = v(\"s\");\n          break;\n        case \"a\":\n          h = g(\"a\", [s.amText, s.pmText], [s.amText, s.pmText]) - 1;\n          break;\n        case \"A\":\n          h = g(\"A\", [s.amText, s.pmText], [s.amText, s.pmText]) - 1;\n          break;\n        case \"'\":\n          p(\"'\") ? y() : b = !0;\n          break;\n        default:\n          y();}}\n\n    if (r < 100 && (r += new Date().getFullYear() - new Date().getFullYear() % 100 + (r <= (\"string\" != typeof i ? i : new Date().getFullYear() % 100 + parseInt(i, 10)) ? 0 : -100)),\n    d > -1) {\n      l = 1,\n      c = d;\n      do {\n        var T = 32 - new Date(r, l - 1, 32, 12).getDate();\n        c > T && (l++,\n        c -= T);\n      } while (c > T);\n    }\n    u = h == -1 ? u : h && u < 12 ? u + 12 : h || 12 != u ? u : 0;\n    var _ = s.getDate(r, l - 1, c, u, m, f);\n    return s.getYear(_) != r || s.getMonth(_) + 1 != l || s.getDay(_) != c ? n : _;\n  }\n  function y(e, t) {\n    return Math.round((t - e) / 864e5);\n  }\n  function x(e) {\n    return p(e.getFullYear(), e.getMonth(), e.getDate());\n  }\n  function T(e) {\n    return e.getFullYear() + \"-\" + (e.getMonth() + 1) + \"-\" + e.getDate();\n  }\n  function _(e, t) {\n    var a = \"\",\n    s = \"\";\n    return e && (t.h && (s += l(e.getHours()) + \":\" + l(e.getMinutes()),\n    t.s && (s += \":\" + l(e.getSeconds())),\n    t.u && (s += \".\" + l(e.getMilliseconds(), 3)),\n    t.tz && (s += t.tz)),\n    t.y ? (a += e.getFullYear(),\n    t.m && (a += \"-\" + l(e.getMonth() + 1),\n    t.d && (a += \"-\" + l(e.getDate())),\n    t.h && (a += \"T\" + s))) : t.h && (a = s)),\n    a;\n  }\n  function w(e, t, a) {\n    var s,n,o = {\n      y: 1,\n      m: 2,\n      d: 3,\n      h: 4,\n      i: 5,\n      s: 6,\n      u: 7,\n      tz: 8 };\n\n    if (a)\n    for (s in o) {\n      n = e[o[s] - t],\n      n && (a[s] = \"tz\" == s ? n : 1);}\n  }\n  function M(e, t, a) {\n    var s = window.moment || t.moment,\n    n = t.returnFormat;\n    if (e) {\n      if (\"moment\" == n && s)\n      return s(e);\n      if (\"locale\" == n)\n      return v(a, e, t);\n      if (\"iso8601\" == n)\n      return _(e, t.isoParts);\n    }\n    return e;\n  }\n  function D(e, t, a, s) {\n    var n;\n    return e ? e.getTime ? e : e.toDate ? e.toDate() : (\"string\" == typeof e && (e = e.trim()),\n    (n = be.exec(e)) ? (w(n, 2, s),\n    new Date(1970, 0, 1, n[2] ? +n[2] : 0, n[3] ? +n[3] : 0, n[4] ? +n[4] : 0, n[5] ? +n[5] : 0)) : (n || (n = he.exec(e)),\n    n ? (w(n, 0, s),\n    new Date(n[1] ? +n[1] : 1970, n[2] ? n[2] - 1 : 0, n[3] ? +n[3] : 1, n[4] ? +n[4] : 0, n[5] ? +n[5] : 0, n[6] ? +n[6] : 0, n[7] ? +n[7] : 0)) : g(t, e, a))) : null;\n  }\n  function C(e, t) {\n    return e.getFullYear() == t.getFullYear() && e.getMonth() == t.getMonth() && e.getDate() == t.getDate();\n  }\n  function k(e) {\n    var t;\n    for (t in e) {\n      if (void 0 !== xe[e[t]])\n      return !0;}\n    return !1;\n  }\n  function S() {\n    var e,t = [\"Webkit\", \"Moz\", \"O\", \"ms\"];\n    for (e in t) {\n      if (k([t[e] + \"Transform\"]))\n      return \"-\" + t[e].toLowerCase() + \"-\";}\n    return \"\";\n  }\n  function V(e, t) {\n    if (\"touchstart\" == e.type)\n    ie(t).attr(\"data-touch\", \"1\");else\n    if (ie(t).attr(\"data-touch\"))\n    return ie(t).removeAttr(\"data-touch\"),\n    !1;\n    return !0;\n  }\n  function Y(e, t) {\n    var a,s,n = getComputedStyle(e[0]);\n    return ie.each([\"t\", \"webkitT\", \"MozT\", \"OT\", \"msT\"], function (e, t) {\n      if (void 0 !== n[t + \"ransform\"])\n      return a = n[t + \"ransform\"],\n      !1;\n    }),\n    a = a.split(\")\")[0].split(\", \"),\n    s = t ? a[13] || a[5] : a[12] || a[4];\n  }\n  function A(e) {\n    if (e) {\n      if (ke[e])\n      return ke[e];\n      var t = ie('<div style=\"background-color:' + e + ';\"></div>').appendTo(\"body\"),\n      a = getComputedStyle(t[0]),\n      s = a.backgroundColor.replace(/rgb|rgba|\\(|\\)|\\s/g, \"\").split(\",\"),\n      n = .299 * s[0] + .587 * s[1] + .114 * s[2],\n      o = n < 130 ? \"#fff\" : \"#000\";\n      return t.remove(),\n      ke[e] = o,\n      o;\n    }\n  }\n  function E(e, t, a, n, o, i) {\n    function r(e) {\n      var t;\n      b = ie(this),\n      _ = +b.attr(\"data-step\"),\n      v = +b.attr(\"data-index\"),\n      p = !0,\n      o && e.stopPropagation(),\n      \"touchstart\" == e.type && b.closest(\".mbsc-no-touch\").removeClass(\"mbsc-no-touch\"),\n      \"mousedown\" == e.type && e.preventDefault(),\n      \"keydown\" != e.type ? (x = m(e, \"X\"),\n      T = m(e, \"Y\"),\n      t = V(e, this)) : t = 32 === e.keyCode,\n      g || !t || b.hasClass(\"mbsc-disabled\") || (u(v, _, e) && (b.addClass(\"mbsc-active\"),\n      i && i.addRipple(b.find(\".mbsc-segmented-content\"), e)),\n      \"mousedown\" == e.type && ie(document).on(\"mousemove\", l).on(\"mouseup\", c));\n    }\n    function l(e) {\n      (Math.abs(x - m(e, \"X\")) > 7 || Math.abs(T - m(e, \"Y\")) > 7) && (p = !0,\n      d());\n    }\n    function c(e) {\n      \"touchend\" == e.type && e.preventDefault(),\n      d(),\n      \"mouseup\" == e.type && ie(document).off(\"mousemove\", l).off(\"mouseup\", c);\n    }\n    function d() {\n      g = !1,\n      clearInterval(w),\n      b && (b.removeClass(\"mbsc-active\"),\n      i && setTimeout(function () {\n        i.removeRipple();\n      }, 100));\n    }\n    function u(e, t, a) {\n      return g || M(e) || (v = e,\n      _ = t,\n      y = a,\n      g = !0,\n      p = !1,\n      setTimeout(f, 100)),\n      g;\n    }\n    function f() {\n      return b && b.hasClass(\"mbsc-disabled\") ? void d() : (!g && p || (p = !0,\n      t(v, _, y, f)),\n      void (g && a && (clearInterval(w),\n      w = setInterval(function () {\n        t(v, _, y);\n      }, a))));\n    }\n    function h() {\n      e.off(\"touchstart mousedown keydown\", r).off(\"touchmove\", l).off(\"touchend touchcancel keyup\", c);\n    }\n    var b,p,v,g,y,x,T,_,w,M = n || s;\n    return e.on(\"touchstart mousedown keydown\", r).on(\"touchmove\", l).on(\"touchend touchcancel keyup\", c),\n    {\n      start: u,\n      stop: d,\n      destroy: h };\n\n  }\n  function F(e, t, a) {\n    function s() {\n      l.style.width = \"100000px\",\n      l.style.height = \"100000px\",\n      r.scrollLeft = 1e5,\n      r.scrollTop = 1e5,\n      u.scrollLeft = 1e5,\n      u.scrollTop = 1e5;\n    }\n    function n() {\n      var e = new Date();\n      c = 0,\n      m || (e - f > 200 && !r.scrollTop && !r.scrollLeft && (f = e,\n      s()),\n      c || (c = te(n)));\n    }\n    function o() {\n      d || (d = te(i));\n    }\n    function i() {\n      d = 0,\n      s(),\n      t();\n    }\n    var r = void 0,\n    l = void 0,\n    c = void 0,\n    d = void 0,\n    u = void 0,\n    m = void 0,\n    f = 0,\n    h = document.createElement(\"div\");\n    return h.innerHTML = Ee,\n    h.dir = \"ltr\",\n    u = h.childNodes[1],\n    r = h.childNodes[0],\n    l = r.childNodes[0],\n    e.appendChild(h),\n    r.addEventListener(\"scroll\", o),\n    u.addEventListener(\"scroll\", o),\n    a ? a.runOutsideAngular(function () {\n      te(n);\n    }) : te(n),\n    {\n      detach: function detach() {\n        e.removeChild(h),\n        m = !0;\n      } };\n\n  }\n  function N(e) {\n    return (e + \"\").replace('\"', \"___\");\n  }\n  function H(e) {\n    return e < -1e-7 ? Math.ceil(e - 1e-7) : Math.floor(e + 1e-7);\n  }\n  function P(e, t, a) {\n    e = parseInt(e),\n    t = parseInt(t),\n    a = parseInt(a);\n    var s,n,o,i,r,l,c = new Array(3);\n    return s = H((11 * e + 3) / 30) + 354 * e + 30 * t - H((t - 1) / 2) + a + 1948440 - 385,\n    s > 2299160 ? (n = s + 68569,\n    i = H(4 * n / 146097),\n    n -= H((146097 * i + 3) / 4),\n    r = H(4e3 * (n + 1) / 1461001),\n    n = n - H(1461 * r / 4) + 31,\n    o = H(80 * n / 2447),\n    a = n - H(2447 * o / 80),\n    n = H(o / 11),\n    t = o + 2 - 12 * n,\n    e = 100 * (i - 49) + r + n) : (o = s + 1402,\n    l = H((o - 1) / 1461),\n    n = o - 1461 * l,\n    i = H((n - 1) / 365) - H(n / 1461),\n    r = n - 365 * i + 30,\n    o = H(80 * r / 2447),\n    a = r - H(2447 * o / 80),\n    r = H(o / 11),\n    t = o + 2 - 12 * r,\n    e = 4 * l + i + r - 4716),\n    c[2] = a,\n    c[1] = t,\n    c[0] = e,\n    c;\n  }\n  function L(e, t, a) {\n    e = parseInt(e),\n    t = parseInt(t),\n    a = parseInt(a);\n    var s,n,o,i,r = new Array(0, 0, 0);\n    return s = e > 1582 || 1582 == e && t > 10 || 1582 == e && 10 == t && a > 14 ? H(1461 * (e + 4800 + H((t - 14) / 12)) / 4) + H(367 * (t - 2 - 12 * H((t - 14) / 12)) / 12) - H(3 * H((e + 4900 + H((t - 14) / 12)) / 100) / 4) + a - 32075 : 367 * e - H(7 * (e + 5001 + H((t - 9) / 7)) / 4) + H(275 * t / 9) + a + 1729777,\n    n = s - 1948440 + 10632,\n    i = H((n - 1) / 10631),\n    n = n - 10631 * i + 354,\n    o = H((10985 - n) / 5316) * H(50 * n / 17719) + H(n / 5670) * H(43 * n / 15238),\n    n = n - H((30 - o) / 15) * H(17719 * o / 50) - H(o / 16) * H(15238 * o / 43) + 29,\n    t = H(24 * n / 709),\n    a = n - H(709 * t / 24),\n    e = 30 * i + o - 30,\n    r[2] = a,\n    r[1] = t,\n    r[0] = e,\n    r;\n  }\n  e = e && e.hasOwnProperty(\"default\") ? e[\"default\"] : e;\n  var W = W || {},\n  $ = {},\n  O = {},\n  I = \"function\" == typeof Symbol && \"symbol\" == _typeof(Symbol.iterator) ? function (e) {\n    return _typeof(e);\n  } :\n  function (e) {\n    return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : _typeof(e);\n  },\n  z = e.extend,\n  q = {};\n  W.$ = e,\n  e.mobiscroll = W,\n  e.fn.mobiscroll = function (e) {\n    return z(this, q),\n    t(this, e, arguments);\n  };\n\n  var R,X,U,J,j = [],B = \"undefined\" != typeof window,G = B ? navigator.userAgent : \"\",Q = B ? navigator.platform : \"\",Z = B ? navigator.maxTouchPoints : 0,K = /Safari/.test(G),ee = G.match(/Android|iPhone|iPad|iPod|Windows Phone|Windows|MSIE/i),te = B && window.requestAnimationFrame || function (e) {\n    return setTimeout(e, 20);\n  },\n  ae = B && window.cancelAnimationFrame || function (e) {\n    clearTimeout(e);\n  };\n\n  /Android/i.test(ee) ? (R = \"android\",\n  X = G.match(/Android\\s+([\\d\\.]+)/i),\n  X && (j = X[0].replace(\"Android \", \"\").split(\".\"))) : /iPhone|iPad|iPod/i.test(ee) || /iPhone|iPad|iPod/i.test(Q) || \"MacIntel\" === Q && Z > 1 ? (R = \"ios\",\n  X = G.match(/OS\\s+([\\d\\_]+)/i),\n  X && (j = X[0].replace(/_/g, \".\").replace(\"OS \", \"\").split(\".\"))) : /Windows Phone/i.test(ee) ? R = \"wp\" : /Windows|MSIE/i.test(ee) && (R = \"windows\"),\n  U = j[0],\n  J = j[1];\n  var se = 0,\n  ne = void 0;\n  B && ([\"mouseover\", \"mousedown\", \"mouseup\", \"click\"].forEach(function (e) {\n    document.addEventListener(e, h, !0);\n  }),\n  \"android\" == R && U < 5 && document.addEventListener(\"change\", function (e) {\n    se && \"checkbox\" == e.target.type && !e.target.mbscChange && (e.stopPropagation(),\n    e.preventDefault()),\n    delete e.target.mbscChange;\n  }, !0)),\n  W.uid = \"11fd4721\";\n  var oe,ie = W.$,re = +new Date(),le = {},ce = {},de = {},ue = {\n    xsmall: 0,\n    small: 576,\n    medium: 768,\n    large: 992,\n    xlarge: 1200 },\n  me = ie.extend;\n  me($, {\n    getCoord: m,\n    preventClick: d,\n    vibrate: c }),\n\n  oe = me(W, {\n    $: ie,\n    version: \"4.8.5\",\n    autoTheme: \"mobiscroll\",\n    themes: {\n      form: {},\n      page: {},\n      frame: {},\n      scroller: {},\n      listview: {},\n      navigation: {},\n      progress: {},\n      card: {} },\n\n    platform: {\n      name: R,\n      majorVersion: U,\n      minorVersion: J },\n\n    i18n: {},\n    instances: le,\n    classes: ce,\n    util: $,\n    settings: {},\n    setDefaults: function setDefaults(e) {\n      me(this.settings, e);\n    },\n    customTheme: function customTheme(e, t) {\n      var a,s = W.themes,n = [\"frame\", \"scroller\", \"listview\", \"navigation\", \"form\", \"page\", \"progress\", \"card\"];\n      for (a = 0; a < n.length; a++) {\n        s[n[a]][e] = me({}, s[n[a]][t], {\n          baseTheme: t });}\n\n    } });\n\n  var fe = function fe(e, t) {\n    function a(e) {\n      var t,a = de;\n      return c.responsive && (t = e || b(o),\n      ie.each(c.responsive, function (e, s) {\n        t >= (s.breakpoint || ue[e]) && (a = s);\n      })),\n      a;\n    }\n    function n() {\n      ie(e).addClass(\"mbsc-comp\"),\n      e.id ? le[e.id] && le[e.id].destroy() : e.id = \"mobiscroll\" + ++re,\n      le[e.id] = p,\n      p.__ready = !0;\n    }\n    var o,i,r,l,c,d,u,m,h,p = this;\n    p.settings = {},\n    p.element = e,\n    p._init = s,\n    p._destroy = s,\n    p._processSettings = s,\n    p._checkResp = function (e) {\n      if (p && p._responsive) {\n        var t = a(e);\n        if (l !== t)\n        return l = t,\n        p.init({}),\n        !0;\n      }\n    },\n\n    p._getRespCont = function () {\n      return ie(c.context)[0];\n    },\n\n    p.init = function (s, n) {\n      var f, b;\n      s && p.getVal && (b = p.getVal());\n      for (f in p.settings) {\n        delete p.settings[f];}\n      c = p.settings,\n      me(t, s),\n      p._hasDef && (h = oe.settings),\n      me(c, p._defaults, h, t),\n      p._hasTheme && (u = c.theme,\n      \"auto\" != u && u || (u = oe.autoTheme),\n      \"default\" == u && (u = \"mobiscroll\"),\n      t.theme = u,\n      d = oe.themes[p._class] ? oe.themes[p._class][u] : {}),\n      p._hasLang && (i = oe.i18n[c.lang]),\n      me(c, d, i, h, t),\n      o = p._getRespCont(),\n      p._responsive && (l || (l = a()),\n      me(c, l)),\n      p._processSettings(l || {}),\n      p._presets && (r = p._presets[c.preset],\n      r && (r = r.call(e, p, t),\n      me(c, r, t, l))),\n      p._init(s),\n      s && p.setVal && p.setVal(void 0 === n ? b : n, !0),\n      m(\"onInit\");\n    },\n\n    p.destroy = function () {\n      p && (p._destroy(),\n      m(\"onDestroy\"),\n      delete le[e.id],\n      p = null);\n    },\n\n    p.tap = function (e, t, a, s, n) {\n      f(p, e, t, a, s, n);\n    },\n\n    p.trigger = function (a, s) {\n      var n,o,i,l = [h, d, r, t];\n      for (o = 0; o < 4; o++) {\n        i = l[o],\n        i && i[a] && (n = i[a].call(e, s || {}, p));}\n      return n;\n    },\n\n    p.option = function (e, a, s) {\n      var n = {},\n      o = [\"data\", \"invalid\", \"valid\", \"readonly\"];\n      /calendar|eventcalendar|range/.test(c.preset) && o.push(\"marked\", \"labels\", \"colors\"),\n      \"object\" === (\"undefined\" == typeof e ? \"undefined\" : I(e)) ? n = e : n[e] = a,\n      o.forEach(function (e) {\n        t[e] = c[e];\n      }),\n      p.init(n, s);\n    },\n\n    p.getInst = function () {\n      return p;\n    },\n\n    t = t || {},\n    m = p.trigger,\n    p.__ready || n();\n  },\n  he = /^(\\d{4}|[+\\-]\\d{6})(?:-(\\d{2})(?:-(\\d{2}))?)?(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:\\.(\\d{3}))?)?((Z)|([+\\-])(\\d{2})(?::(\\d{2}))?)?)?$/,\n  be = /^((\\d{2}):(\\d{2})(?::(\\d{2})(?:\\.(\\d{3}))?)?(?:(Z)|([+\\-])(\\d{2})(?::(\\d{2}))?)?)?$/,\n  pe = /^\\d{1,2}(\\/\\d{1,2})?$/,\n  ve = /^w\\d$/i,\n  ge = {\n    shortYearCutoff: \"+10\",\n    monthNames: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n    monthNamesShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n    dayNames: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n    dayNamesShort: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n    dayNamesMin: [\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\n    amText: \"am\",\n    pmText: \"pm\",\n    getYear: function getYear(e) {\n      return e.getFullYear();\n    },\n    getMonth: function getMonth(e) {\n      return e.getMonth();\n    },\n    getDay: function getDay(e) {\n      return e.getDate();\n    },\n    getDate: p,\n    getMaxDayOfMonth: function getMaxDayOfMonth(e, t) {\n      return 32 - new Date(e, t, 32, 12).getDate();\n    },\n    getWeekNumber: function getWeekNumber(e) {\n      e = new Date(e),\n      e.setHours(0, 0, 0),\n      e.setDate(e.getDate() + 4 - (e.getDay() || 7));\n      var t = new Date(e.getFullYear(), 0, 1);\n      return Math.ceil(((e - t) / 864e5 + 1) / 7);\n    } };\n\n  $.datetime = {\n    formatDate: v,\n    parseDate: g };\n\n  var ye,xe,Te,_e,we,Me,De,Ce,ke = {};\n  B && (xe = document.createElement(\"modernizr\").style,\n  Te = S(),\n  Ce = Te.replace(/^\\-/, \"\").replace(/\\-$/, \"\").replace(\"moz\", \"Moz\"),\n  ye = void 0 !== xe.animation ? \"animationend\" : \"webkitAnimationEnd\",\n  we = void 0 !== xe.transition,\n  Me = \"ios\" === R && !K,\n  De = Me && window.webkit && window.webkit.messageHandlers,\n  _e = void 0 === xe.touchAction || Me && !De);\n  var Se,Ve,Ye = \"position:absolute;left:0;top:0;\",Ae = Ye + \"right:0;bottom:0;overflow:hidden;z-index:-1;\",Ee = '<div style=\"' + Ae + '\"><div style=\"' + Ye + '\"></div></div><div style=\"' + Ae + '\"><div style=\"' + Ye + 'width:200%;height:200%;\"></div></div>',Fe = W.themes,Ne = /(iphone|ipod)/i.test(G) && U >= 7,He = \"android\" == R,Pe = \"ios\" == R,Le = Pe && 8 == U,We = Pe && U > 7,$e = function $e(e) {\n    e.preventDefault();\n  },Oe = \"input,select,textarea,button\",Ie = 'textarea,button,input[type=\"button\"],input[type=\"submit\"]',ze = Oe + ',[tabindex=\"0\"]',qe = function qe(e, t, a) {\n    function n(e) {\n      Y && Y.removeClass(\"mbsc-active\"),\n      Y = ie(this),\n      Y.hasClass(\"mbsc-disabled\") || Y.hasClass(\"mbsc-fr-btn-nhl\") || Y.addClass(\"mbsc-active\"),\n      \"mousedown\" === e.type ? ie(document).on(\"mouseup\", o) : \"pointerdown\" === e.type && ie(document).on(\"pointerup\", o);\n    }\n    function o(e) {\n      Y && (Y.removeClass(\"mbsc-active\"),\n      Y = null),\n      \"mouseup\" === e.type ? ie(document).off(\"mouseup\", o) : \"pointerup\" === e.type && ie(document).off(\"pointerup\", o);\n    }\n    function l(e) {\n      W.activeInstance == te && (13 != e.keyCode || ie(e.target).is(Ie) && !e.shiftKey ? 27 == e.keyCode && te.cancel() : te.select());\n    }\n    function c(e) {\n      e || He || !te._activeElm || (ne = new Date(),\n      te._activeElm.focus());\n    }\n    function u(e) {\n      var t = Se,\n      a = B.focusOnClose;\n      te._markupRemove(),\n      w.remove(),\n      H && (A.mbscModals--,\n      B.scrollLock && A.mbscLock--,\n      A.mbscLock || _.removeClass(\"mbsc-fr-lock\"),\n      q && (A.mbscIOSLock--,\n      A.mbscIOSLock || (_.removeClass(\"mbsc-fr-lock-ios\"),\n      x.css({\n        top: \"\",\n        left: \"\" }),\n\n      k.scrollLeft(A.mbscScrollLeft),\n      k.scrollTop(A.mbscScrollTop))),\n      A.mbscModals || _.removeClass(\"mbsc-fr-lock-ctx\"),\n      A.mbscModals && !j || e || (t || (t = ae),\n      setTimeout(function () {\n        void 0 === a || a === !0 ? (Ve = !0,\n        t[0].focus()) : a && ie(a)[0].focus();\n      }, 200))),\n      j = void 0,\n      P = !1,\n      Z(\"onHide\");\n    }\n    function f() {\n      clearTimeout(J),\n      J = setTimeout(function () {\n        te.position(!0) && (U.style.visibility = \"hidden\",\n        U.offsetHeight,\n        U.style.visibility = \"\");\n      }, 200);\n    }\n    function h(e) {\n      W.activeInstance == te && e.target.nodeType && !X.contains(e.target) && new Date() - ne > 100 && (ne = new Date(),\n      te._activeElm.focus());\n    }\n    function b(e, t) {\n      function a() {\n        w.off(ye, a).removeClass(\"mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-\" + E).find(\".mbsc-fr-popup\").removeClass(\"mbsc-anim-\" + E),\n        c(t);\n      }\n      if (H)\n      w.appendTo(x);else\n      if (ae.is(\"div\") && !te._hasContent)\n      ae.empty().append(w);else\n      if (ae.hasClass(\"mbsc-control\")) {\n        var s = ae.closest(\".mbsc-control-w\");\n        w.insertAfter(s),\n        s.hasClass(\"mbsc-select\") && s.addClass(\"mbsc-select-inline\");\n      } else\n      w.insertAfter(ae);\n      if (P = !0,\n      te._markupInserted(w),\n      Z(\"onMarkupInserted\", {\n        target: $ }),\n\n      H && B.closeOnOverlayTap) {\n        var r, l, u, h;\n        M.on(\"touchstart mousedown\", function (e) {\n          l || e.target != X || (l = !0,\n          r = !1,\n          u = m(e, \"X\"),\n          h = m(e, \"Y\"));\n        }).on(\"touchmove mousemove\", function (e) {\n          l && !r && (Math.abs(m(e, \"X\") - u) > 9 || Math.abs(m(e, \"Y\") - h) > 9) && (r = !0);\n        }).on(\"touchcancel\", function () {\n          l = !1;\n        }).on(\"touchend click\", function (e) {\n          l && !r && (te.cancel(),\n          \"touchend\" == e.type && d()),\n          l = !1;\n        });\n      }\n      w.on(\"mousedown\", \".mbsc-btn-e,.mbsc-fr-btn-e\", $e).on(\"touchstart mousedown\", function (e) {\n        B.stopProp && e.stopPropagation();\n      }).on(\"keydown\", \".mbsc-fr-btn-e\", function (e) {\n        32 == e.keyCode && (e.preventDefault(),\n        e.stopPropagation(),\n        this.click());\n      }).on(\"keydown\", function (e) {\n        if (32 != e.keyCode || ie(e.target).is(Oe)) {\n          if (9 == e.keyCode && H && B.focusTrap) {\n            var t = w.find(ze).filter(function () {\n              return this.offsetWidth > 0 || this.offsetHeight > 0;\n            }),\n            a = t.index(ie(\":focus\", w)),\n            s = t.length - 1,\n            n = 0;\n            e.shiftKey && (s = 0,\n            n = -1),\n            a === s && (t.eq(n)[0].focus(),\n            e.preventDefault());\n          }\n        } else\n        e.preventDefault();\n      }).on(\"touchstart mousedown pointerdown\", \".mbsc-fr-btn-e\", n).on(\"touchend\", \".mbsc-fr-btn-e\", o),\n      $.addEventListener(\"touchstart\", function () {\n        Q || (Q = !0,\n        x.find(\".mbsc-no-touch\").removeClass(\"mbsc-no-touch\"));\n      }, !0),\n      ie.each(V, function (e, t) {\n        te.tap(ie(\".mbsc-fr-btn\" + e, w), function (e) {\n          t = i(t) ? te.buttons[t] : t,\n          (i(t.handler) ? te.handlers[t.handler] : t.handler).call(this, e, te);\n        }, !0);\n      }),\n      te._attachEvents(w),\n      te.position() !== !1 && ((H || te._checkSize) && (R = F($, f, B.zone)),\n      H && (w.removeClass(\"mbsc-fr-pos\"),\n      E && !e ? w.addClass(\"mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-\" + E).on(ye, a).find(\".mbsc-fr-popup\").addClass(\"mbsc-anim-\" + E) : c(t)),\n      Z(\"onShow\", {\n        target: $,\n        valueText: te._tempValue }));\n\n    }\n    function p(e, t) {\n      te._isVisible || (e && e(),\n      te.show() !== !1 && (Se = t));\n    }\n    function v() {\n      te._fillValue(),\n      Z(\"onSet\", {\n        valueText: te._value });\n\n    }\n    function g() {\n      Z(\"onCancel\", {\n        valueText: te._value });\n\n    }\n    function y() {\n      te.setVal(null, !0);\n    }\n    var x,T,_,w,M,D,C,k,S,V,Y,A,E,N,H,P,L,$,O,I,z,q,R,X,U,J,j,B,G,Q,Z,K,ee,te = this,ae = ie(e),se = [],ne = new Date();\n    fe.call(this, e, t, !0),\n    te.position = function (e) {\n      var t,a,s,n,o,i,l,c,d,u,m,f,h,b,p,v,g,y,T,_ = {},M = 0,V = 0,Y = 0,E = 0;\n      if (!P)\n      return !1;\n      if (v = K,\n      p = ee,\n      h = $.offsetHeight,\n      b = $.offsetWidth,\n      b && h && (K !== b || ee !== h || !e)) {\n        if (te._checkResp(b))\n        return !1;\n        if (K = b,\n        ee = h,\n        te._isFullScreen || /top|bottom/.test(B.display) ? C.width(b) : H && S.width(\"\"),\n        te._position(w),\n        !te._isFullScreen && /center|bubble/.test(B.display) && (ie(\".mbsc-w-p\", w).each(function () {\n          g = this.getBoundingClientRect().width,\n          E += g,\n          Y = g > Y ? g : Y;\n        }),\n        f = E > b - 16 || B.tabs === !0,\n        S.css({\n          width: te._isLiquid ? Math.min(B.maxPopupWidth, b - 16) : Math.ceil(f ? Y : E),\n          \"white-space\": f ? \"\" : \"nowrap\" })),\n\n        Z(\"onPosition\", {\n          target: $,\n          popup: U,\n          hasTabs: f,\n          oldWidth: v,\n          oldHeight: p,\n          windowWidth: b,\n          windowHeight: h }) !==\n        !1 && H)\n        return z && (M = k.scrollLeft(),\n        V = k.scrollTop(),\n        K && D.css({\n          width: \"\",\n          height: \"\" })),\n\n        O = U.offsetWidth,\n        I = U.offsetHeight,\n        G = I <= h && O <= b,\n        \"center\" == B.display ? (T = Math.max(0, M + (b - O) / 2),\n        y = Math.max(0, V + (h - I) / 2)) : \"bubble\" == B.display ? (t = void 0 === B.anchor ? ae : ie(B.anchor),\n        l = ie(\".mbsc-fr-arr-i\", w)[0],\n        n = t.offset(),\n        o = n.top + (N ? V - x.offset().top : 0),\n        i = n.left + (N ? M - x.offset().left : 0),\n        a = t[0].offsetWidth,\n        s = t[0].offsetHeight,\n        c = l.offsetWidth,\n        d = l.offsetHeight,\n        T = r(i - (O - a) / 2, M + 3, M + b - O - 3),\n        y = o + s + d / 2,\n        y + I + 8 > V + h && o - I - d / 2 > V ? (C.removeClass(\"mbsc-fr-bubble-bottom\").addClass(\"mbsc-fr-bubble-top\"),\n        y = o - I - d / 2) : C.removeClass(\"mbsc-fr-bubble-top\").addClass(\"mbsc-fr-bubble-bottom\"),\n        ie(\".mbsc-fr-arr\", w).css({\n          left: r(i + a / 2 - (T + (O - c) / 2), 0, c) }),\n\n        G = y > V && T > M && y + I <= V + h && T + O <= M + b) : (T = M,\n        y = \"top\" == B.display ? V : Math.max(0, V + h - I)),\n        z && (u = Math.max(y + I, N ? A.scrollHeight : ie(document).height()),\n        m = Math.max(T + O, N ? A.scrollWidth : ie(document).width()),\n        D.css({\n          width: m,\n          height: u }),\n\n        B.scroll && \"bubble\" == B.display && (y + I + 8 > V + h || o > V + h || o + s < V) && k.scrollTop(Math.min(o, y + I - h + 8, u - h))),\n        _.top = Math.floor(y),\n        _.left = Math.floor(T),\n        C.css(_),\n        !0;\n      }\n    },\n\n    te.attachShow = function (e, t) {\n      var a,s = ie(e).off(\".mbsc\"),n = s.prop(\"readonly\");\n      \"inline\" !== B.display && ((B.showOnFocus || B.showOnTap) && s.is(\"input,select\") && (s.prop(\"readonly\", !0).on(\"mousedown.mbsc\", function (e) {\n        e.preventDefault();\n      }).on(\"focus.mbsc\", function () {\n        te._isVisible && this.blur();\n      }),\n      a = ie('label[for=\"' + s.attr(\"id\") + '\"]'),\n      a.length || (a = s.closest(\"label\"))),\n      s.is(\"select\") || (B.showOnFocus && s.on(\"focus.mbsc\", function () {\n        Ve ? Ve = !1 : p(t, s);\n      }),\n      B.showOnTap && (s.on(\"keydown.mbsc\", function (e) {\n        32 != e.keyCode && 13 != e.keyCode || (e.preventDefault(),\n        e.stopPropagation(),\n        p(t, s));\n      }),\n      te.tap(s, function (e) {\n        e.isMbscTap && (Q = !0),\n        p(t, s);\n      }),\n      a && a.length && te.tap(a, function (e) {\n        e.preventDefault(),\n        e.target !== s[0] && p(t, s);\n      }))),\n      se.push({\n        readOnly: n,\n        el: s,\n        lbl: a }));\n\n    },\n\n    te.select = function () {\n      H ? te.hide(!1, \"set\", !1, v) : v();\n    },\n\n    te.cancel = function () {\n      H ? te.hide(!1, \"cancel\", !1, g) : g();\n    },\n\n    te.clear = function () {\n      te._clearValue(),\n      Z(\"onClear\"),\n      H && te._isVisible && !te.live ? te.hide(!1, \"clear\", !1, y) : y();\n    },\n\n    te.enable = function () {\n      B.disabled = !1,\n      ie.each(se, function (e, t) {\n        t.el.is(\"input,select\") && (t.el[0].disabled = !1);\n      });\n    },\n\n    te.disable = function () {\n      B.disabled = !0,\n      ie.each(se, function (e, t) {\n        t.el.is(\"input,select\") && (t.el[0].disabled = !0);\n      });\n    },\n\n    te.show = function (e, t) {\n      var a, s, n, o;\n      if (!B.disabled && !te._isVisible) {\n        if (te._readValue(),\n        Z(\"onBeforeShow\") === !1)\n        return !1;\n        if (Se = null,\n        E = B.animate,\n        V = B.buttons || [],\n        z = N || \"bubble\" == B.display,\n        q = Ne && !z && B.scrollLock,\n        a = V.length > 0,\n        E !== !1 && (\"top\" == B.display ? E = E || \"slidedown\" : \"bottom\" == B.display ? E = E || \"slideup\" : \"center\" != B.display && \"bubble\" != B.display || (E = E || \"pop\")),\n        H && (K = 0,\n        ee = 0,\n        q && !_.hasClass(\"mbsc-fr-lock-ios\") && (A.mbscScrollTop = o = Math.max(0, k.scrollTop()),\n        A.mbscScrollLeft = n = Math.max(0, k.scrollLeft()),\n        x.css({\n          top: -o + \"px\",\n          left: -n + \"px\" })),\n\n        _.addClass((B.scrollLock ? \"mbsc-fr-lock\" : \"\") + (q ? \" mbsc-fr-lock-ios\" : \"\") + (N ? \" mbsc-fr-lock-ctx\" : \"\")),\n        ie(document.activeElement).is(\"input,textarea\") && document.activeElement.blur(),\n        j = W.activeInstance,\n        W.activeInstance = te,\n        A.mbscModals = (A.mbscModals || 0) + 1,\n        q && (A.mbscIOSLock = (A.mbscIOSLock || 0) + 1),\n        B.scrollLock && (A.mbscLock = (A.mbscLock || 0) + 1)),\n        s = '<div lang=\"' + B.lang + '\" class=\"mbsc-fr mbsc-' + B.theme + (B.baseTheme ? \" mbsc-\" + B.baseTheme : \"\") + \" mbsc-fr-\" + B.display + \" \" + (B.cssClass || \"\") + \" \" + (B.compClass || \"\") + (te._isLiquid ? \" mbsc-fr-liq\" : \"\") + (H ? \" mbsc-fr-pos\" + (B.showOverlay ? \"\" : \" mbsc-fr-no-overlay\") : \"\") + (L ? \" mbsc-fr-pointer\" : \"\") + (We ? \" mbsc-fr-hb\" : \"\") + (Q ? \"\" : \" mbsc-no-touch\") + (q ? \" mbsc-platform-ios\" : \"\") + (a ? V.length >= 3 ? \" mbsc-fr-btn-block \" : \"\" : \" mbsc-fr-nobtn\") + '\">' + (H ? '<div class=\"mbsc-fr-persp\">' + (B.showOverlay ? '<div class=\"mbsc-fr-overlay\"></div>' : \"\") + '<div role=\"dialog\" class=\"mbsc-fr-scroll\">' : \"\") + '<div class=\"mbsc-fr-popup' + (B.rtl ? \" mbsc-rtl\" : \" mbsc-ltr\") + (B.headerText ? \" mbsc-fr-has-hdr\" : \"\") + '\">' + (\"bubble\" === B.display ? '<div class=\"mbsc-fr-arr-w\"><div class=\"mbsc-fr-arr-i\"><div class=\"mbsc-fr-arr\"></div></div></div>' : \"\") + (H ? '<div class=\"mbsc-fr-focus\" tabindex=\"-1\"></div>' : \"\") + '<div class=\"mbsc-fr-w\">' + (B.headerText ? '<div class=\"mbsc-fr-hdr\">' + (i(B.headerText) ? B.headerText : \"\") + \"</div>\" : \"\") + '<div class=\"mbsc-fr-c\">',\n        s += te._generateContent(),\n        s += \"</div>\",\n        a) {\n          var r,c,d,u = V.length;\n          for (s += '<div class=\"mbsc-fr-btn-cont\">',\n          c = 0; c < V.length; c++) {\n            d = B.btnReverse ? u - c - 1 : c,\n            r = V[d],\n            r = i(r) ? te.buttons[r] : r,\n            \"set\" === r.handler && (r.parentClass = \"mbsc-fr-btn-s\"),\n            \"cancel\" === r.handler && (r.parentClass = \"mbsc-fr-btn-c\"),\n            s += \"<div\" + (B.btnWidth ? ' style=\"width:' + 100 / V.length + '%\"' : \"\") + ' class=\"mbsc-fr-btn-w ' + (r.parentClass || \"\") + '\"><div tabindex=\"0\" role=\"button\" class=\"mbsc-fr-btn' + d + \" mbsc-fr-btn-e \" + (void 0 === r.cssClass ? B.btnClass : r.cssClass) + (r.icon ? \" mbsc-ic mbsc-ic-\" + r.icon : \"\") + '\">' + (r.text || \"\") + \"</div></div>\";}\n          s += \"</div>\";\n        }\n        s += \"</div></div></div></div>\" + (H ? \"</div></div>\" : \"\"),\n        w = ie(s),\n        D = ie(\".mbsc-fr-persp\", w),\n        M = ie(\".mbsc-fr-scroll\", w),\n        S = ie(\".mbsc-fr-w\", w),\n        C = ie(\".mbsc-fr-popup\", w),\n        T = ie(\".mbsc-fr-hdr\", w),\n        $ = w[0],\n        X = M[0],\n        U = C[0],\n        te._activeElm = ie(\".mbsc-fr-focus\", w)[0],\n        te._markup = w,\n        te._isVisible = !0,\n        te.markup = $,\n        te._markupReady(w),\n        Z(\"onMarkupReady\", {\n          target: $ }),\n\n        H && (ie(window).on(\"keydown\", l),\n        B.scrollLock && w.on(\"touchmove mousewheel wheel\", function (e) {\n          G && e.preventDefault();\n        }),\n        B.focusTrap && k.on(\"focusin\", h)),\n        H ? setTimeout(function () {\n          b(e, t);\n        }, q ? 100 : 0) : b(e, t);\n      }\n    },\n\n    te.hide = function (e, t, a, s) {\n      function n() {\n        w.off(ye, n),\n        u(e);\n      }\n      return !(!te._isVisible || !a && !te._isValid && \"set\" == t || !a && Z(\"onBeforeClose\", {\n        valueText: te._tempValue,\n        button: t }) ===\n      !1) && (te._isVisible = !1,\n      R && (R.detach(),\n      R = null),\n      H && (ie(document.activeElement).is(\"input,textarea\") && U.contains(document.activeElement) && document.activeElement.blur(),\n      W.activeInstance == te && (W.activeInstance = j),\n      ie(window).off(\"keydown\", l),\n      k.off(\"focusin\", h)),\n      w && (H && E && !e ? w.addClass(\"mbsc-anim-out mbsc-anim-trans mbsc-anim-trans-\" + E).on(ye, n).find(\".mbsc-fr-popup\").addClass(\"mbsc-anim-\" + E) : u(e),\n      te._detachEvents(w)),\n      s && s(),\n      ae.trigger(\"blur\"),\n      void Z(\"onClose\", {\n        valueText: te._value }));\n\n    },\n\n    te.isVisible = function () {\n      return te._isVisible;\n    },\n\n    te.setVal = s,\n    te.getVal = s,\n    te._generateContent = s,\n    te._attachEvents = s,\n    te._detachEvents = s,\n    te._readValue = s,\n    te._clearValue = s,\n    te._fillValue = s,\n    te._markupReady = s,\n    te._markupInserted = s,\n    te._markupRemove = s,\n    te._position = s,\n    te.__processSettings = s,\n    te.__init = s,\n    te.__destroy = s,\n    te._destroy = function () {\n      te.hide(!0, !1, !0),\n      ae.off(\".mbsc\"),\n      ie.each(se, function (e, t) {\n        t.el.off(\".mbsc\").prop(\"readonly\", t.readOnly),\n        t.lbl && t.lbl.off(\".mbsc\");\n      }),\n      te.__destroy();\n    },\n\n    te._updateHeader = function () {\n      var t = B.headerText,\n      a = t ? \"function\" == typeof t ? t.call(e, te._tempValue) : t.replace(/\\{value\\}/i, te._tempValue) : \"\";\n      T.html(a || \"&nbsp;\");\n    },\n\n    te._getRespCont = function () {\n      return N = \"body\" != B.context,\n      k = ie(N ? B.context : window),\n      \"inline\" == B.display ? ae.is(\"div\") ? ae : ae.parent() : k;\n    },\n\n    te._processSettings = function (e) {\n      var a, s;\n      for (te.__processSettings(e),\n      L = !B.touchUi,\n      L && (B.display = e.display || t.display || \"bubble\",\n      B.buttons = e.buttons || t.buttons || [],\n      B.showOverlay = e.showOverlay || t.showOverlay || !1),\n      B.buttons = B.buttons || (\"inline\" !== B.display ? [\"cancel\", \"set\"] : []),\n      B.headerText = void 0 === B.headerText ? \"inline\" !== B.display && \"{value}\" : B.headerText,\n      V = B.buttons || [],\n      H = \"inline\" !== B.display,\n      x = ie(B.context),\n      _ = N ? x : ie(\"body,html\"),\n      A = x[0],\n      te.live = !0,\n      s = 0; s < V.length; s++) {\n        a = V[s],\n        \"ok\" != a && \"set\" != a && \"set\" != a.handler || (te.live = !1);}\n      te.buttons.set = {\n        text: B.setText,\n        icon: B.setIcon,\n        handler: \"set\" },\n\n      te.buttons.cancel = {\n        text: B.cancelText,\n        icon: B.cancelIcon,\n        handler: \"cancel\" },\n\n      te.buttons.close = {\n        text: B.closeText,\n        icon: B.closeIcon,\n        handler: \"cancel\" },\n\n      te.buttons.clear = {\n        text: B.clearText,\n        icon: B.clearIcon,\n        handler: \"clear\" },\n\n      te._isInput = ae.is(\"input\");\n    },\n\n    te._init = function (e) {\n      var t = te._isVisible,\n      a = t && !w.hasClass(\"mbsc-fr-pos\");\n      t && te.hide(!0, !1, !0),\n      ae.off(\".mbsc\"),\n      te.__init(e),\n      te._isLiquid = \"liquid\" == B.layout,\n      H ? (te._readValue(),\n      te._hasContent || B.skipShow || te.attachShow(ae),\n      t && te.show(a)) : te.show(),\n      ae.removeClass(\"mbsc-cloak\").filter(\"input, select, textarea\").on(\"change.mbsc\", function () {\n        te._preventChange || te.setVal(ae.val(), !0, !1),\n        te._preventChange = !1;\n      });\n    },\n\n    te.buttons = {},\n    te.handlers = {\n      set: te.select,\n      cancel: te.cancel,\n      clear: te.clear },\n\n    te._value = null,\n    te._isValid = !0,\n    te._isVisible = !1,\n    B = te.settings,\n    Z = te.trigger,\n    a || te.init();\n  };\n  qe.prototype._defaults = {\n    lang: \"en\",\n    setText: \"Set\",\n    selectedText: \"{count} selected\",\n    closeText: \"Close\",\n    cancelText: \"Cancel\",\n    clearText: \"Clear\",\n    context: \"body\",\n    maxPopupWidth: 600,\n    disabled: !1,\n    closeOnOverlayTap: !0,\n    showOnFocus: He || Pe,\n    showOnTap: !0,\n    display: \"center\",\n    scroll: !0,\n    scrollLock: !0,\n    showOverlay: !0,\n    tap: !0,\n    touchUi: !0,\n    btnClass: \"mbsc-fr-btn\",\n    btnWidth: !0,\n    focusTrap: !0,\n    focusOnClose: !Le },\n\n  ce.Frame = qe,\n  Fe.frame.mobiscroll = {\n    headerText: !1,\n    btnWidth: !1 },\n\n  Fe.scroller.mobiscroll = me({}, Fe.frame.mobiscroll, {\n    rows: 5,\n    showLabel: !1,\n    selectedLineBorder: 1,\n    weekDays: \"min\",\n    checkIcon: \"ion-ios7-checkmark-empty\",\n    btnPlusClass: \"mbsc-ic mbsc-ic-arrow-down5\",\n    btnMinusClass: \"mbsc-ic mbsc-ic-arrow-up5\",\n    btnCalPrevClass: \"mbsc-ic mbsc-ic-arrow-left5\",\n    btnCalNextClass: \"mbsc-ic mbsc-ic-arrow-right5\" }),\n\n  B && ie(window).on(\"focus\", function () {\n    Se && (Ve = !0);\n  });\n  /* eslint-disable no-unused-vars */\n  var Re = \"ios\" == R,\n  Xe = function Xe(e, t, a) {\n    function s(e) {\n      me(\"onStart\", {\n        domEvent: e }),\n\n      ye.stopProp && e.stopPropagation(),\n      ye.prevDef && e.preventDefault(),\n      ye.readonly || ye.lock && I || V(e, this) && !O && (y && y.removeClass(\"mbsc-active\"),\n      H = !1,\n      I || (y = ie(e.target).closest(\".mbsc-btn-e\", this),\n      y.length && !y.hasClass(\"mbsc-disabled\") && (H = !0,\n      _ = setTimeout(function () {\n        y.addClass(\"mbsc-active\");\n      }, 100))),\n      O = !0,\n      B = !1,\n      z = !1,\n      pe.scrolled = I,\n      oe = m(e, \"X\"),\n      re = m(e, \"Y\"),\n      E = oe,\n      M = 0,\n      D = 0,\n      C = 0,\n      ne = new Date(),\n      se = +Y(ce, he) || 0,\n      I && g(se, Re ? 0 : 1),\n      \"mousedown\" === e.type && ie(document).on(\"mousemove\", n).on(\"mouseup\", c));\n    }\n    function n(e) {\n      O && (ye.stopProp && e.stopPropagation(),\n      E = m(e, \"X\"),\n      F = m(e, \"Y\"),\n      M = E - oe,\n      D = F - re,\n      C = he ? D : M,\n      H && (Math.abs(D) > ye.thresholdY || Math.abs(M) > ye.thresholdX) && (clearTimeout(_),\n      y.removeClass(\"mbsc-active\"),\n      H = !1),\n      (pe.scrolled || !z && Math.abs(C) > ue) && (B || me(\"onGestureStart\", N),\n      pe.scrolled = B = !0,\n      R || (R = !0,\n      q = te(l))),\n      he || ye.scrollLock ? e.preventDefault() : pe.scrolled ? e.preventDefault() : Math.abs(D) > 7 && (z = !0,\n      pe.scrolled = !0,\n      c()));\n    }\n    function l() {\n      W && (C = r(C, -K * W, K * W)),\n      g(r(se + C, $ - A, L + A)),\n      R = !1;\n    }\n    function c(e) {\n      if (O) {\n        var t,a = new Date() - ne;\n        ye.stopProp && e && e.stopPropagation(),\n        ae(q),\n        R = !1,\n        !z && pe.scrolled && (ye.momentum && a < 300 && (t = C / a,\n        C = Math.max(Math.abs(C), t * t / ye.speedUnit) * (C < 0 ? -1 : 1)),\n        v(C)),\n        H && (clearTimeout(_),\n        y.addClass(\"mbsc-active\"),\n        setTimeout(function () {\n          y.removeClass(\"mbsc-active\");\n        }, 100),\n        z || pe.scrolled || me(\"onBtnTap\", {\n          target: y[0],\n          domEvent: e })),\n\n        e && \"mouseup\" == e.type && ie(document).off(\"mousemove\", n).off(\"mouseup\", c),\n        O = !1;\n      }\n    }\n    function d(e) {\n      if (e = e.originalEvent || e,\n      C = he ? void 0 == e.deltaY ? e.wheelDelta || e.detail : e.deltaY : e.deltaX,\n      me(\"onStart\", {\n        domEvent: e }),\n\n      ye.stopProp && e.stopPropagation(),\n      C) {\n        if (e.preventDefault(),\n        e.deltaMode && 1 == e.deltaMode && (C *= 15),\n        C = r(-C, -Q, Q),\n        se = be,\n        ye.readonly)\n        return;\n        if (B || p(),\n        se + C < $ && (se = $,\n        C = 0),\n        se + C > L && (se = L,\n        C = 0),\n        R || (R = !0,\n        q = te(l)),\n        !C && B)\n        return;\n        B = !0,\n        clearTimeout(G),\n        G = setTimeout(function () {\n          ae(q),\n          R = !1,\n          B = !1,\n          v(C);\n        }, 200);\n      }\n    }\n    function u(e) {\n      me(\"onStart\", {\n        domEvent: e }),\n\n      ye.readonly || (e.stopPropagation(),\n      se = be,\n      B = !1,\n      e.target == X ? (re = m(e, \"Y\", !0),\n      ie(document).on(\"mousemove\", f).on(\"mouseup\", h)) : (re = x.offset().top,\n      f(e),\n      h()));\n    }\n    function f(e) {\n      var t = (m(e, \"Y\", !0) - re) / w;\n      P ? (C = -(W * K * 2 + w) * t,\n      C = r(C, -K * W, K * W)) : C = ($ - L - w) * t,\n      B || p(),\n      B = !0,\n      g(r(se + C, $ - A, L + A));\n    }\n    function h() {\n      se = be,\n      v(0),\n      ie(document).off(\"mousemove\", f).off(\"mouseup\", h);\n    }\n    function b(e) {\n      e.stopPropagation();\n    }\n    function p() {\n      N = {\n        posX: he ? 0 : be,\n        posY: he ? be : 0,\n        originX: he ? 0 : se,\n        originY: he ? se : 0,\n        direction: C > 0 ? he ? 270 : 360 : he ? 90 : 180 },\n\n      me(\"onGestureStart\", N);\n    }\n    function v(e) {\n      var t, a, s;\n      if (W && (e = r(e, -K * W, K * W)),\n      s = r(Math.round((se + e) / K) * K, $, L),\n      ee) {\n        if (e < 0) {\n          for (t = ee.length - 1; t >= 0; t--) {\n            if (Math.abs(s) + w >= ee[t].breakpoint) {\n              ve = t,\n              ge = 2,\n              s = ee[t].snap2;\n              break;\n            }}\n        } else if (e >= 0)\n        for (t = 0; t < ee.length; t++) {\n          if (Math.abs(s) <= ee[t].breakpoint) {\n            ve = t,\n            ge = 1,\n            s = ee[t].snap1;\n            break;\n          }}\n        s = r(s, $, L);\n      }\n      a = ye.time || (be < $ || be > L ? 1e3 : Math.max(1e3, Math.abs(s - be) * ye.timeUnit)),\n      N.destinationX = he ? 0 : s,\n      N.destinationY = he ? s : 0,\n      N.duration = a,\n      N.transitionTiming = S,\n      me(\"onGestureEnd\", N),\n      pe.scroll(s, a);\n    }\n    function g(e, t, a, s) {\n      var n,o = e != be,i = t > 1,r = t ? Te + \"transform \" + Math.round(t) + \"ms \" + S : \"\",l = function l() {\n        clearInterval(Z),\n        clearTimeout(de),\n        I = !1,\n        be = e,\n        N.posX = he ? 0 : e,\n        N.posY = he ? e : 0,\n        o && me(\"onMove\", N),\n        i && me(\"onAnimationEnd\", N),\n        s && s();\n      };\n      N = {\n        posX: he ? 0 : be,\n        posY: he ? be : 0,\n        originX: he ? 0 : se,\n        originY: he ? se : 0,\n        direction: e - be > 0 ? he ? 270 : 360 : he ? 90 : 180 },\n\n      be = e,\n      i && (N.destinationX = he ? 0 : e,\n      N.destinationY = he ? e : 0,\n      N.duration = t,\n      N.transitionTiming = S,\n      me(\"onAnimationStart\", N)),\n      le[Ce + \"Transition\"] = r,\n      le[Ce + \"Transform\"] = \"translate3d(\" + (he ? \"0,\" + e + \"px,\" : e + \"px,0,\") + \"0)\",\n      X && U && (n = P ? (J - e) / (W * K * 2) : (e - L) / ($ - L),\n      X.style[Ce + \"Transition\"] = r,\n      X.style[Ce + \"Transform\"] = \"translate3d(0,\" + Math.max(0, Math.min((w - U) * n, w - U)) + \"px,0)\"),\n      !o && !I || !t || t <= 1 ? l() : t && (I = !a,\n      clearInterval(Z),\n      Z = setInterval(function () {\n        var t = +Y(ce, he) || 0;\n        N.posX = he ? 0 : t,\n        N.posY = he ? t : 0,\n        me(\"onMove\", N),\n        Math.abs(t - e) < 2 && l();\n      }, 100),\n      clearTimeout(de),\n      de = setTimeout(function () {\n        l();\n      }, t)),\n      ye.sync && ye.sync(e, t, S);\n    }\n    var y,x,T,_,w,M,D,C,k,S,A,E,F,N,H,P,L,W,$,O,I,z,q,R,X,U,J,j,B,G,Q,Z,K,ee,se,ne,oe,re,le,ce,de,ue,me,he,be,pe = this,ve = 0,ge = 1,ye = t,xe = ie(e);\n    fe.call(this, e, t, !0),\n    pe.scrolled = !1,\n    pe.scroll = function (t, a, s, n) {\n      t = o(t) ? Math.round(t / K) * K : Math.ceil((ie(t, e).length ? Math.round(ce.offset()[k] - ie(t, e).offset()[k]) : be) / K) * K,\n      t = r(t, $, L),\n      ve = Math.round(t / K),\n      se = be,\n      J = W * K + t,\n      g(t, a, s, n);\n    },\n\n    pe.refresh = function (e) {\n      var t;\n      for (w = (void 0 === ye.contSize ? he ? xe.height() : xe.width() : ye.contSize) || 0,\n      L = (void 0 === ye.maxScroll ? 0 : ye.maxScroll) || 0,\n      $ = Math.min(L, void 0 === ye.minScroll ? Math.min(0, he ? w - ce.height() : w - ce.width()) : ye.minScroll) || 0,\n      ee = null,\n      !he && ye.rtl && (t = L,\n      L = -$,\n      $ = -t),\n      i(ye.snap) && (ee = [],\n      ce.find(ye.snap).each(function () {\n        var e = he ? this.offsetTop : this.offsetLeft,\n        t = he ? this.offsetHeight : this.offsetWidth;\n        ee.push({\n          breakpoint: e + t / 2,\n          snap1: -e,\n          snap2: w - e - t });\n\n      })),\n      K = o(ye.snap) ? ye.snap : 1,\n      W = ye.snap ? ye.maxSnapScroll : 0,\n      S = ye.easing,\n      A = ye.elastic ? o(ye.snap) ? K : o(ye.elastic) ? ye.elastic : 0 : 0,\n      Q = K; Q > 44;) {\n        Q /= 2;}\n      Q = Math.round(44 / Q) * Q,\n      X && (P = $ == -(1 / 0) || L == 1 / 0,\n      U = $ < L ? Math.max(20, w * w / (L - $ + w)) : 0,\n      X.style.height = U + \"px\",\n      j.style.height = U ? \"\" : 0),\n      void 0 === be && (be = ye.initialPos,\n      ve = Math.round(be / K)),\n      e || pe.scroll(ye.snap ? ee ? ee[ve][\"snap\" + ge] : ve * K : be);\n    },\n\n    pe._processSettings = function () {\n      he = \"Y\" == ye.axis,\n      k = he ? \"top\" : \"left\",\n      ce = ye.moveElement || xe.children().eq(0),\n      le = ce[0].style,\n      ue = he ? ye.thresholdY : ye.thresholdX,\n      ye.scrollbar && (T = ye.scrollbar,\n      x = T.find(\".mbsc-sc-bar\"),\n      X = x[0],\n      j = T[0]);\n    },\n\n    pe._init = function () {\n      pe.refresh(),\n      xe.on(\"touchstart mousedown\", s).on(\"touchmove\", n).on(\"touchend touchcancel\", c),\n      ye.mousewheel && xe.on(\"wheel mousewheel\", d),\n      X && T.on(\"mousedown\", u).on(\"click\", b),\n      e.addEventListener(\"click\", function (e) {\n        pe.scrolled && (pe.scrolled = !1,\n        e.stopPropagation(),\n        e.preventDefault());\n      }, !0);\n    },\n\n    pe._destroy = function () {\n      clearInterval(Z),\n      xe.off(\"touchstart mousedown\", s).off(\"touchmove\", n).off(\"touchend touchcancel\", c).off(\"wheel mousewheel\", d),\n      X && T.off(\"mousedown\", u).off(\"click\", b);\n    },\n\n    ye = pe.settings,\n    me = pe.trigger,\n    a || pe.init();\n  };\n  Xe.prototype = {\n    _defaults: {\n      speedUnit: .0022,\n      timeUnit: 3,\n      initialPos: 0,\n      axis: \"Y\",\n      thresholdX: 10,\n      thresholdY: 5,\n      easing: \"cubic-bezier(0.190, 1.000, 0.220, 1.000)\",\n      stopProp: !0,\n      momentum: !0,\n      mousewheel: !0,\n      elastic: !0 } };\n\n\n  /* eslint-disable no-unused-vars */\n  var Ue = {},\n  Je = B ? window.CSS : null,\n  je = Je && Je.supports && Je.supports(\"(transform-style: preserve-3d)\"),\n  Be = function Be(e, t, a) {\n    function s(e) {\n      var t,a,s = +ie(this).attr(\"data-index\");\n      38 == e.keyCode ? (t = !0,\n      a = -1) : 40 == e.keyCode ? (t = !0,\n      a = 1) : 32 == e.keyCode && (t = !0,\n      r(s, ie(e.target))),\n      t && (e.stopPropagation(),\n      e.preventDefault(),\n      a && A.start(s, a, e));\n    }\n    function i() {\n      A.stop();\n    }\n    function r(e, t) {\n      var a = z[e],\n      s = +t.attr(\"data-index\"),\n      i = b(a, s),\n      r = U._tempSelected[e],\n      l = o(a.multiple) ? a.multiple : 1 / 0;\n      O(\"onItemTap\", {\n        target: t[0],\n        index: e,\n        value: i,\n        selected: t.hasClass(\"mbsc-sc-itm-sel\") }) !==\n      !1 && (a.multiple && !a._disabled[i] && (void 0 !== r[i] ? (t.removeClass(V).removeAttr(\"aria-selected\"),\n      delete r[i]) : (1 == l && (U._tempSelected[e] = r = {},\n      a._$markup.find(\".mbsc-sc-itm-sel\").removeClass(V).removeAttr(\"aria-selected\")),\n      n(r).length < l && (t.addClass(V).attr(\"aria-selected\", \"true\"),\n      r[i] = i))),\n      w(a, e, s, X, a._index < s ? 1 : 2, !0, a.multiple),\n      U.live && (!a.multiple || 1 === a.multiple && $.tapSelect) && ($.setOnTap === !0 || $.setOnTap[e]) && setTimeout(function () {\n        U.select();\n      }, $.tapSelect ? 0 : 200));\n    }\n    function l(e, t) {\n      var a = z[e];\n      return a && (!a.multiple || 1 !== a.multiple && t && ($.setOnTap === !0 || $.setOnTap[e]));\n    }\n    function c(e) {\n      return -(e.max - e._offset - (e.multiple && !S ? Math.floor($.rows / 2) : 0)) * H;\n    }\n    function d(e) {\n      return -(e.min - e._offset + (e.multiple && !S ? Math.floor($.rows / 2) : 0)) * H;\n    }\n    function u(e, t) {\n      return (e._array ? e._map[t] : +e.getIndex(t, U)) || 0;\n    }\n    function m(e, t) {\n      var a = e.data;\n      if (t >= e.min && t <= e.max)\n      return e._array ? e.circular ? ie(a).get(t % e._length) : a[t] : ie.isFunction(a) ? a(t, U) : \"\";\n    }\n    function f(e) {\n      return ie.isPlainObject(e) ? void 0 !== e.value ? e.value : e.display : e;\n    }\n    function h(e) {\n      var t = ie.isPlainObject(e) ? e.display : e;\n      return void 0 === t ? \"\" : t;\n    }\n    function b(e, t) {\n      return f(m(e, t));\n    }\n    function p(e, t, a) {\n      var s = z[e];\n      w(s, e, s._index + t, $.delay + 100, 1 == t ? 1 : 2, !1, !1, \"keydown\" == a.type);\n    }\n    function v(e) {\n      return ie.isArray($.readonly) ? $.readonly[e] : $.readonly;\n    }\n    function g(e, t, a) {\n      var s = e._index - e._batch;\n      return e.data = e.data || [],\n      e.key = void 0 !== e.key ? e.key : t,\n      e.label = void 0 !== e.label ? e.label : t,\n      e._map = {},\n      e._array = ie.isArray(e.data),\n      e._array && (e._length = e.data.length,\n      ie.each(e.data, function (t, a) {\n        e._map[f(a)] = t;\n      })),\n      e.circular = void 0 === $.circular ? void 0 === e.circular ? e._array && e._length > $.rows : e.circular : ie.isArray($.circular) ? $.circular[t] : $.circular,\n      e.min = e._array ? e.circular ? -(1 / 0) : 0 : void 0 === e.min ? -(1 / 0) : e.min,\n      e.max = e._array ? e.circular ? 1 / 0 : e._length - 1 : void 0 === e.max ? 1 / 0 : e.max,\n      e._nr = t,\n      e._index = u(e, F[t]),\n      e._disabled = {},\n      e._batch = 0,\n      e._current = e._index,\n      e._first = e._index - R,\n      e._last = e._index + R,\n      e._offset = e._first,\n      a ? (e._offset -= e._margin / H + (e._index - s),\n      e._margin += (e._index - s) * H) : e._margin = 0,\n      e._refresh = function (t) {\n        me(e._scroller.settings, {\n          minScroll: c(e),\n          maxScroll: d(e) }),\n\n        e._scroller.refresh(t);\n      },\n\n      q[e.key] = e,\n      e;\n    }\n    function y(e, t, a, s, n) {\n      var o,i,r,l,c,d,u,b,p = \"\",v = U._tempSelected[t],g = e._disabled || {};\n      for (o = a; o <= s; o++) {\n        r = m(e, o),\n        c = h(r),\n        l = f(r),\n        i = r && void 0 !== r.cssClass ? r.cssClass : \"\",\n        d = r && void 0 !== r.label ? r.label : \"\",\n        u = r && r.invalid,\n        b = void 0 !== l && l == F[t] && !e.multiple,\n        p += '<div role=\"option\" tabindex=\"-1\" aria-selected=\"' + !!v[l] + '\" class=\"mbsc-sc-itm ' + (n ? \"mbsc-sc-itm-3d \" : \"\") + i + \" \" + (b ? \"mbsc-sc-itm-sel \" : \"\") + (v[l] ? V : \"\") + (void 0 === l ? \" mbsc-sc-itm-ph\" : \" mbsc-btn-e\") + (u ? \" mbsc-sc-itm-inv-h mbsc-disabled\" : \"\") + (g[l] ? \" mbsc-sc-itm-inv mbsc-disabled\" : \"\") + '\" data-index=\"' + o + '\" data-val=\"' + N(l) + '\"' + (d ? ' aria-label=\"' + d + '\"' : \"\") + (b ? ' aria-selected=\"true\"' : \"\") + ' style=\"height:' + H + \"px;line-height:\" + H + \"px;\" + (n ? Te + \"transform:rotateX(\" + (e._offset - o) * k % 360 + \"deg) translateZ(\" + H * $.rows / 2 + \"px);\" : \"\") + '\">' + (I > 1 ? '<div class=\"mbsc-sc-itm-ml\" style=\"line-height:' + Math.round(H / I) + \"px;font-size:\" + Math.round(H / I * .8) + 'px;\">' : \"\") + c + (I > 1 ? \"</div>\" : \"\") + \"</div>\";}\n      return p;\n    }\n    function x(e, t, a) {\n      var s = Math.round(-a / H) + e._offset,\n      n = s - e._current,\n      o = e._first,\n      i = e._last,\n      r = o + R - C + 1,\n      l = i - R + C;\n      n && (e._first += n,\n      e._last += n,\n      e._current = s,\n      n > 0 ? (e._$scroller.append(y(e, t, Math.max(i + 1, o + n), i + n)),\n      ie(\".mbsc-sc-itm\", e._$scroller).slice(0, Math.min(n, i - o + 1)).remove(),\n      S && (e._$3d.append(y(e, t, Math.max(l + 1, r + n), l + n, !0)),\n      ie(\".mbsc-sc-itm\", e._$3d).slice(0, Math.min(n, l - r + 1)).attr(\"class\", \"mbsc-sc-itm-del\"))) : n < 0 && (e._$scroller.prepend(y(e, t, o + n, Math.min(o - 1, i + n))),\n      ie(\".mbsc-sc-itm\", e._$scroller).slice(Math.max(n, o - i - 1)).remove(),\n      S && (e._$3d.prepend(y(e, t, r + n, Math.min(r - 1, l + n), !0)),\n      ie(\".mbsc-sc-itm\", e._$3d).slice(Math.max(n, r - l - 1)).attr(\"class\", \"mbsc-sc-itm-del\"))),\n      e._margin += n * H,\n      e._$scroller.css(\"margin-top\", e._margin + \"px\"));\n    }\n    function T(e, t, a, s) {\n      var n,o = z[e],i = s || o._disabled,r = u(o, t),l = b(o, r),c = l,d = l,m = 0,f = 0;\n      if (i[l] === !0) {\n        for (n = 0; r - m >= o.min && i[c] && n < 100;) {\n          n++,\n          m++,\n          c = b(o, r - m);}\n        for (n = 0; r + f < o.max && i[d] && n < 100;) {\n          n++,\n          f++,\n          d = b(o, r + f);}\n        l = (f < m && f && 2 !== a || !m || r - m < 0 || 1 == a) && !i[d] ? d : c;\n      }\n      return l;\n    }\n    function _(t, a, s, n, o, i, r) {\n      var c,d,m,f,h = U._isVisible;\n      W = !0,\n      f = $.validate.call(e, {\n        values: F.slice(0),\n        index: a,\n        direction: s },\n      U) || {},\n      W = !1,\n      f.valid && (U._tempWheelArray = F = f.valid.slice(0)),\n      i || ie.each(z, function (e, n) {\n        if (h && n._$markup.find(\".mbsc-sc-itm-inv\").removeClass(\"mbsc-sc-itm-inv mbsc-disabled\"),\n        n._disabled = {},\n        f.disabled && f.disabled[e] && ie.each(f.disabled[e], function (e, t) {\n          n._disabled[t] = !0,\n          h && n._$markup.find('.mbsc-sc-itm[data-val=\"' + N(t) + '\"]').addClass(\"mbsc-sc-itm-inv mbsc-disabled\");\n        }),\n        F[e] = n.multiple ? F[e] : T(e, F[e], s),\n        h) {\n          if (n.multiple && void 0 !== a || n._$markup.find(\".mbsc-sc-itm-sel\").removeClass(V).removeAttr(\"aria-selected\"),\n          d = u(n, F[e]),\n          c = d - n._index + n._batch,\n          Math.abs(c) > 2 * R + 1 && (m = c + (2 * R + 1) * (c > 0 ? -1 : 1),\n          n._offset += m,\n          n._margin -= m * H,\n          n._refresh()),\n          n._index = d + n._batch,\n          n.multiple) {\n            if (void 0 === a)\n            for (var i in U._tempSelected[e]) {\n              n._$markup.find('.mbsc-sc-itm[data-val=\"' + N(i) + '\"]').addClass(V).attr(\"aria-selected\", \"true\");}\n          } else\n          n._$markup.find('.mbsc-sc-itm[data-val=\"' + N(F[e]) + '\"]').addClass(\"mbsc-sc-itm-sel\").attr(\"aria-selected\", \"true\");\n          n._$active && n._$active.attr(\"tabindex\", -1),\n          n._$active = n._$markup.find('.mbsc-sc-itm[data-index=\"' + n._index + '\"]').eq(S && n.multiple ? 1 : 0).attr(\"tabindex\", 0),\n          r && a === e && n._$active.length && (n._$active[0].focus(),\n          n._$scroller.parent().scrollTop(0)),\n          n._scroller.scroll(-(d - n._offset + n._batch) * H, a === e || void 0 === a ? t : X, o);\n        }\n      }),\n      O(\"onValidated\", {\n        index: a,\n        time: t }),\n\n      U._tempValue = $.formatValue.call(e, F, U),\n      h && U._updateHeader(),\n      U.live && l(a, i) && (U._hasValue = n || U._hasValue,\n      M(n, n, 0, !0),\n      n && O(\"onSet\", {\n        valueText: U._value })),\n\n      n && O(\"onChange\", {\n        index: a,\n        valueText: U._tempValue });\n\n    }\n    function w(e, t, a, s, n, o, i, r) {\n      var l = b(e, a);\n      void 0 !== l && (F[t] = l,\n      e._batch = e._array ? Math.floor(a / e._length) * e._length : 0,\n      e._index = a,\n      setTimeout(function () {\n        _(s, t, n, !0, o, i, r);\n      }, 10));\n    }\n    function M(t, a, s, n, o) {\n      if (n ? U._tempValue = $.formatValue.call(e, U._tempWheelArray, U) : _(s),\n      !o) {\n        U._wheelArray = [];\n        for (var i = 0; i < F.length; i++) {\n          U._wheelArray[i] = z[i] && z[i].multiple ? Object.keys(U._tempSelected[i] || {})[0] : F[i];}\n        U._value = U._hasValue ? U._tempValue : null,\n        U._selected = me(!0, {}, U._tempSelected);\n      }\n      t && (U._isInput && J.val(U._hasValue ? U._tempValue : \"\"),\n      O(\"onFill\", {\n        valueText: U._hasValue ? U._tempValue : \"\",\n        change: a }),\n\n      a && (U._preventChange = !0,\n      J.trigger(\"change\")));\n    }\n    var D,C,k,S,V,Y,A,F,H,P,L,W,$,O,I,z,q,R = 40,X = 1e3,U = this,J = ie(e);\n    qe.call(this, e, t, !0),\n    U.setVal = U._setVal = function (t, a, s, n, o) {\n      U._hasValue = null !== t && void 0 !== t,\n      U._tempWheelArray = F = ie.isArray(t) ? t.slice(0) : $.parseValue.call(e, t, U) || [],\n      M(a, void 0 === s ? a : s, o, !1, n);\n    },\n\n    U.getVal = U._getVal = function (e) {\n      var t = U._hasValue || e ? U[e ? \"_tempValue\" : \"_value\"] : null;\n      return o(t) ? +t : t;\n    },\n\n    U.setArrayVal = U.setVal,\n    U.getArrayVal = function (e) {\n      return e ? U._tempWheelArray : U._wheelArray;\n    },\n\n    U.changeWheel = function (e, t, a) {\n      var s, n;\n      ie.each(e, function (e, t) {\n        n = q[e],\n        n && (s = n._nr,\n        me(n, t),\n        g(n, s, !0),\n        U._isVisible && (S && n._$3d.html(y(n, s, n._first + R - C + 1, n._last - R + C, !0)),\n        n._$scroller.html(y(n, s, n._first, n._last)).css(\"margin-top\", n._margin + \"px\"),\n        n._refresh(W)));\n      }),\n      !U._isVisible || U._isLiquid || W || U.position(),\n      W || _(t, void 0, void 0, a);\n    },\n\n    U.getValidValue = T,\n    U._generateContent = function () {\n      var e,t = 0,a = \"\",s = S ? Te + \"transform: translateZ(\" + (H * $.rows / 2 + 3) + \"px);\" : \"\",n = '<div class=\"mbsc-sc-whl-l\" style=\"' + s + \"height:\" + H + \"px;margin-top:-\" + (H / 2 + ($.selectedLineBorder || 0)) + 'px;\"></div>',o = 0;\n      return ie.each($.wheels, function (i, r) {\n        a += '<div class=\"mbsc-w-p mbsc-sc-whl-gr-c' + (S ? \" mbsc-sc-whl-gr-3d-c\" : \"\") + ($.showLabel ? \" mbsc-sc-lbl-v\" : \"\") + '\">' + n + '<div class=\"mbsc-sc-whl-gr' + (S ? \" mbsc-sc-whl-gr-3d\" : \"\") + (Y ? \" mbsc-sc-cp\" : \"\") + ($.width || $.maxWidth ? '\"' : '\" style=\"max-width:' + $.maxPopupWidth + 'px;\"') + \">\",\n        ie.each(r, function (i, r) {\n          U._tempSelected[o] = me({}, U._selected[o]),\n          z[o] = g(r, o),\n          t += $.maxWidth ? $.maxWidth[o] || $.maxWidth : $.width ? $.width[o] || $.width : 0,\n          e = void 0 !== r.label ? r.label : i,\n          a += '<div class=\"mbsc-sc-whl-w ' + (r.cssClass || \"\") + (r.multiple ? \" mbsc-sc-whl-multi\" : \"\") + '\" style=\"' + ($.width ? \"width:\" + ($.width[o] || $.width) + \"px;\" : ($.minWidth ? \"min-width:\" + ($.minWidth[o] || $.minWidth) + \"px;\" : \"\") + ($.maxWidth ? \"max-width:\" + ($.maxWidth[o] || $.maxWidth) + \"px;\" : \"\")) + '\">' + (L ? '<div class=\"mbsc-sc-bar-c\"><div class=\"mbsc-sc-bar\"></div></div>' : \"\") + '<div class=\"mbsc-sc-whl-o\" style=\"' + s + '\"></div>' + n + '<div aria-live=\"off\" aria-label=\"' + e + '\"' + (r.multiple ? ' aria-multiselectable=\"true\"' : \"\") + ' role=\"listbox\" data-index=\"' + o + '\" class=\"mbsc-sc-whl\" style=\"height:' + $.rows * H * (S ? 1.1 : 1) + 'px;\">' + (Y ? '<div data-index=\"' + o + '\" data-step=\"1\" class=\"mbsc-sc-btn mbsc-sc-btn-plus ' + ($.btnPlusClass || \"\") + '\"></div><div data-index=\"' + o + '\" data-step=\"-1\" class=\"mbsc-sc-btn mbsc-sc-btn-minus ' + ($.btnMinusClass || \"\") + '\"></div>' : \"\") + '<div class=\"mbsc-sc-lbl\">' + e + '</div><div class=\"mbsc-sc-whl-c\" style=\"height:' + P + \"px;margin-top:-\" + (P / 2 + 1) + \"px;\" + s + '\"><div class=\"mbsc-sc-whl-sc\" style=\"top:' + (P - H) / 2 + 'px;\">',\n          a += y(r, o, r._first, r._last) + \"</div></div>\",\n          S && (a += '<div class=\"mbsc-sc-whl-3d\" style=\"height:' + H + \"px;margin-top:-\" + H / 2 + 'px;\">',\n          a += y(r, o, r._first + R - C + 1, r._last - R + C, !0),\n          a += \"</div>\"),\n          a += \"</div></div>\",\n          o++;\n        }),\n        a += \"</div></div>\";\n      }),\n      t && ($.maxPopupWidth = t),\n      a;\n    },\n\n    U._attachEvents = function (e) {\n      A = E(ie(\".mbsc-sc-btn\", e), p, $.delay, v, !0),\n      ie(\".mbsc-sc-whl\", e).on(\"keydown\", s).on(\"keyup\", i);\n    },\n\n    U._detachEvents = function () {\n      A.stop();\n      for (var e = 0; e < z.length; e++) {\n        z[e]._scroller.destroy();}\n    },\n\n    U._markupReady = function (e) {\n      D = e,\n      ie(\".mbsc-sc-whl-w\", D).each(function (e) {\n        var t,a = ie(this),s = z[e];\n        s._$markup = a,\n        s._$scroller = ie(\".mbsc-sc-whl-sc\", this),\n        s._$3d = ie(\".mbsc-sc-whl-3d\", this),\n        s._scroller = new Xe(this, {\n          mousewheel: $.mousewheel,\n          moveElement: s._$scroller,\n          scrollbar: ie(\".mbsc-sc-bar-c\", this),\n          initialPos: (s._first - s._index) * H,\n          contSize: $.rows * H,\n          snap: H,\n          minScroll: c(s),\n          maxScroll: d(s),\n          maxSnapScroll: R,\n          prevDef: !0,\n          stopProp: !0,\n          timeUnit: 3,\n          easing: \"cubic-bezier(0.190, 1.000, 0.220, 1.000)\",\n          sync: function sync(e, t, a) {\n            var n = t ? Te + \"transform \" + Math.round(t) + \"ms \" + a : \"\";\n            S && (s._$3d[0].style[Ce + \"Transition\"] = n,\n            s._$3d[0].style[Ce + \"Transform\"] = \"rotateX(\" + -e / H * k + \"deg)\");\n          },\n          onStart: function onStart(t, a) {\n            a.settings.readonly = v(e);\n          },\n          onGestureStart: function onGestureStart() {\n            a.addClass(\"mbsc-sc-whl-a mbsc-sc-whl-anim\"),\n            O(\"onWheelGestureStart\", {\n              index: e });\n\n          },\n          onGestureEnd: function onGestureEnd(a) {\n            var n = 90 == a.direction ? 1 : 2,\n            o = a.duration,\n            i = a.destinationY;\n            t = Math.round(-i / H) + s._offset,\n            w(s, e, t, o, n);\n          },\n          onAnimationStart: function onAnimationStart() {\n            a.addClass(\"mbsc-sc-whl-anim\");\n          },\n          onAnimationEnd: function onAnimationEnd() {\n            a.removeClass(\"mbsc-sc-whl-a mbsc-sc-whl-anim\"),\n            O(\"onWheelAnimationEnd\", {\n              index: e }),\n\n            s._$3d.find(\".mbsc-sc-itm-del\").remove();\n          },\n          onMove: function onMove(t) {\n            x(s, e, t.posY);\n          },\n          onBtnTap: function onBtnTap(t) {\n            r(e, ie(t.target));\n          } });\n\n      }),\n      _();\n    },\n\n    U._fillValue = function () {\n      U._hasValue = !0,\n      M(!0, !0, 0, !0);\n    },\n\n    U._clearValue = function () {\n      ie(\".mbsc-sc-whl-multi .mbsc-sc-itm-sel\", D).removeClass(V).removeAttr(\"aria-selected\");\n    },\n\n    U._readValue = function () {\n      var t = J.val() || \"\",\n      a = 0;\n      \"\" !== t && (U._hasValue = !0),\n      U._tempWheelArray = F = U._hasValue && U._wheelArray ? U._wheelArray.slice(0) : $.parseValue.call(e, t, U) || [],\n      U._tempSelected = me(!0, {}, U._selected),\n      ie.each($.wheels, function (e, t) {\n        ie.each(t, function (e, t) {\n          z[a] = g(t, a),\n          a++;\n        });\n      }),\n      M(!1, !1, 0, !0),\n      O(\"onRead\");\n    },\n\n    U.__processSettings = function (e) {\n      $ = U.settings,\n      O = U.trigger,\n      I = $.multiline,\n      V = \"mbsc-sc-itm-sel mbsc-ic mbsc-ic-\" + $.checkIcon,\n      L = !$.touchUi,\n      L && ($.tapSelect = !0,\n      $.circular = !1,\n      $.rows = e.rows || t.rows || 7);\n    },\n\n    U.__init = function (e) {\n      e && (U._wheelArray = null),\n      z = [],\n      q = {},\n      Y = $.showScrollArrows,\n      S = $.scroll3d && je && !Y && !L && (\"ios\" == $.theme || \"ios\" == $.baseTheme),\n      H = $.height,\n      P = S ? 2 * Math.round((H - .03 * (H * $.rows / 2 + 3)) / 2) : H,\n      C = Math.round(1.8 * $.rows),\n      k = 360 / (2 * C),\n      Y && ($.rows = Math.max(3, $.rows));\n    },\n\n    U._getItemValue = f,\n    U._tempSelected = {},\n    U._selected = {},\n    a || U.init();\n  };\n  Be.prototype = {\n    _hasDef: !0,\n    _hasTheme: !0,\n    _hasLang: !0,\n    _responsive: !0,\n    _class: \"scroller\",\n    _presets: Ue,\n    _defaults: me({}, qe.prototype._defaults, {\n      minWidth: 80,\n      height: 40,\n      rows: 3,\n      multiline: 1,\n      delay: 200,\n      readonly: !1,\n      showLabel: !0,\n      setOnTap: !1,\n      wheels: [],\n      preset: \"\",\n      speedUnit: .0012,\n      timeUnit: .08,\n      checkIcon: \"checkmark\",\n      compClass: \"mbsc-sc\",\n      validate: function validate() {},\n      formatValue: function formatValue(e) {\n        return e.join(\" \");\n      },\n      parseValue: function parseValue(e, t) {\n        var a,s,n = [],o = [],i = 0;\n        return null !== e && void 0 !== e && (n = (e + \"\").split(\" \")),\n        ie.each(t.settings.wheels, function (e, r) {\n          ie.each(r, function (e, r) {\n            s = r.data,\n            a = t._getItemValue(s[0]),\n            ie.each(s, function (e, s) {\n              if (n[i] == t._getItemValue(s))\n              return a = t._getItemValue(s),\n              !1;\n            }),\n            o.push(a),\n            i++;\n          });\n        }),\n        o;\n      } }) },\n\n\n  ce.Scroller = Be;\n  var Ge = {\n    separator: \" \",\n    dateFormat: \"mm/dd/yy\",\n    dateDisplay: \"MMddyy\",\n    timeFormat: \"h:ii A\",\n    dayText: \"Day\",\n    monthText: \"Month\",\n    yearText: \"Year\",\n    hourText: \"Hours\",\n    minuteText: \"Minutes\",\n    ampmText: \"&nbsp;\",\n    secText: \"Seconds\",\n    nowText: \"Now\",\n    todayText: \"Today\" },\n\n  Qe = function Qe(e) {\n    function t(e) {\n      var t,a,s,n,o = [];\n      if (e) {\n        for (t = 0; t < e.length; t++) {\n          if (a = e[t],\n          a.start && a.end && !be.test(a.start))\n          for (s = new Date(D(a.start, G, J)),\n          n = new Date(D(a.end, G, J)); s <= n;) {\n            o.push(p(s.getFullYear(), s.getMonth(), s.getDate())),\n            s.setDate(s.getDate() + 1);} else\n\n          o.push(a);}\n        return o;\n      }\n      return e;\n    }\n    function a(e, t, a, s) {\n      return Math.min(s, Math.floor(e / t) * t + a);\n    }\n    function s(e, t, a) {\n      return Math.floor((a - t) / e) * e + t;\n    }\n    function n(e) {\n      return J.getYear(e);\n    }\n    function o(e) {\n      return J.getMonth(e);\n    }\n    function i(e) {\n      return J.getDay(e);\n    }\n    function r(e) {\n      var t = e.getHours();\n      return t = le && t >= 12 ? t - 12 : t,\n      a(t, ue, xe, we);\n    }\n    function c(e) {\n      return a(e.getMinutes(), fe, Te, Me);\n    }\n    function d(e) {\n      return a(e.getSeconds(), he, _e, De);\n    }\n    function u(e) {\n      return e.getMilliseconds();\n    }\n    function m(e) {\n      return e.getHours() > 11 ? 1 : 0;\n    }\n    function f(e) {\n      return e.getFullYear() + \"-\" + l(e.getMonth() + 1) + \"-\" + l(e.getDate());\n    }\n    function h(e) {\n      return a(Math.round((e.getTime() - new Date(e).setHours(0, 0, 0, 0)) / 1e3), P || 1, 0, 86400);\n    }\n    function b(e, t, a, s) {\n      var n;\n      return void 0 === $[t] || (n = +e[$[t]],\n      isNaN(n)) ? a ? Ye[t](a) : void 0 !== I[t] ? I[t] : Ye[t](s) : n;\n    }\n    function y(e) {\n      var t,a = new Date(new Date().setHours(0, 0, 0, 0));\n      if (null === e)\n      return e;\n      void 0 !== $.dd && (t = e[$.dd].split(\"-\"),\n      t = new Date(t[0], t[1] - 1, t[2])),\n      void 0 !== $.tt && (t = t || a,\n      t = new Date(t.getTime() + e[$.tt] % 86400 * 1e3));\n      var s = b(e, \"y\", t, a),\n      n = b(e, \"m\", t, a),\n      o = Math.min(b(e, \"d\", t, a), J.getMaxDayOfMonth(s, n)),\n      i = b(e, \"h\", t, a);\n      return J.getDate(s, n, o, le && b(e, \"a\", t, a) ? i + 12 : i, b(e, \"i\", t, a), b(e, \"s\", t, a), b(e, \"u\", t, a));\n    }\n    function x(e, t) {\n      var a,s,n = [\"y\", \"m\", \"d\", \"a\", \"h\", \"i\", \"s\", \"u\", \"dd\", \"tt\"],o = [];\n      if (null === e || void 0 === e)\n      return e;\n      for (a = 0; a < n.length; a++) {\n        s = n[a],\n        void 0 !== $[s] && (o[$[s]] = Ye[s](e)),\n        t && (I[s] = Ye[s](e));}\n      return o;\n    }\n    function T(e, t) {\n      return t ? Math.floor(new Date(e) / 864e5) : e.getMonth() + 12 * (e.getFullYear() - 1970);\n    }\n    function _(e) {\n      return {\n        value: e,\n        display: (/yy/i.test(K) ? e : (e + \"\").substr(2, 2)) + (J.yearSuffix || \"\") };\n\n    }\n    function w(e) {\n      return e;\n    }\n    function C(e) {\n      var t = /d/i.test(e);\n      return {\n        label: \"\",\n        cssClass: \"mbsc-dt-whl-date\",\n        min: ne ? T(f(ne), t) : void 0,\n        max: oe ? T(f(oe), t) : void 0,\n        data: function data(a) {\n          var s = new Date(new Date().setHours(0, 0, 0, 0)),\n          n = t ? new Date(864e5 * a) : new Date(1970, a, 1);\n          return t && (n = new Date(n.getUTCFullYear(), n.getUTCMonth(), n.getUTCDate())),\n          {\n            invalid: t && !E(n, !0),\n            value: f(n),\n            display: s.getTime() == n.getTime() ? J.todayText : v(e, n, J) };\n\n        },\n        getIndex: function getIndex(e) {\n          return T(e, t);\n        } };\n\n    }\n    function k(e) {\n      var t,a,s,n = [];\n      for (/s/i.test(e) ? a = he : /i/i.test(e) ? a = 60 * fe : /h/i.test(e) && (a = 3600 * ue),\n      P = Se.tt = a,\n      t = 0; t < 86400; t += a) {\n        s = new Date(new Date().setHours(0, 0, 0, 0) + 1e3 * t),\n        n.push({\n          value: t,\n          display: v(e, s, J) });}\n\n      return {\n        label: \"\",\n        cssClass: \"mbsc-dt-whl-time\",\n        data: n };\n\n    }\n    function S() {\n      var e,t,a,s,n,o,i,r,c = 0,d = [],u = [],m = [];\n      if (/date/i.test(j)) {\n        for (e = Q.split(/\\|/.test(Q) ? \"|\" : \"\"),\n        s = 0; s < e.length; s++) {\n          if (a = e[s],\n          o = 0,\n          a.length)\n          if (/y/i.test(a) && (z.y = 1,\n          o++),\n          /m/i.test(a) && (z.y = 1,\n          z.m = 1,\n          o++),\n          /d/i.test(a) && (z.y = 1,\n          z.m = 1,\n          z.d = 1,\n          o++),\n          o > 1 && void 0 === $.dd)\n          $.dd = c,\n          c++,\n          u.push(C(a)),\n          m = u,\n          L = !0;else\n          if (/y/i.test(a) && void 0 === $.y)\n          $.y = c,\n          c++,\n          u.push({\n            cssClass: \"mbsc-dt-whl-y\",\n            label: J.yearText,\n            min: ne ? J.getYear(ne) : void 0,\n            max: oe ? J.getYear(oe) : void 0,\n            data: _,\n            getIndex: w });else\n\n          if (/m/i.test(a) && void 0 === $.m) {\n            for ($.m = c,\n            i = [],\n            c++,\n            n = 0; n < 12; n++) {\n              r = K.replace(/[dy|]/gi, \"\").replace(/mm/, l(n + 1) + (J.monthSuffix || \"\")).replace(/m/, n + 1 + (J.monthSuffix || \"\")),\n              i.push({\n                value: n,\n                display: /MM/.test(r) ? r.replace(/MM/, '<span class=\"mbsc-dt-month\">' + J.monthNames[n] + \"</span>\") : r.replace(/M/, '<span class=\"mbsc-dt-month\">' + J.monthNamesShort[n] + \"</span>\") });}\n\n            u.push({\n              cssClass: \"mbsc-dt-whl-m\",\n              label: J.monthText,\n              data: i });\n\n          } else if (/d/i.test(a) && void 0 === $.d) {\n            for ($.d = c,\n            i = [],\n            c++,\n            n = 1; n < 32; n++) {\n              i.push({\n                value: n,\n                display: (/dd/i.test(K) ? l(n) : n) + (J.daySuffix || \"\") });}\n\n            u.push({\n              cssClass: \"mbsc-dt-whl-d\",\n              label: J.dayText,\n              data: i });\n\n          }}\n        d.push(u);\n      }\n      if (/time/i.test(j)) {\n        for (t = Z.split(/\\|/.test(Z) ? \"|\" : \"\"),\n        s = 0; s < t.length; s++) {\n          if (a = t[s],\n          o = 0,\n          a.length && (/h/i.test(a) && (z.h = 1,\n          o++),\n          /i/i.test(a) && (z.i = 1,\n          o++),\n          /s/i.test(a) && (z.s = 1,\n          o++),\n          /a/i.test(a) && o++),\n          o > 1 && void 0 === $.tt)\n          $.tt = c,\n          c++,\n          m.push(k(a));else\n          if (/h/i.test(a) && void 0 === $.h) {\n            for (i = [],\n            $.h = c,\n            z.h = 1,\n            c++,\n            n = xe; n < (le ? 12 : 24); n += ue) {\n              i.push({\n                value: n,\n                display: le && 0 === n ? 12 : /hh/i.test(ee) ? l(n) : n });}\n\n            m.push({\n              cssClass: \"mbsc-dt-whl-h\",\n              label: J.hourText,\n              data: i });\n\n          } else if (/i/i.test(a) && void 0 === $.i) {\n            for (i = [],\n            $.i = c,\n            z.i = 1,\n            c++,\n            n = Te; n < 60; n += fe) {\n              i.push({\n                value: n,\n                display: /ii/i.test(ee) ? l(n) : n });}\n\n            m.push({\n              cssClass: \"mbsc-dt-whl-i\",\n              label: J.minuteText,\n              data: i });\n\n          } else if (/s/i.test(a) && void 0 === $.s) {\n            for (i = [],\n            $.s = c,\n            z.s = 1,\n            c++,\n            n = _e; n < 60; n += he) {\n              i.push({\n                value: n,\n                display: /ss/i.test(ee) ? l(n) : n });}\n\n            m.push({\n              cssClass: \"mbsc-dt-whl-s\",\n              label: J.secText,\n              data: i });\n\n          } else\n          /a/i.test(a) && void 0 === $.a && ($.a = c,\n          c++,\n          m.push({\n            cssClass: \"mbsc-dt-whl-a\",\n            label: J.ampmText,\n            data: /A/.test(a) ? [{\n              value: 0,\n              display: J.amText.toUpperCase() },\n            {\n              value: 1,\n              display: J.pmText.toUpperCase() }] :\n            [{\n              value: 0,\n              display: J.amText },\n            {\n              value: 1,\n              display: J.pmText }] }));}\n\n\n        m != u && d.push(m);\n      }\n      return d;\n    }\n    function V(e) {\n      var t,a,s,n = {};\n      if (e.is(\"input\")) {\n        switch (e.attr(\"type\")) {\n          case \"date\":\n            t = \"yy-mm-dd\";\n            break;\n          case \"datetime\":\n            t = \"yy-mm-ddTHH:ii:ssZ\";\n            break;\n          case \"datetime-local\":\n            t = \"yy-mm-ddTHH:ii:ss\";\n            break;\n          case \"month\":\n            t = \"yy-mm\",\n            n.dateOrder = \"mmyy\";\n            break;\n          case \"time\":\n            t = \"HH:ii:ss\";}\n\n        n.format = t,\n        a = e.attr(\"min\"),\n        s = e.attr(\"max\"),\n        a && \"undefined\" != a && (n.min = g(t, a)),\n        s && \"undefined\" != s && (n.max = g(t, s));\n      }\n      return n;\n    }\n    function Y(e, t) {\n      var a,s,n = !1,o = !1,i = 0,r = 0,l = ne ? y(x(ne)) : -(1 / 0),c = oe ? y(x(oe)) : 1 / 0;\n      if (E(e))\n      return e;\n      if (e < l && (e = l),\n      e > c && (e = c),\n      a = e,\n      s = e,\n      2 !== t)\n      for (n = E(a, !0); !n && a < c && i < 100;) {\n        a = new Date(a.getTime() + 864e5),\n        n = E(a, !0),\n        i++;}\n      if (1 !== t)\n      for (o = E(s, !0); !o && s > l && r < 100;) {\n        s = new Date(s.getTime() - 864e5),\n        o = E(s, !0),\n        r++;}\n      return 1 === t && n ? a : 2 === t && o ? s : A(e, a) ? a : A(e, s) ? s : r <= i && o ? s : a;\n    }\n    function A(e, t) {\n      return J.getYear(e) === J.getYear(t) && J.getMonth(e) === J.getMonth(t);\n    }\n    function E(e, t) {\n      return !(!t && e < ne) && !(!t && e > oe) && (!!F(e, se) || !F(e, ae));\n    }\n    function F(e, t) {\n      var a, s, n;\n      if (t)\n      for (s = 0; s < t.length; s++) {\n        if (a = t[s],\n        n = a + \"\",\n        !a.start)\n        if (ve.test(n)) {\n          if (n = +n.replace(\"w\", \"\"),\n          n == e.getDay())\n          return !0;\n        } else if (pe.test(n)) {\n          if (n = n.split(\"/\"),\n          n[1]) {\n            if (n[0] - 1 == e.getMonth() && n[1] == e.getDate())\n            return !0;\n          } else if (n[0] == e.getDate())\n          return !0;\n        } else if (a = D(a, G, J),\n        e.getFullYear() == a.getFullYear() && e.getMonth() == a.getMonth() && e.getDate() == a.getDate())\n        return !0;}\n      return !1;\n    }\n    function N(e, t, a, s, n, o, i) {\n      var r, l, c, d;\n      if (e)\n      for (l = 0; l < e.length; l++) {\n        if (r = e[l],\n        d = r + \"\",\n        !r.start)\n        if (ve.test(d))\n        for (d = +d.replace(\"w\", \"\"),\n        c = d - s; c < n; c += 7) {\n          c >= 0 && (o[c + 1] = i);} else\n\n        pe.test(d) ? (d = d.split(\"/\"),\n        d[1] ? d[0] - 1 == a && (o[d[1]] = i) : o[d[0]] = i) : (r = D(r, G, J),\n        J.getYear(r) == t && J.getMonth(r) == a && (o[J.getDay(r)] = i));}\n    }\n    function H(e, t, s, n, o, i, r, l) {\n      var c,d,u,m,f,h,b,p,v,g,y,x,T,_,w,M,D,C,k,S,V = {},Y = J.getDate(n, o, i),A = [\"a\", \"h\", \"i\", \"s\"];\n      if (e) {\n        for (b = 0; b < e.length; b++) {\n          y = e[b],\n          y.start && (y.apply = !1,\n          u = y.d,\n          D = u + \"\",\n          C = D.split(\"/\"),\n          u && (u.getTime && n == J.getYear(u) && o == J.getMonth(u) && i == J.getDay(u) || !ve.test(D) && (C[1] && i == C[1] && o == C[0] - 1 || !C[1] && i == C[0]) || ve.test(D) && Y.getDay() == +D.replace(\"w\", \"\")) && (y.apply = !0,\n          V[Y] = !0));}\n        for (b = 0; b < e.length; b++) {\n          if (y = e[b],\n          c = 0,\n          M = 0,\n          p = Ce[s],\n          v = ke[s],\n          _ = !0,\n          w = !0,\n          d = !1,\n          y.start && (y.apply || !y.d && !V[Y])) {\n            for (x = y.start.split(\":\"),\n            T = y.end.split(\":\"),\n            g = 0; g < 3; g++) {\n              void 0 === x[g] && (x[g] = 0),\n              void 0 === T[g] && (T[g] = 59),\n              x[g] = +x[g],\n              T[g] = +T[g];}\n            if (\"tt\" == s)\n            p = a(Math.round((new Date(Y).setHours(x[0], x[1], x[2]) - new Date(Y).setHours(0, 0, 0, 0)) / 1e3), P, 0, 86400),\n            v = a(Math.round((new Date(Y).setHours(T[0], T[1], T[2]) - new Date(Y).setHours(0, 0, 0, 0)) / 1e3), P, 0, 86400);else\n            {\n              for (x.unshift(x[0] > 11 ? 1 : 0),\n              T.unshift(T[0] > 11 ? 1 : 0),\n              le && (x[1] >= 12 && (x[1] = x[1] - 12),\n              T[1] >= 12 && (T[1] = T[1] - 12)),\n              g = 0; g < t; g++) {\n                void 0 !== q[g] && (k = a(x[g], Se[A[g]], Ce[A[g]], ke[A[g]]),\n                S = a(T[g], Se[A[g]], Ce[A[g]], ke[A[g]]),\n                m = 0,\n                f = 0,\n                h = 0,\n                le && 1 == g && (m = x[0] ? 12 : 0,\n                f = T[0] ? 12 : 0,\n                h = q[0] ? 12 : 0),\n                _ || (k = 0),\n                w || (S = ke[A[g]]),\n                (_ || w) && k + m < q[g] + h && q[g] + h < S + f && (d = !0),\n                q[g] != k && (_ = !1),\n                q[g] != S && (w = !1));}\n              if (!l)\n              for (g = t + 1; g < 4; g++) {\n                x[g] > 0 && (c = Se[s]),\n                T[g] < ke[A[g]] && (M = Se[s]);}\n              d || (k = a(x[t], Se[s], Ce[s], ke[s]) + c,\n              S = a(T[t], Se[s], Ce[s], ke[s]) - M,\n              _ && (p = k),\n              w && (v = S));\n            }\n            if (_ || w || d)\n            for (g = p; g <= v; g += Se[s]) {\n              r[g] = !l;}\n          }}\n      }\n    }\n    var P,L,W,$ = {},I = {},z = {},q = [],R = V(ie(this)),X = me({}, e.settings),U = O[X.calendarSystem],J = me(e.settings, ge, U, Ge, R, X),j = J.preset,B = \"datetime\" == j ? J.dateFormat + J.separator + J.timeFormat : \"time\" == j ? J.timeFormat : J.dateFormat,G = R.format || B,Q = J.dateWheels || J.dateFormat,Z = J.timeWheels || J.timeFormat,K = J.dateWheels || J.dateDisplay,ee = Z,te = J.baseTheme || J.theme,ae = t(J.invalid),se = t(J.valid),ne = D(J.min, G, J),oe = D(J.max, G, J),re = /time/i.test(j),le = /h/.test(ee),ce = /D/.test(K),de = J.steps || {},ue = de.hour || J.stepHour || 1,fe = de.minute || J.stepMinute || 1,he = de.second || J.stepSecond || 1,ye = de.zeroBased,xe = ye || !ne ? 0 : ne.getHours() % ue,Te = ye || !ne ? 0 : ne.getMinutes() % fe,_e = ye || !ne ? 0 : ne.getSeconds() % he,we = s(ue, xe, le ? 11 : 23),Me = s(fe, Te, 59),De = s(fe, Te, 59),Ce = {\n      y: ne ? ne.getFullYear() : -(1 / 0),\n      m: 0,\n      d: 1,\n      h: xe,\n      i: Te,\n      s: _e,\n      a: 0,\n      tt: 0 },\n    ke = {\n      y: oe ? oe.getFullYear() : 1 / 0,\n      m: 11,\n      d: 31,\n      h: we,\n      i: Me,\n      s: De,\n      a: 1,\n      tt: 86400 },\n    Se = {\n      y: 1,\n      m: 1,\n      d: 1,\n      h: ue,\n      i: fe,\n      s: he,\n      a: 1,\n      tt: 1 },\n    Ve = {\n      bootstrap: 46,\n      ios: 50,\n      material: 46,\n      mobiscroll: 46,\n      windows: 50 },\n    Ye = {\n      y: n,\n      m: o,\n      d: i,\n      h: r,\n      i: c,\n      s: d,\n      u: u,\n      a: m,\n      dd: f,\n      tt: h };\n\n    return e.getVal = function (t) {\n      return e._hasValue || t ? M(y(e.getArrayVal(t)), J, G) : null;\n    },\n\n    e.getDate = function (t) {\n      return e._hasValue || t ? y(e.getArrayVal(t)) : null;\n    },\n\n    e.setDate = function (t, a, s, n, o) {\n      e.setArrayVal(x(t, !0), a, o, n, s);\n    },\n\n    W = S(),\n    J.isoParts = z,\n    e._format = B,\n    e._order = $,\n    e.handlers.now = function () {\n      e.setDate(new Date(), e.live, 1e3, !0, !0);\n    },\n\n    e.buttons.now = {\n      text: J.nowText,\n      icon: J.nowIcon,\n      handler: \"now\" },\n\n    {\n      minWidth: L && re ? Ve[te] : void 0,\n      compClass: \"mbsc-dt mbsc-sc\",\n      wheels: W,\n      headerText: !!J.headerText && function () {\n        return v(B, y(e.getArrayVal(!0)), J);\n      },\n\n      formatValue: function formatValue(e) {\n        return v(G, y(e), J);\n      },\n      parseValue: function parseValue(t) {\n        return t || (I = {},\n        e._hasValue = !1),\n        x(D(t || J.defaultValue || new Date(), G, J, z), !!t);\n      },\n      validate: function validate(t) {\n        var a,s,n,o,i = t.values,r = t.index,l = t.direction,c = J.wheels[0][$.d],d = Y(y(i), l),u = x(d),m = [],f = {},h = Ye.y(d),b = Ye.m(d),p = J.getMaxDayOfMonth(h, b),v = !0,g = !0;\n        if (ie.each([\"dd\", \"y\", \"m\", \"d\", \"tt\", \"a\", \"h\", \"i\", \"s\"], function (e, t) {\n          var a = Ce[t],\n          n = ke[t],\n          o = Ye[t](d);\n          if (m[$[t]] = [],\n          v && ne && (a = Ye[t](ne)),\n          g && oe && (n = Ye[t](oe)),\n          o < a && (o = a),\n          o > n && (o = n),\n          \"dd\" !== t && \"tt\" !== t && (v && (v = o == a),\n          g && (g = o == n)),\n          void 0 !== $[t]) {\n            if (\"y\" != t && \"dd\" != t)\n            for (s = Ce[t]; s <= ke[t]; s += Se[t]) {\n              (s < a || s > n) && m[$[t]].push(s);}\n            if (\"d\" == t) {\n              var i = J.getDate(h, b, 1).getDay(),\n              r = {};\n              N(ae, h, b, i, p, r, 1),\n              N(se, h, b, i, p, r, 0),\n              ie.each(r, function (e, a) {\n                a && m[$[t]].push(e);\n              });\n            }\n          }\n        }),\n        re && ie.each([\"a\", \"h\", \"i\", \"s\", \"tt\"], function (t, a) {\n          var s = Ye[a](d),\n          n = Ye.d(d),\n          o = {};\n          void 0 !== $[a] && (H(ae, t, a, h, b, n, o, 0),\n          H(se, t, a, h, b, n, o, 1),\n          ie.each(o, function (e, t) {\n            t && m[$[a]].push(e);\n          }),\n          q[t] = e.getValidValue($[a], s, l, o));\n        }),\n        c && (c._length !== p || ce && (void 0 === r || r === $.y || r === $.m))) {\n          for (f[$.d] = c,\n          c.data = [],\n          a = 1; a <= p; a++) {\n            o = J.getDate(h, b, a).getDay(),\n            n = K.replace(/[my|]/gi, \"\").replace(/dd/, (a < 10 ? \"0\" + a : a) + (J.daySuffix || \"\")).replace(/d/, a + (J.daySuffix || \"\")),\n            c.data.push({\n              value: a,\n              display: /DD/.test(n) ? n.replace(/DD/, '<span class=\"mbsc-dt-day\">' + J.dayNames[o] + \"</span>\") : n.replace(/D/, '<span class=\"mbsc-dt-day\">' + J.dayNamesShort[o] + \"</span>\") });}\n\n          e._tempWheelArray[$.d] = u[$.d],\n          e.changeWheel(f);\n        }\n        return {\n          disabled: m,\n          valid: u };\n\n      } };\n\n  },\n  Ze = {\n    controls: [\"calendar\"],\n    firstDay: 0,\n    weekDays: \"short\",\n    maxMonthWidth: 170,\n    breakPointMd: 768,\n    months: 1,\n    pageBuffer: 1,\n    weeks: 6,\n    highlight: !0,\n    outerMonthChange: !0,\n    quickNav: !0,\n    yearChange: !0,\n    tabs: \"auto\",\n    todayClass: \"mbsc-cal-today\",\n    btnCalPrevClass: \"mbsc-ic mbsc-ic-arrow-left6\",\n    btnCalNextClass: \"mbsc-ic mbsc-ic-arrow-right6\",\n    dateText: \"Date\",\n    timeText: \"Time\",\n    todayText: \"Today\",\n    fromText: \"Start\",\n    toText: \"End\",\n    moreEventsText: \"{count} more\",\n    prevMonthText: \"Previous Month\",\n    nextMonthText: \"Next Month\",\n    prevYearText: \"Previous Year\",\n    nextYearText: \"Next Year\" },\n\n  Ke = function Ke(e) {\n    function t(t) {\n      t.hasClass(\"mbsc-cal-h\") && (t.removeClass(\"mbsc-cal-h\"),\n      e._onSelectShow());\n    }\n    function a(e) {\n      e.hasClass(\"mbsc-cal-h\") || e.addClass(\"mbsc-cal-h\");\n    }\n    function n(e) {\n      e.hasClass(\"mbsc-cal-h\") ? t(e) : a(e);\n    }\n    function o() {\n      var t, a, s;\n      he = {},\n      be = [],\n      _e = {},\n      ut = e.trigger,\n      s = me({}, e.settings),\n      ct = me(e.settings, Ze, s),\n      t = ct.controls.join(\",\"),\n      Ce = ct.firstDay,\n      Pe = ct.rtl,\n      nt = ct.pageBuffer,\n      ht = ct.weekCounter,\n      ce = ct.weeks,\n      He = 6 == ce,\n      Le = \"vertical\" == ct.calendarScroll,\n      fe = e._getRespCont(),\n      bt = \"full\" == ct.weekDays ? \"\" : \"min\" == ct.weekDays ? \"Min\" : \"Short\",\n      a = ct.layout || (\"inline\" == ct.display || /top|bottom/.test(ct.display) && ct.touchUi ? \"liquid\" : \"\"),\n      Ne = \"liquid\" == a,\n      ue = Ne ? null : ct.calendarWidth,\n      lt = Pe && !Le ? -1 : 1,\n      ge = \"mbsc-disabled \" + (ct.disabledClass || \"\"),\n      xe = \"mbsc-selected \" + (ct.selectedTabClass || \"\"),\n      ye = \"mbsc-selected \" + (ct.selectedClass || \"\"),\n      qe = Math.max(1, Math.floor(((ct.calendarHeight || 0) / ce - 45) / 18)),\n      t.match(/calendar/) && (he.calendar = 1,\n      ke = !0),\n      t.match(/date/) && !ke && (he.date = 1),\n      t.match(/time/) && (he.time = 1),\n      ct.controls.forEach(function (e) {\n        he[e] && be.push(e);\n      }),\n      Ae = ct.quickNav && ke && He,\n      pt = ct.yearChange && He,\n      Ne && ke && \"center\" == ct.display && (e._isFullScreen = !0),\n      ct.layout = a,\n      ct.preset = (he.date || ke ? \"date\" : \"\") + (he.time ? \"time\" : \"\");\n    }\n    function i() {\n      et = pt ? ct.monthNamesShort : ct.monthNames,\n      yt = ct.yearSuffix || \"\",\n      Ke = (ct.dateWheels || ct.dateFormat).search(/m/i),\n      vt = (ct.dateWheels || ct.dateFormat).search(/y/i),\n      De = e._format,\n      ct.min && (Je = x(D(ct.min, De, ct)),\n      Ge = ct.getYear(Je),\n      Be = ct.getMonth(Je),\n      je = ct.getDate(12 * Math.floor(Ge / 12), 0, 1)),\n      ct.max && (Ie = x(D(ct.max, De, ct)),\n      Ue = ct.getYear(Ie),\n      Re = ct.getMonth(Ie),\n      ze = ct.getDate(12 * Math.floor(Ue / 12), 0, 1));\n    }\n    function r(e, t, a) {\n      e[t] = e[t] || [],\n      e[t].push(a);\n    }\n    function l(e, t, a) {\n      var s,n,o,i,l = ct.getYear(t),c = ct.getMonth(t),d = {};\n      return e && ie.each(e, function (e, u) {\n        if (s = u.d || u.start || u,\n        n = s + \"\",\n        u.start && u.end)\n        for (i = x(D(u.start, De, ct)),\n        o = x(D(u.end, De, ct)); i <= o;) {\n          r(d, i, u),\n          i = ct.getDate(ct.getYear(i), ct.getMonth(i), ct.getDay(i) + 1);} else\n        if (ve.test(n))\n        for (i = q(t, !1, +n.replace(\"w\", \"\")); i <= a;) {\n          r(d, i, u),\n          i = ct.getDate(ct.getYear(i), ct.getMonth(i), ct.getDay(i) + 7);} else\n        if (pe.test(n)) {\n          if (n = n.split(\"/\"),\n          n[1])\n          for (i = ct.getDate(l, n[0] - 1, n[1]); i <= a;) {\n            r(d, i, u),\n            i = ct.getDate(ct.getYear(i) + 1, ct.getMonth(i), n[1]);} else\n\n          for (i = ct.getDate(l, c, n[0]); i <= a;) {\n            r(d, i, u),\n            i = ct.getDate(ct.getYear(i), ct.getMonth(i) + 1, n[0]);}} else\n\n        r(d, x(D(s, De, ct)), u);\n      }),\n      d;\n    }\n    function c(e) {\n      return !(e < Je) && !(e > Ie) && (void 0 === Ee[e] || void 0 !== mt[e]);\n    }\n    function u(t) {\n      var a,s,n,o,i = !!$e[t] && $e[t],r = !!Oe[t] && Oe[t],l = r && r[0].background ? r[0].background : i && i[0].background,c = \"\";\n      if (r)\n      for (a = 0; a < r.length; a++) {\n        c += (r[a].cssClass || \"\") + \" \";}\n      if (i) {\n        for (n = '<div class=\"mbsc-cal-marks\">',\n        a = 0; a < i.length; a++) {\n          s = i[a],\n          c += (s.cssClass || \"\") + \" \",\n          n += '<div class=\"mbsc-cal-mark\"' + (s.color ? ' style=\"background:' + s.color + ';\"' : \"\") + \"></div>\";}\n        n += \"</div>\";\n      }\n      return o = {\n        marked: i,\n        background: l,\n        cssClass: c,\n        markup: _e[t] ? _e[t].join(\"\") : Ve ? n : \"\" },\n\n      me(o, e._getDayProps(t, o));\n    }\n    function m(e) {\n      return ' style=\"' + (Le ? \"transform: translateY(\" + 100 * e + \"%)\" : \"left:\" + 100 * e * lt + \"%\") + '\"';\n    }\n    function f() {\n      ot = \"auto\" == ct.months ? Math.max(1, Math.min(3, Math.floor((ue || b(fe)) / 280))) : +ct.months,\n      rt = ot + 2 * nt,\n      it = 0,\n      Le = Le && ot < 2,\n      dt = void 0 === ct.showOuterDays ? ot < 2 && !Le : ct.showOuterDays;\n    }\n    function h(e) {\n      return R(e, ot - 1) > Ie && (e = R(Ie, 1 - ot)),\n      e < Je && (e = Je),\n      e;\n    }\n    function v(e, t, a) {\n      var s = e.color,\n      n = e.text;\n      return '<div data-id=\"' + e._id + '\" data-index=\"' + t + '\" class=\"mbsc-cal-txt\" title=\"' + ie(\"<div>\" + n + \"</div>\").text() + '\"' + (s ? ' style=\"background:' + s + (a ? \";color:\" + A(s) : \"\") + ';\"' : \"\") + \">\" + (a ? n : \"\") + \"</div>\";\n    }\n    function g(t) {\n      var a = q(R(t, -it - nt), !1),\n      s = q(R(t, -it + ot + nt - 1), !1);\n      s = ct.getDate(ct.getYear(s), ct.getMonth(s), ct.getDay(s) + 7 * ce),\n      e._onGenMonth(a, s),\n      Ee = l(ct.invalid, a, s),\n      mt = l(ct.valid, a, s),\n      $e = l(ct.labels || ct.events || ct.marked, a, s),\n      Oe = l(ct.colors, a, s),\n      We = e._labels || $e || Oe,\n      Se = ct.labels || e._labels,\n      Se && !function () {\n        _e = {};\n        for (var e = {}, t = a, n = function n() {\n          t.getDay() == Ce && (e = {});\n          for (var a = qe, s = We[t] || [], n = s.length, o = [], i = void 0, r = void 0, l = 0, c = 0, d = 0, u = void 0; l < a;) {\n            if (i = null,\n            s.forEach(function (t, a) {\n              e[l] == t && (i = t,\n              r = a);\n            }),\n            l == a - 1 && (c < n - 1 || n && d == n && !i)) {\n              var m = n - c,\n              f = (m > 1 ? ct.moreEventsPluralText || ct.moreEventsText : ct.moreEventsText).replace(/{count}/, m);\n              m && o.push('<div class=\"mbsc-cal-txt-more\">' + f + \"</div>\"),\n              i && (e[l] = null,\n              i._days.forEach(function (e) {\n                _e[e][l] = '<div class=\"mbsc-cal-txt-more\">' + ct.moreEventsText.replace(/{count}/, 1) + \"</div>\";\n              })),\n              c++,\n              l++;\n            } else if (i)\n            r == d && d++,\n            C(t, D(i.end)) && (e[l] = null),\n            o.push(v(i, r)),\n            l++,\n            c++,\n            i._days.push(t);else\n            if (d < n) {\n              var h = s[d],\n              b = h.start && D(h.start),\n              p = h.end && D(h.end),\n              g = t.getDay(),\n              T = Ce - g > 0 ? 7 : 0,\n              _ = p && !C(b, p);\n              b && !C(t, b) && g != Ce || (void 0 === h._id && (h._id = xt++),\n              _ && (e[l] = h),\n              h._days = [t],\n              u = _ ? 100 * Math.min(y(t, x(p)) + 1, 7 + Ce - g - T) : 100,\n              o.push(_ ? '<div class=\"mbsc-cal-txt-w\" style=\"width:' + u + '%\">' + v(h, d, !0) + \"</div>\" + v(h, d) : v(h, d, !0)),\n              l++,\n              c++),\n              d++;\n            } else\n            o.push('<div class=\"mbsc-cal-txt-ph\"></div>'),\n            l++;}\n          _e[t] = o,\n          t = ct.getDate(ct.getYear(t), ct.getMonth(t), ct.getDay(t) + 1);\n        }; t < s;) {\n          n();}\n      }();\n    }\n    function _(e) {\n      var t = ct.getYear(e),\n      a = ct.getMonth(e);\n      Te = e,\n      re = e,\n      W(e),\n      ut(\"onMonthChange\", {\n        year: t,\n        month: a }),\n\n      ut(\"onMonthLoading\", {\n        year: t,\n        month: a }),\n\n      ut(\"onPageChange\", {\n        firstDay: e }),\n\n      ut(\"onPageLoading\", {\n        firstDay: e }),\n\n      g(e);\n    }\n    function w(e) {\n      var t = ct.getYear(e),\n      a = ct.getMonth(e);\n      void 0 === st ? M(e, t, a) : F(e, st, !0),\n      N(re, Me.focus),\n      Me.focus = !1;\n    }\n    function M(e, t, a) {\n      var s = Me.$scroller;\n      ie(\".mbsc-cal-slide\", s).removeClass(\"mbsc-cal-slide-a\"),\n      ie(\".mbsc-cal-slide\", s).slice(nt, nt + ot).addClass(\"mbsc-cal-slide-a\"),\n      Se && ie(\".mbsc-cal-slide-a .mbsc-cal-txt\", s).on(\"mouseenter\", function () {\n        var e = ie(this).attr(\"data-id\");\n        ie('.mbsc-cal-txt[data-id=\"' + e + '\"]', s).addClass(\"mbsc-hover\");\n      }).on(\"mouseleave\", function () {\n        ie(\".mbsc-cal-txt.mbsc-hover\", s).removeClass(\"mbsc-hover\");\n      }),\n      ut(\"onMonthLoaded\", {\n        year: t,\n        month: a }),\n\n      ut(\"onPageLoaded\", {\n        firstDay: e });\n\n    }\n    function k() {\n      var e, t;\n      return e = '<div class=\"mbsc-cal-tabs-c\"><div class=\"mbsc-cal-tabs\" role=\"tablist\">',\n      be.forEach(function (a, s) {\n        t = ct[(\"calendar\" == a ? \"date\" : a) + \"Text\"],\n        e += '<div role=\"tab\" aria-controls=\"' + (Tt.id + \"-mbsc-pnl-\" + s) + '\" class=\"mbsc-cal-tab mbsc-fr-btn-e ' + (s ? \"\" : xe) + '\" data-control=\"' + a + '\"' + (ct.tabLink ? '><a href=\"#\">' + t + \"</a>\" : ' tabindex=\"0\">' + t) + \"</div>\";\n      }),\n      e += \"</div></div>\";\n    }\n    function S() {\n      var e,t,a,s,n,o,i = \"\",r = Pe ? ct.btnCalNextClass : ct.btnCalPrevClass,l = Pe ? ct.btnCalPrevClass : ct.btnCalNextClass;\n      for (n = '<div class=\"mbsc-cal-btn-w\"><div data-step=\"-1\" role=\"button\" tabindex=\"0\" aria-label=\"' + ct.prevMonthText + '\" class=\"' + r + ' mbsc-cal-prev mbsc-cal-prev-m mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e\"></div>',\n      t = 0; t < (ce ? ot : 1); t++) {\n        n += '<div role=\"button\" class=\"mbsc-cal-month\"></div>';}\n      if (n += '<div data-step=\"1\" role=\"button\" tabindex=\"0\" aria-label=\"' + ct.nextMonthText + '\" class=\"' + l + ' mbsc-cal-next mbsc-cal-next-m mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e\"></div></div>',\n      pt && (i = '<div class=\"mbsc-cal-btn-w\"><div data-step=\"-12\" role=\"button\" tabindex=\"0\" aria-label=\"' + ct.prevYearText + '\" class=\"' + r + ' mbsc-cal-prev mbsc-cal-prev-y mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e\"></div><div role=\"button\" class=\"mbsc-cal-year\"></div><div data-step=\"12\" role=\"button\" tabindex=\"0\" aria-label=\"' + ct.nextYearText + '\" class=\"' + l + ' mbsc-cal-next mbsc-cal-next-y mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e\"></div></div>'),\n      ce && (o = F(Te)),\n      e = '<div class=\"mbsc-w-p mbsc-cal-c\"><div class=\"mbsc-cal ' + (He ? \"\" : \" mbsc-cal-week-view\") + (ot > 1 ? \" mbsc-cal-multi \" : \"\") + (ht ? \" mbsc-cal-weeks \" : \"\") + (Le ? \" mbsc-cal-vertical\" : \"\") + (Ve ? \" mbsc-cal-has-marks\" : \"\") + (Se ? \" mbsc-cal-has-labels\" : \"\") + (dt ? \"\" : \" mbsc-cal-hide-diff \") + (ct.calendarClass || \"\") + '\"' + (Ne ? \"\" : ' style=\"width:' + (ue || 280 * ot) + 'px;\"') + '><div class=\"mbsc-cal-hdr\">' + (vt < Ke || ot > 1 ? i + n : n + i) + \"</div>\",\n      ce) {\n        for (e += '<div class=\"mbsc-cal-body\"><div class=\"mbsc-cal-day-picker\"><div class=\"mbsc-cal-days-c\">',\n        a = 0; a < ot; a++) {\n          for (e += '<div class=\"mbsc-cal-days\">',\n          t = 0; t < 7; t++) {\n            s = (t + Ce) % 7,\n            e += '<div class=\"mbsc-cal-week-day' + s + '\" aria-label=\"' + ct.dayNames[s] + '\">' + ct[\"dayNames\" + bt][s] + \"</div>\";}\n          e += \"</div>\";\n        }\n        e += '</div><div class=\"mbsc-cal-scroll-c mbsc-cal-day-scroll-c ' + (ct.calendarClass || \"\") + '\"' + (ct.calendarHeight ? ' style=\"height:' + ct.calendarHeight + 'px\"' : \"\") + '><div class=\"mbsc-cal-scroll\" style=\"width:' + 100 / ot + '%\">' + o + \"</div></div>\";\n      }\n      if (e += \"</div>\",\n      Ae) {\n        for (e += '<div class=\"mbsc-cal-month-picker mbsc-cal-picker mbsc-cal-h\"><div class=\"mbsc-cal-scroll-c ' + (ct.calendarClass || \"\") + '\"><div class=\"mbsc-cal-scroll\">',\n        t = 0; t < 3; t++) {\n          for (e += '<div class=\"mbsc-cal-slide\"' + m(t - 1) + '><div role=\"grid\" class=\"mbsc-cal-table\"><div class=\"mbsc-cal-row\">',\n          a = 0; a < 12; a++) {\n            a && a % 3 === 0 && (e += '</div><div class=\"mbsc-cal-row\">'),\n            e += '<div role=\"gridcell\"' + (1 == t ? ' tabindex=\"-1\" aria-label=\"' + ct.monthNames[a] + '\" data-val=\"' + a + '\"' : \"\") + ' class=\"mbsc-cal-cell' + (1 == t ? \" mbsc-btn-e\" : \"\") + '\"><div class=\"mbsc-cal-cell-i mbsc-cal-cell-txt\">' + (1 == t ? ct.monthNamesShort[a] : \"&nbsp;\") + \"</div></div>\";}\n          e += \"</div></div></div>\";\n        }\n        for (e += \"</div></div></div>\",\n        e += '<div class=\"mbsc-cal-year-picker mbsc-cal-picker mbsc-cal-h\"><div class=\"mbsc-cal-scroll-c ' + (ct.calendarClass || \"\") + '\"><div class=\"mbsc-cal-scroll\">',\n        t = -1; t < 2; t++) {\n          e += V(X(Te, t), t);}\n        e += \"</div></div></div>\";\n      }\n      return e += \"</div></div></div>\";\n    }\n    function V(e, t) {\n      var a,s = ct.getYear(e),n = '<div class=\"mbsc-cal-slide\"' + m(t) + '><div role=\"grid\" class=\"mbsc-cal-table\"><div class=\"mbsc-cal-row\">';\n      for (a = 0; a < 12; a++) {\n        a && a % 3 === 0 && (n += '</div><div class=\"mbsc-cal-row\">'),\n        n += '<div role=\"gridcell\" tabindex=\"-1\" aria-label=\"' + s + '\" data-val=\"' + s + '\" class=\"mbsc-cal-cell mbsc-btn-e ' + (s < Ge || s > Ue ? \" mbsc-disabled \" : \"\") + (s == ct.getYear(Te) ? ye : \"\") + '\"><div class=\"mbsc-cal-cell-i mbsc-cal-cell-txt\">' + s + yt + \"</div></div>\",\n        s++;}\n      return n += \"</div></div></div>\";\n    }\n    function Y(t, a) {\n      var s,n,o,i,r,l,d,f,h,b,p,v,g,y,x,T,_ = 1,w = ct.getYear(t),M = ct.getMonth(t),D = ct.getDay(t),k = null !== ct.defaultValue || e._hasValue ? e.getDate(!0) : null,S = ct.getDate(w, M, D).getDay(),V = Ce - S > 0 ? 7 : 0,Y = '<div class=\"mbsc-cal-slide\"' + m(a) + '><div role=\"grid\" class=\"mbsc-cal-table\"><div class=\"mbsc-cal-row\">';\n      for (T = 0; T < 7 * ce; T++) {\n        x = T + Ce - V,\n        s = ct.getDate(w, M, x - S + D),\n        o = s.getFullYear(),\n        i = s.getMonth(),\n        r = s.getDate(),\n        l = ct.getMonth(s),\n        d = ct.getDay(s),\n        y = ct.getMaxDayOfMonth(o, i),\n        f = o + \"-\" + (i + 1) + \"-\" + r,\n        h = me({\n          valid: c(s),\n          selected: k && C(k, s) },\n        u(s)),\n        b = h.valid,\n        p = h.selected,\n        n = h.cssClass,\n        v = new Date(s).setHours(12, 0, 0, 0) === new Date().setHours(12, 0, 0, 0),\n        g = l !== M,\n        we[f] = h,\n        T && T % 7 === 0 && (Y += '</div><div class=\"mbsc-cal-row\">'),\n        ht && T % 7 === 0 && (\"month\" == ht && g && _ > 1 ? _ = 1 == r ? 1 : 2 : \"year\" == ht && (_ = ct.getWeekNumber(ct.getDate(o, i, r + (7 - Ce + 1) % 7))),\n        Y += '<div role=\"gridcell\" class=\"mbsc-cal-cell mbsc-cal-week-nr\">' + _ + \"</div>\",\n        _++),\n        Y += '<div role=\"gridcell\" aria-label=\"' + (v ? ct.todayText + \", \" : \"\") + ct.dayNames[s.getDay()] + \", \" + ct.monthNames[l] + \" \" + d + \" \" + (h.ariaLabel ? \", \" + h.ariaLabel : \"\") + '\"' + (g && !dt ? ' aria-hidden=\"true\"' : ' data-full=\"' + f + '\"') + (p ? ' aria-selected=\"true\"' : \"\") + (b ? ' tabindex=\"-1\"' : ' aria-disabled=\"true\"') + ' class=\"mbsc-cal-cell mbsc-cal-day mbsc-cal-day' + x % 7 + \" \" + (ct.dayClass || \"\") + \" \" + (p ? ye : \"\") + (v ? \" \" + ct.todayClass : \"\") + (n ? \" \" + n : \"\") + (1 == d ? \" mbsc-cal-day-first\" : \"\") + (d == y ? \" mbsc-cal-day-last\" : \"\") + (g ? \" mbsc-cal-day-diff\" : \"\") + (b ? \" mbsc-btn-e\" : \" mbsc-disabled\") + (h.marked ? \" mbsc-cal-day-marked\" : \"\") + (h.background ? \" mbsc-cal-day-colored\" : \"\") + '\"><div class=\"mbsc-cal-cell-i mbsc-cal-day-i\"><div class=\"mbsc-cal-day-date mbsc-cal-cell-txt\"' + (h.background ? ' style=\"background:' + h.background + \";color:\" + A(h.background) + '\"' : \"\") + \">\" + d + \"</div>\" + (h.markup ? \"<div>\" + h.markup + \"</div>\" : \"\") + \"</div></div>\";}\n      return Y += \"</div></div></div>\";\n    }\n    function F(e, t, a) {\n      var s,n = ct.getYear(e),o = ct.getMonth(e),i = Me ? Me.pos : 0,r = \"\";\n      if (we = {},\n      ce)\n      for (t || (ut(\"onMonthLoading\", {\n        year: n,\n        month: o }),\n\n      ut(\"onPageLoading\", {\n        firstDay: e })),\n\n      g(e),\n      s = 0; s < rt; s++) {\n        r += Y(R(e, s - it - nt), i * lt + s - nt);}\n      return st = void 0,\n      a && Me && (Me.$active = null,\n      Me.$scroller.html(r),\n      M(e, n, o)),\n      r;\n    }\n    function N(e, t) {\n      if (Me) {\n        var a = Me.$active;\n        a && a.length && (a[0].blur(),\n        a.hasClass(\"mbsc-disabled\") ? a.removeAttr(\"tabindex\") : a.attr(\"tabindex\", \"-1\")),\n        Me.$active = ie('.mbsc-cal-slide-a .mbsc-cal-day[data-full=\"' + T(e) + '\"]', Me.$scroller).attr(\"tabindex\", \"0\"),\n        t && Me.$active.length && Me.$active[0].focus();\n      }\n    }\n    function H(t) {\n      var a = Me && Me.$scroller;\n      ct.highlight && Me && (ie(\".mbsc-selected\", a).removeClass(ye).removeAttr(\"aria-selected\"),\n      (null !== ct.defaultValue || e._hasValue) && ie('.mbsc-cal-day[data-full=\"' + T(t) + '\"]', a).addClass(ye).attr(\"aria-selected\", \"true\"));\n    }\n    function P(e, t) {\n      ie(\".mbsc-selected\", t).removeClass(ye).removeAttr(\"aria-selected\"),\n      ie('.mbsc-cal-cell[data-val=\"' + e + '\"]', t).addClass(ye).attr(\"aria-selected\", \"true\");\n    }\n    function L(t, a, s, n) {\n      var o, i;\n      ft && (t < Je && (t = Je),\n      t > Ie && (t = Ie),\n      \"calendar\" !== ft && Ye && !a || (e._isSetDate = !a,\n      ke && ce && (i = q(h(t), He),\n      at && (t < R(Te, -it) || t >= R(Te, ot - it)) && (o = He ? ct.getMonth(i) - ct.getMonth(Te) + 12 * (ct.getYear(i) - ct.getYear(Te)) : Math.floor(y(Te, i) / (7 * ce)),\n      o && (Me.queue = [],\n      Me.focus = n && s,\n      U(Me, o, s))),\n      o && s || N(t, n),\n      a || H(t),\n      He || W(t, !0),\n      re = t,\n      at = !0),\n      e._onSetDate(t, o),\n      e._isSetDate = !1));\n    }\n    function W(e, t) {\n      var a,s,n,o = ct.getYear(e),i = ct.getMonth(e),r = o + yt;\n      if (Ae) {\n        if (P(i, tt.$scroller),\n        P(o, gt.$scroller),\n        U(gt, Math.floor(o / 12) - Math.floor(ct.getYear(gt.first) / 12), !0),\n        ie(\".mbsc-cal-cell\", tt.$scroller).removeClass(\"mbsc-disabled\"),\n        o === Ge)\n        for (a = 0; a < Be; a++) {\n          ie('.mbsc-cal-cell[data-val=\"' + a + '\"]', tt.$scroller).addClass(\"mbsc-disabled\");}\n        if (o === Ue)\n        for (a = Re + 1; a <= 12; a++) {\n          ie('.mbsc-cal-cell[data-val=\"' + a + '\"]', tt.$scroller).addClass(\"mbsc-disabled\");}\n      }\n      for (t || ($(ie(\".mbsc-cal-prev-m\", K), R(e, -it) <= Je),\n      $(ie(\".mbsc-cal-next-m\", K), R(e, ot - it) > Ie),\n      $(ie(\".mbsc-cal-prev-y\", K), ct.getDate(o - 1, i + 1, 1) <= Je),\n      $(ie(\".mbsc-cal-next-y\", K), ct.getDate(o + 1, i, 1) > Ie)),\n      ne.attr(\"aria-label\", o).html(r),\n      a = 0; a < ot; a++) {\n        e = ct.getDate(o, i - it + a, 1),\n        s = ct.getYear(e),\n        n = ct.getMonth(e),\n        r = s + yt,\n        ee.eq(a).attr(\"aria-label\", ct.monthNames[n] + (pt ? \"\" : \" \" + o)).html((!pt && vt < Ke ? r + \" \" : \"\") + et[n] + (!pt && vt > Ke ? \" \" + r : \"\"));}\n    }\n    function $(e, t) {\n      t ? e.addClass(ge).attr(\"aria-disabled\", \"true\") : e.removeClass(ge).removeAttr(\"aria-disabled\");\n    }\n    function O(t, a) {\n      var s = e.getDate(!0),\n      n = t[0],\n      o = t.attr(\"data-full\"),\n      i = o ? o.split(\"-\") : [],\n      r = p(i[0], i[1] - 1, i[2]),\n      l = p(r.getFullYear(), r.getMonth(), r.getDate(), s.getHours(), s.getMinutes(), s.getSeconds()),\n      c = t.hasClass(\"mbsc-selected\"),\n      d = ie(a.target),\n      u = d[0];\n      if (dt || !t.hasClass(\"mbsc-cal-day-diff\")) {\n        if (Se && n.contains(u))\n        for (; u != n;) {\n          if (d.hasClass(\"mbsc-cal-txt\") || d.hasClass(\"mbsc-cal-txt-more\")) {\n            var m = d.attr(\"data-index\"),\n            f = We[r];\n            if (ut(\"onLabelTap\", {\n              date: l,\n              domEvent: a,\n              target: d[0],\n              labels: f,\n              label: f[m] }) ===\n            !1)\n            return;\n            break;\n          }\n          d = d.parent(),\n          u = d[0];\n        }\n        ut(\"onDayChange\", me(we[o], {\n          date: l,\n          target: n,\n          selected: c })) ===\n        !1 || ct.readonly || t.hasClass(\"mbsc-disabled\") || e._selectDay(t, r, l, c);\n      }\n    }\n    function I(e) {\n      a(te),\n      L(ct.getDate(ct.getYear(Me.first), e.attr(\"data-val\"), 1), !0, !0);\n    }\n    function z(e) {\n      a(oe),\n      L(ct.getDate(e.attr(\"data-val\"), ct.getMonth(Me.first), 1), !0, !0);\n    }\n    function q(e, t, a) {\n      var s = ct.getYear(e),\n      n = ct.getMonth(e),\n      o = e.getDay(),\n      i = Ce - o > 0 ? 7 : 0;\n      return t ? ct.getDate(s, n, 1) : ct.getDate(s, n, (void 0 === a ? Ce : a) - i - o + ct.getDay(e));\n    }\n    function R(e, t) {\n      var a = ct.getYear(e),\n      s = ct.getMonth(e),\n      n = ct.getDay(e);\n      return He ? ct.getDate(a, s + t, 1) : ct.getDate(a, s, n + t * ce * 7);\n    }\n    function X(e, t) {\n      var a = 12 * Math.floor(ct.getYear(e) / 12);\n      return ct.getDate(a + 12 * t, 0, 1);\n    }\n    function U(t, a, s, n) {\n      a && e._isVisible && (t.queue.push(arguments),\n      1 == t.queue.length && J(t, a, s, n));\n    }\n    function J(t, a, s, n) {\n      var o,i,r = \"\",l = t.$scroller,c = t.buffer,d = t.offset,u = t.pages,m = t.total,f = t.first,h = t.genPage,b = t.getFirst,p = a > 0 ? Math.min(a, c) : Math.max(a, -c),v = t.pos * lt + p - a + d,g = Math.abs(a) > c;\n      t.callback && (t.load(),\n      t.callback(!0)),\n      t.first = b(f, a),\n      t.pos += p * lt,\n      t.changing = !0,\n      t.load = function () {\n        if (g) {\n          for (o = 0; o < u; o++) {\n            i = a + o - d,\n            r += h(b(f, i), v + i);}\n          a > 0 ? (ie(\".mbsc-cal-slide\", l).slice(-u).remove(),\n          l.append(r)) : a < 0 && (ie(\".mbsc-cal-slide\", l).slice(0, u).remove(),\n          l.prepend(r));\n        }\n      },\n\n      t.callback = function (s) {\n        var r = Math.abs(p),\n        u = \"\";\n        if (e._isVisible) {\n          for (o = 0; o < r; o++) {\n            i = a + o - d - c + (a > 0 ? m - r : 0),\n            u += h(b(f, i), v + i);}\n          if (a > 0 ? (l.append(u),\n          ie(\".mbsc-cal-slide\", l).slice(0, p).remove()) : a < 0 && (l.prepend(u),\n          ie(\".mbsc-cal-slide\", l).slice(p).remove()),\n          g) {\n            for (u = \"\",\n            o = 0; o < r; o++) {\n              i = a + o - d - c + (a > 0 ? 0 : m - r),\n              u += h(b(f, i), v + i);}\n            a > 0 ? (ie(\".mbsc-cal-slide\", l).slice(0, p).remove(),\n            l.prepend(u)) : a < 0 && (ie(\".mbsc-cal-slide\", l).slice(p).remove(),\n            l.append(u));\n          }\n          B(t),\n          n && !s && n(),\n          t.callback = null,\n          t.load = null,\n          t.queue.shift(),\n          g = !1,\n          t.queue.length ? J.apply(this, t.queue[0]) : (t.changing = !1,\n          t.onAfterChange(t.first));\n        }\n      },\n\n      t.onBeforeChange(t.first),\n      t.load && (t.load(),\n      t.scroller.scroll(-t.pos * t.size, s ? 200 : 0, !1, t.callback));\n    }\n    function j(t, a, s, n, o, i, r, l, c, u, m, f, h) {\n      var b = Le ? \"Y\" : \"X\",\n      p = {\n        $scroller: ie(\".mbsc-cal-scroll\", t),\n        queue: [],\n        buffer: n,\n        offset: o,\n        pages: i,\n        first: l,\n        total: r,\n        pos: 0,\n        min: a,\n        max: s,\n        genPage: f,\n        getFirst: h,\n        onBeforeChange: u,\n        onAfterChange: m };\n\n      return p.scroller = new Xe(t, {\n        axis: b,\n        easing: \"\",\n        contSize: 0,\n        maxSnapScroll: n,\n        mousewheel: void 0 === ct.mousewheel ? Le : ct.mousewheel,\n        time: 200,\n        lock: !0,\n        rtl: Pe,\n        stopProp: !1,\n        minScroll: 0,\n        maxScroll: 0,\n        onBtnTap: function onBtnTap(e) {\n          \"touchend\" == e.domEvent.type && d(),\n          c(ie(e.target), e.domEvent);\n        },\n        onAnimationStart: function onAnimationStart() {\n          p.changing = !0;\n        },\n        onAnimationEnd: function onAnimationEnd(e) {\n          f && U(p, Math.round((-p.pos * p.size - e[\"pos\" + b]) / p.size) * lt);\n        } }),\n\n      e._scrollers.push(p.scroller),\n      p;\n    }\n    function B(e, t) {\n      var a,s = 0,n = 0,o = e.first;\n      if (!e.changing || !t) {\n        if (e.getFirst) {\n          for (s = e.buffer,\n          n = e.buffer; n && e.getFirst(o, n + e.pages - e.offset - 1) > e.max;) {\n            n--;}\n          for (; s && e.getFirst(o, 1 - s - e.offset) <= e.min;) {\n            s--;}\n        }\n        a = Math.round(de / e.pages),\n        Ne && a && e.size != a && e.$scroller[Le ? \"height\" : \"width\"](a),\n        me(e.scroller.settings, {\n          snap: a,\n          minScroll: (-e.pos * lt - n) * a,\n          maxScroll: (-e.pos * lt + s) * a }),\n\n        e.size = a,\n        e.scroller.refresh();\n      }\n    }\n    function G(t) {\n      e._onRefresh(t),\n      e._isVisible && ke && ce && (Me && Me.changing ? st = t : (F(Te, t, !0),\n      N(re)));\n    }\n    function Q() {\n      if (ke && ce) {\n        var t = ie(\".mbsc-cal-scroll-c\", K);\n        Me = j(t[0], Je, Ie, nt, it, ot, rt, Te, O, _, w, Y, R),\n        Ae && (tt = j(t[1], null, null, 1, 0, 1, 3, Te, I),\n        gt = j(t[2], je, ze, 1, 0, 1, 3, Te, z, s, s, V, X),\n        e.tap(ee, function () {\n          n(te),\n          a(oe);\n        }),\n        e.tap(ne, function () {\n          n(oe),\n          a(te);\n        })),\n        E(ie(\".mbsc-cal-btn\", K), function (e, t, a, s) {\n          U(Me, t, !0, s);\n        }),\n        w(Te),\n        null === ct.defaultValue && !e._hasValue || e._multiple || (e._activeElm = Me.$active[0]),\n        Z.on(\"keydown\", function (e) {\n          var t,a = ct.getYear(re),s = ct.getMonth(re),n = ct.getDay(re);\n          switch (e.keyCode) {\n            case 32:\n              O(Me.$active, e);\n              break;\n            case 37:\n              t = ct.getDate(a, s, n - 1 * lt);\n              break;\n            case 39:\n              t = ct.getDate(a, s, n + 1 * lt);\n              break;\n            case 38:\n              t = ct.getDate(a, s, n - 7);\n              break;\n            case 40:\n              t = ct.getDate(a, s, n + 7);\n              break;\n            case 36:\n              t = ct.getDate(a, s, 1);\n              break;\n            case 35:\n              t = ct.getDate(a, s + 1, 0);\n              break;\n            case 33:\n              t = e.altKey ? ct.getDate(a - 1, s, n) : He ? ct.getDate(a, s - 1, n) : ct.getDate(a, s, n - 7 * ce);\n              break;\n            case 34:\n              t = e.altKey ? ct.getDate(a + 1, s, n) : He ? ct.getDate(a, s + 1, n) : ct.getDate(a, s, n + 7 * ce);}\n\n          t && (e.preventDefault(),\n          L(t, !0, !1, !0));\n        });\n      }\n      e.tap(ie(\".mbsc-cal-tab\", K), function () {\n        e.changeTab(ie(this).attr(\"data-control\"));\n      });\n    }\n    var Z,K,ee,te,ae,se,ne,oe,re,le,ce,de,ue,fe,he,be,ge,ye,xe,Te,_e,we,Me,De,Ce,ke,Se,Ve,Ye,Ae,Ee,Fe,Ne,He,Pe,Le,We,$e,Oe,Ie,ze,qe,Re,Ue,Je,je,Be,Ge,Ke,et,tt,at,st,nt,ot,it,rt,lt,ct,dt,ut,mt,ft,ht,bt,pt,vt,gt,yt,xt = 1,Tt = this;\n    return o(),\n    le = Qe.call(this, e),\n    i(),\n    e.refresh = function () {\n      G(!1);\n    },\n\n    e.redraw = function () {\n      G(!0);\n    },\n\n    e.navigate = function (e, t) {\n      L(D(e, De, ct), !0, t);\n    },\n\n    e.changeTab = function (t) {\n      e._isVisible && he[t] && ft != t && (ft = t,\n      ie(\".mbsc-cal-tab\", K).removeClass(xe).removeAttr(\"aria-selected\"),\n      ie('.mbsc-cal-tab[data-control=\"' + t + '\"]', K).addClass(xe).attr(\"aria-selected\", \"true\"),\n      Ye && (se.addClass(\"mbsc-cal-h\"),\n      he[ft].removeClass(\"mbsc-cal-h\")),\n      \"calendar\" == ft && L(e.getDate(!0), !1, !0),\n      e._showDayPicker(),\n      e.trigger(\"onTabChange\", {\n        tab: ft }));\n\n    },\n\n    e._checkSize = !0,\n    e._onGenMonth = s,\n    e._onSelectShow = s,\n    e._onSetDate = s,\n    e._onRefresh = s,\n    e._getDayProps = s,\n    e._prepareObj = l,\n    e._showDayPicker = function () {\n      Ae && (a(oe, !0),\n      a(te, !0));\n    },\n\n    e._selectDay = e.__selectDay = function (t, a, s) {\n      var n = e.live;\n      at = ct.outerMonthChange,\n      Fe = !0,\n      e.setDate(s, n, 1e3, !n, !0),\n      n && ut(\"onSet\", {\n        valueText: e._value });\n\n    },\n\n    me(le, {\n      labels: null,\n      compClass: \"mbsc-calendar mbsc-dt mbsc-sc\",\n      onMarkupReady: function onMarkupReady(t) {\n        var a = 0;\n        K = ie(t.target),\n        ae = ie(\".mbsc-fr-c\", K),\n        re = e.getDate(!0),\n        de = 0,\n        ke && (Ve = !(!ct.marked && !ct.data || ct.labels || ct.multiLabel || ct.showEventCount),\n        at = !0,\n        ft = \"calendar\",\n        f(),\n        Te = q(h(re), He),\n        ae.append(S()),\n        ee = ie(\".mbsc-cal-month\", K),\n        ne = ie(\".mbsc-cal-year\", K),\n        Z = ie(\".mbsc-cal-day-scroll-c\", K)),\n        Ae && (oe = ie(\".mbsc-cal-year-picker\", K),\n        te = ie(\".mbsc-cal-month-picker\", K)),\n        se = ie(\".mbsc-w-p\", K),\n        be.length > 1 && ae.before(k()),\n        [\"date\", \"time\", \"calendar\"].forEach(function (e) {\n          he[e] ? (he[e] = se.eq(a),\n          a++) : \"date\" == e && !he.date && ke && (se.eq(a).remove(),\n          a++);\n        }),\n        be.forEach(function (e) {\n          ae.append(he[e]);\n        }),\n        !ke && he.date && he.date.css(\"position\", \"relative\"),\n        e._scrollers = [],\n        Q();\n      },\n      onShow: function onShow() {\n        ke && ce && W(He ? Te : re);\n      },\n      onHide: function onHide() {\n        e._scrollers.forEach(function (e) {\n          e.destroy();\n        }),\n        we = null,\n        Me = null,\n        tt = null,\n        gt = null,\n        ft = null;\n      },\n      onValidated: function onValidated(t) {\n        var a,s,n = t.index,o = e._order;\n        s = e.getDate(!0),\n        Fe ? a = \"calendar\" : void 0 !== n && (a = o.dd == n || o.d == n || o.m == n || o.y == n ? \"date\" : \"time\"),\n        ut(\"onSetDate\", {\n          date: s,\n          control: a }),\n\n        \"time\" !== a && L(s, !1, !!t.time, Fe && !e._multiple),\n        Fe = !1;\n      },\n      onPosition: function onPosition(t) {\n        var a,s,n,o,i,r,l,c = t.oldHeight,d = t.windowHeight;\n        if (Ye = (t.hasTabs || ct.tabs === !0 || ct.tabs !== !1 && Ne) && be.length > 1,\n        Ne && (t.windowWidth >= ct.breakPointMd ? ie(t.target).addClass(\"mbsc-fr-md\") : ie(t.target).removeClass(\"mbsc-fr-md\")),\n        Ye ? (K.addClass(\"mbsc-cal-tabbed\"),\n        ft = ie(\".mbsc-cal-tab.mbsc-selected\", K).attr(\"data-control\"),\n        se.addClass(\"mbsc-cal-h\"),\n        he[ft].removeClass(\"mbsc-cal-h\")) : (K.removeClass(\"mbsc-cal-tabbed\"),\n        se.removeClass(\"mbsc-cal-h\")),\n        e._isFullScreen && (Z.height(\"\"),\n        i = t.popup.offsetHeight,\n        l = d - i + Z[0].offsetHeight,\n        d >= i && Z.height(l)),\n        Se && ce && d != c) {\n          var u = l || Z[0].offsetHeight,\n          m = Z.find(\".mbsc-cal-txt-ph\")[0],\n          f = m.offsetTop,\n          h = m.offsetHeight,\n          b = Math.max(1, Math.floor((u / ce - f) / (h + 2)));\n          qe != b && (qe = b,\n          e.redraw());\n        }\n        if (ke && ce) {\n          if (r = Ne || Le || Ye ? Z[0][Le ? \"offsetHeight\" : \"offsetWidth\"] : ue || 280 * ot,\n          o = r != de,\n          de = r,\n          Ne && o && pt)\n          for (et = ct.maxMonthWidth > ee[0].offsetWidth ? ct.monthNamesShort : ct.monthNames,\n          s = ct.getYear(Te),\n          n = ct.getMonth(Te),\n          a = 0; a < ot; a++) {\n            ee.eq(a).text(et[ct.getMonth(ct.getDate(s, n - it + a, 1))]);}\n          o && B(Me, !0);\n        }\n        Ae && o && (B(tt, !0),\n        B(gt, !0));\n      } });\n\n  },\n  et = {};\n  Ue.calendar = function (e) {\n    function t(e) {\n      return p(e.getFullYear(), e.getMonth(), e.getDate());\n    }\n    function a(e) {\n      var a,s,n = null;\n      if (y = {},\n      e && e.length)\n      for (s = 0; s < e.length; s++) {\n        a = D(e[s], l, m, m.isoParts),\n        n = n || a,\n        y[t(a)] = a;}\n      return n;\n    }\n    function s() {\n      e.redraw();\n    }\n    var i,r,l,c,d,u = me({}, e.settings),m = me(e.settings, et, u),f = \"mbsc-selected \" + (m.selectedClass || \"\"),h = m.defaultValue,b = \"multiple\" == m.select || m.select > 1 || \"week\" == m.selectType,g = o(m.select) ? m.select : 1 / 0,y = {};\n    return i = Ke.call(this, e),\n    c = void 0 === m.firstSelectDay ? m.firstDay : m.firstSelectDay,\n    l = e._format,\n    b && a(h),\n    e._multiple = b,\n    e._getDayProps = function (e) {\n      return {\n        selected: b ? void 0 !== y[e] : void 0 };\n\n    },\n\n    e._selectDay = function (t, a, o, i) {\n      if (m.setOnDayTap && \"multiple\" != m.select && \"inline\" != m.display)\n      return e.setDate(o),\n      void e.select();\n      if (b)\n      if (\"week\" == m.selectType) {\n        var l,d,u = a.getDay() - c;\n        for (u = u < 0 ? 7 + u : u,\n        \"multiple\" != m.select && (y = {}),\n        l = 0; l < 7; l++) {\n          d = p(a.getFullYear(), a.getMonth(), a.getDate() - u + l),\n          i ? delete y[d] : n(y).length / 7 < g && (y[d] = d);}\n        s();\n      } else {\n        var h = ie('.mbsc-cal-day[data-full=\"' + t.attr(\"data-full\") + '\"]', r);\n        i ? (h.removeClass(f).removeAttr(\"aria-selected\"),\n        delete y[a]) : n(y).length < g && (h.addClass(f).attr(\"aria-selected\", \"true\"),\n        y[a] = a);\n      }\n      e.__selectDay(t, a, o);\n    },\n\n    e.setVal = function (t, n, o, i, r) {\n      b && (t = a(t)),\n      e._setVal(t, n, o, i, r),\n      b && s();\n    },\n\n    e.getVal = function (t) {\n      var a,s = [];\n      if (b) {\n        for (a in y) {\n          s.push(M(y[a], m, l));}\n        return s;\n      }\n      return M(e.getDate(t), m, l);\n    },\n\n    me({}, i, {\n      highlight: !b,\n      outerMonthChange: !b,\n      parseValue: function parseValue(e) {\n        return b && e && \"string\" == typeof e && (e = a(e.split(\",\"))),\n        b && h && h.length && (m.defaultValue = h[0]),\n        i.parseValue.call(this, e);\n      },\n      formatValue: function formatValue(t) {\n        var a,s = [];\n        if (b) {\n          for (a in y) {\n            s.push(v(l, y[a], m));}\n          return s.join(\", \");\n        }\n        return i.formatValue.call(this, t, e);\n      },\n      onClear: function onClear() {\n        b && (y = {},\n        s());\n      },\n      onBeforeShow: function onBeforeShow() {\n        void 0 !== m.setOnDayTap || m.buttons && m.buttons.length || 1 != m.controls.length || (m.setOnDayTap = !0),\n        m.setOnDayTap && \"inline\" != m.display && (m.outerMonthChange = !1),\n        m.counter && b && (m.headerText = function () {\n          var e = 0,\n          t = \"week\" == m.selectType ? 7 : 1;\n          return ie.each(y, function () {\n            e++;\n          }),\n          e = Math.round(e / t),\n          (e > 1 ? m.selectedPluralText || m.selectedText : m.selectedText).replace(/{count}/, e);\n        });\n\n      },\n      onMarkupReady: function onMarkupReady(e) {\n        i.onMarkupReady.call(this, e),\n        r = ie(e.target),\n        b && (ie(\".mbsc-fr-hdr\", r).attr(\"aria-live\", \"off\"),\n        d = me({}, y));\n      },\n      onCancel: function onCancel() {\n        !e.live && b && (y = me({}, d));\n      } });\n\n  },\n\n  a(\"calendar\", Be),\n  O.hijri = {\n    getYear: function getYear(e) {\n      return L(e.getFullYear(), e.getMonth() + 1, e.getDate())[0];\n    },\n    getMonth: function getMonth(e) {\n      return --L(e.getFullYear(), e.getMonth() + 1, e.getDate())[1];\n    },\n    getDay: function getDay(e) {\n      return L(e.getFullYear(), e.getMonth() + 1, e.getDate())[2];\n    },\n    getDate: function getDate(e, t, a, s, n, o, i) {\n      t < 0 && (e += Math.floor(t / 12),\n      t = 12 + t % 12),\n      t > 11 && (e += Math.floor(t / 12),\n      t %= 12);\n      var r = P(e, +t + 1, a);\n      return new Date(r[0], r[1] - 1, r[2], s || 0, n || 0, o || 0, i || 0);\n    },\n    getMaxDayOfMonth: function getMaxDayOfMonth(e, t) {\n      var a = [30, 29, 30, 29, 30, 29, 30, 29, 30, 29, 30, 29],\n      s = (11 * e + 14) % 30 < 11;\n      return a[t] + (11 === t && s ? 1 : 0);\n    } },\n\n  W.customTheme(\"mobiscroll-dark\", \"mobiscroll\"),\n  W.customTheme(\"bizagitheme\", \"mobiscroll\");\n  var tt = W.themes,\n  at = \"mobiscroll\";\n  return \"android\" == R ? at = \"material\" : \"ios\" == R ? at = \"ios\" : \"wp\" == R && (at = \"windows\"),\n  ie.each(tt.frame, function (e, t) {\n    return at && t.baseTheme == at && \"mobiscroll-dark\" != e && \"material-dark\" != e && \"windows-dark\" != e && \"ios-dark\" != e ? (W.autoTheme = e,\n    !1) : void (e == at && (W.autoTheme = e));\n  }),\n  W;\n});","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /*\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Name: Bizagi Render Class\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Author: UI Forms Team\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Comments:\r\n                                                                                                                                                                                                                                                                                                                                                                                *   -   This script will define a base render class with common stuff related to all renders\r\n                                                                                                                                                                                                                                                                                                                                                                                */\n\nbizagi.rendering.element.extend(\"bizagi.rendering.render\", {\n  postRenderTimeout: 0,\n  maxRendersPerScreen: 50,\n  rendersExecuted: 0,\n  renderOptimization: false,\n  TYPE_QUERY_FORM: \"queryForm\",\n  startOptimization: function startOptimization() {\n    bizagi.rendering.render.postRenderTimeout = 500;\n    bizagi.rendering.render.rendersExecuted = 0;\n    // Cancelled optimization temporally, because its on experimental stage\n    bizagi.rendering.render.renderOptimization = false;\n  },\n  stopOptimization: function stopOptimization() {\n    bizagi.rendering.render.postRenderTimeout = 0;\n    bizagi.rendering.render.rendersExecuted = 0;\n    bizagi.rendering.render.renderOptimization = false;\n  } },\n{\n  /*\r\n  *   Update or init the element data\r\n  */\n  initializeData: function initializeData(data) {\n    var self = this;\n\n    // Call base\n    self._super(data);\n\n    var form = self.getFormContainer();\n\n    // Fill default properties\n    var properties = self.properties;\n\n    properties.included = typeof properties.included != \"undefined\" ? bizagi.util.parseBoolean(properties.included) : false;\n    properties.uniqueId = Math.ceil(Math.random() * 1000000);\n    properties.displayName = properties.displayName || \"\";\n    properties.editable = typeof properties.editable != \"undefined\" ? bizagi.util.parseBoolean(properties.editable) : true;\n    properties.visible = typeof properties.visible != \"undefined\" ? bizagi.util.parseBoolean(properties.visible) : true;\n    properties.includedInResult = typeof properties.includedInResult != \"undefined\" ? bizagi.util.parseBoolean(properties.includedInResult) : false;\n\n    var renderType = bizagi.util.normalizeType(properties.type);\n    if (/^hidden$/i.test(renderType)) {\n      properties.visible = false;\n    }\n\n    properties.required = typeof properties.required != \"undefined\" ? bizagi.util.parseBoolean(properties.required) : false;\n    properties.submitOnChange = typeof properties.submitOnChange != \"undefined\" ? bizagi.util.parseBoolean(properties.submitOnChange) : false;\n    properties.maxLength = properties.maxLength || 0;\n    properties.helpText = bizagi.util.trim(properties.helpText) || \"\";\n    properties.textFormat = properties.textFormat || {};\n    properties.valueFormat = properties.valueFormat || {};\n    properties.isHidden = typeof properties.isHidden != \"undefined\" ? bizagi.util.parseBoolean(properties.isHidden) : false;\n    properties.visible = properties.isHidden ? false : properties.visible;\n    //BUG 26867 -    Verify if the control was editable in sometime. Apply only in the column grid (canBeSent). \n    //Change the value property on changeEditability, changeEditabilityCellControl\n    properties.editabilityEnabled = false;\n\n    // Old color and background color\n    if (properties.color) {\n      properties.textFormat.color = properties.color;\n    }\n\n    if (properties.backgroundColor) {\n      properties.textFormat.backgroundColor = properties.backgroundColor;\n    }\n\n    // Non-editable fields cannot be required\n    properties.required = properties.editable ? properties.required : false;\n\n    // Override orientation from parent if not set\n    properties.orientation = properties.orientation || \"auto\";\n\n    // Check contexttype\n    properties.contexttype = form.params && form.params.data && form.params.data.contextType ? form.params.data.contextType : \"\";\n\n    // Save original properties\n    self.originalProperties = {\n      textFormat: {\n        color: properties.textFormat.color,\n        backgroundColor: properties.textFormat.backgroundColor },\n\n      valueFormat: {\n        color: properties.textFormat.color,\n        backgroundColor: properties.textFormat.backgroundColor },\n\n      visible: properties.visible,\n      editable: properties.editable,\n      required: properties.required,\n      labelAlign: properties.labelAlign,\n      valueAlign: properties.valueAlign };\n\n\n    // Create value property\n    self.value = typeof properties.value !== \"undefined\" ? properties.value : null;\n\n    // Register original value property\n    self.properties.originalValue = self.value;\n    self.properties.previousValue = self.value;\n\n    // Calculate layout properties\n    self.calculateInitialLayoutProperties();\n  },\n  /*\r\n     *   Calculate aligns, display types, rtl and widths\r\n     */\n  calculateInitialLayoutProperties: function calculateInitialLayoutProperties() {\n    var self = this;\n    var properties = self.properties;\n\n    // Set visual defaults\n    properties.displayType = properties.displayType || \"normal\";\n    properties.labelAlign = properties.labelAlign || self.getDefaultLabelAlign(properties.displayType);\n    properties.valueAlign = properties.valueAlign || self.getDefaultValueAlign(properties.displayType);\n\n    // Check rtl orientation\n    if (properties.orientation === \"rtl\") {\n      properties.labelAlign = self.getRTLAlign(properties.labelAlign);\n      properties.valueAlign = self.getRTLAlign(properties.valueAlign);\n    }\n\n    // Calculate render with\n    var renderWidth = self.calculateRenderWidth(properties.labelWidth, properties.valueWidth, properties.displayType);\n    properties.labelWidth = renderWidth.label;\n    properties.valueWidth = renderWidth.control;\n\n    if (properties.layoutType === \"percentage\") {\n      properties.valueWidth = renderWidth.control;\n    }\n\n    if (properties.labelWidth == 0) {\n      properties.displayType = \"value\";\n      properties.valueWidth = renderWidth.control;\n    }\n\n    if (properties.valueWidth == 0) {\n      properties.displayType = \"label\";\n    }\n\n    if (properties.type === \"userfield\") {\n      if ([\"both\", \"normal\", \"reversed\"].includes(properties.displayType)) {\n        properties.valueWidth = properties.valueWidth || 50;\n        properties.labelWidth = properties.labelWidth || 50;\n      } else if (properties.displayType === \"vertical\") {\n        properties.valueWidth = 100;\n        properties.labelWidth = 100;\n      } else if (properties.displayType === \"label\") {\n        properties.valueWidth = 0;\n        properties.labelWidth = 100;\n      } else {\n        properties.valueWidth = 100;\n        properties.labelWidth = 0;\n      }\n    }\n  },\n  /*\r\n     *   Returns the element type\r\n     */\n  getElementType: function getElementType() {\n    return bizagi.rendering.element.ELEMENT_TYPE_RENDER;\n  },\n  /*\r\n     *   Returns the html templated element\r\n     */\n  render: function render(renderTemplateName) {\n    return this.renderElement(renderTemplateName);\n  },\n  /*\r\n     *   Returns the html templated element\r\n     */\n  renderElement: function renderElement(renderTemplateName) {\n    var self = this;\n    var properties = self.properties;\n    var form = self.getFormContainer();\n    // Start rendering deferred\n    self.renderingDeferred = new $.Deferred();\n\n    // Set render template\n    renderTemplateName = renderTemplateName || \"render\";\n    var renderTemplate = self.renderFactory.getTemplate(renderTemplateName);\n\n    // Resolve render label\n    var label = properties.displayName;\n    if (typeof label == \"string\") {\n      // Replace line breaks for html line breaks\n      label = bizagi.util.encodeString(label);\n    }\n\n    var isFullRender = bizagi.util.detectDevice() !== \"desktop\" && (properties.type === \"association\" || properties.type === \"uploadecm\" || (properties.type === \"actionLauncher\" || properties.type === \"polymorphicLauncher\") && bizagi.util.isTabletDevice() || properties.type === \"grid\" && !bizagi.util.isTabletDevice());\n    var labelWidth = parseFloat(properties.labelWidth);\n\n    // Render template\n    var html = $.fasttmpl(renderTemplate, {\n      label: label,\n      helpText: properties.helpText,\n      editable: properties.editable,\n      isExtendedText: properties.type == \"text\" && properties.isExtended,\n      orientation: properties.orientation,\n      uniqueId: properties.uniqueId,\n      id: properties.id,\n      xpath: properties.xpath,\n      tag: properties.tag,\n      displayType: properties.displayType,\n      displayOptionClass: self.getDisplayOptionClass(properties.displayType),\n      labelAlignClass: self.getAlignClass(properties.labelAlign),\n      valueAlignClass: self.getAlignClass(properties.valueAlign),\n      flexAlignClass: bizagi.util.mapAlignClassName(properties.columnAlign),\n      labelWidth: labelWidth,\n      stringLabelWidth: labelWidth + (properties.layoutType == 'pixels' ? 'px' : '%'),\n      valueWidth: parseFloat(properties.valueWidth),\n      stringValueWidth: parseFloat(properties.valueWidth) + (properties.layoutType == 'pixels' ? 'px' : '%'),\n      layoutType: properties.layoutType,\n      isDesign: self.getMode() === \"design\",\n      messageValidation: properties.messageValidation,\n      printVersion: form.params.printversion,\n      cssClass: properties.cssclass || \"\",\n      includedInResult: properties.includedInResult,\n      included: properties.included,\n      type: properties.type,\n      showFullRender: isFullRender,\n      required: properties.required });\n\n\n    // Render internal control html\n    var result = self.internalRenderControl();\n    if (!result) {\n      result = \"\";\n    }\n\n    // Check if this is an async element or not\n    var async = _typeof(result) === \"object\" && result.done;\n    if (!async) {\n      html = self.replaceControlHtml(html, result);\n\n    } else {\n      if (result.state() === \"resolved\") {\n        // Fetch resolved result\n        html = self.replaceControlHtml(html, self.resolveResult(result));\n        self.asyncRenderDeferred = null;\n      } else {\n        // Wait for result\n        self.asyncRenderDeferred = result;\n        html = self.replaceControlHtml(html, \"\");\n      }\n    }\n\n    return html;\n  },\n  /*\r\n     *   Returns the resolved result from a promise when the promise has been executed already\r\n     */\n  resolveResult: function resolveResult(promise) {\n    return bizagi.resolveResult(promise);\n  },\n  /*\r\n     *   Check if the jquery element is ready or not\r\n     */\n  isRendered: function isRendered() {\n    var self = this;\n    if (!self.renderingDeferred) {\n      return false;\n    }\n    return self.renderingDeferred.promise();\n  },\n  /*\r\n     *   Renders the control html\r\n     */\n  internalRenderControl: function internalRenderControl() {\n    var self = this;\n    var properties = self.properties;\n    self.control = null;\n\n    if (self.renderFactory.printVersion) {\n      properties.editable = false;\n      return self.renderControl();\n    } else if (properties.editable) {\n      return self.renderControl();\n    }\n\n    return self.renderReadOnly();\n  },\n  /*\r\n     *   Template method to implement in each device to customize each render after processed\r\n     */\n  postRenderElement: function postRenderElement(element) {\n    var self = this;\n    var properties = self.properties;\n\n    // Set element variable\n    self.element = element;\n\n    if (properties.submitOnChange)\n    self.configureSubmitOnChange();\n\n    // Process internal layout\n    isLabelFormat = true;\n\n    var executePostRender = function executePostRender(_element) {\n      if (bizagi.rendering.render.renderOptimization &&\n      bizagi.rendering.render.rendersExecuted > bizagi.rendering.render.maxRendersPerScreen) {\n\n        // Execute post-render control\n        var timeOutRender = setTimeout(function () {\n          self.internalPostRender(_element);\n          bizagi.rendering.render.postRenderTimeout += 50;\n          clearTimeout(timeOutRender);\n        }, bizagi.rendering.render.postRenderTimeout);\n\n      } else {\n        self.internalPostRender(_element);\n      }\n      bizagi.rendering.render.rendersExecuted++;\n    };\n\n    if (self.asyncRenderDeferred) {\n      // Wait for async result\n      $.when(self.asyncRenderDeferred).\n      done(function (html) {\n        var control = self.getControl();\n        if (typeof self.emptyControlByAsyncRenderDeferred == \"function\") {\n          self.emptyControlByAsyncRenderDeferred();\n        }\n        control.append(html);\n\n        // Execute post-render control\n        executePostRender(element);\n        self.processLayout(!isLabelFormat, self.properties.valueFormat || {});\n      });\n    } else {\n      // Execute post-render control\n      executePostRender(element);\n    }\n  },\n  /*\r\n     *   Executes the post render handlers\r\n     */\n  internalPostRender: function internalPostRender(element) {\n    var self = this;\n    var properties = self.properties;\n    var mode = self.getMode();\n\n    self.control = self.getControl();\n\n    // Resolve rendering deferred\n    if (self.renderingDeferred) {\n      self.renderingDeferred.resolve();\n    }\n\n    // Execute post-renders\n    if (properties.editable) {\n      // Post-render editable version\n      if (self.renderFactory.printVersion && self.postRenderPrintVersion) {\n        self.postRenderPrintVersion();\n      } else {\n        self.postRender();\n      }\n\n    } else {\n      // Post-render readonly version\n      self.postRenderReadOnly(element);\n    }\n\n    // Perform execution mode methods\n    if (mode == \"execution\") {\n      self.performExecutionModeMethods();\n    } else {\n      self.performDesignModeMethods();\n    }\n\n    self.processLayout(isLabelFormat, self.properties.textFormat || {});\n    self.processLayout(!isLabelFormat, self.properties.valueFormat || {});\n  },\n  /*\r\n     *   Execute runtime only methods\r\n     */\n  performExecutionModeMethods: function performExecutionModeMethods() {\n    var self = this;\n    var properties = self.properties;\n    if (self.getFormType() == self.Class.TYPE_QUERY_FORM) {\n      self.configureHandlersQueryForm();\n    }\n\n    // Apply handlers\n    if (properties.editable) {\n      self.configureHandlers();\n    } else {\n      self.configureHandlersReadOnly();\n    }\n\n    // Set initial value\n    self.internalSetInitialValue();\n  },\n  /**\r\n      * Execute design only methods\r\n      */\n  performDesignModeMethods: function performDesignModeMethods() {\n    var self = this;\n\n    // Execute custom code for each render\n    self.configureDesignView();\n\n    // Set initial value\n    self.internalSetInitialValue();\n  },\n  /*\r\n     *   Replaces a {{control}} string in the specified element\r\n     */\n  replaceControlHtml: function replaceControlHtml(html, replace) {\n    html = html || \"\";\n    replace = replace || \"\";\n    return html.replaceFirstWithoutPatterns(\"{{control}}\", replace);\n  },\n  /*\r\n     *   Return the rendered element\r\n     */\n  getRenderedElement: function getRenderedElement() {\n    if (bizagi.util.isEmpty(this.element)) {\n      bizagi.log(\" render hasn't been rendered!\", this, \"error\");\n    }\n\n    return this.element;\n  },\n  /*\r\n     *   Sets the initial value for the renders\r\n     */\n  internalSetInitialValue: function internalSetInitialValue() {\n    var self = this;\n    var properties = self.properties;\n    self.internalSetInitialValueFlag = true;\n\n    // Set the initial value\n    if (properties.editable) {\n      if (!bizagi.util.isEmpty(self.value)) {\n        self.setDisplayValue(self.value);\n      }\n    } else {\n      if (!bizagi.util.isEmpty(self.value)) {\n        self.setDisplayValue(self.value);\n      }\n    }\n    self.internalSetInitialValueFlag = false;\n  },\n  /*\r\n     * Public method to determine if a value is valid or not\r\n     */\n  isValid: function isValid(invalidElements) {\n    var self = this;\n    var properties = self.properties;\n    var message;\n    var inlineAdd = self.grid && self.grid.properties && self.grid.properties.inlineAdd;\n\n    // Don't check non-editable renders\n    if (bizagi.util.parseBoolean(properties.visible) === false) {\n      return true;\n    }\n    // Don't check non-editable renders\n    if (bizagi.util.parseBoolean(properties.editable) === false && !inlineAdd) {\n      return true;\n    }\n\n    // Clear error message\n    self.setValidationMessage(\"\");\n\n    // Check required\n    if (bizagi.util.parseBoolean(properties.required)) {\n      var form = self.getFormContainer();\n      var hasValue = false;\n      var renders = self.grid ? [self] : form.getRenders(properties.xpath);\n      var isQueryForm = /^query/i.test(properties.type);\n\n      renders.filter(function (render) {\n        return render.properties.id == properties.id;\n      }).forEach(function (render) {\n        if (render.hasValue() && (render.properties.editable || inlineAdd)) {\n          hasValue = true;\n          return false;\n        }\n      });\n\n      if (!hasValue && !self.properties.isClone) {\n        message = self.getResource(\"render-required-text\").replaceAll(\"#label#\", properties.displayName);\n        var messageData = { xpath: properties.xpath, message: message };\n\n        if (isQueryForm) {\n          messageData = $.extend({}, messageData, {\n            id: properties.id,\n            isQuery: isQueryForm });\n\n        }\n\n        invalidElements.push(messageData);\n        return false;\n      }\n    }\n\n    // Check retypes\n    if (properties.retype == \"duplicate\") {\n      // Don't process cloned renders, just originals\n      if (self.cloneRender) {\n        if (self.cloneRender.getValue() != self.getValue()) {\n          message = self.getResource(\"render-text-retype-error\");\n          invalidElements.push({ xpath: properties.xpath, message: message });\n          return false;\n        }\n      }\n    } else if (properties.retype == \"double\") {\n      var control = $(\"input\", self.element);\n\n      //Waits until the control has the second value written\n      if (control && control.data(\"oldValue\")) {\n        if (control.val() === \"\") {\n\n          message = self.getResource(\"render-text-retype-error\");\n          invalidElements.push({\n            xpath: properties.xpath,\n            message: message });\n\n\n          return false;\n        } else if (control.val() != control.data(\"oldValue\")) {\n          message = self.getResource(\"render-text-retype-error\");\n          invalidElements.push({ xpath: properties.xpath, message: message });\n\n          return false;\n        }\n      }\n    }\n\n    // Check maxlength\n    var columnEditable = self.grid && self.grid.getColumn ? self.grid.getColumn(self.properties.xpath).properties.editable : true;\n    if (properties.type !== \"userPassword\" && properties.maxLength !== undefined && properties.maxLength > 0 && bizagi.util.isNumeric(properties.maxLength)) {\n      if (columnEditable || !columnEditable && self.controlValueIsChanged()) {\n        var maxLength = new Number(properties.maxLength);\n        var value = self.getValue();\n\n        if (value && value.toString().length > maxLength) {\n          message = self.getResource(\"render-text-maxLength-error\").replaceAll(\"#maxLength#\", maxLength);\n          invalidElements.push({ xpath: properties.xpath, message: message });\n          return false;\n        }\n      }\n    }\n\n    return true;\n  },\n\n  /*\r\n     *   Check if a render has no value for required validation\r\n     */\n  hasValue: function hasValue() {\n    var self = this;\n    // Next line decides if only spaces are accepted as valid texts or not. Anyway the spaces are still saved as self.value has not changed\n    var value = self.getValue();\n\n    if (value && self.properties.type === \"text\") {\n      value = typeof value === \"string\" ? value.trim() : value;\n    }\n\n    return !bizagi.util.isEmpty(value);\n  },\n  /*\r\n     *   Template method to implement in each device to customize each render after processed\r\n     */\n  postRender: function postRender() {\n  },\n  /*\r\n     *   Template method to implement in each device to customize each render after processed in read-only mode\r\n     */\n  postRenderReadOnly: function postRenderReadOnly() {\n  },\n  /*\r\n     *   Template method to implement in each device to customize the render's behaviour to add handlers\r\n     */\n  configureHandlers: function configureHandlers() {\n  },\n  /*\r\n     *   Template method to implement in each device to customize the render's behaviour to add handlers when the control is readonly\r\n     */\n  configureHandlersReadOnly: function configureHandlersReadOnly() {\n  },\n  /*\r\n     *   Template method to implement in each device to customize the render's behaviour when rendering in design mode\r\n     */\n  configureDesignView: function configureDesignView() {\n  },\n  /*\r\n     *   Method to process the render the layout\r\n     */\n  processLayout: function processLayout(isLabelFormat, format) {\n    var self = this;\n    var properties = self.properties;\n\n    if (self.getControl() == null) return;\n\n    // Set customizations\n    format = format || {};\n\n    if (format.color) {\n      self.changeColor(format.color, isLabelFormat);\n    }\n    if (format.background) {\n      self.changeBackgroundColor(format.background);\n    }\n    //if bold is true in modeler, we receive nothing in execution (!formal.bold)\n    if (format.bold || !format.bold || !isLabelFormat) {\n      self.changeFontBold(format.bold, isLabelFormat);\n    }\n    if (format.italic) {\n      self.changeFontItalic(format.italic, isLabelFormat);\n    }\n    if (format.underline) {\n      self.changeFontUnderline(format.underline, isLabelFormat);\n    }\n    if (format.strikethru) {\n      self.changeFontStrikethru(format.strikethru, isLabelFormat);\n    }\n    if (format.size) {\n      self.changeFontSize(format.size, isLabelFormat);\n    }\n\n    // Set required and visiblity\n    properties.required = properties.required != undefined ? bizagi.util.parseBoolean(properties.required) : false;\n    var visible = properties.visible != undefined ? bizagi.util.parseBoolean(properties.visible) : true;\n    if (properties.required) {\n      self.changeRequired(properties.required);\n    }\n    if (!visible) {\n      if (self.grid) {\n        self.changeCellVisibility(visible);\n      } else {\n        self.changeVisibility(visible);\n      }\n    }\n  },\n  /*\r\n     *   Sets the internal value\r\n     */\n  setValue: function setValue(value, triggerEvents) {\n    var self = this;\n    triggerEvents = triggerEvents !== undefined ? triggerEvents : true;\n\n    if (!bizagi.util.identicalObjects(value, self.value)) {\n      // set previous value\n      self.properties.previousValue = self.properties.originalValue = self.value;\n\n      // Change internal value\n      self.value = self.properties.value = value;\n      if (self.properties.required && self.getMode() == \"execution\") {\n\n        if (self.checkRequired([])) {\n          self.changeRequiredLabel(false);\n        } else {\n          self.changeRequiredLabel(true);\n        }\n      }\n\n      // Trigger events\n      if (triggerEvents && !self.internalSetInitialValueFlag) {\n        self.triggerRenderChange();\n        self.triggerRenderValidate();\n      }\n    }\n  },\n\n  checkRequired: function checkRequired(invalidElements) {\n    var self = this;\n    var properties = self.properties;\n\n    if (bizagi.util.parseBoolean(properties.required)) {\n      if (!self.hasValue()) {\n        message = self.getResource(\"render-required-text\").replaceAll(\"#label#\", properties.displayName);\n        invalidElements.push({\n          xpath: properties.xpath,\n          message: message });\n\n        return false;\n      }\n    }\n    return true;\n  },\n\n  validateInputRetype: function validateInputRetype() {\n    var self = this;\n    if (self.properties.retype && self.cloneRender) {\n      return self.getValue() == self.cloneRender.getValue();\n    }\n    return true;\n  },\n\n  /*\r\n     *   Triggers the render change event\r\n     */\n  triggerRenderChange: function triggerRenderChange(params) {\n    var self = this;\n    params = params || {};\n    params.changed = params.changed !== undefined ? params.changed : true;\n    self.triggerHandler(\"renderchange\", { render: self, changed: params.changed });\n  },\n  /*\r\n     *   Triggers the render validate event\r\n     */\n  triggerRenderValidate: function triggerRenderValidate() {\n    var self = this;\n    self.triggerHandler(\"rendervalidate\", { render: self });\n  },\n  /*\r\n     *   Sets the value in the rendered control\r\n     */\n  setDisplayValue: function setDisplayValue(value) {\n    var self = this;\n    var control = self.getControl();\n\n    // Set internal value\n    self.setValue(value, false);\n\n    if (!self.properties.editable && (self.properties.display !== \"check\" || self.properties.display === \"check\" && bizagi.override.enableCheck === true)) {\n      // Render as simple value\n      var displayValue = self.getDisplayValue(value);\n      if (typeof displayValue == \"string\" || typeof displayValue == \"number\") {\n        displayValue = bizagi.util.sanitizeHTML(displayValue);\n        $(control).html(\"<label class='readonly-control'>\" + displayValue + \"</label>\");\n      }\n    }\n  },\n  /*\r\n     *   Returns the internal value\r\n     */\n  getValue: function getValue() {\n    return this.value;\n  },\n  /*\r\n     *   Returns the value to display, ex. non-editable renders\r\n     */\n  getDisplayValue: function getDisplayValue() {\n    return this.getValue();\n  },\n  /*\r\n     *   Template method to get the label element\r\n     */\n  getLabel: function getLabel() {\n    bizagi.util.mustImplement(\"getLabel\");\n  },\n  /*\r\n     *   Template method to get the control element\r\n     */\n  getControl: function getControl() {\n    bizagi.util.mustImplement(\"getControl\");\n  },\n  /*\r\n     *   Template method to get the control filler element\r\n     */\n  getControlFiller: function getControlFiller() {\n    bizagi.util.mustImplement(\"getControlFiller\");\n  },\n  /*\r\n     *   Template method to implement in each children to customize each control\r\n     */\n  renderControl: function renderControl() {\n  },\n  /*\r\n     *   Adds a validation message to the render\r\n     */\n  setValidationMessage: function setValidationMessage(message) {\n    this.validationMessage = message;\n  },\n  /*\r\n     *   Method to render non editable values\r\n     */\n  renderReadOnly: function renderReadOnly() {\n    var result = this.getValue();\n    var readOnlyValue = \"\";\n\n    if (bizagi.util.isObject(result) && typeof result.value !== \"undefined\") {\n      readOnlyValue = bizagi.util.sanitizeHTML(result.value);\n    } else if (!bizagi.util.isEmpty(result)) {\n      if (bizagi.util.isString(result)) {\n        readOnlyValue = bizagi.util.encodeHtmlText(result);\n      } else {\n        readOnlyValue = result;\n      }\n    }\n\n    return readOnlyValue;\n  },\n\n  /*\r\n     *  Method to render print version\r\n     */\n  postRenderPrintVersion: function postRenderPrintVersion() {\n  },\n\n  /*\r\n     *   Customizes render display type with custom css classes\r\n     */\n  changeDisplayOption: function changeDisplayOption(displayType) {\n    this.properties.displayType = displayType;\n  },\n\n  /*\r\n     *   Return the right display option class\r\n     */\n  getDisplayOptionClass: function getDisplayOptionClass(displayType) {\n    return \"\";\n  },\n\n  /*\r\n     *   Customizes render label align\r\n     */\n  changeLabelAlign: function changeLabelAlign(alignType) {\n    this.properties.labelAlign = alignType;\n  },\n\n  /*\r\n     *   Customizes render value align\r\n     */\n  changeValueAlign: function changeValueAlign(alignType) {\n    this.properties.valueAlign = alignType;\n  },\n\n  /*\r\n     *   Return the right align class\r\n     */\n  getAlignClass: function getAlignClass(alignType) {\n    return \"\";\n  },\n\n  /*\r\n     *   Customizes render label and value width\r\n     */\n  customizeRenderWidth: function customizeRenderWidth() {\n  },\n\n  /* Customizes render color*/\n  changeColor: function changeColor(color, isLabelFormat) {\n    var self = this;\n    var control = self.getControl();\n    var label = self.getLabel();\n    var isLabelFormat = typeof isLabelFormat != \"undefined\" || isLabelFormat != null ? isLabelFormat : true;\n\n    if (control && label) {\n      if (color != 'none') {\n        // Hide - show the render\n        if (self.properties.displayType === \"value\" || !isLabelFormat) {\n          self.getElementsToStylize(self.getControl()).css(\"color\", color, \"!important\");\n          self.getControl().find(\"*\").each(function (i, element) {\n            self.getElementsToStylize(element).css(\"color\", color, \"!important\");\n          });\n        } else {\n          self.element.each(function () {\n            this.style.setProperty('color', color, 'important');\n          });\n\n          if (self.properties.type == \"grid\") {\n            self.getControl().find(\".bz-mobile-grid__header-title\").each(function () {\n              this.style.setProperty('color', color, 'important');\n            });\n          }\n\n          self.getLabel().find(\"label\").css(\"color\", color, \"!important\");\n          if (self.properties.editable === false) {\n            self.getElementsToStylize(self.getControl()).css(\"color\", color, \"!important\");\n            self.getElementsToStylize($(\"label\", self.getControl()).css(\"color\", color, \"!important\"));\n          }\n        }\n      } else {\n        self.element.css(\"color\", \"\");\n        self.getLabel().find(\"label\").css(\"color\", \"\");\n        self.getControl().css(\"color\", \"\");\n\n        self.getControl().find(\"input, textarea\").each(function (i, element) {\n          var originalColor = $(element).data(\"originalColor\") || \"\";\n          self.getElementsToStylize(element).css(\"color\", originalColor);\n        });\n      }\n    }\n  },\n\n  /* Customizes render background color*/\n  changeBackgroundColor: function changeBackgroundColor(color) {\n    var self = this;\n    var control = self.getControl();\n    var label = self.getLabel();\n\n    if (control && label) {\n      if (color != 'none') {\n        self.element.each(function () {\n          this.style.setProperty('background-color', color, 'important');\n        });\n\n        if (typeof label.find('label').style !== \"undefined\") {\n          self.getLabel().find(\"label\").style(\"background-color\", color, \"important\");\n        } else {\n          self.getLabel().find(\"label\").css(\"background-color\", color, \"!important\");\n        }\n\n        var currentStyle = self.getLabel().attr(\"style\");\n        currentStyle += \"; background-color:\" + color + \"!important\";\n        self.getLabel().attr(\"style\", currentStyle);\n      } else {\n        self.element.css(\"background-color\", \"\");\n        self.getLabel().find(\"label\").css(\"background-color\", \"\");\n        self.getControl().css(\"background-color\", \"\");\n        self.getControl().find(\"input, textarea\").each(function (i, element) {\n          var originalColor = $(element).data(\"originalColor\") || \"\";\n          $(element).css(\"background-color\", originalColor);\n        });\n      }\n    }\n  },\n\n  /* Returns the formatting label to be used for bold, italic, underline, strikethrough and size*/\n  getFormattingLabel: function getFormattingLabel() {\n    var self = this;\n    return self.getLabel().find(\"label\");\n  },\n\n  /* Customizes the font weight */\n  changeFontBold: function changeFontBold(bold, isLabelFormat) {\n    var self = this;\n    var isLabelFormat = typeof isLabelFormat != \"undefined\" || isLabelFormat != null ? isLabelFormat : true;\n\n    // Hide - show the render\n    if (bizagi.util.parseBoolean(bold) != false && isLabelFormat) {\n      self.getFormattingLabel().css(\"font-weight\", \"bold\", \"!important\");\n      self.getControl().each(function (i, element) {\n        $(element).css(\"font-weight\", \"bold\", \"!important\");\n      });\n\n    } else {\n      if (isLabelFormat)\n      self.getFormattingLabel().css(\"font-weight\", \"normal\", \"!important\");\n    }\n    if (!isLabelFormat) {\n      if (bizagi.util.parseBoolean(bold) == true) {\n        self.getControl().find(\"*\").each(function (i, element) {\n          $(element).css(\"font-weight\", \"bold\", \"!important\");\n        });\n      } else {\n        self.getControl().find(\"*\").each(function (i, element) {\n          $(element).css(\"font-weight\", \"normal\", \"!important\");\n        });\n        self.getControl().css(\"font-weight\", \"normal\", \"!important\");\n      }\n    }\n  },\n\n  controlValueIsChanged: function controlValueIsChanged() {\n    var self = this;\n    var properties = self.properties;\n    var value = self.getValue();\n    var compareValue = properties.originalValue;\n    var baseValue = properties.defaultValue;\n    var result = true;\n    var renderType = bizagi.util.normalizeType(properties.type);\n    var form = self.getFormContainer();\n\n    //To force to send value when control's retype is duplicate, fixed to start forms.\n    if (properties.retype === \"duplicate\" && self.cloneRender && form.isStartForm()) return true;\n\n    // Flag to force to collect data\n    if ($.forceCollectData) {\n      return true;\n    }\n\n    // Verify if control has been ready\n    if (renderType === \"grid\" && self.ready().state() === \"pending\") {\n      return false;\n    }\n\n    if ([\"combo\", \"queryCombo\", \"list\", \"queryList\", \"radio\", \"queryRadio\"].includes(renderType) || /^cascadingcombo$/i.test(renderType)) {\n      if (value && value.length !== undefined) {\n        value = value[0];\n      }\n      if (compareValue && compareValue.length !== undefined) {\n        compareValue = compareValue[0];\n      }\n      if (baseValue && baseValue.length !== undefined) {\n        baseValue = baseValue[0];\n      }\n      value = value && value.id ? value.id : value;\n      compareValue = compareValue && compareValue.id ? compareValue.id : compareValue;\n      baseValue = baseValue && baseValue.id ? baseValue.id : baseValue;\n      if (typeof baseValue != \"undefined\" && baseValue != null) {\n        result = compareValue == value && compareValue != baseValue ? false : true;\n      } else {\n        result = compareValue == value ? false : true;\n      }\n    } else if (renderType === \"boolean\" || renderType === \"queryBoolean\" || renderType === \"queryCheck\") {\n      result = bizagi.util.parseBoolean(compareValue) == bizagi.util.parseBoolean(value) ? false : true;\n    } else if (renderType === \"searchNumber\") {\n      result = !!value;\n    } else if (renderType === \"number\") {\n      if ((value === null || value === \"\") && (compareValue === null || compareValue === \"\")) {\n        result = false;\n      } else {\n        result = compareValue === value ? false : true;\n      }\n    } else if (renderType === \"text\") {\n      if ((value === null || value === \"\") && (compareValue === null || compareValue === \"\")) {\n        result = false;\n      } else {\n        result = compareValue === value ? false : true;\n      }\n    } else if (renderType === \"date\") {\n      if (!compareValue && !value) {\n        result = false;\n      } else {\n        if (!properties.showTime) {\n          value = bizagi.util.getNormalizedDate(value, properties.fullFormat);\n          compareValue = bizagi.util.getNormalizedDate(compareValue, properties.fullFormat);\n        }\n\n        result = compareValue == value ? false : true;\n      }\n    } else if (renderType === \"actionLauncher\") {\n      //Object must be an array\n      result = false;\n      var compareValueObj = [];\n      try {\n        if (typeof compareValue === \"string\") {\n          compareValueObj = JSON.parse(compareValue);\n        } else {\n          compareValueObj = compareValue;\n        }\n      } catch (e) {\n      }\n\n      var _findAction = function _findAction(guid, targetObj) {\n        guid = guid || \"\";\n        targetObj = targetObj || [];\n        var result = false;\n        for (var i = 0, l = targetObj.length; i < l; i++) {\n          if (targetObj[i].guidAction == guid) {\n            result = true;\n            break;\n          }\n        }\n        return result;\n      };\n\n      if (compareValueObj.length == value.length) {\n        for (var i = 0, l = compareValueObj.length; i < l; i++) {\n          if (!_findAction(compareValueObj[i].guidAction, value)) {\n            result = true;\n          }\n        }\n\n      } else {\n        result = true;\n      }\n    } else if (renderType === \"polymorphicLauncher\" || renderType === \"entityTemplate\") {\n      //Object must be an array\n      if (compareValue.length != value.length) {\n        result = true;\n      } else {\n        result = JSON.encode(value) == JSON.encode(compareValue) ? false : true;\n      }\n    } else if (renderType === \"searchList\") {\n      var objectValue = {};\n      try {\n        objectValue = JSON.parse(value);\n      } catch (e) {\n        console.log(\"Error when detect change value on searchList control\");\n      }\n      result = JSON.encode(compareValue) == JSON.encode(objectValue.value) ? false : true;\n    } else if ([\"signature\", \"image\"].includes(renderType)) {\n      // When a image/signature is uploaded or removed from a Form,\n      // the change is saved automatically to the activity's scope\n      result = false;\n    } else {\n      result = compareValue === value ? false : true;\n    }\n\n    return result;\n  },\n\n  /* Customizes the font italic style */\n  changeFontItalic: function changeFontItalic(italic, isLabelFormat) {\n    var self = this;\n    var isLabelFormat = typeof isLabelFormat != \"undefined\" || isLabelFormat != null ? isLabelFormat : true;\n\n    // Hide - show the render\n    if (self.properties.displayType == \"value\" || !isLabelFormat) {\n      if (bizagi.util.parseBoolean(italic) == true) {\n        if (isLabelFormat)\n        self.getFormattingLabel().css(\"font-style\", \"italic\", \"!important\");\n\n        if (self.properties.editable) {\n          self.getControl().find(\"*\").each(function (i, element) {\n            self.getElementsToStylize(element).css(\"font-style\", \"italic\", \"!important\");\n          });\n        } else {\n          self.getElementsToStylize(self.getControl()).css(\"font-style\", \"italic\", \"!important\");\n        }\n      } else {\n        if (isLabelFormat)\n        self.getFormattingLabel().css(\"font-style\", \"normal\", \"!important\");\n\n        if (self.properties.editable) {\n          self.getControl().find(\"*\").each(function (i, element) {\n            self.getElementsToStylize(element).css(\"font-style\", \"normal\", \"!important\");\n          });\n        } else {\n          self.getElementsToStylize(self.getControl()).css(\"font-style\", \"normal\", \"!important\");\n        }\n      }\n    } else {\n      if (bizagi.util.parseBoolean(italic) == true) {\n        self.getFormattingLabel().css(\"font-style\", \"italic\", \"!important\");\n      } else {\n        self.getFormattingLabel().css(\"font-style\", \"normal\", \"!important\");\n      }\n    }\n  },\n\n  /* Customizes the font underline */\n  changeFontUnderline: function changeFontUnderline(underline, isLabelFormat) {\n    var self = this;\n    var textFormat = self.properties.textFormat || {};\n    var valueFormat = self.properties.valueFormat || {};\n    var strikethru = bizagi.util.parseBoolean(textFormat.strikethru) ? \"line-through \" : \"\";\n    var valuestrikethru = bizagi.util.parseBoolean(valueFormat.strikethru) ? \"line-through \" : \"\";\n    var isLabelFormat = typeof isLabelFormat != \"undefined\" || isLabelFormat != null ? isLabelFormat : true;\n\n    // Hide - show the render\n    if (bizagi.util.parseBoolean(underline) == true && isLabelFormat) {\n      self.getFormattingLabel().css(\"text-decoration\", strikethru + \"underline\", \"!important\");\n      self.getControl().each(function (i, element) {\n        self.getElementsToStylize(element).css(\"text-decoration\", strikethru + \"underline\");\n      });\n    } else {\n      if (isLabelFormat)\n      self.getFormattingLabel().css(\"text-decoration\", strikethru, \"!important\");\n    }\n    if (self.properties.displayType == \"value\" || !isLabelFormat) {\n      if (bizagi.util.parseBoolean(underline) == true) {\n        if (self.properties.editable) {\n          self.getControl().find(\"*\").each(function (i, element) {\n            self.getElementsToStylize(element).css(\"text-decoration\", valuestrikethru + \"underline\", \"!important\");\n          });\n        } else {\n          self.getElementsToStylize(self.getControl()).css(\"text-decoration\", valuestrikethru + \"underline\", \"!important\");\n        }\n      } else {\n        self.getControl().find(\"*\").each(function (i, element) {\n          self.getElementsToStylize(element).css(\"text-decoration\", valuestrikethru, \"!important\");\n        });\n      }\n    }\n  },\n\n  /* Customizes the font Strikethrough property */\n  changeFontStrikethru: function changeFontStrikethru(strikethru, isLabelFormat) {\n    var self = this;\n    var textFormat = self.properties.textFormat || {};\n    var valueFormat = self.properties.valueFormat || {};\n    var underline = bizagi.util.parseBoolean(textFormat.underline) ? \"underline \" : \"\";\n    var valueunderline = bizagi.util.parseBoolean(valueFormat.underline) ? \"underline \" : \"\";\n    var isLabelFormat = typeof isLabelFormat != \"undefined\" || isLabelFormat != null ? isLabelFormat : true;\n\n    // Hide - show the render\n    if (bizagi.util.parseBoolean(strikethru) == true && isLabelFormat) {\n      self.getFormattingLabel().css(\"text-decoration\", underline + \"line-through\", \"!important\");\n    } else {\n      if (isLabelFormat)\n      self.getFormattingLabel().css(\"text-decoration\", underline, \"!important\");\n    }\n\n    if (self.properties.displayType == \"value\" || !isLabelFormat) {\n      if (bizagi.util.parseBoolean(strikethru) == true) {\n        if (self.properties.editable) {\n          self.getControl().find(\"*\").each(function (i, element) {\n            self.getElementsToStylize(element).css(\"text-decoration\", valueunderline + \"line-through\", \"!important\");\n          });\n        } else {\n          self.getElementsToStylize(self.getControl()).css(\"text-decoration\", valueunderline + \"line-through\", \"!important\");\n        }\n      } else {\n        if (self.properties.editable) {\n          self.getControl().find(\"*\").each(function (i, element) {\n            self.getElementsToStylize(element).css(\"text-decoration\", valueunderline, \"!important\");\n          });\n        } else {\n          self.getElementsToStylize(self.getControl()).css(\"text-decoration\", valueunderline, \"!important\");\n        }\n      }\n    }\n  },\n\n  /* Customizes the font size property */\n  changeFontSize: function changeFontSize(size, isLabelFormat) {\n    var self = this;\n    var isLabelFormat = typeof isLabelFormat != \"undefined\" || isLabelFormat != null ? isLabelFormat : true;\n\n    // Hide - show the render\n    if (size != \"0\") {\n      var label = self.getFormattingLabel();\n      var newFontSize = 100 + Number(size) * 10 + \"%\";\n      if (isLabelFormat) {\n        label.css(\"font-size\", newFontSize, \"!important\");\n      }\n      if (self.properties.displayType == \"value\" || !isLabelFormat) {\n        var control = self.getControl();\n        if (_typeof(control.children()) == \"object\" && control.children().length > 0) {\n          self.getElementsToStylize(control.children()).css(\"font-size\", newFontSize, \"!important\");\n        } else {\n          self.getElementsToStylize(control).css(\"font-size\", newFontSize, \"!important\");\n          // Next line applies to Cascading combo and combo in order to increase the control space with large value fonts\n          if (self.properties.type.indexOf(\"ombo\") != -1 && size > 4) (\".ui-selectmenu\", control).children(0).height(2 * size + 20);\n        }\n\n        self.getElementsToStylize(control.find(\".ui-bizagi-render-date\")).css(\"line-height\", \"normal\");\n      }\n    }\n  },\n\n  /**\r\n      * in mobiles, don't apply styles to icon's elements\r\n      */\n  getElementsToStylize: function getElementsToStylize(context) {\n    return $(context);\n  },\n\n  /* Changes the render visibility*/\n  changeVisibility: function changeVisibility(argument) {\n    var self = this;\n    var properties = self.properties;\n\n    // Hide - show the render\n    if (bizagi.util.parseBoolean(argument) == true) {\n      if (properties.type !== \"hidden\") {\n        self.element.show();\n        self.element.css(\"display\", \"\");\n\n        if (properties.required) {\n          if (!self.hasValue()) {\n            self.changeRequiredLabel(true);\n          }\n        }\n      }\n    } else if (self.element) {\n      self.element.hide();\n    }\n\n    // Update properties\n    properties.visible = argument;\n  },\n  /* Changes the render editability*/\n  changeEditability: function changeEditability(argument) {\n    var self = this;\n    var properties = self.properties;\n    var control = self.getControl();\n\n    // Renders again\n    properties.editable = argument == \"Default\" ? self.originalProperties.editable : bizagi.util.parseBoolean(argument);\n    properties.editabilityEnabled = properties.editabilityEnabled || properties.editable;\n\n    // Clears control\n    control.empty();\n\n    if (typeof self.internalRenderControl == \"function\") {\n      $.when(self.internalRenderControl()).done(function (html) {\n        if (typeof self.emptyControlByChangeEditability == \"function\")\n        self.emptyControlByChangeEditability();\n        if (!self.asyncRenderDeferred)\n        control.append(html);\n        self.postRenderElement(self.element);\n      });\n    }\n  },\n\n  /**\r\n      * Change cell editability and attach bindings\r\n      * @param argument\r\n      * @param key\r\n      * @param xpath\r\n      */\n  changeEditabilityCellControl: function changeEditabilityCellControl(argument, key, xpath) {\n    var self = this;\n    var properties = self.properties;\n    var renderColumn = self.grid.getColumn(xpath);\n    var decorated = renderColumn.getDecorated(key);\n\n    // Renders again\n    properties.editable = argument === \"Default\" ? self.originalProperties.editable : bizagi.util.parseBoolean(argument);\n    properties.editabilityEnabled = properties.editabilityEnabled || properties.editable;\n\n    // Render cell control\n    self.internalRenderCellControl(properties.editable, key, renderColumn, decorated);\n  },\n\n  /**\r\n      * Render cell control by command action\r\n      * @param editable\r\n      * @param key\r\n      * @param renderColumn\r\n      * @param decorated\r\n      */\n  internalRenderCellControl: function internalRenderCellControl(editable, key, renderColumn, decorated) {\n    var self = this;\n    var control = self.getControl();\n\n    // Clears control\n    control.empty();\n\n    if (typeof self.internalRenderControl == \"function\") {\n\n      $.when(self.internalRenderControl()).done(function (html) {\n\n        if (!self.asyncRenderDeferred) {\n          control.append(html);\n        }\n\n        self.postRenderElement(self.element);\n\n        if (editable) {\n\n          renderColumn.bind(\"rendered\", function () {\n            renderColumn.readyDeferred.resolve();\n          });\n\n          decorated.unbind(\"renderchange\");\n\n          // If the render changes set the flag on\n          decorated.bind(\"renderchange\", function (render, args) {\n            renderColumn.changed = true;\n            self.grid.onCellChange(renderColumn, null, key, args);\n          });\n\n        }\n      });\n    }\n  },\n\n  changeRequired: function changeRequired(argument) {\n    var self = this;\n    var properties = self.properties;\n\n    var label = properties.displayName || \"\";\n    var labelElement = $(\"label\", self.getLabel());\n    var controlElement = self.getControl();\n\n    // Update properties\n    properties.required = argument;\n\n    // Changes label\n    if (self.getMode() == \"execution\" && self.checkRequired([])) {\n      self.changeRequiredLabel(false);\n    } else if (bizagi.util.parseBoolean(argument) == true && properties.editable) {\n      if (self.properties.orientation == \"rtl\") {\n        controlElement.prepend('<div class=\"ui-bizagi-render-control-required-rtl\"></div>');\n      } else {\n        controlElement.addClass('control-required');\n        controlElement.prepend('<div class=\"ui-bizagi-render-control-required\"></div>');\n      }\n    } else {\n      // if element has required label and through action change it, remove element.\n      if (self.properties.orientation == \"rtl\") {\n        $(\".ui-bizagi-render-control-required-rtl\", controlElement).remove();\n      } else {\n        controlElement.removeClass('control-required');\n        $(\".ui-bizagi-render-control-required\", controlElement).remove();\n      }\n    }\n\n    // Set text, HTML is more suitable for the content\n    labelElement.html(label);\n\n    // Perform validations again to check if the form is valid after this change\n    self.triggerRenderValidate();\n  },\n  /**\r\n      * This method just make a toggle of red label indicator\r\n      * Does't change internal value of control, if you need it\r\n      * please use changeRequired method\r\n      *\r\n      * @argument {boolean} argument\r\n      */\n  changeRequiredLabel: function changeRequiredLabel(argument) {\n    var self = this;\n    var properties = self.properties;\n\n    var label = properties.displayName || \"\";\n    var labelElement = $(\"label\", self.getLabel());\n    var controlElement = self.getControl();\n\n    // Changes label\n    if (bizagi.util.parseBoolean(argument) == true && properties.editable) {\n      if (self.properties.orientation == \"rtl\") {\n        controlElement.prepend('<div class=\"ui-bizagi-render-control-required-rtl\"></div>');\n      } else {\n        controlElement.addClass('control-required');\n        controlElement.append('<div class=\"ui-bizagi-render-control-required\"></div>');\n      }\n    } else {\n      // if element has required label and through action change it, remove element.\n      if (self.properties.orientation == \"rtl\") {\n        $(\".ui-bizagi-render-control-required-rtl\", controlElement).remove();\n      } else {\n        controlElement.removeClass('control-required');\n        $(\".ui-bizagi-render-control-required\", controlElement).remove();\n      }\n    }\n\n    // Set text, HTML is more suitable for the content\n    labelElement.html(label);\n\n    // Perform validations again to check if the form is valid after this change\n    self.triggerRenderValidate();\n  },\n  /*\r\n     *   Refresh the control with a new data\r\n     */\n  refreshControl: function refreshControl(args) {\n    var self = this;\n    var properties = self.properties;\n    var originalValue = self.value;\n    var form = self.getFormContainer();\n    var idForm = form.properties.id || \"\";\n\n    args = args || {};\n\n    // Start waiting\n    self.startLoading();\n\n    // Execute personalized stuff before to refresh it\n    self.beforeToRefresh();\n\n    // Call the ajax service\n    return $.when(self.dataService.multiaction().refreshControl({\n      xpath: properties.xpath,\n      idRender: properties.id,\n      idPageCache: properties.idPageCache,\n      xpathContext: properties.xpathContext || args.xpathContext,\n      idForm: idForm })).\n    pipe(function (data) {\n      if (self.grid && bizagi.override.restoreAppearanceAfterRefresh) {\n        self.saveGridChildrenVisualChanges();\n      }\n      // Clear variables\n      self.control = self.controlFiller = self.label = null;\n\n      // Update properties data\n      var currentElement = self.element;\n      self.initializeData(data.render);\n\n      // Render the control again\n      return $.when(self.render()).pipe(function (html) {\n        var result = $(html);\n        //Dont remove unused rendered var\n        var rendered = self.postRenderElement(result);\n        self.properties.originalValue = self.value;\n        return result;\n      }).pipe(function (result) {\n\n        // When the content has been post-renderized, replace it\n        currentElement.replaceWith(result);\n\n        // Prevent multiple refresh on grid\n        if (!self.grid) {\n          self.triggerRenderChange({ changed: false });\n        }\n\n        if (bizagi.override.restoreAppearanceAfterRefresh) {\n          if (self.grid) {\n            self.restoreGridChildrenVisualChanges();\n            self.restoreGridAppearance();\n          } else {\n            self.restoreAppearance();\n          }\n        }\n\n        // Execute personalized stuff before to refresh it\n        self.afterToRefresh();\n      });\n\n    }).fail(function (message) {\n      var message = self.processFailMessage(message);\n\n    }).always(function () {\n      self.endLoading();\n    });\n  },\n\n  /*\r\n      *   Refresh the control with a new data\r\n      */\n  refreshDesignControl: function refreshDesignControl(data) {\n    var self = this;\n    var properties = self.properties;\n\n    // Execute personalized stuff before to refresh it\n    self.beforeToRefresh();\n\n    // Clear variables\n    self.control = self.controlFiller = self.label = null;\n\n    $.extend(data.render.properties, {\n      xpath: properties.xpath,\n      idRender: properties.id,\n      xpathContext: properties.xpathContext || \"form\",\n      idPageCache: properties.idPageCache });\n\n\n    // Update properties data\n    var currentElement = self.element;\n    self.initializeData(data.render);\n\n    // Render the control again\n    return $.when(self.render()).pipe(function (html) {\n      var result = $(html);\n      //Dont remove unused rendered var\n      var rendered = self.postRenderElement(result);\n      self.properties.originalValue = self.value;\n      return result;\n    }).pipe(function (result) {\n      // When the content has been post-renderized, replace it\n      currentElement.replaceWith(result);\n      self.triggerRenderChange();\n\n      // Execute personalized stuff before to refresh it\n      self.beforeToRefresh();\n    });\n  },\n\n  /*\r\n     * Cleans current value\r\n     */\n  cleanData: function cleanData() {\n    var self = this;\n\n    self.setValue(\"\");\n    self.clearDisplayValue();\n  },\n\n  /*\r\n      *   Sets the value in the rendered control\r\n      */\n  clearDisplayValue: function clearDisplayValue() {\n    var self = this;\n    var control = self.getControl();\n    var input = control.find(\"input\");\n\n    if (input.length > 0) {\n      input.val(self.getValue());\n    } else if (self.properties.editable === false) {\n      $(control).html(\"<label class='readonly-control'></label>\");\n    }\n  },\n\n  /*\r\n     *   Updates original value for some comparisons\r\n     */\n  updateOriginalValue: function updateOriginalValue() {\n    var self = this;\n    self.properties.originalValue = self.value;\n  },\n  /*\r\n     *   Add the render data to the given collection in order to send data to the server\r\n     */\n  collectData: function collectData(renderValues) {\n    var self = this;\n    var properties = self.properties;\n\n    // Add the render value\n    var xpath = properties.xpath;\n    var value = self.getValue();\n\n    if (self.controlValueIsChanged()) {\n      // Filter by valid xpaths and valid values\n      if (!bizagi.util.isEmpty(xpath)) {\n        if (!bizagi.util.isEmpty(value)) {\n          renderValues[properties.xpath] = value;\n        } else if (value === \"\" || value === null) {\n          renderValues[properties.xpath] = \"\";\n        }\n      }\n    }\n\n    //Validate if the input has a retype configured and check that both values matches, otherwise delete the original value\n    if (!self.validateInputRetype()) {\n      renderValues[properties.xpath] = \"\";\n    }\n  },\n\n  hasChanged: function hasChanged(result) {\n    var self = this;\n    if (self.controlValueIsChanged()) {\n      result.push(true);\n      return true;\n    } else {\n      return false;\n    }\n  },\n\n  /*\r\n     *  Configure additional Handlers for queryForm type\r\n     */\n  configureHandlersQueryForm: function configureHandlersQueryForm() {\n    var self = this;\n    var checkIncluded = self.element.find(\".ui-bizagi-render-control-included\");\n    checkIncluded.change(function () {\n      self.properties.included = $(this).is(\":checked\");\n    });\n  },\n  getRenderId: function getRenderId() {\n    var self = this;\n\n    return bizagi.util.tryCatch(\n    function () {return self.properties.id;},\n    null);\n\n  },\n  /*\r\n     *   Add the render data to the given collection in order to send data to the server\r\n     */\n  collectDataQueryForm: function collectDataQueryForm(renderValues) {\n    var self = this;\n    var properties = self.properties;\n    var xpath = properties.xpath;\n    var value = self.getValue();\n    var queryValue = null;\n    if (!bizagi.util.isEmpty(xpath)) {\n      if (value !== null && typeof value !== \"undefined\") {\n        var isObject = typeof value.id !== \"undefined\";\n        if (isObject) {\n          queryValue = !bizagi.util.isEmpty(value.id) ? [value] : null;\n        } else {\n          queryValue = value !== \"\" ? value : null;\n        }\n      }\n      if (queryValue !== null || properties.included) {\n        var searchType = (self.properties.typeSearch || self.properties.rangeQuery || \"NONE\").toUpperCase();\n        var newParameter = {\n          \"value\": queryValue,\n          \"included\": self.properties.included,\n          \"xpath\": properties.xpath,\n          \"searchType\": searchType,\n          \"orderType\": \"NONE\",\n          \"renderId\": self.getRenderId() };\n\n\n        if (typeof properties.displayXpath !== \"undefined\" && properties.displayXpath !== \"\") {\n          newParameter.displayXpath = properties.displayXpath;\n        }\n\n        renderValues.push(newParameter);\n      }\n    }\n  },\n\n  /*\r\n     *  Method to determine if the render value can be sent to the server or not\r\n     */\n  canBeSent: function canBeSent() {\n    var self = this,force;\n    var properties = self.properties;\n    var displayOnly = bizagi.util.parseBoolean(properties.displayOnly) || false;\n    var editable = bizagi.util.parseBoolean(properties.editable) || bizagi.util.parseBoolean(properties.editabilityEnabled);\n\n    // Don't send the clones\n    if (properties.isClone) {\n      return false;\n    }\n\n    // The render can be sent if it is editable and is not \"display only\"\n    if (!displayOnly && editable) {\n      return true;\n    }\n\n    if (properties.xpath) {\n      var form = self.getFormContainer();\n      if (form.getRenders(properties.xpath).length == 1) {\n        force = $.forceCollectData ? $.forceCollectData.toString() : false;\n        $.forceCollectData = force ? undefined : $.forceCollectData;\n        if (self.controlValueIsChanged()) {\n          $.forceCollectData = force ? bizagi.util.parseBoolean(force) : $.forceCollectData;\n          return true;\n        }\n        $.forceCollectData = force ? bizagi.util.parseBoolean(force) : $.forceCollectData;\n      }\n    }\n\n    return false;\n  },\n  /*\r\n     *  Method to determine if the render value can be sent to search\r\n     */\n  canBeSentQueryForm: function canBeSentQueryForm() {\n    var self = this,force;\n    var properties = self.properties;\n    // Don't send the clones\n    if (properties.isClone) {\n      return false;\n    }\n    return true;\n  },\n  /*\r\n     *   Focus on the current element\r\n     */\n  focus: function focus(time) {\n    var self = this;\n\n    // Focus is only allowed when the render is visible\n    if (!self.properties.visible) return;\n\n    // Call base\n    this._super();\n    var layout = $(\"#ui-bizagi-wp-app-render-form-content\");\n\n    // Configures effect\n    var effect = function effect() {\n      var control = self.getControl();\n      var defaultControl = self.properties.type != \"grid\" ? $(\"input, select, option, textarea\", control) : $(\"input, select, option, textarea\", control).first();\n      if (defaultControl.length > 0) {\n\n        // Focus control\n        $.each(defaultControl, function (i) {\n          var innerControl = defaultControl[i];\n          if ($(innerControl).attr(\"type\") != \"hidden\" && $(innerControl).css(\"display\") != \"none\" && $(innerControl).css(\"visibility\") != \"hidden\") {\n\n            try {\n              if (!bizagi.util.isIE()) {\n                bizagi.util.autoScrollBottom(layout);\n              }\n              innerControl.focus();\n            } catch (e) {\n            }\n          }\n        });\n      }\n    };\n\n    // Wait until the render is ready to apply the focus effect\n    $.when(self.ready()).\n    done(function () {\n      // Run effect\n      if (time > 0) {\n        var timeOutEffect = setTimeout(function () {\n          effect();\n          clearTimeout(timeOutEffect);\n        }, time);\n      } else {\n        effect();\n      }\n    });\n  },\n\n  /*\r\n     *   Resolves default align for each display type\r\n     */\n  getDefaultLabelAlign: function getDefaultLabelAlign(displayType) {\n    return \"default\";\n  },\n\n  /*\r\n     *   Resolves default value align for each display type\r\n     */\n  getDefaultValueAlign: function getDefaultValueAlign(displayType) {\n    return \"default\";\n  },\n  /*\r\n     *   Transform the align type when using RTL orientation\r\n     */\n  getRTLAlign: function getRTLAlign(align) {\n    /* if (align === \"default\"){ \r\n                                                return \"right\";\r\n                                            } */\n    return align;\n  },\n\n  /*\r\n     *   Enables submit on change feature for the current render\r\n     */\n  configureSubmitOnChange: function configureSubmitOnChange() {\n    var self = this;\n    var properties = self.properties;\n    var xpath = \"\";\n\n    if (!properties.editable) return;\n\n    // Build action\n    properties.dependencies = properties.dependencies || 'all';\n\n    if (properties.xpath) {\n      if (properties.submitOnChangexpathContext) {\n        xpath = properties.submitOnChangexpathContext + \".\" + properties.xpath;\n      } else {\n        xpath = properties.xpath;\n      }\n    } else {\n      if (properties.submitOnChangexpathContext) {\n        xpath = properties.submitOnChangexpathContext + \".\" + properties.id;\n      } else {\n        xpath = properties.id;\n      }\n    }\n\n    var action = {\n      \"conditions\": {\n        \"expressions\": [\n        {\n          \"simple\": {\n            \"xpath\": xpath,\n            \"renderId\": properties.id,\n            \"operator\": \"changes\",\n            \"argumentType\": \"const\" } }] },\n\n\n\n\n      \"commands\": [\n      {\n        \"xpath\": xpath,\n        \"command\": 'submit-value',\n        \"argument\": properties.dependencies }],\n\n\n      \"dependencies\": [xpath],\n      \"elseCommands\": [] };\n\n\n    if (properties.submitOnChangexpathContext && self.grid) {\n      action.conditions.expressions[0].simple.containerId = self.grid.properties.id;\n    }\n\n    // Add action when form ends its rendering\n    $.when(self.ready()).done(function () {\n      var form = self.getFormContainer();\n      form.addSubmitAction(xpath, action);\n    });\n  },\n\n  /*\r\n     *   Sends all the info to the server then refreshes the form\r\n     *   Returns a deferred\r\n     */\n  submitOnChange: function submitOnChange(data, bRefreshForm, notCollect) {\n    var self = this;\n    var defer = $.Deferred();\n\n    // Add context parameter\n    if (self.properties.contexttype != \"\" && data) {\n      data[self.dataService.Class.BA_CONTEXT_PARAMETER_PREFIX + \"contexttype\"] = self.properties.contexttype;\n    }\n\n    $.when(self.isReadyToSave()).done(function () {\n      self.internalSubmitOnChange(data, bRefreshForm, notCollect).done(function () {\n        defer.resolve();\n      }).fail(function () {\n        defer.reject();\n      });\n    });\n\n    return defer.promise();\n  },\n\n  getCacheIdCase: function getCacheIdCase() {\n    var self = this;\n    var idCase = self.getParams().idCase;\n\n    if (bizagi.cache === undefined) {\n      bizagi.cache = {};\n      bizagi.cache.idCaseObject = {\n        idCase: idCase !== undefined ? idCase : bizagi.cache.idCase !== undefined ? bizagi.cache.idCase : undefined };\n\n    } else {\n      if (idCase !== undefined && bizagi.cache.idCaseObject !== undefined) {\n        bizagi.cache.idCaseObject.idCase = idCase;\n      } else {\n        if (idCase !== undefined && bizagi.cache.idCaseObject === undefined) {\n          bizagi.cache.idCaseObject = {};\n          bizagi.cache.idCaseObject.idCase = idCase;\n        }\n      }\n    }\n\n    if (idCase === undefined) {\n      if (bizagi.cache.idCaseObject === undefined) {\n        idCase = undefined;\n      } else {\n        idCase = bizagi.cache.idCaseObject.idCase;\n      }\n    } else {\n      idCase = idCase;\n    }\n\n    return idCase;\n  },\n  /*\r\n     *   Internal method\r\n     *   Sends all the info to the server then refreshes the form\r\n     *   Returns a deferred\r\n     */\n  internalSubmitOnChange: function internalSubmitOnChange(data, bRefreshForm, notCollect) {\n    var self = this;\n    var form = self.getFormContainer();\n    var properties = self.properties;\n    var parameters = {\n      data: data,\n      bRefreshForm: bRefreshForm,\n      notCollect: notCollect,\n      properties: {\n        idCase: self.getCacheIdCase(),\n        id: properties.id,\n        xpath: properties.xpath,\n        idPageCache: properties.idPageCache,\n        contexttype: properties.contexttype } };\n\n\n\n    return form.internalSubmitOnChange(parameters);\n  },\n  /*\r\n     *   Returns a promise that will resolve when the element is ready\r\n     */\n  ready: function ready() {\n    var self = this;\n    return $.when(self.parent.ready(), self.isRendered());\n  },\n  /*\r\n     *   Get the custom handlers set for this execution\r\n     */\n  getCustomHandlers: function getCustomHandlers() {\n    var self = this;\n    var form = self.getFormContainer();\n\n    if (form) {\n      return form.getCustomHandlers();\n    }\n    return null;\n  },\n  /*\r\n     *   Get the custom handlers set for this execution\r\n     */\n  getCustomHandler: function getCustomHandler(key) {\n    var self = this;\n    var customHandlers = self.getCustomHandlers();\n\n    if (customHandlers) {\n      return customHandlers[key];\n    }\n    return null;\n  },\n  /*\r\n     *   Calculates render label and value width\r\n     */\n  calculateRenderWidth: function calculateRenderWidth(labelWidth, valueWidth, displayType) {\n    var self = this;\n    // Read values\n    // If the label width or the value width are 0, the BAS means that no value is used, so we need to adjust them to 50%\n    if (valueWidth == \"100\" && typeof labelWidth === \"undefined\") {\n      labelWidth = \"0\";\n    } else {\n      labelWidth = labelWidth ? labelWidth != \"0\" ? labelWidth : \"50\" : \"50%\";\n    }\n    valueWidth = valueWidth ? valueWidth != \"0\" ? valueWidth : \"50\" : \"50%\";\n\n    if (displayType == \"normal\" || displayType == \"both\" || displayType == \"reversed\") {\n\n      // Special case with lower values, so they want both fields in \"auto\" width\n      if (labelWidth && bizagi.util.percent2Number(labelWidth) < 5 &&\n      valueWidth && bizagi.util.percent2Number(valueWidth) < 5) {\n        return { label: 0, control: 100 };\n      }\n      // Normalize percentages\n      if (labelWidth && !valueWidth) {\n        labelWidth = bizagi.util.percent2Number(labelWidth);\n        valueWidth = 100 - labelWidth;\n\n      } else if (!labelWidth && valueWidth) {\n        valueWidth = bizagi.util.percent2Number(valueWidth);\n        labelWidth = 100 - valueWidth;\n      } else {\n        labelWidth = bizagi.util.percent2Number(labelWidth);\n        valueWidth = bizagi.util.percent2Number(valueWidth);\n\n        // Check 100% percentage\n        if (labelWidth + valueWidth != 100 && typeof self.properties != \"undefined\" && self.properties.layoutType != \"pixels\") {\n          valueWidth = 100 - labelWidth;\n        }\n      }\n    } else {\n      labelWidth = 100;\n      valueWidth = 100;\n    }\n\n    return { label: labelWidth, control: valueWidth };\n  },\n  /*\r\n     *   Get param value idCase\r\n     */\n  getIdCase: function getIdCase() {\n    var self = this;\n    return self.getFormContainer().params.idCase || bizagi.context.idCase;\n  },\n  /*\r\n     *   Get param value idWorkitem\r\n     */\n  getIdWorkitem: function getIdWorkitem() {\n    var self = this;\n    return self.getFormContainer().params.idWorkitem || bizagi.context.idWorkitem;\n  },\n  /*\r\n     *   Get param value idTask\r\n     */\n  getidTask: function getidTask() {\n    var self = this;\n    return self.getFormContainer().params.idTask || bizagi.context.idTask;\n  },\n  /*\r\n     *   Get param value sessionId\r\n     */\n  getSessionId: function getSessionId() {\n    var self = this;\n    return self.getFormContainer().properties.sessionId;\n  },\n\n  /*\r\n     *   CELL STUFF\r\n     *   TODO: Move to other place\r\n     */\n\n  /* Customizes cell color*/\n  changeCellColor: function changeCellColor(color) {\n    var self = this;\n    var control = self.getControl();\n    if (control) {\n      if (color != 'none') {\n        control.css(\"color\", color);\n        control.find(\"input, textarea, label\").each(function (i, element) {\n          $(element).css(\"color\", color);\n        });\n      } else {\n        control.css(\"color\", \"\");\n        control.find(\"input, textarea, label\").each(function (i, element) {\n          $(element).css(\"color\", \"\");\n        });\n      }\n    }\n  },\n\n  /**\r\n      * Customizes cell background color\r\n      * @param color\r\n      */\n  changeCellBackgroundColor: function changeCellBackgroundColor(color) {\n    var self = this;\n    var control = self.getControl();\n    var backgroundColor = \"\";\n    var backgroundImage = \"\";\n\n    if (control) {\n      if (color != 'none') {\n        backgroundColor = color;\n        backgroundImage = \"none\";\n      }\n\n      if (self.properties.editable) {\n        var needBGPaint = false;\n\n        control.find(\"input, textarea, .ui-selectmenu\").each(function (i, element) {\n\n          if ((element.type == \"text\" || element.type == \"textarea\") && !$(element).hasClass('ui-select-data'))\n          needBGPaint = true;\n\n          $(element).css({\n            \"background-color\": backgroundColor,\n            \"background-image\": backgroundImage });\n\n        });\n\n        if (!needBGPaint) {\n          control.closest(\"td\").each(function (i, element) {\n            $(element).css({\n              \"background-color\": backgroundColor,\n              \"background-image\": backgroundImage });\n\n          });\n        }\n\n      } else {\n        control.each(function (i, element) {\n          //TODO: Validar si se aplican los estilos en tablet aun sin esta linea, cuidado con desktop\n          var item = $(element).hasClass(\"ui-bizagi-cell-readonly\") ? control.closest(\"td\") : $(element);\n          item.css({\n            \"background-color\": backgroundColor,\n            \"background-image\": backgroundImage });\n\n        });\n      }\n    }\n\n\n  },\n\n  /**\r\n      * Changes the cell visibility\r\n      * @param argument\r\n      */\n  changeCellVisibility: function changeCellVisibility(argument) {\n    var self = this;\n    var properties = self.properties;\n    var control = self.getControl();\n\n    if (control) {\n      // Hide - show the render\n      if (bizagi.util.parseBoolean(argument) == true) {\n        //control.show();\n        control.css(\"visibility\", \"visible\");\n        control.css(\"display\", \"\");\n\n        self.element && self.element.show();\n      } else {\n        //control.hide();\n        control.css(\"visibility\", \"hidden\");\n      }\n    }\n\n    // Update properties\n    properties.visible = argument;\n  },\n\n  /**\r\n      * Changes the cell required\r\n      * @param argument\r\n      */\n  changeCellRequired: function changeCellRequired(argument) {\n    var self = this;\n    var properties = self.properties;\n    var control = self.getControl();\n\n    if (control) {\n      // Check if argument is true and control donot have any value\n      if (bizagi.util.parseBoolean(argument) == true && bizagi.util.isEmpty(self.value)) {\n        control.addClass('control-required');\n        control.append('<div class=\"ui-bizagi-render-control-required\"></div>');\n      } else {\n        control.removeClass('control-required');\n        $(\".ui-bizagi-render-control-required\", control).remove();\n      }\n      // Update properties\n      properties.required = argument;\n    }\n  },\n\n  /**\r\n      * Method to create deferred at the moment to start multiaction\r\n      */\n  startActionExecution: function startActionExecution() {\n    var self = this;\n    self.startLoading();\n    self.actionExecutionDeferred = new $.Deferred();\n  },\n\n  /**\r\n      * method to resolve the deferred when multiaction finish\r\n      */\n  endActionExecution: function endActionExecution() {\n    var self = this;\n    self.endLoading();\n    if (self.actionExecutionDeferred) self.actionExecutionDeferred.resolve();\n    delete self.actionExecutionDeferred;\n  },\n\n  /**\r\n      * Method to return the promise to anyone that needs to know if multiaction ended\r\n      * @returns {*}\r\n      */\n  readyActionExecution: function readyActionExecution() {\n    var self = this;\n    if (!self.actionExecutionDeferred) return $.when(true);\n    return self.actionExecutionDeferred.promise();\n  },\n\n  /**\r\n      * Verifies is the elements was inside a new row in a grid\r\n      * @returns {boolean}\r\n      */\n  isFromCreatedRow: function isFromCreatedRow() {\n    var self = this;\n\n    if (self.grid) {\n      var i = self.grid.columns.length;\n\n      while (i-- > 0) {\n        if (self.grid.columns[i].properties.xpath == self.properties.xpath) {\n          if (self.grid.columns[i].isNewRow == true) {\n            return true;\n          }\n        }\n      }\n    }\n    return false;\n  },\n  /**\r\n      * Submits a invalidate page cache request\r\n      * @param params\r\n      */\n  submitInvalidatePageCacheRequest: function submitInvalidatePageCacheRequest(params) {\n    var self = this,\n    properties = self.properties;\n    var pageCacheToInvalidate = params ? params.idPageCache : properties.idPageCache;\n\n\n    self.dataService.invalidatePageCache({ idPageCache: pageCacheToInvalidate });\n  },\n\n  /**\r\n      * Check is design mode\r\n      */\n  isDesignMode: function isDesignMode() {\n    return this.getMode() === \"design\";\n  },\n\n  /**\r\n      * Check is design mode\r\n      */\n  isExecutionMode: function isExecutionMode() {\n    return this.getMode() === \"execution\";\n  },\n\n  /***/\n  preventDefaultForAnchorTag: function preventDefaultForAnchorTag() {\n    if (bizagi.util.isSharepointContext() || bizagi.util.isWebpartContext()) {\n      $(\"a[href='#']\", this.getControl()).click(function (ev) {\n        ev.preventDefault();\n      });\n    }\n  },\n\n  getMainForm: function getMainForm(currentForm) {\n    var fromRender = currentForm.params.fromRender;\n    if (typeof fromRender != \"undefined\")\n    this.getMainForm(fromRender.getFormContainer());else\n\n    return currentForm;\n  },\n\n  /**\r\n      * Provides a way to asynchronously observe changes in the intersection\r\n      * of a target element with an ancestor element\r\n      * @param $context\r\n      * @param callbackFn\r\n      */\n  setInterceptionObserver: function setInterceptionObserver($context, callbackFn) {\n    var self = this;\n\n    var intersectionObserver = new IntersectionObserver(function () {\n      if (!self.pluginInitialized && $context.width() !== 0) {\n\n        // Execute callback\n        if (typeof callbackFn === \"function\") {\n          callbackFn();\n        }\n\n        // Close\n        intersectionObserver.disconnect();\n      }\n    });\n\n    intersectionObserver.POLL_INTERVAL = 100; // Time in milliseconds.\n    intersectionObserver.observe($context.get(0));\n  },\n\n  /**\r\n      * Provides a way to asynchronously observe changes in the resize\r\n      * of a target element\r\n      * @param $context\r\n      * @param callbackFn\r\n      */\n  setResizeObserver: function setResizeObserver($context, callbackFn) {\n    var self = this;\n\n    var resizeObserver = new ResizeObserver(function () {\n      if (!self.pluginInitialized && $context.width() !== 0) {\n\n        // Execute callback\n        if (typeof callbackFn === \"function\") {\n          callbackFn();\n        }\n\n        // Close\n        resizeObserver.disconnect();\n      }\n    });\n    resizeObserver.observe($context.get(0));\n  },\n\n  /**\r\n      * Restore appearance of grid\r\n      */\n  restoreGridAppearance: function restoreGridAppearance() {\n    var self = this;\n    var indexes = self.getIndexes();\n\n    self.restoreAppearance();\n\n    if (self.columns.length > 0) {\n      $.each(self.columns, function (j, column) {\n        for (var i = 0; i < indexes.length; i++) {\n          column.decorateRenders[indexes[i]].restoreCellAppearance();\n        }\n      });\n    }\n  },\n\n  /**\r\n      * Save visual changes of children in grid\r\n      */\n  saveGridChildrenVisualChanges: function saveGridChildrenVisualChanges() {\n    var self = this;\n    var indexes = self.getIndexes();\n\n    self.gridChildrenVisualChanges = [];\n\n    if (self.columns.length > 0) {\n      $.each(self.columns, function (j, column) {\n        if (column.properties.xpath) {\n          for (var i = 0; i < indexes.length; i++) {\n            var cell = column.decorateRenders[indexes[i]];\n\n            if (cell && cell.properties)\n            self.gridChildrenVisualChanges[cell.properties.id + indexes[i]] = cell.visualChanges;\n          }\n\n        }\n      });\n    }\n  },\n\n  /**\r\n      * Restore visual changes of children in grid\r\n      */\n  restoreGridChildrenVisualChanges: function restoreGridChildrenVisualChanges() {\n    var self = this;\n    var indexes = self.getIndexes();\n    if (self.columns.length > 0) {\n      $.each(self.columns, function (j, column) {\n        if (column.properties.xpath) {\n          for (var i = 0; i < indexes.length; i++) {\n            var cell = column.decorateRenders[indexes[i]];\n\n            if (cell && cell.properties)\n            cell.visualChanges = self.gridChildrenVisualChanges[cell.properties.id + indexes[i]] || {};\n          }\n\n        }\n      });\n    }\n\n    delete self.gridChildrenVisualChanges;\n  },\n\n  /**\r\n      * Restore appearance of cell\r\n      */\n  restoreCellAppearance: function restoreCellAppearance() {\n    var self = this;\n\n    for (var command in self.visualChanges) {\n      switch (command) {\n        case \"color\":\n          self.changeCellColor(self.visualChanges[command]);\n          break;\n        case \"backgroundColor\":\n          self.changeCellBackgroundColor(self.visualChanges[command]);\n          break;\n        case \"required\":\n          self.changeCellRequired(self.visualChanges[command]);\n          break;\n        case \"editability\":\n          self.changeEditabilityCellControl(self.visualChanges[command], self.surrogateKey, self.properties.xpath);\n          break;\n        case \"visibility\":\n          self.changeCellVisibility(self.visualChanges[command]);\n          break;\n        case \"minValue\":\n          self.changeMinValue(self.visualChanges[command]);\n          break;\n        case \"maxValue\":\n          self.changeMaxValue(self.visualChanges[command]);\n          break;}\n\n    }\n  },\n\n  /**\r\n      * Method to perform the format to value\r\n      * @param value\r\n      * @returns {*}\r\n      */\n  formatValue: function formatValue(value) {\n    return value;\n  } });","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /**\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Name: Bizagi Form Container Class\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Author: UI Forms Team\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Comments:\r\n                                                                                                                                                                                                                                                                                                                                                                                *   -   This script will define a form container class that defines basic stuff regarding the device\r\n                                                                                                                                                                                                                                                                                                                                                                                */\n\n$.Class.extend(\"bizagi.rendering.form\", {}, {\n  /*\r\n                                              *   Constructor\r\n                                              */\n  init: function init(params) {\n    var self = this;\n    var data = params.data;\n    var device = bizagi.util.detectDevice();\n\n    // Creates a hashtable to maintain references by id\n    self.rendersById = {};\n    self.rendersByXpath = {};\n    self.rendersByXpathId = {};\n    self.rendersByType = {};\n\n    // Set page cache id\n    self.idPageCache = data.pageCacheId;\n\n    // Set default mode\n    self.mode = params.mode || \"execution\";\n    self.focus = params.focus;\n\n    // Set rendering params\n    self.params = params;\n\n    // Call base\n    this._super(params);\n\n    // Define confirmation message \n    var message = \"\";\n\n    if (device !== \"desktop\") {\n      message = this.getResource(\"render-form-user-confirmation-message\").replace(/<br(\\/| \\/)>/g, \"\\n\");\n    } else {\n      message = this.getResource(\"render-form-user-confirmation-message\");\n    }\n\n    // Default properties\n    var properties = self.properties;\n    properties.sessionId = data.sessionId;\n    properties.displayAsReadOnly = bizagi.util.parseBoolean(data.displayAsReadOnly) || false;\n    properties.userConfirmationMessage = properties.userConfirmationMessage || message;\n    properties.orientation = properties.orientation || \"ltr\";\n    properties.hasRule = bizagi.util.parseBoolean(properties.hasRule) || false;\n    properties.contexttype = params.contexttype || \"\";\n    properties.paramsRender = params.paramsRender || {};\n    properties.processPath = params.data.processPath ? params.data.processPath.replaceAll(\"|/|\", \"  &rsaquo;  \") : \"\";\n    properties.breadCrumb = params.data.processPath ? params.data.processPath.split(\"|/|\") : [];\n    properties.type = properties.type || \"form\";\n\n    // Set validations & actions\n    this.validations = data.validations;\n    this.actions = data.actions;\n\n    // Enable the \"Validate and Save\" action for Form Buttons\n    self.allowValidateAndSaveAction = bizagi.override && bizagi.override.enableActionValidateAndSave === true;\n\n    // Enable execution of Quick actions\n    var enableExecuteQuickActions = bizagi.util.isFeatureEnabled(\"enableExecuteQuickActions\");\n    var allowExecuteQuickActions = enableExecuteQuickActions !== null ? enableExecuteQuickActions : true;\n    self.useQuickActions = allowExecuteQuickActions && self.hasQuickActions(data, allowExecuteQuickActions);\n\n    // Initialize buttons\n    self.initializeButtons(data);\n\n    // Define transitions to Complex Gateway\n    if (data.transitions) {\n      self.transitions = data.transitions;\n    }\n\n    this.originalProcessButton = this.processButton;\n\n    //Custom behaviour for application parent activated.\n    self.isRoutingDisabled = false;\n    if (params.applicationParent) {\n      switch (params.applicationParent) {\n        case 'NEWWORKPORTAL':\n          self.isRoutingDisabled = true;\n          break;}\n\n    }\n\n    self.isOfflineFormsV2Supported = bizagi.util.isMobileDevice() && bizagi.util.isOfflineFormsV2Supported();\n    self.isOfflineForm = bizagi.util.isOfflineForm({ context: self });\n    self.rendersById[properties.id] = self;\n  },\n\n  /*\r\n     *   Initializes button metadata\r\n     */\n  initializeButtons: function initializeButtons(data) {\n    var self = this;\n\n    self.buttons = [];\n\n    // Process buttons\n    if (data.buttons) {\n      $.each(data.buttons, function (i, item) {\n        var button = item.button.properties;\n\n        // Process caption\n        button.caption = !bizagi.util.isEmpty(button.caption) && self.getResource(button.caption) !== button.caption ? self.getResource(button.caption) : button.caption;\n\n        // Process actions\n        if (button.actions) {\n          $.each(button.actions, function (i, action) {\n            button[action] = true;\n          });\n        }\n\n        // Add other properties\n        button.ordinal = i;\n        button.action = button.next ? \"next\" :\n        button.nextWithoutValidations ? \"nextWithoutValidations\" :\n        button.submitData ? \"save\" :\n        button.cancel ? \"cancel\" :\n        button.back ? \"back\" :\n        button.createnewcase ? \"createnewcase\" :\n        button.validate ? \"validate\" : \"\";\n\n        // Explicit add save operation\n        button.save = button.action === \"save\";\n\n        // Allow Quick action\n        button.quickAction = button.type === \"quickactions\";\n\n        // Add inherent behaviours\n        if (button.next || button.back || button.nextWithoutValidations) {\n          button.routing = true;\n        }\n\n        if (button.hasRule) {\n          button.executeRule = true;\n        }\n\n        if (self.allowValidateAndSaveAction && button.validate) {\n          button.submitData = true;\n          button.refresh = true;\n          button.save = true;\n          if (button.action === \"next\" || button.action === \"createnewcase\") {\n            button.refresh = false;\n          }\n        }\n\n        // Prepare button style\n        button.style = self.buildButtonStyle(button);\n\n        // Add to button array\n        self.buttons.push(button);\n      });\n    }\n  },\n\n  /*\r\n     *   Get the original params used to fetch the form\r\n     */\n  getParams: function getParams() {\n    return this.params;\n  },\n\n  setParam: function setParam(property, value) {\n    if (this.params) {\n      this.params[property] = value;\n    }\n  },\n\n  /*\r\n     *   Get current rendering mode\r\n     */\n  getMode: function getMode() {\n    return this.mode;\n  },\n  /*\r\n     *   Get the custom handlers set for this execution\r\n     */\n  getCustomHandlers: function getCustomHandlers() {\n    var self = this;\n    if (self.params) {\n      return self.params.customHandlers;\n    }\n  },\n  /*\r\n     * Method to index renders\r\n     */\n  registerRender: function registerRender(render) {\n    var self = this;\n    var xpath = render.properties.xpath;\n    var id = render.properties.id;\n    var type = render.properties.type;\n    var xpathId = xpath ? xpath + \".\" + id : undefined;\n\n    self.rendersById[id] = render;\n    if (xpath) {\n      if (!self.rendersByXpath[xpath]) {\n        self.rendersByXpath[xpath] = [];\n      }\n      self.rendersByXpath[xpath].push(render);\n    }\n\n    if (xpathId) {\n      if (!self.rendersByXpathId[xpathId]) {\n        self.rendersByXpathId[xpathId] = [];\n      }\n      self.rendersByXpathId[xpathId].push(render);\n    }\n\n    if (!self.rendersByType[type]) {\n      self.rendersByType[type] = [];\n    }\n    self.rendersByType[type].push(render);\n  },\n  /*\r\n     * Method to unregister render\r\n     */\n  unregisterRender: function unregisterRender(render) {\n    var self = this;\n\n    if (self.rendersById[render.properties.id]) {\n      delete self.rendersById[render.properties.id];\n    }\n\n    if (render.properties.xpath) {\n      if ($.isArray(self.rendersByXpath[render.properties.xpath]) &&\n      self.rendersByXpath[render.properties.xpath].length > 1) {\n        for (var i = 0, l = self.rendersByXpath[render.properties.xpath].length; i < l; i++) {\n          var element = self.rendersByXpath[render.properties.xpath][i];\n          if (bizagi.util.md5(JSON.stringify(element.properties)) === bizagi.util.md5(JSON.stringify(render.properties))) {\n            self.rendersByXpath[render.properties.xpath].splice(i, 1);\n            self.rendersByXpathId[render.properties.xpath + '.' + render.properties.id].splice(i, 1);\n            break;\n          }\n        }\n      } else {\n        delete self.rendersByXpath[render.properties.xpath];\n        delete self.rendersByXpathId[render.properties.xpath + '.' + render.properties.id];\n      }\n    }\n\n    // Unregister from renders by type\n    if (render.properties.type) {\n      var listRendesByType = self.getRenderByType(render.properties.type);\n      var listRendesByTypeLength = listRendesByType.length;\n      var renderKey = render.properties.id || render.properties.xpath;\n\n      for (var i = 0; i < listRendesByTypeLength; i++) {\n        var listRender = listRendesByType[i];\n        if (typeof listRender.properties.id != \"undefined\" && listRender.properties.id == renderKey ||\n        typeof listRender.properties.xpath != \"undefined\" && listRender.properties.xpath == renderKey) {\n          // Unregister element\n          self.rendersByType[render.properties.type].splice(i, 1);\n          break;\n        }\n      }\n    }\n  },\n  /*\r\n     * Method to access a render by id\r\n     */\n  getRenderById: function getRenderById(id) {\n    var self = this;\n\n    return self.rendersById[id];\n  },\n\n  getGridByColumn: function getGridByColumn(id) {\n    var self = this;\n    var grids = self.getRenderByType('grid');\n    var i = 0,columnIndex;\n\n    for (; i < grids.length; i++) {\n      columnIndex = grids[i].columnsIds.indexOf(id);\n      if (columnIndex != -1) {\n        return grids[i];\n      }\n    }\n\n    return null;\n  },\n\n  /*\r\n     *   Method to find all the renders matching an xpath inside the container\r\n     */\n  getRenders: function getRenders(xpath) {\n    var self = this;\n\n    // Remove [] filters for grid columns xpaths to fully identify the grid as the xpath target\n    if (xpath && xpath.indexOf)\n    if (xpath.indexOf(\"[\") > 0) {\n      xpath = xpath.substring(0, xpath.indexOf(\"[\"));\n    }\n\n    return self.rendersByXpathId[xpath] ?\n    self.rendersByXpathId[xpath] : self.rendersByXpath[xpath] ?\n    self.rendersByXpath[xpath] : [];\n  },\n  /**\r\n      * Get all render with the same type\r\n      */\n  getRenderByType: function getRenderByType(type) {\n    var self = this;\n\n    // Check that type is defined\n    if (typeof type == \"string\" && type.length > 0) {\n      // Search controls by type\n      return self.rendersByType[type] ? self.rendersByType[type] : [];\n    }\n    return [];\n  },\n\n  /*\r\n     *   Build the container html\r\n     */\n  renderContainer: function renderContainer() {\n    var self = this;\n    var properties = this.properties;\n    var template = self.renderFactory.getTemplate(\"form\");\n    var idCase = \"\";\n\n    // Render the form\n    // TODO: Unify markup of forms. Currently the template has validations to apply a different markup if it is \n    //a query form. In the future, all forms should have the same markup to minimize complexity. See form.tmpl.html.\n    var html = $.fasttmpl(template, {\n      buttons: self.buttons,\n      transitions: self.transitions,\n      uniqueId: properties.uniqueId,\n      helptext: properties.helpText,\n      mode: self.getMode(),\n      queryForm: self.getFormType() === \"queryForm\",\n      summaryForm: self.params.summaryForm || false,\n      globalForm: self.properties.displayAsReadOnly || false,\n      idCase: idCase,\n      displayName: self.params.displayName || idCase,\n      processPath: properties.processPath,\n      breadCrumb: properties.breadCrumb,\n      orientation: properties.orientation,\n      isEmpty: bizagi.util.isEmpty(self.children) && bizagi.util.isEmpty(self.transitions), // Sections and Gateway\n      allowQuickActions: self.useQuickActions // Quick actions\n    });\n\n    // Render children\n    html = self.replaceChildrenHtml(html, self.renderChildrenHtml());\n    return html;\n  },\n  /*\r\n     *   Process the html rendering object\r\n     */\n  postRenderContainer: function postRenderContainer(form) {\n    var self = this;\n    var mode = self.getMode();\n\n    // Add a mode class\n    form.addClass(\"ui-bizagi-rendering-mode-\" + mode);\n\n    // Call base\n    this._super(form);\n  },\n  /*\r\n     *   Template method to implement in each device to customize the container's behaviour to add handlers\r\n     */\n  configureHandlers: function configureHandlers() {\n    var self = this;\n    var complexGatewayContainer;\n    var form = self.container;\n\n    if (form.length > 1) {\n      $(form).each(function () {\n        if ($(this).hasClass('ui-bizagi-container-complexgateway')) {\n          complexGatewayContainer = this;\n        }\n      });\n    } else {\n      complexGatewayContainer = $(\".ui-bizagi-container-complexgateway\", form);\n    }\n\n    // activeTransitions is used to store ids of activities in Complex Gateway\n    self.activeTransitions = {};\n\n    // Process buttons\n    self.processButtons(form);\n\n    // Check for dom included event\n    self.bind(\"ondomincluded\", function (e, mainForm) {\n      var $canvas = self.getValidationsContainer(mainForm);\n\n      // Creates validation controller after the form is ready\n      self.validationController = new bizagi.command.controllers.validation(self, self.validations, $canvas);\n      // Creates action controller after the form is ready\n      self.actionController = new bizagi.command.controllers.action(self, self.actions);\n\n      // Resolve this deferred to start executing DOM dependant plugins\n      self.readyDeferred.resolve();\n    });\n\n    // Set events for complex gateway interface\n    $(complexGatewayContainer).find(\".ui-checkbox\").bind(\"click\", function () {\n      var checkboxLabel = $(\"label\", this);\n\n      var transitionId = checkboxLabel.data(\"value\") || \"\";\n      if (typeof self.activeTransitions[transitionId] == \"undefined\") {\n        self.activeTransitions[transitionId] = false;\n      }\n\n      if (bizagi.util.parseBoolean(checkboxLabel.data(\"checked\"))) {\n        // Uncheck element\n        checkboxLabel.removeClass(\"ui-checkbox-state-checked\");\n        checkboxLabel.removeClass(\"bz-check\").addClass(\"bz-full-ball\");\n        checkboxLabel.data(\"checked\", false);\n        self.activeTransitions[transitionId] = false;\n      } else {\n        // Check element\n        checkboxLabel.addClass(\"ui-checkbox-state-checked\");\n        checkboxLabel.addClass(\"bz-mo-icon\").addClass(\"bz-check\").removeClass(\"bz-full-ball\");\n        checkboxLabel.data(\"checked\", true);\n        self.activeTransitions[transitionId] = true;\n      }\n    });\n\n\n  },\n  /*\r\n     *   Template method to implement in each device to customize the render's behaviour when rendering in design mode\r\n     */\n  configureDesignView: function configureDesignView() {\n    var self = this;\n\n\n    // Check for dom included event\n    self.bind(\"ondomincluded\", function () {\n      // Resolve this deferred to start executing DOM dependant plugins\n      self.readyDeferred.resolve();\n    });\n  },\n  /*\r\n     *   Format form buttons to allow further customization\r\n     */\n  buildButtonStyle: function buildButtonStyle(button) {\n\n    var style = {};\n    if (button.format) {\n      if (button.format.size) {\n        if (button.format.size != \"0\") {\n          var newFontSize = 100 + Number(button.format.size) * 10 + \"%\";\n          style[\"font-size\"] = newFontSize + \" !important\";\n        }\n      }\n      if (button.format.bold) {\n        style[\"font-weight\"] = \"bold !important\";\n        if (bizagi.util.isIE()) {\n          style[\"font-family\"] = \"'Open Sans', 'Helvetica Neue', Arial, Helvetica, sans-serif !important\";\n        }\n      }\n      if (button.format.italic) {\n        style[\"font-style\"] = \"italic !important\";\n      }\n      if (button.format.underline || button.format.strikethru) {\n        var strikethru = bizagi.util.parseBoolean(button.format.strikethru) ? \"line-through \" : \"\";\n        var underline = bizagi.util.parseBoolean(button.format.underline) ? \"underline \" : \"\";\n        style[\"text-decoration\"] = strikethru + underline + \" !important\";\n      }\n      if (button.format.background) {\n        style[\"background-color\"] = button.format.background + \" !important\";\n        style[\"background-image\"] = \"none !important\";\n      }\n      if (button.format.color) {\n        style[\"color\"] = button.format.color + \" !important\";\n      }\n    }\n\n    var strStyle = \"\";\n    for (key in style) {\n      strStyle += key + \":\" + style[key] + \";\";\n    }\n    return strStyle;\n  },\n  /*\r\n     *   Returns the in-memory processed element\r\n     *   Returns a promise\r\n     */\n  render: function render() {\n    var self = this;\n\n    // Creates a deferred, so we can check when form has been included in dom\n    if (!self.readyDeferred)\n    self.readyDeferred = new $.Deferred();\n\n    // Call base\n    var result = this._super();\n\n    return result;\n  },\n  /*\r\n     *   Sets a promise that the form will be included in the DOM\r\n     *   so we can apply some tedious plugins that require that\r\n     */\n  ready: function ready() {\n    var self = this;\n\n    return self.readyDeferred.promise();\n  },\n  /*\r\n     *   Returns the xpath context of the element\r\n     */\n  getXpathContext: function getXpathContext() {\n    return this.properties.xpathContext || \"\";\n  },\n  /*\r\n     *  Return context type, when the parent form is entity\r\n     */\n  getContextType: function getContextType() {\n    return this.properties.contexttype || \"\";\n  },\n\n  /*\r\n     * Return the endpoint action, when the form will be refresh\r\n     */\n  getEndPointAction: function getEndPointAction() {\n    var self = this,\n    properties = self.properties;\n\n    if (properties.formtype == \"startform\")\n    return \"LOADSTARTFORM\";\n\n    return undefined;\n\n  },\n\n  /*\r\n     *   Returns the page cache id for the element\r\n     */\n  getPageCache: function getPageCache() {\n    return this.idPageCache;\n  },\n  /*\r\n     *   Returns the form containing the element\r\n     */\n  getFormContainer: function getFormContainer() {\n    return this;\n  },\n  /*\r\n     *   Method to process button actions in the form\r\n     */\n  processButtons: function processButtons() {\n    var self = this;\n    var buttons = self.getButtons();\n\n    // Don't process buttons if they are undefined in the template\n    if (!buttons || buttons.length === 0) return;\n\n    // Attach a handler for each button\n    buttons.on(\"click\", function (e) {\n      e.preventDefault();\n      e.stopImmediatePropagation();\n\n      self.startLoading();\n\n      var button = $(this);\n      var ordinal = button.attr(\"ordinal\");\n      var buttonProperties = self.buttons.find(function (btn) {\n        return btn.ordinal == ordinal;\n      });\n\n      self.lastActionButton = buttonProperties;\n      if (buttonProperties.action === \"next\") {\n        buttonProperties.routingDisabled = self.isRoutingDisabled;\n      }\n\n      // Disable button to prevent multiple click actions\n      button.prop(\"disabled\", true);\n\n      if (button.hasOwnProperty('disabled')) {\n        button.button(\"disable\"); // Setting styles\n      }\n\n      // External Events\n      self.propagateExternalEvents(e);\n\n      // Execute button\n      // QAF-1418 - add setTimeout\n      var timeOutButton = setTimeout(function () {\n        $.when(self.processButton(buttonProperties)).always(function () {\n          self.processDefer = undefined;\n          self.endLoading();\n          if ($.contains(document.documentElement, button.get(0))) {//check if button is still in DOM\n            button.prop(\"disabled\", false); //enable button\n\n            if (button.hasOwnProperty('enable')) {\n              button.button(\"enable\"); //Setting styles\n            }\n          }\n        });\n        clearTimeout(timeOutButton);\n      }, 100);\n    });\n  },\n  /*\r\n     * Execute codes just before sending information to server\r\n     */\n  preProcessButton: function preProcessButton(buttonProperties) {\n    return true;\n  },\n  /*\r\n     * Execute codes just after sending information to server\r\n     */\n  postProcessButton: function postProcessButton(responses, buttonProperties) {\n    return true; // true means continue\n  },\n\n  setLoaderDeferred: function setLoaderDeferred() {\n    var self = this;\n\n    self.loaderDeferred = $.Deferred().resolve();\n  },\n\n  deleteLoaderDeferred: function deleteLoaderDeferred() {\n    var self = this;\n\n    if (self.isLoaderDeferredSet()) {\n      $.when(self.loaderDeferred.promise()).done(function () {\n        delete self.loaderDeferred;\n      }).fail(function () {\n        delete self.loaderDeferred;\n      });\n    }\n  },\n\n  useOrSetLoaderDeferred: function useOrSetLoaderDeferred() {\n    var self = this;\n\n    if (!self.isLoaderDeferredSet()) {\n      self.setLoaderDeferred();\n    }\n  },\n\n  getLoaderPromise: function getLoaderPromise() {\n    var self = this;\n\n    if (self.isLoaderDeferredSet()) {\n      return self.loaderDeferred.promise();\n    } else {\n      return;\n    }\n  },\n\n  isLoaderDeferredSet: function isLoaderDeferredSet() {\n    var self = this;\n\n    if (self.loaderDeferred) {\n      return true;\n    } else {\n      return false;\n    }\n  },\n\n  appendWaitForLoader: function appendWaitForLoader(params) {\n    var self = this;\n    var promise = params.promise;\n    var create = params.create || false;\n\n    if (!self.isLoaderDeferredSet()) {\n      if (create) {\n        self.setLoaderDeferred();\n      } else {\n        return;\n      }\n    }\n\n    self.loaderDeferred = self.loaderDeferred.then(function () {\n      return function () {\n        return promise;\n      }();\n    });\n  },\n\n  getResolveOrReject: function getResolveOrReject() {\n    var self = this;\n    var deferred = $.Deferred();\n\n    if (self.isLoaderDeferredSet()) {\n      $.when(self.loaderDeferred.promise()).done(function () {\n        deferred.resolve();\n      }).fail(function () {\n        deferred.resolve();\n      });\n    } else {\n      deferred.resolve();\n    }\n\n    return deferred.promise();\n  },\n\n  /*\r\n     *   Executes a single button action\r\n     */\n  processButton: function processButton(buttonProperties) {\n    var self = this;\n    var defer = $.Deferred();\n    var properties = self.properties;\n    if (!buttonProperties.routing) {\n      bizagi.chrono.initAndStart(\"submitForm\");\n    }\n    bizagi.chrono.init(\"waiting\");\n\n    // First hide and clear validation box\n    self.validationController.clearValidationMessages();\n\n    // Resolve asynchronous tabItems\n    var form = self.getFormContainer();\n    var getAllTabs = form.getRenderByType(\"tabItem\");\n    var getAllTabsLength = getAllTabs.length;\n\n    form.innerTabsLoading = true;\n\n    self.useOrSetLoaderDeferred();\n\n    // Check\n    for (var i = 0; i < getAllTabsLength; i++) {\n      var render = getAllTabs[i];\n      // Resolve internal deferred\n      if (render.loadingDeferred && render.parent.container) {\n        render.loadingDeferred.resolve();\n      }\n    }\n\n    delete form.innerTabsLoading;\n\n    $.when(self.ready(), self.getResolveOrReject()).done(function () {\n      self.deleteLoaderDeferred();\n      // Validate the form\n      var valid = bizagi.util.parseBoolean(buttonProperties.validate) ? self.validationController.performValidations() : true;\n      if (valid) {\n\n        if ([\"save\", \"next\", \"back\", \"createnewcase\", \"nextWithoutValidations\"].includes(buttonProperties.action) && !self.isOfflineForm) {\n          $(document).data('auto-save', '');\n        }\n\n        // Check for user confirmation if configured and the button is configured to enroute\n        var confirmationStatus = self.getConfirmationStatus(properties, buttonProperties);\n\n        if (confirmationStatus.hasConfirmation) {\n          self.endLoading();\n          $.when(bizagi.showConfirmationBox(confirmationStatus.message, null, false)).done(function () {\n            // Submits the form\n            if (self.preProcessButton(buttonProperties)) {\n              //Trigger the event after ProcessButton\n              self.triggerGlobalHandler(\"renderActionButton\", buttonProperties);\n              $.when(self.submitForm(buttonProperties)).done(function () {\n                defer.resolve();\n              }).fail(function () {\n                defer.reject(arguments);\n              });\n            }\n          }).fail(function () {\n            defer.reject();\n          });\n\n        } else {\n          if (self.preProcessButton(buttonProperties)) {\n            //Trigger the event after ProcessButton\n            self.triggerGlobalHandler(\"renderActionButton\", buttonProperties);\n            $.when(self.submitForm(buttonProperties)).done(function () {\n              $(document).trigger(\"FORMACTION\", buttonProperties);\n              defer.resolve();\n            }).fail(function () {\n              defer.reject(arguments);\n            });\n          }\n        }\n\n      } else {\n\n        self.endLoading();\n        if (buttonProperties.submitData) {\n          $.when(self.submitData()).done(function () {\n            defer.reject();\n          });\n        } else {\n          defer.reject();\n        }\n\n        self.validationController.expandNotificationBox();\n      }\n\n      var customHandler = self.getCustomHandler(\"afterFormButtonClick\");\n      if (customHandler) {\n        customHandler(buttonProperties);\n      }\n    });\n\n    return defer.promise();\n  },\n  /*\r\n     *   Public method to perform validations externally\r\n     */\n  validateForm: function validateForm() {\n    var self = this;\n\n    // First hide and clear validation box\n    self.validationController.clearValidationMessages();\n\n    // Validate the form\n    return self.validationController.performValidations();\n  },\n  /*\r\n     *   Submits all the form to the server and returns a deferred to check when the process finishes\r\n     */\n  saveForm: function saveForm() {\n    var self = this;\n\n    // Avoid the execution of server actions for mobile offline\n    if (bizagi.util.isNativeMobileDevice() && !this.allowOnlineActions()) {\n      return $.when(function () {\n        return null;\n      });\n    }\n\n    // Collect data\n    var data = self.collectRenderValuesForSubmit();\n\n    // Check if there are deferreds to wait\n    var deferredsToWait = null;\n    if (data.deferreds) {\n      deferredsToWait = $.when.apply($, data.deferreds);\n      delete data.deferreds;\n    }\n\n    // Wait for deferreds\n    return $.when(deferredsToWait).pipe(function () {\n      self.startLoading();\n\n      var saveParams = {\n        action: \"SAVE\",\n        data: data,\n        idCase: self.params.idCase,\n        idWorkitem: self.params.idWorkitem,\n        xpathContext: self.properties.xpathContext,\n        idPageCache: self.properties.idPageCache,\n        isOfflineForm: self.isOfflineForm || false };\n\n\n      if (self.isOfflineForm) {\n        saveParams.offlineType = self.params.offlineType;\n      }\n\n      // Submit the form\n      return $.when(self.dataService.submitData(saveParams)).\n      always(function () {\n        self.endLoading();\n      });\n    });\n  },\n  removeCaseSyncError: function removeCaseSyncError() {\n    var editPromise = undefined;\n    if (!this.removeSyncErrorOnSubmit) return;\n    this.removeSyncErrorOnSubmit = false;\n    var offlineType = this.params.offlineType == \"task\" ? \"task\" : \"start\";\n    var editPromise = offlineType == \"start\" ? this.dataService.removeStartCaseSyncError(this.params) :\n    this.dataService.removeTaskCaseSyncError(this.params);\n    return editPromise;\n  },\n  /*\r\n     *   Creates a json array with key values to send to the server\r\n     */\n  submitForm: function submitForm(buttonProperties) {\n    var self = this;\n    var defer = $.Deferred();\n\n    $.when(self.isReadyToSave()).\n    then(function () {\n      if (self.isOfflineForm) {\n        $.when(self.removeCaseSyncError()).\n        then(\n        //Even if the removeSyncError promise fails the internalSubmit should be executed without break the promise chain\n        function () {return self.internalSubmitFormOffline(buttonProperties);},\n        function () {return self.internalSubmitFormOffline(buttonProperties);}).\n\n        then(function () {\n          defer.resolve();\n        }).fail(function () {\n          defer.reject(arguments);\n        });\n      } else\n      {\n        $.when(self.internalSubmitForm(buttonProperties)).\n        done(function () {\n          defer.resolve();\n        }).fail(function () {\n          defer.reject(arguments);\n        });\n      }\n    }).\n    fail(function () {\n      self.endLoading();\n      bizagi.log(\"The form is not saved, no changes were found\");\n      defer.reject();\n    });\n    return defer.promise();\n  },\n  checkWidgetsData: function checkWidgetsData() {\n    //\n  },\n  isComplexGatewayPainted: function isComplexGatewayPainted() {\n    return false;\n  },\n\n  /**\r\n      * Get last action button\r\n      * @returns {*}\r\n      */\n  getLastActionButton: function getLastActionButton() {\n    return this.lastActionButton;\n  },\n\n  /**\r\n      * Internal - Creates a json array with key values to send to the database\r\n      * @param {} buttonProperties\r\n      * @returns {}\r\n      */\n  internalSubmitFormOffline: function internalSubmitFormOffline(buttonProperties) {\n    var self = this;\n    var message = \"\";\n    var data;\n    var defer = $.Deferred();\n\n    if (self.isOfflineForm && self.properties && !self.properties.idPageCache) {\n      self.properties.idPageCache = \"\";\n    }\n\n    // Fill data hash\n    if (buttonProperties.submitData || buttonProperties.executeRule || buttonProperties.save) {\n      // Collect data\n      data = self.collectRenderValuesForSubmit();\n    } else {\n      // When the action is validate            \n      return;\n    }\n\n    var executeButtonAction = null;\n\n    // Start asynchronous operation\n    bizagi.loading.start();\n\n    // Prepare actions\n    if (buttonProperties.executeRule) {// When the button has to execute any rule (MUST SUBMIT DATA BEFORE ALWAYS)\n\n      // in offline this don't happend => Reset data because when an execute rule operation has been performed, it saved already all the data\n      if (data == undefined) {\n        data = {};\n      }\n\n      executeButtonAction = self.dataService.executeButton({\n        idRender: buttonProperties.id,\n        xpathContext: self.properties.xpathContext || \"\",\n        idPageCache: self.properties.idPageCache,\n        prepare: true });\n\n      executeButtonAction.tag = \"executeRule_\" + buttonProperties.id;\n    }\n\n    if (self.transitions) {\n      var transitions = [];\n      $.each(this.activeTransitions, function (key, value) {\n        value ? transitions.push(key) : \"\";\n      });\n\n      if (bizagi.util.countProps(transitions) == 0) {\n        bizagi.showMessageBox(\n        bizagi.localization.getResource(\"render-widget-complexgateway-path\"),\n        bizagi.localization.getResource(\"render-widget-complexgateway-error\"), \"info\", false);\n\n        self.endLoading();\n        return \"\";\n      }\n    }\n\n    var waitingDeferreds = [];\n    var deferredsToWait = null;\n\n    if (data && data.deferreds) {\n      deferredsToWait = $.when.apply($, data.deferreds);\n      waitingDeferreds.push(deferredsToWait);\n      delete data.deferreds;\n    }\n\n    // Assemble the actions\n    var actions = [];\n\n    if (executeButtonAction) {\n      actions.push(executeButtonAction);\n    }\n\n    $.when.apply($, waitingDeferreds).done(function () {\n      $.when(self.dataService.submitData({\n        action: buttonProperties.action,\n        data: data,\n        xpathContext: self.properties.xpathContext,\n        idPageCache: self.properties.idPageCache,\n        idForm: self.properties.id,\n        prepare: true,\n        transitions: transitions || \"\",\n        idCase: self.params.idCase,\n        idWorkitem: self.params.idWorkitem,\n        isOfflineForm: self.isOfflineForm || false,\n        offlineType: self.params.offlineType || \"\",\n        actions: actions })).\n      then(function (responses) {\n\n        if (!self.postProcessButton(responses, buttonProperties)) {\n          return;\n        }\n\n        //Offline action stored\n        var isSaveForDraft = self.params.offlineType !== \"task\" && buttonProperties.action === \"save\";\n        if (self.online && self.isOfflineFormsV2Supported && !isSaveForDraft) {\n          var syncDeferred = new $.Deferred();\n          var syncParams = $.extend({ deferred: syncDeferred }, self.params);\n          $(document).trigger(\"tryPushCase.offline\", syncParams);\n        }\n\n        //Backward comp\n        if (!self.isOfflineFormsV2Supported) {\n          $(document).trigger(\"tryPushData.offline\");\n        }\n\n        $.when(syncDeferred).\n        then(function (result) {\n          bizagi.loading.stop();\n          if (buttonProperties.routing) {\n            if (!self.online && self.isOfflineFormsV2Supported) {\n              self.triggerHandler(\"routing\", {\n                offlineAction: buttonProperties.action,\n                idCase: self.params.idCase,\n                idWorkitem: self.params.idWorkitem,\n                buttonPropertiesAction: buttonProperties.action,\n                radNumber: self.params.radNumber });\n\n            } else {\n              //Show toast synchronized\n              if (self.showToastOnSuccessSync) {\n                self.showToastOnSuccessSync = false;\n                bizagi.util.showMobileToast({\n                  type: \"success\",\n                  message: bizagi.localization.getResource(\"workportal-offline-sync-success\") });\n\n              }\n              self.triggerHandler(\"routing\", {\n                idCase: result.IdCase,\n                caseNumber: result.CaseNumber,\n                buttonPropertiesAction: buttonProperties.action });\n\n            }\n          } else {\n\n            //The case was not sync\n            if (!self.online && result == undefined) {\n              self.isOfflineRefreshWithEdition = true;\n            }\n            // After successfully response refresh the form\n            if (buttonProperties.refresh || result && result.shouldRefresh) {\n              self.refreshForm();\n            }\n            if (self.showToastOnSuccessSync && self.online) {\n              self.showToastOnSuccessSync = false;\n              bizagi.util.showMobileToast({\n                type: \"success\",\n                message: bizagi.localization.getResource(\"workportal-offline-save-and-sync-success\") });\n\n            } else {\n              var message = bizagi.localization.getResource(\"workportal-mobile-offline-form-successful\", \"Saved\");\n              bizagi.util.showNotification({ text: message, stop: false, type: \"success\" });\n            }\n          }\n          defer.resolve();\n        }).\n        fail(function (error) {\n          bizagi.loading.stop();\n          bizagi.util.recreateNativeButtons(self);\n          var message = bizagi.localization.getResource(\"workportal-mobile-offline-sync-fail\", \"Synchronization failed\");\n          bizagi.util.showNotification({ text: message, stop: false, type: \"error\" });\n          if ($.isArray(error)) {\n            var responses = error;\n            var bHasValidations;\n            var alertMessage = \"\";\n            $.each(responses, function (i, response) {\n              var propertiesToDisplayMessages = self.validationToDisplayMessages(bHasValidations, response.result.type, response.result.messages, alertMessage);\n              bHasValidations = propertiesToDisplayMessages.bHasValidations;\n              alertMessage = propertiesToDisplayMessages.alertMessage;\n            });\n            if (bHasValidations && alertMessage !== \"\") {\n              bizagi.modalError.show(alertMessage, 'workportal-general-word-information', false);\n            }\n          }\n          self.failHandler(error);\n          defer.reject(error);\n        });\n      }).fail(function (error) {\n        var message = bizagi.localization.getResource(\"workportal-mobile-offline-sync-fail\", \"Synchronization failed\");\n        bizagi.util.showNotification({ text: message, stop: false, type: \"error\" });\n        defer.reject(error);\n      });\n    });\n\n  },\n\n  /**\r\n      * To save handSignature or any filetype render after editting in offline mode\r\n      * @param {Array} data - RederValues from collecData() \r\n      */\n  partialSubmitFormOffline: function partialSubmitFormOffline(data) {\n    var self = this;\n    var defer = $.Deferred();\n\n    $.when(self.dataService.submitData({\n      action: \"save\",\n      data: data,\n      xpathContext: self.properties.xpathContext,\n      idPageCache: self.properties.idPageCache,\n      idForm: self.properties.id,\n      prepare: true,\n      transitions: \"\",\n      idCase: self.params.idCase,\n      idWorkitem: self.params.idWorkitem,\n      isOfflineForm: self.isOfflineForm || false,\n      offlineType: self.params.offlineType || \"\",\n      actions: [] })).\n\n    fail(function (error) {\n      var message = bizagi.localization.getResource(\"workportal-mobile-offline-form-fail\", \"Not saved\");\n      bizagi.util.showNotification({ text: message, stop: false, type: \"error\" });\n      defer.reject(error);\n    });\n\n    return defer.promise();\n  },\n\n  /*\r\n     *   Internal - Creates a json array with key values to send to the server\r\n     */\n  internalSubmitForm: function internalSubmitForm(buttonProperties) {\n    var self = this;\n    var defer = $.Deferred();\n    var data = {};\n\n    // Fill data hash\n    if (buttonProperties.submitData || buttonProperties.executeRule || buttonProperties.createnewcase || buttonProperties.back) {\n      // Collect data\n      data = self.collectRenderValuesForSubmit();\n    }\n\n    // Start asynchronous operation\n    $.when(self.startLoading()).done(function () {\n      $('html, body').animate({ scrollTop: $('.ui-bizagi-loading-icon') }, 'slow');\n    });\n\n    var submitDataAction = null;\n    var executeButtonAction = null;\n    var performAction = null;\n    var checkpointAction = null;\n    var commitAction = null;\n    var waitingDeferreds = [];\n    var deferredsToWait = null;\n\n    // Prepare actions\n    if (buttonProperties.executeRule) {// When the button has to execute any rule (MUST SUBMIT DATA BEFORE ALWAYS)\n\n      if (data.deferreds) {\n        deferredsToWait = $.when.apply($, data.deferreds);\n        waitingDeferreds.push(deferredsToWait);\n        delete data.deferreds;\n      }\n\n      submitDataAction = self.dataService.submitData({\n        action: \"SUBMITDATA\",\n        data: data,\n        xpathContext: self.properties.xpathContext,\n        idPageCache: self.properties.idPageCache,\n        prepare: true });\n\n      submitDataAction.tag = \"submitData\";\n\n      checkpointAction = self.prepareCheckpointAction(buttonProperties.id);\n\n      // Reset data because when an execute rule operation has been performed, it saved already all the data\n      data = {};\n      executeButtonAction = self.dataService.executeButton({\n        idRender: buttonProperties.id,\n        xpathContext: self.properties.xpathContext || \"\",\n        idPageCache: self.properties.idPageCache,\n        prepare: true });\n\n      executeButtonAction.tag = \"executeRule\";\n\n      commitAction = self.prepareCommitAction(buttonProperties.id);\n    }\n\n    if (buttonProperties.next || buttonProperties.back || buttonProperties.save || buttonProperties.createnewcase || buttonProperties.nextWithoutValidations) {\n      // Verify transitions\n      if (self.transitions) {\n        var transitions = [];\n        $.each(this.activeTransitions, function (key, value) {\n          value ? transitions.push(key) : \"\";\n        });\n\n        if (bizagi.util.countProps(transitions) == 0) {\n          bizagi.showMessageBox(bizagi.localization.getResource(\"render-widget-complexgateway-path\"), bizagi.\n          localization.getResource(\"render-widget-complexgateway-error\"), \"info\", false);\n          self.endLoading();\n          defer.reject();\n          return defer.promise();\n        }\n      }\n\n      if (data && data.deferreds) {\n        deferredsToWait = $.when.apply($, data.deferreds);\n        waitingDeferreds.push(deferredsToWait);\n        delete data.deferreds;\n      }\n\n\n      performAction = self.dataService.submitData({\n        action: self.getButtonAction(buttonProperties.action),\n        forcePlanCompletion: buttonProperties.forcePlanCompletion,\n        data: data,\n        xpathContext: self.properties.xpathContext,\n        idPageCache: self.properties.idPageCache,\n        prepare: true,\n        transitions: transitions || \"\",\n        contexttype: self.properties.contextType,\n        surrogatekey: self.properties.surrogateKey });\n\n      performAction.tag = \"performAction\";\n    }\n\n    // Assemble the actions\n    var actions = [];\n\n    if (executeButtonAction) {\n      actions.push(submitDataAction);\n      actions.push(checkpointAction);\n      actions.push(executeButtonAction);\n      actions.push(commitAction);\n    }\n\n    if (performAction) {\n      actions.push(performAction);\n    }\n\n    // Execute the batch\n    bizagi.chrono.initAndStart(\"submitForm-ajax\");\n\n\n    //Evaluate if there are deferreds to evaluate, like inline add in grid, that must send a ADDRELATIONWITHDATA before to savedata\n    var flowControlDeferred = new $.Deferred();\n    if (data && data.deferreds) {\n      $.when.apply(this, data.deferreds).\n      done(function (response) {\n        flowControlDeferred.resolve(response);\n      }).\n      fail(function () {\n        flowControlDeferred.reject();\n        console.log(\"Error: It was not possible resolve async actions on form \");\n      });\n    } else {\n      flowControlDeferred.resolve();\n    }\n\n    waitingDeferreds.push(flowControlDeferred);\n\n    $.when.apply($, waitingDeferreds).done(function () {\n      $.when(self.dataService.multiaction().execute({ actions: actions })).done(function (responses) {\n        bizagi.chrono.stop(\"submitForm-ajax\");\n        // End asynchronous operation\n        self.endLoading();\n        // Find validations\n        var bHasValidations;\n        var alertMessage = \"\";\n        $.each(responses, function (i, response) {\n\n          var propertiesToDisplayMessages = self.validationToDisplayMessages(bHasValidations, response.result.type, response.result.messages, alertMessage);\n          bHasValidations = propertiesToDisplayMessages.bHasValidations;\n          alertMessage = propertiesToDisplayMessages.alertMessage;\n\n        });\n\n        if (!bHasValidations) {\n          // Everything went ok .. succesfully response from the server\n          if (!self.postProcessButton(responses, buttonProperties)) {\n            return;\n          }\n\n          // After successfully response refresh the form\n          if (buttonProperties.refresh) {\n            self.refreshForm();\n          }\n\n          // If needs routing publish an event\n          if (buttonProperties.routing) {\n            bizagi.jqxhrList.abortAll(\"rendering_\" + self.dataService.guid);\n            self.triggerHandler(\"routing\", {\n              idCase: self.params.idCase,\n              routingDisabled: buttonProperties.routingDisabled });\n\n          }\n\n          // Create case\n          if (buttonProperties.createnewcase) {\n            if (responses.length > 0) {\n              bizagi.jqxhrList.abortAll(\"rendering_\" + self.dataService.guid);\n              self.triggerHandler(\"routing\", {\n                idCase: responses[0].result.IdCase,\n                caseNumber: responses[0].result.CaseNumber });\n\n            }\n          }\n        } else {\n          if (alertMessage !== \"\") {/*If there is an alertMessage show in a modal error*/\n            bizagi.modalError.show(alertMessage, 'workportal-general-word-information', false);\n          }\n          if (buttonProperties.executeRule) {\n            self.sendRollbackAction(buttonProperties.id);\n          }\n        }\n\n        defer.resolve();\n      }).fail(function (res, res2, response) {\n        if (buttonProperties.executeRule) {\n          self.sendRollbackAction(buttonProperties.id);\n        }\n\n        if (response && response.error && (response.error.errorType === \"WaitForCompletionPlanException\" ||\n        response.error.errorType === \"InvalidPlanStateException\" || response.error.errorType === \"CustomMessageException\")) {\n          self.endLoading();\n          $.when(bizagi.showConfirmationBox(bizagi.localization.getResource(response.error.message), null, false)).then(function () {\n            return $.when(self.internalSubmitForm($.extend({}, buttonProperties, { forcePlanCompletion: true })));\n          }).done(function () {\n            defer.resolve();\n          }).fail(function () {\n            defer.reject();\n          });\n        } else {\n          self.failHandler(response);\n          defer.reject(response);\n        }\n      });\n    });\n    return defer.promise();\n  },\n  validationToDisplayMessages: function validationToDisplayMessages(bHasValidations, messageType, message, alertMessage) {\n    var self = this;\n\n    if (messageType == \"validationMessages\") {\n      // Something went wrong, we gotta display messages in notifications grid\n      self.addValidationMessage(message);\n      bHasValidations = true;\n    }\n    if (messageType == \"alertMessages\") {\n      // Something went wrong, we gotta display alert message\n      if (alertMessage === \"\") {\n        alertMessage = message;\n      } else {\n        alertMessage = alertMessage + \"\\n\\n\" + message;\n      }\n\n      bHasValidations = true;\n    }\n\n    return { \"bHasValidations\": bHasValidations, \"alertMessage\": alertMessage };\n  },\n\n  /*\r\n     *   Add a validation message to the form\r\n     */\n  addValidationMessage: function addValidationMessage(validationMessage, focus, icon, itemAdditionalClass, autofocus, type) {\n    var self = this;\n\n    // Clean messages for mobile offline\n    if (bizagi.util.isNativeMobileDevice() && !this.allowOnlineActions())\n    this.clearValidationMessages();\n\n    if (!self.validationController) {\n      var $canvas = self.getValidationsContainer();\n      self.validationController = new bizagi.command.controllers.validation(self, undefined, $canvas);\n    }\n\n    if (typeof validationMessage == \"string\") {\n      self.validationController.showValidationMessage(validationMessage, focus, icon, itemAdditionalClass, type);\n    } else {\n      $.each(validationMessage, function (i, message) {\n        self.validationController.showValidationMessage(message, focus, icon, itemAdditionalClass, type);\n      });\n    }\n    self.validationController.expandNotificationBox(autofocus);\n  },\n  /*\r\n     *   Public method to perform validations externally\r\n     */\n  clearValidationMessages: function clearValidationMessages(params) {\n    var self = this;\n\n    // First hide and clear validation box\n    if (self.validationController) {\n      self.validationController.clearValidationMessages(params);\n    }\n\n  },\n  /*\r\n     *   Add an error message to the form\r\n     */\n  addErrorMessage: function addErrorMessage(errorMessage) {\n    var self = this;\n\n    // Clean messages for mobile offline\n    if (bizagi.util.isNativeMobileDevice() && !this.allowOnlineActions())\n    this.clearValidationMessages();\n\n    self.validationController.showErrorMessage(errorMessage);\n    self.validationController.expandNotificationBox();\n  },\n  /*\r\n     *   Refresh the current form\r\n     */\n  refreshForm: function refreshForm(focus) {\n    var self = this;\n    var properties = self.properties;\n    var deferred = $.Deferred();\n\n    focus = focus || self.getFocus();\n\n    // Normalize new focus structure if not present\n    if (focus && !focus.id) {\n      focus = {\n        id: focus };\n\n    }\n\n    var options = {\n      idCase: self.params.idCase || \"\",\n      idWorkitem: self.params.idWorkitem || \"\",\n      idTask: self.params.idTask || \"\",\n      focus: focus,\n      selectedTabs: self.getSelectedTabs(),\n      selectedSection: self.getSelectedSection(),\n      xpathContext: properties.xpathContext,\n      idPageCache: properties.idPageCache,\n      isRefresh: true,\n      contextType: self.getContextType() || \"\",\n      action: self.getEndPointAction(),\n      idStartScope: self.properties.idStartScope || \"\" };\n\n\n    if (self.isOfflineRefreshWithEdition) {\n      options.isEdited = true;\n      self.isOfflineRefreshWithEdition = false;\n    }\n\n    // Notify the refresh event so the consumer takes the decision about what to do\n    self.startLoading();\n    $.when(self.triggerHandler(\"refresh\", options)).done(function () {\n      deferred.resolve();\n    }).fail(function () {\n      deferred.reject();\n    }).always(function () {\n      self.endLoading();\n    });\n\n    return deferred.promise();\n  },\n  /*\r\n     *   Get opened tabs configuration\r\n     */\n  getSelectedTabs: function getSelectedTabs() {\n    var self = this;\n    var tabContainers = self.getElementsByType(\"tab\");\n    var tabs = $.map(tabContainers, function (tabContainer) {\n      return { tab: tabContainer.properties.id, selected: tabContainer.activeTab };\n    });\n    var selectedTabs = {};\n    for (var i = 0, length = tabs.length; i < length; i++) {\n      selectedTabs[tabs[i].tab] = tabs[i].selected;\n    }\n    return selectedTabs;\n  },\n\n  /**\r\n      * Get the actual section selected\r\n      */\n  getSelectedSection: function getSelectedSection() {\n    var params = this.getParams() || {};\n    return params.selectedSection;\n  },\n  /*\r\n     *   Template method to get the buttons objects\r\n     */\n  getButtons: function getButtons() {\n  },\n  /*\r\n     *   Adds an action on the fly to process the submit on change\r\n     */\n  addSubmitAction: function addSubmitAction(xpath, action) {\n    var self = this;\n    self.actionController.processInternalSubmitAction(xpath, action);\n  },\n  /**\r\n      *   Adds an overlay to the form, and sets a waiting message\r\n      *\r\n      *   @argument {bool} delay Apply delay\r\n      */\n  startLoading: function startLoading() {\n    var self = this;\n    var waitingTemplate = self.renderFactory.getTemplate(\"form-waiting\");\n\n    if (self.waitingOverlay && self.waitingMessage)\n    return;\n\n    // This hack is only for desktop\n    if (!bizagi.util.isTabletDevice()) {\n      // Detect canvas parent with scroll\n      var isSharePoint = self.params.context === \"sharepoint\";\n      var canvas = self.params.canvas;\n      if (isSharePoint) {\n        canvas = bizagi.util.scrollTop(canvas);\n\n        if (!!!canvas.context) {\n          canvas = $(\"body\", $(document));\n        }\n      } else {\n        canvas = $(\"body\", $(document));\n      }\n\n      // Configures overlay\n      var size = this.getSize();\n      var position = this.getOffset();\n      if (size.height == $(window).height()) {\n        position.top = 0;\n      }\n      self.waitingOverlay = $('<div class=\"ui-widget-overlay\" />').appendTo(canvas);\n      self.waitingMessage = $.tmpl(waitingTemplate).appendTo(canvas);\n      self.waitingOverlay.css({\n        \"height\": \"100%\",\n        \"width\": \"100%\",\n        \"min-height\": size.height,\n        \"min-width\": size.width });\n\n      self.waitingMessage.css({\n        \"top\": position.top + Math.ceil((size.height - self.waitingMessage.outerHeight()) / 2) + \"px\",\n        \"left\": Math.ceil((size.width - self.waitingMessage.outerWidth()) / 2) + \"px\" });\n\n      canvas.css(\"position\", \"relative\");\n\n    } else {\n      // Configures overlay\n      self.waitingOverlay = $('<div class=\"ui-widget-overlay\" />').appendTo(\"body\", $(document));\n      self.waitingMessage = $.tmpl(waitingTemplate).appendTo(\"body\", $(document));\n    }\n  },\n  /*\r\n     *   Removes the overlay and restores the form edition\r\n     */\n  endLoading: function endLoading() {\n    var self = this;\n    if (self.waitingOverlay && self.waitingMessage) {\n      self.waitingOverlay.remove();\n      self.waitingMessage.remove();\n      self.waitingOverlay = null;\n      self.waitingMessage = null;\n\n      var canvas = self.params.canvas;\n\n      if (canvas != undefined)\n      canvas.css(\"position\", \"\");\n    }\n  },\n  /*\r\n     *   Get the focused render in the current request\r\n     */\n  getFocusedElement: function getFocusedElement() {\n    var self = this;\n    return self.focus;\n  },\n  /*\r\n     *   Set the focused render in the current request\r\n     */\n  setFocusedElement: function setFocusedElement(focus) {\n    var self = this;\n    self.focus = focus;\n  },\n  /*\r\n     *   Publish a global event that the facade will replicate\r\n     */\n  triggerGlobalHandler: function triggerGlobalHandler(eventType, data) {\n    return this.triggerHandler(\"globalHandler\", { eventType: eventType, data: data });\n  },\n  /*\r\n     *   Generic handler to attach fail workflow for some operations\r\n     */\n  failHandler: function failHandler(error) {\n    var self = this;\n\n    // Check if the error is in multiaction format\n    try {\n      error = JSON.parse(error);\n    } catch (e) {\n    }\n\n    //This double validation has the purpose to get the real error object from two different levels ( error.error or error.error.error )\n    if (error && error.length && error.length > 1) error = error[0];\n    if (error.error) error = error.error;\n    if (error.error) error = error.error;\n\n    // Handle normal messages\n    if (_typeof(error) == \"object\" && error.message) {\n      if (error.errorType === \"WaitForCompletionPlanException\" || error.errorType === \"InvalidPlanStateException\" || error.errorType === \"CustomMessageException\") {\n        error = bizagi.localization.getResource(error.message);\n      } else {\n        error = error.message;\n      }\n\n    } else if (typeof error == \"string\") {\n      // Parse to json\n      try {\n        var errorJson = JSON.parse(error);\n        if (errorJson.errorType === \"WaitForCompletionPlanException\" || errorJson.errorType === \"InvalidPlanStateException\" || error.errorType === \"CustomMessageException\") {\n          errorJson.message = bizagi.localization.getResource(errorJson.message);\n        }\n        error = errorJson.message;\n      } catch (e) {\n      }\n    }\n\n    // Workflow engine error, we gotta show it with error\n    self.addErrorMessage(error);\n    self.endLoading();\n  },\n  /* \r\n     *   Resizes the element\r\n     */\n  resize: function resize(size) {\n    // Just save the size, for reference\n    this.setSize(size);\n  },\n  /*\r\n     *   Sets the internal size for the form\r\n     */\n  setSize: function setSize(size) {\n    this.size = size;\n  },\n  /*\r\n     *   Gets the internal size for the form\r\n     */\n  getSize: function getSize() {\n    if (this.size) {\n      return this.size;\n    }\n    var canvas = this.params.canvas ? this.params.canvas : this.getFormContainer().container;\n\n    var canvasWidth = canvas.width();\n    var canvasHeight = canvas.height();\n\n    return {\n      width: canvasWidth,\n      height: canvasHeight };\n\n  },\n  getOffset: function getOffset() {\n    var canvas = this.getFormContainer().container;\n\n    return canvas.offset();\n  },\n\n  /**\r\n      * This function execute action to save all data of render, but\r\n      * the server service dont execute any rule on the server\r\n      */\n  submitData: function submitData(args) {\n    var self = this;\n\n    // Avoid the execution of server actions for mobile offline\n    if (bizagi.util.isNativeMobileDevice() && !this.allowOnlineActions())\n    return;\n\n    // Collect data\n    var data = self.collectRenderValuesForSubmit();\n\n    // Check is offline form        \n    var isOfflineForm = bizagi.util.isOfflineForm({ context: self });\n    if (isOfflineForm && self.properties && !self.properties.idPageCache) {\n      self.properties.idPageCache = \"\";\n    }\n\n    // Mark data collected as original values\n    $.each(data, function (key, value) {\n      var renders = self.getRenders(key);\n      $.each(renders, function (i, render) {\n        render.updateOriginalValue();\n      });\n    });\n\n    // Don't do anything if there is no data\n    if ($.isEmptyObject(data)) {\n      self.isOfflineRefreshWithEdition = false;\n      return;\n    }\n\n    var waitingDeferreds = [];\n    var deferredsToWait = null;\n    var executeSubmitData = null;\n\n    if (data && data.deferreds) {\n      deferredsToWait = $.when.apply($, data.deferreds);\n      waitingDeferreds.push(deferredsToWait);\n      delete data.deferreds;\n    }\n\n    // Call the service\n    if (isOfflineForm) {\n      executeSubmitData = self.dataService.submitData({\n        action: self.isRefreshingAfterSync ? \"submitdata\" : \"save\",\n        data: data,\n        xpathContext: self.properties.xpathContext,\n        contexttype: self.properties.contexttype || \"\",\n        isOfflineForm: isOfflineForm,\n        offlineType: self.params.offlineType,\n        idCase: self.params.idCase,\n        idWorkitem: self.params.idWorkitem });\n\n    } else {\n      executeSubmitData = self.dataService.multiaction().submitData({\n        action: \"SUBMITDATA\",\n        data: data,\n        idPageCache: self.properties.idPageCache,\n        xpathContext: self.properties.xpathContext,\n        contexttype: self.properties.contexttype || \"\" });\n\n    }\n\n    return $.when.apply($, waitingDeferreds).then(function () {\n      return $.when(executeSubmitData).fail(function (message) {\n        message = self.processFailMessage(message);\n      });\n    });\n  },\n\n  /**\r\n      * This function send a request to the server to execute a rule\r\n      */\n  executeRule: function executeRule(args) {\n    var self = this;\n    var properties = self.properties;\n    var xpathContext = args.xpathContext;\n    var deferred = $.Deferred();\n\n    // Concat inheritance context\n    if (properties.xpathContext !== \"\") {\n      xpathContext = xpathContext !== \"\" ? properties.xpathContext + \".\" + xpathContext : properties.xpathContext;\n    }\n\n    // Perform the service\n    $.when(self.dataService.multiaction().executeRule({\n      idPageCache: properties.idPageCache,\n      rule: args.rule,\n      xpathContext: xpathContext,\n      contexttype: self.properties.contexttype || \"\" })).\n    done(function (message) {\n      var type = message && message.type ? message.type : \"\";\n      var form = self.getFormContainer();\n\n      // Check for validation messages\n      self.getFormContainer().clearValidationMessages({ clearOnlyServer: true });\n\n      if ([\"validationMessages\", \"alertMessages\"].includes(type)) {\n        if (type === \"alertMessages\") {\n          bizagi.modalError && bizagi.modalError.show(message.messages.join(\"\\n\\n\"), 'workportal-general-word-information', false);\n        } else {\n          form.addValidationMessage.apply(self, [message.messages, undefined, undefined, undefined, false, \"serverMessage\"]);\n        }\n\n        deferred.reject(message);\n      } else {\n        deferred.resolve(message);\n      }\n    }).fail(function (message) {\n      message = self.processFailMessage(message);\n      deferred.reject(message);\n    });\n\n    return deferred.promise();\n  },\n\n  /**\r\n      * This function send a request to the server to execute an interface\r\n      */\n  executeInterface: function executeInterface(args) {\n    var self = this;\n    var properties = self.properties;\n    var xpathContext = args.xpathContext;\n\n    if (properties.xpathContext != \"\") {\n      // Concat inheritance context\n      xpathContext = xpathContext != \"\" ? properties.xpathContext + \".\" + xpathContext : properties.xpathContext;\n    }\n\n    // Perform the service\n    return $.when(self.dataService.multiaction().executeInterface({\n      idPageCache: properties.idPageCache,\n      \"interface\": args[\"interface\"],\n      xpathContext: xpathContext,\n      contexttype: self.properties.contexttype || \"\" })).\n    done(function (message) {\n      // Check for validation messages\n      self.getFormContainer().clearValidationMessages();\n      if (message && message.type == \"validationMessages\") {\n        self.getFormContainer().addValidationMessage(message.messages);\n      }\n\n    }).fail(function (message) {\n      message = self.processFailMessage(message);\n    });\n  },\n\n  /**\r\n      * This function send a request to the server to execute an SAP connector\r\n      */\n  executeSAPConnector: function executeSAPConnector(args) {\n    var self = this;\n    var properties = self.properties;\n    var xpathContext = args.xpathContext;\n\n    if (properties.xpathContext != \"\") {\n      // Concat inheritance context\n      xpathContext = xpathContext != \"\" ? properties.xpathContext + \".\" + xpathContext : properties.xpathContext;\n    }\n\n    // Perform the service\n    return $.when(self.dataService.multiaction().executeSAPConnector({\n      idPageCache: properties.idPageCache,\n      guidsap: args.guidsap,\n      xpathContext: xpathContext,\n      contexttype: self.properties.contexttype || \"\" })).\n    done(function (message) {\n      // Check for validation messages\n      self.getFormContainer().clearValidationMessages();\n      if (message && message.type == \"validationMessages\") {\n        self.getFormContainer().addValidationMessage(message.messages);\n      }\n\n    }).fail(function (message) {\n      message = self.processFailMessage(message);\n    });\n\n  },\n\n  /**\r\n      * This function send a request to the server to execute an Connector\r\n      */\n  executeConnector: function executeConnector(args) {\n    var self = this;\n    var properties = self.properties;\n    var xpathContext = args.xpathContext;\n\n    if (properties.xpathContext != \"\") {\n      // Concat inheritance context\n      xpathContext = xpathContext != \"\" ? properties.xpathContext + \".\" + xpathContext : properties.\n      xpathContext;\n    }\n\n    // Perform the service\n    return $.when(self.dataService.multiaction().executeConnector({\n      idPageCache: properties.idPageCache,\n      guidConnector: args.guidConnector,\n      xpathContext: xpathContext,\n      contexttype: self.properties.contexttype || \"\" })).\n    done(function (message) {\n      // Check for validation messages\n      self.getFormContainer().clearValidationMessages();\n      if (message && message.type == \"validationMessages\") {\n        self.getFormContainer().addValidationMessage(message.messages);\n      }\n\n    }).fail(function (message) {\n      message = self.processFailMessage(message);\n    });\n\n  },\n\n  /**\r\n      * This function send a request to the server to execute an pipeline\r\n      */\n  executePipeline: function executePipeline(args) {\n    var self = this;\n    var properties = self.properties;\n    var xpathContext = args.xpathContext;\n\n    if (properties.xpathContext != \"\") {\n      // Concat inheritance context\n      xpathContext = xpathContext != \"\" ? properties.xpathContext + \".\" + xpathContext : properties.xpathContext;\n    }\n\n    // Perform the service\n    return $.when(self.dataService.multiaction().executePipeline({\n      idPageCache: properties.idPageCache,\n      pipeline: args.pipeline,\n      xpathContext: xpathContext,\n      contexttype: self.properties.contexttype || \"\" })).\n    done(function (message) {\n      // Check for validation messages\n      self.getFormContainer().clearValidationMessages();\n      if (message && message.type == \"validationMessages\") {\n        self.getFormContainer().addValidationMessage(message.messages);\n      }\n\n    }).fail(function (message) {\n      message = self.processFailMessage(message);\n    });\n  },\n\n  /*\r\n     *   Re-binds pending actions that could not be set because the renders did not exist when the form loaded\r\n     */\n  refreshActions: function refreshActions(actions) {\n    var self = this;\n    self.actionController.refreshActions(actions);\n  },\n  /***/\n  tryToExecuteFunction: function tryToExecuteFunction(xpath) {\n    if (this.getMode() == \"execution\") {\n      this.actionController && this.actionController.tryToExecuteFunction(xpath);\n    }\n  },\n  /*\r\n     *   Re-binds pending actions that could not be set because the renders did not exist when the form loaded\r\n     */\n  removeActions: function removeActions() {\n    var self = this;\n    self.actionController.unbindActions();\n  },\n  /*\r\n     *   Iterate through all renders and collect the data to send, then update original values for each render\r\n     */\n  collectRenderValuesForSubmit: function collectRenderValuesForSubmit(data) {\n    var self = this;\n    data = data || {};\n\n    // Collect data\n    self.collectRenderValues(data);\n\n    // Mark data collected as original values\n    $.each(data, function (key, value) {\n      var renders = self.getRenders(key);\n      $.each(renders, function (i, render) {\n        render.updateOriginalValue();\n      });\n    });\n\n    return data;\n  },\n\n  /**\r\n      *\r\n      * @param params {data, bRefreshForm,properties}\r\n      * @returns {*}\r\n      */\n  internalSubmitOnChange: function internalSubmitOnChange(params) {\n    params = params || {};\n    var self = this;\n    var properties = params.properties;\n    var defer = new $.Deferred();\n    var data = params.data || {};\n    var bRefreshForm = typeof params.bRefreshForm != \"undefined\" ? params.bRefreshForm : true;\n    var notCollect = params.notCollect ? params.notCollect : undefined;\n\n    // Collect data\n    if (!(notCollect && !$.isEmptyObject(data))) {\n      self.collectRenderValuesForSubmit(data);\n    }\n\n    self.startLoading();\n\n    var deferredsToWait = null;\n    if (data.deferreds) {\n      deferredsToWait = $.when.apply($, data.deferreds);\n      delete data.deferreds;\n    }\n\n    $.when(deferredsToWait).then(function () {\n      // Submit the form\n      self.dataService.multiaction().submitData({\n        action: \"SUBMITONCHANGE\",\n        data: data,\n        idRender: properties.id,\n        xpath: properties.xpath,\n        xpathContext: self.properties.xpathContext,\n        idPageCache: properties.idPageCache,\n        contexttype: properties.contexttype }).\n      done(function (response) {\n        // Cancel previous multiactions and process property value\n        self.cancelPreviousRequest();\n        // After successfully response refresh the form\n        self.endLoading();\n        // If response message has error in validation, do not refresh the form\n        // and show validation message\n        if (response && response.type == \"validationMessages\") {\n          if (typeof self.clearValidationMessages == \"function\") {\n            self.clearValidationMessages();\n          }\n\n          self.addValidationMessage(response.messages);\n          defer.resolve();\n        } else if (bRefreshForm) {\n          var focusIdentifier = {\n            id: properties.id,\n            xpath: properties.xpath };\n\n          if (properties.idCase !== undefined) {\n            $.extend(focusIdentifier, {\n              idCaseObject: bizagi.cache.idCaseObject });\n\n          }\n          if (response.IdScope) {\n            self.properties.idStartScope = response.IdScope;\n          }\n          $.when(self.refreshForm(focusIdentifier)).done(function () {\n            defer.resolve();\n          }).fail(function () {\n            defer.resolve();\n          });\n        } else {\n          defer.resolve();\n        }\n      }).fail(function (message) {\n        self.endLoading();\n        var objMessage = _typeof(message) == 'object' ? message.responseText ? JSON.parse(message.responseText) : message : {};\n        var strMessage = objMessage.message || message;\n        var type = objMessage.type || \"error\";\n\n        // Omit processing when the ajax didn't process\n        if (![\"not-processed\", \"not-shown\"].includes(type)) {\n          // Clear previous validations\n          self.validationController.clearValidationMessages();\n\n          if (objMessage.type === \"alert\") {\n            self.validationController.showAlertMessage(strMessage);\n          } else {\n            self.validationController.showErrorMessage(strMessage);\n          }\n        }\n\n        defer.resolve();\n      });\n    });\n\n    return defer.promise();\n  },\n\n  cancelPreviousRequest: function cancelPreviousRequest() {\n    if (bizagi.multiactionConnection && bizagi.multiactionConnection.length) {\n      var length = bizagi.multiactionConnection.length;\n      var i = 0,connection;\n      for (; i < length; i++) {\n        connection = bizagi.multiactionConnection.pop();\n        if (connection && connection.abort) {\n          bizagi.showErrorAlertDialog = false;\n          connection.abort();\n        }\n      }\n    }\n  },\n\n  prepareCheckpointAction: function prepareCheckpointAction(buttonId) {\n    var self = this;\n\n    var checkpointAction = self.dataService.sendCheckpoint({\n      url: self.properties.checkpointUrl,\n      idRender: buttonId,\n      xpath: \"\",\n      xpathContext: self.properties.xpathContext,\n      idPageCache: self.properties.idPageCache,\n      prepare: true });\n\n\n    checkpointAction.tag = \"checkpoint\";\n\n    return checkpointAction;\n  },\n\n  prepareCommitAction: function prepareCommitAction(buttonId) {\n    var self = this;\n\n    var commitAction = self.dataService.commitLinkForm({\n      url: self.properties.commitUrl,\n      idRender: buttonId,\n      xpath: \"\",\n      xpathContext: self.properties.xpathContext,\n      idPageCache: self.properties.idPageCache,\n      prepare: true });\n\n\n    commitAction.tag = \"commit\";\n\n    return commitAction;\n  },\n\n  sendRollbackAction: function sendRollbackAction(buttonId) {\n    var self = this;\n\n    self.dataService.rollbackLinkForm({\n      url: self.properties.rollbackUrl,\n      idRender: buttonId,\n      xpath: \"\",\n      xpathContext: self.properties.xpathContext,\n      idPageCache: self.properties.idPageCache });\n\n  },\n\n  dispose: function dispose() {\n    var self = this;\n    self.endLoading();\n\n    var timeOutController = setTimeout(function () {\n      if (self.params) {\n        delete self.params.canvas;\n      }\n      delete self.params;\n      delete self.control;\n      if (self.validationController) {\n        self.unbind(\"rendervalidate\");\n        delete self.validationController;\n      }\n\n      if (self.actionController) {\n        self.actionController.unbindActions();\n        delete self.actionController;\n      }\n      clearTimeout(timeOutController);\n    }, bizagi.override.disposeTime || 50);\n\n    // Call base\n    self._super();\n  },\n  getButton: function getButton(guid) {\n    return $(\".ui-bizagi-button[data-id='\" + guid + \"']\", this.container);\n  },\n\n  getFloatingButton: function getFloatingButton(guid) {\n    return $(\"li[data-id='\" + guid + \"']\", this.container);\n  },\n\n  propagateExternalEvents: function propagateExternalEvents(evt) {\n    // Menu-Overflow\n    var $menuOverflow = $(\".bz-overflow-menu\");\n    if ($menuOverflow)\n    $(document).trigger('click.overflow');\n\n    // ECM with preview image\n    var zoomIsOpen = $(\".jquery-image-zoom\") && $(\".jquery-image-zoom\").css(\"display\") == \"block\";\n\n    if (zoomIsOpen)\n    $(\"div.jquery-image-zoom a\").click();\n  },\n\n  getButtonAction: function getButtonAction(action) {\n    return this.allowValidateAndSaveAction && action === \"validate\" ? \"save\" : action;\n  },\n\n  /***/\n  isConnected: function isConnected() {\n    return true;\n  },\n\n  /**\r\n      * Add handlers to network management\r\n      */\n  configureNetworkHandlers: function configureNetworkHandlers() {\n    var self = this;\n    self.online = bizagi.util.isConnected();\n    if (self.isOfflineForm && bizagi.util.isMobileDevice() && (\"\" + BIZAGI_ENVIRONMENT).toLowerCase() === \"debug\") {\n      self.online = self.getParams().online;\n      console.log(\"CONNECTED: \", self.online);\n    }\n\n    // Update the online status based on connectivity\n    if (bizagi.util.isNativeMobileDevice() || bizagi.util.isMobileDevice() && (\"\" + BIZAGI_ENVIRONMENT).toLowerCase() === \"debug\") {\n      $(document).off(\"online.form\");\n      $(document).on(\"online.form\", this.handleConnectionChange.bind(self));\n\n      $(document).off(\"offline.form\");\n      $(document).on(\"offline.form\", this.handleConnectionChange.bind(self));\n\n      //Connection gained with form opened\n      $(document).off(\"offline-notify-form-sync-event\");\n      $(document).on(\"offline-notify-form-sync-event\", this.handleOfflineSyncEvent.bind(self));\n    }\n  },\n\n  /**\r\n      * Event handler\r\n      * @param event\r\n      */\n  handleConnectionChange: function handleConnectionChange(event) {\n    var form = this.getFormContainer();\n    if (bizagi.util.isMobileDevice() && (\"\" + BIZAGI_ENVIRONMENT).toLowerCase() === \"debug\") {\n      this.online = event.type === \"online\";\n    } else {\n      this.online = bizagi.util.isConnected();\n    }\n\n    // You lost connection.\n    if (event.type === \"offline\") {\n      form.triggerHandler(\"offlineForm\");\n    }\n\n    // You are now back online.\n    if (event.type === \"online\") {\n      form.triggerHandler(\"onlineForm\");\n    }\n  },\n\n  /**\r\n      * Push successful hanlder, refresh form and copy current work\r\n      */\n  handleOfflineSyncEvent: function handleOfflineSyncEvent(event, params) {\n    var self = this;\n    var formParams = self.params || {};\n    if (formParams.hasSyncError) {\n      return;\n    }\n    var offlineFormId = formParams.idCase + \"-\" + formParams.idWorkitem;\n    switch (params.type) {\n      case \"download-form-success\":\n        /**\r\n                                     * 1. Store current data in offline submit\r\n                                     * 2. Refresh form\r\n                                     * 3. Merge data using offline isEdited method\r\n                                     */\n        var paramsId = params.idCase + \"-\" + params.idWorkitem;\n        if (offlineFormId === paramsId) {\n          console.log(\"Form downloaded successfully. It will be refreshed\", params);\n\n          $.when(self.dataService.database.validateLocalDataForTaskExists(paramsId).then(function (dataResult) {\n            if (dataResult === true) {\n              self.isOfflineRefreshWithEdition = true;\n            }\n\n            $.when(self.refreshForm(null, false)).then(function () {\n              applySyncLoader(false);\n            });\n          }));\n        }\n        break;\n      case \"push-tasks-started\":\n        if (params.tasks != undefined && params.tasks[offlineFormId]) {\n          applySyncLoader(true);\n        }\n        break;\n      case \"push-tasks-error\":\n        applySyncLoader(false);\n        if (self.validationController != undefined) {\n          self.validationController.clearValidationMessages();\n          self.validationController.showErrorMessage(params.message);\n        }\n        break;\n      case \"fetch-tasks-started\":\n        if (params.tasks != undefined && params.tasks[offlineFormId]) {\n          applySyncLoader(true);\n        }\n        break;\n      case \"download-finished\":{\n          applySyncLoader(false);\n          break;\n        }\n      case \"download-error\":\n        applySyncLoader(false);\n        break;\n      default:\n        console.warn(\"Event hast not implementation in bizagi.rendering.form - handleOfflineSyncEvent\", params.type, params);\n        break;}\n\n\n    function applySyncLoader(isStart) {\n      var loaders = 3;\n      var proceed = false;\n      if (isStart) {\n        proceed = !(self.isSyncLoaderRunning === true);\n      } else\n      {\n        proceed = self.isSyncLoaderRunning === true;\n      }\n      if (proceed) {\n        self.isSyncLoaderRunning = isStart;\n        for (var loaderIndex = 0; loaderIndex < loaders; loaderIndex++) {\n          if (isStart) {\n            bizagi.loading.start();\n          } else\n          {\n            bizagi.loading.stop();\n          }\n        }\n      }\n    }\n  },\n\n  /**\r\n      * Check if allow to call the button actions\r\n      * @returns {boolean|*}\r\n      */\n  allowOnlineActions: function allowOnlineActions() {\n    if (typeof this.online === \"undefined\") return true;\n    return this.online || !this.online && this.isOfflineForm;\n  },\n\n  /**\r\n      * Method to process button actions in the form\r\n      * @param ordinal\r\n      */\n  processQuickButton: function processQuickButton(ordinal) {\n    var self = this;\n    var buttonProperties = self.buttons.find(function (btn) {\n      return btn.ordinal == ordinal;\n    });\n\n    if (buttonProperties) {\n\n      self.startLoading();\n\n      self.lastActionButton = buttonProperties;\n      if (buttonProperties.action === \"next\") {\n        buttonProperties.routingDisabled = self.isRoutingDisabled;\n      }\n\n      // Execute button - QAF-1418 - add setTimeout\n      setTimeout(function () {\n        $.when(self.processButton(buttonProperties)).always(function () {\n          self.processDefer = undefined;\n          self.endLoading();\n        });\n      }, 100);\n\n    }\n\n  },\n\n  /**\r\n      * Check if quick actions are configured\r\n      * @param data\r\n      * @param isEnable\r\n      * @returns {boolean}\r\n      */\n  hasQuickActions: function hasQuickActions(data, isEnable) {\n\n    if (!isEnable) return false;\n\n    return (data.buttons || []).some(function (item) {\n      var button = item.button.properties;\n      return button && button.type === \"quickactions\";\n    });\n\n  },\n\n  /**\r\n      * Perform validation container\r\n      * @param form\r\n      * @param mainForm\r\n      * @returns {*}\r\n      */\n  getValidationsContainer: function getValidationsContainer(mainForm) {\n    var form = this;\n    var formContainer = typeof mainForm !== \"undefined\" ? mainForm : form;\n\n    return formContainer.container;\n\n  },\n\n  /**\r\n      * Return if exist confirmation user and the message\r\n      * @param {*} formProperties \r\n      * @param {*} buttonProperties \r\n      */\n  getConfirmationStatus: function getConfirmationStatus(formProperties, buttonProperties) {\n    var hasButtonsConfirmation = bizagi.util.parseBoolean(buttonProperties.needsUserConfirmation) || false;\n    var buttonConfirmationMsg = buttonProperties.userConfirmationMessage || \"\";\n\n    var hasFormConfirmation = bizagi.util.parseBoolean(formProperties.needsUserConfirmation) && bizagi.util.parseBoolean(buttonProperties.routing);\n    var formConfirmationMsg = formProperties.userConfirmationMessage || \"\";\n\n    var messageConfirmation = hasButtonsConfirmation ? buttonConfirmationMsg : formConfirmationMsg;\n\n    return {\n      hasConfirmation: hasButtonsConfirmation || hasFormConfirmation,\n      message: messageConfirmation };\n\n  },\n\n  saveWorkInProgress: function saveWorkInProgress() {\n    var self = this;\n    var data = self.collectRenderValuesForSubmit();\n    if (!bizagi.util.isEmpty(data)) {\n      return self.dataService.submitData({\n        action: 'submitdata',\n        data: data,\n        xpathContext: self.properties.xpathContext,\n        idPageCache: self.properties.idPageCache,\n        idForm: self.properties.id,\n        prepare: true,\n        idCase: self.params.idCase,\n        idWorkitem: self.params.idWorkitem,\n        isOfflineForm: self.isOfflineForm || false,\n        offlineType: self.params.offlineType || \"\",\n        actions: [] });\n\n    } else {\n      return $.Deferred().resolve(undefined).promise();\n    }\n  },\n\n  /**\r\n      * Check if it is a start form\r\n      * @returns {*|boolean}\r\n      */\n  isStartForm: function isStartForm() {\n    var form = this.getFormContainer();\n    var formType = form && form.properties && form.properties.formtype || \"\";\n\n    return /startform/i.test(formType);\n  } });","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /*\r\n                                                                                                                                                                                                                                                                                                                                                                               *   Name: BizAgi Render Layout Render Class\r\n                                                                                                                                                                                                                                                                                                                                                                               *   Author: Andrés Fernando Muñoz\r\n                                                                                                                                                                                                                                                                                                                                                                               *   Comments:\r\n                                                                                                                                                                                                                                                                                                                                                                               *   -   This script will define a base layout render class with common stuff related to all renders\r\n                                                                                                                                                                                                                                                                                                                                                                               */\n\n$.Class.extend(\"bizagi.rendering.layoutRender\", {}, {\n  /*\r\n                                                       *   Returns the html templated element\r\n                                                       */\n  renderElement: function renderElement(template) {\n    var self = this;\n    var properties = self.properties;\n    var form = self.getFormContainer();\n    // Start rendering deferred\n    self.renderingDeferred = new $.Deferred();\n\n    // Set render template\n    template = template || \"render-layout\";\n    var renderTemplate = self.renderFactory.getTemplate(template);\n\n    // Resolve render label\n    var label = properties.displayName;\n\n    if (typeof label == \"string\") {\n      label = bizagi.util.encodeString(label);\n    }\n\n    // Render template\n    var html = $.fasttmpl(renderTemplate, {\n      label: label,\n      isExtendedText: properties.type == \"text\" && properties.isExtended,\n      orientation: properties.orientation,\n      uniqueId: properties.uniqueId,\n      id: properties.id,\n      isDesign: self.getMode() === \"design\",\n      messageValidation: properties.messageValidation,\n      printVersion: form.params.printversion,\n      cssClass: properties.cssclass || \"\",\n      hide: properties.hide });\n\n\n    // Render internal control html\n    var result = self.internalRenderControl();\n    if (!result) {\n      result = \"\";\n    }\n\n    // Check if this is an async element or not\n    var async = _typeof(result) === \"object\" && result.done;\n    if (!async) {\n      html = self.replaceControlHtml(html, result);\n\n    } else {\n      if (result.state() === \"resolved\") {\n        // Fetch resolved result\n        html = self.replaceControlHtml(html, self.resolveResult(result));\n        self.asyncRenderDeferred = null;\n      } else {\n        // Wait for result\n        self.asyncRenderDeferred = result;\n        html = self.replaceControlHtml(html, \"\");\n      }\n    }\n\n    return html;\n  },\n\n  /*\r\n     *   Template method to get the control element\r\n     */\n  getControl: function getControl() {\n    var self = this;\n    if (!self.control || self.control instanceof jQuery && self.control.length === 0) {\n      self.control = self.element;\n    }\n    if (!self.control || self.control.length == 0) {\n      return null;\n    }\n    return self.control;\n  },\n\n  /*\r\n     * Customizes the font italic style *\r\n     */\n  changeFontItalic: function changeFontItalic(italic) {\n    if (bizagi.util.parseBoolean(italic)) {\n      this.getControl().css(\"font-style\", \"italic\", \"!important\");\n    } else {\n      this.getControl().css(\"font-style\", \"normal\", \"!important\");\n    }\n    return this;\n  },\n\n  /*\r\n     * Customizes the font underline\r\n     */\n  changeFontUnderline: function changeFontUnderline(underline) {\n    var valueFormat = this.properties.valueFormat || {},\n    valuestrikethru = bizagi.util.parseBoolean(valueFormat.strikethru) ? \"line-through \" : \"\";\n\n    if (bizagi.util.parseBoolean(underline)) {\n      this.getControl().css(\"text-decoration\", valuestrikethru + \"underline\", \"!important\");\n    } else {\n      this.getControl().find(\"*\").each(function (i, element) {\n        $(element).css(\"text-decoration\", valuestrikethru, \"!important\");\n      });\n    }\n\n    return this;\n  } });","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /**\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Name: Bizagi Render Combo Class\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Author: UI Forms Team\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Comments:\r\n                                                                                                                                                                                                                                                                                                                                                                                *   -   This script will define basic stuff for combo renders\r\n                                                                                                                                                                                                                                                                                                                                                                                */\n\n$.Class.extend(\"bizagi.rendering.combo\", {}, {\n\n  /*\r\n                                               *   Update or init the element data\r\n                                               */\n  initializeData: function initializeData(data) {\n    var self = this;\n\n    // Call base\n    self._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n\n    properties.hasLocalData = properties.data || false;\n    // TODO: Review additional value in radio control\n    properties.value = properties.value && properties.value.length > 0 ? properties.value[0] : properties.defaultValue && properties.defaultValue.length > 0 ? properties.defaultValue[0] : null;\n\n    if (typeof properties.enableTyping === \"undefined\") properties.enableTyping = true;\n    if (properties.value && properties.value.id === undefined) properties.value = null;\n    this.value = properties.value;\n\n    // Add empty node if configured\n    if (properties.hasLocalData) {\n      properties.data = this.complementData(properties.data);\n    }\n\n    // This line is to set a flag to fetch the data when rendering, or on demand, by default is false, overriding it on desktop implementation\n    properties.loadOnDemand = false;\n  },\n\n\n  /*\r\n     *   Template method to implement in each children to customize each control\r\n     */\n  renderControl: function renderControl() {\n    var self = this;\n    var params = {};\n    var renderType = bizagi.util.normalizeType(self.properties.type);\n\n    if (self.isDependant && self.properties && /^cascadingcombo$/i.test(renderType) && self.getParentCombo) {\n      var valueControl = self.getParentCombo().getValue();\n      if (valueControl && valueControl.id) {\n        params[self.Class.BA_ACTION_PARAMETER_PREFIX + \"parent\"] = valueControl.id;\n      }\n    }\n\n    return self.renderCombo(params);\n  },\n\n  /*\r\n     *   Renders the combo\r\n     */\n  renderCombo: function renderCombo(params) {\n    var self = this;\n    var properties = self.properties;\n\n    if (properties.loadOnDemand) {\n      // Render the combo without data\n      var html = self.renderComboTemplate();\n      return html;\n    } else {\n\n      // Set data promise \n      var defer = new $.Deferred();\n      var dataPromise = self.getData(params);\n\n      // Attach callback \n      $.when(dataPromise).done(function (data) {\n        // Render combo\n        var html = self.renderComboTemplate(data);\n        self.properties.data = data;\n        defer.resolve(html);\n\n      }).fail(function (data) {\n        var html = self.renderComboTemplate({});\n        defer.resolve(html);\n      });\n\n      // Returns a promise so we can hold post-render method until this is done\n      return defer.promise();\n    }\n  },\n\n  renderComboTemplate: function renderComboTemplate(data) {\n    var self = this;\n    var properties = self.properties;\n    var template = self.renderFactory.getTemplate(self.getTemplateName());\n    var emptyValue = bizagi.override.emptyLabelForCombo || self.getResource(\"render-combo-empty-selection\");\n    var value = properties.value ? \"\" : emptyValue;\n    data = data || self.properties.data || {};\n\n    if (self.properties.type === \"columnCombo\" && value === \"\" && _typeof(properties.value) === \"object\" && properties.value.id === \"\" && (properties.value.value === \"\" || properties.value.value === self.getResource(\"render-combo-empty-value\"))) {\n      value = self.getResource(\"render-combo-empty-selection\");\n    }\n\n    var html = $.fasttmpl(template, $.extend(self.getTemplateParams(), {\n      id: properties.id,\n      xpath: properties.xpath,\n      unique: bizagi.util.randomNumber(10000, 1000000),\n      idPageCache: properties.idPageCache,\n      items: data,\n      align: properties.valueAlign,\n      value: value,\n      editable: properties.editable }));\n\n\n\n    return html;\n  },\n\n\n  /*\r\n     *   Template method to implement in each device to customize each render after processed in read-only mode\r\n     */\n  postRenderReadOnly: function postRenderReadOnly() {\n    var self = this;\n    self._super();\n    var item = self.getValue();\n    var control = self.getControl();\n\n    if (self.control && self.control.parent()) {\n      self.control.parent().addClass(\"ui-bizagi-noneditable-\" + self.properties.displayType);\n    }\n    if (item) {\n\n      if (item.value != null && typeof item.value === \"boolean\") {\n        if (bizagi.util.parseBoolean(item.value) === true) {\n          item.value = this.getResource(\"render-boolean-yes\");\n\n        } else if (bizagi.util.parseBoolean(item.value) == false) {\n          item.value = this.getResource(\"render-boolean-no\");\n        }\n      }\n\n      // Returns the cached value from the properties to avoid server side fetching\n      if (self.getResource(\"render-combo-empty-value\") === item.value || self.getResource(\"render-combo-empty-selection\") === item.value) {\n        control.text(\"\");\n      } else {\n        control.html(\"<label class='readonly-control'>\" + self.formatItem(item.value) + \"</label>\");\n      }\n    } else {\n      // Render empty \n      control.text(\"\");\n    }\n  },\n\n  /*\r\n     *   Gets the template used by the combo render\r\n     *   can be overriden in subclasses to reuse logic and just change the template\r\n     */\n  getTemplateName: function getTemplateName() {\n    return \"combo\";\n  },\n\n  /*\r\n     *   Determines if we need to show the empty node or not\r\n     *   Can be overriden to change behaviour\r\n     */\n  showEmpty: function showEmpty() {\n    return true;\n  },\n\n  /*\r\n     *   Determines if we need to show the current data regardless if it belongs to data or not\r\n     *   Can be overriden to change behaviour\r\n     */\n  showCurrentData: function showCurrentData() {\n    return true;\n  },\n\n  /*\r\n     *   Fetch the data into a deferred\r\n     */\n  getData: function getData(params) {\n    var self = this;\n    var properties = self.properties;\n    var defer = new $.Deferred();\n    var mode = self.getMode();\n    var isOfflineForm = bizagi.util.isOfflineForm({ context: self });\n\n    // Just execute ajax calls when rendering in execution mode\n    if (mode !== \"execution\") return self.getDummyData();\n\n    if (properties.hasLocalData || isOfflineForm) {\n\n      // Resolve with local data    \n      defer.resolve(properties.data);\n\n    } else {\n      var renderType = bizagi.util.normalizeType(properties.type);\n\n      // Check if the data has been cached\n      if (properties.remoteDataLoaded && !/^cascadingcombo$/i.test(renderType)) {\n        defer.resolve(properties.data);\n      } else {\n        // Go to server\n        self.dataService.multiaction().getData({\n          url: properties.dataUrl,\n          xpath: properties.xpath,\n          idRender: properties.id,\n          xpathContext: properties.xpathContext,\n          idPageCache: properties.idPageCache,\n          extra: params,\n          contexttype: self.properties.contexttype || null }).\n        done(function (data) {\n\n          // Resolve the data\n          if (!properties.recalculate) {\n            properties.remoteDataLoaded = true;\n          }\n          properties.data = self.complementData(data);\n          defer.resolve(properties.data);\n\n        }).fail(function (data) {\n\n          var allowActions = true;\n          var form = self.getFormContainer();\n\n          if (bizagi.util.isNativeMobileDevice() && typeof form !== \"undefined\")\n          allowActions = form.allowOnlineActions();\n\n          if (data.type === \"not-processed\" && allowActions)\n          return;\n\n          // Show error from server\n          var msgObj = self.properties.displayName + \": \";\n\n          if (typeof data === \"string\") {\n            var auxMsg = JSON && JSON.parse(data) || $.parseJSON(data);\n          } else {\n            var auxMsg = data;\n          }\n\n          msgObj += auxMsg.message;\n\n          form.addValidationMessage(msgObj);\n\n          defer.reject(data);\n        });\n      }\n    }\n\n    return defer.promise();\n  },\n\n  /*\r\n     *   Creates a set of dummy data in order to display it when rendering in design or layout mode\r\n     */\n  getDummyData: function getDummyData() {\n    var self = this;\n    var properties = self.properties;\n    if (properties.data) {\n      return properties.data;\n\n    } else {\n      properties.data = [];\n      properties.data = self.complementData(properties.data);\n\n      // Add another data\n      properties.data.push({ id: \"\", value: \"Item 1\" });\n      properties.data.push({ id: \"\", value: \"Item 2\" });\n\n      return properties.data;\n    }\n  },\n\n  /*\r\n     *   Resets the data in order to fetch it again when needed\r\n     */\n  resetData: function resetData() {\n    var self = this;\n    var properties = self.properties;\n\n    properties.hasLocalData = false;\n    properties.data = null;\n    properties.remoteDataLoaded = false;\n  },\n\n  /* \r\n     *   Gets the display value of the render\r\n     */\n  getDisplayValue: function getDisplayValue() {\n    var self = this;\n\n    if (self.combo && self.combo.length > 0) {\n      // When there is a combo painted, we fetch the selected value from it\n      return self.getSelectedValue();\n    } else {\n      var displayValue = \"\";\n      var item = self.getValue();\n\n      if (item) {\n        // Check on cached propert from server first if the key exists\n        displayValue = self.formatItem(item.value);\n      }\n\n      return displayValue;\n    }\n  },\n\n\n  /*\r\n     *   Returns the selected value in the template\r\n     */\n  getSelectedValue: function getSelectedValue() {\n  },\n\n  /*\r\n     *   Adds custom parameters to process the template\r\n     */\n  getTemplateParams: function getTemplateParams() {\n    return {};\n  },\n\n  /**\r\n      * Formats value of each item\r\n      * @param {string, boolean or array} value\r\n      * @example\r\n      * value = \"string\" => \"string\"\r\n      * value = true => \"yes\" or \"si\", the localized value\r\n      * value = false => \"no\", the localized value\r\n      * value = [\"string 1\", \"string 2\"] => \"string 1 - string 2\"\r\n      * @returns {string}\r\n      */\n  formatItem: function formatItem(value) {\n\n    if (value !== undefined && value !== null) {\n      if ($.isArray(value)) {\n\n        for (var i = 0, length = value.length; i < length; i++) {\n          if (value[i] != null && typeof value[i] === \"boolean\") {\n            if (bizagi.util.parseBoolean(value[i]) === true) {\n              value[i] = this.getResource(\"render-boolean-yes\");\n            } else if (bizagi.util.parseBoolean(value[i]) === false) {\n              value[i] = this.getResource(\"render-boolean-no\");\n            }\n          }\n        }\n        return value.join(\" - \");\n      } else {\n        return value;\n      }\n    } else {\n      return \"\";\n    }\n  },\n\n  /*\r\n     *   Add the render data to the given collection in order to send data to the server\r\n     */\n  collectData: function collectData(renderValues) {\n    var self = this;\n    var properties = self.properties;\n\n    // Add the render value\n    var xpath = properties.xpath;\n    var value = self.getValue();\n\n    if (self.controlValueIsChanged()) {\n      // Filter by valid xpaths and valid values\n      // Remove empty validation for value for combos        \n      if (!bizagi.util.isEmpty(xpath) && value !== null && typeof value !== \"undefined\") {\n        // Add a validation because sometimes value contains an empty not null object\n        if (_typeof(value) === \"object\" && (value.id === undefined || value.id === \"\")) {\n          renderValues[properties.xpath] = \"\";\n        } else {\n          // Add the value to the server\n          renderValues[properties.xpath] = typeof value.id !== \"undefined\" ? value.id : \"\";\n        }\n      }\n    }\n  },\n\n  controlValueIsChanged: function controlValueIsChanged() {\n    var self = this;\n    var properties = self.properties;\n    var currentValue = self.getValue();\n    var originalValue = properties.originalValue;\n    var defaultValue = properties.defaultValue;\n\n    var result = true;\n\n    if ($.forceCollectData) {\n      return result;\n    }\n\n    currentValue = currentValue && currentValue.length !== undefined ? currentValue[0] : currentValue;\n    originalValue = originalValue && originalValue.length !== undefined ? originalValue[0] : originalValue;\n    defaultValue = defaultValue && defaultValue.length !== undefined ? defaultValue[0] : defaultValue;\n\n    currentValue = currentValue && currentValue.id !== undefined ? currentValue.id : currentValue;\n    originalValue = originalValue && originalValue.id !== undefined ? originalValue.id : originalValue;\n    defaultValue = defaultValue && defaultValue.id !== undefined ? defaultValue.id : defaultValue;\n\n    if (defaultValue !== undefined) {\n      if (defaultValue != originalValue || defaultValue != currentValue) {\n        result = true;\n      } else {\n        result = false;\n      }\n    } else {\n      result = currentValue != originalValue ? true : false;\n    }\n\n    return result;\n  },\n\n  /*\r\n     * Parses additional values info in order to format them correctly\r\n     */\n  parseAdditionalValues: function parseAdditionalValues(data) {\n    var self = this;\n\n    return $.map(data, function (item) {\n      var value = item.value ? self.formatItem(item.value) : item;\n      var newItem = { id: item.id, value: value };\n\n      if (item.hidden) newItem.hidden = true;\n      return item;\n    });\n  },\n\n  /*\r\n     *   Complement data from server before control implementation\r\n     */\n  complementData: function complementData(data) {\n    var self = this;\n    var properties = self.properties;\n\n    var bCurrentDataFound = false;\n    $.each(data, function (i, item) {\n\n      if (item.value !== undefined && item.value !== null) {\n        item.value = self.formatItem(item.value);\n        if (properties.value) {\n          if (item.id == properties.value.id) {\n            bCurrentDataFound = true;\n          }\n        }\n      } else {\n        item.value = \"\";\n      }\n    });\n\n    // Add empty node if configured\n    if (self.showEmpty()) {\n      var emptyFound = false;\n      for (var i = 0, length = data.length; i < length; i++) {\n        if (data[i].id === \"\") {\n          emptyFound = true;\n          break;\n        }\n      }\n\n      if (!emptyFound) {\n        var dataValue = bizagi.override.emptyLabelForCombo || bizagi.localization.getResource(\"render-combo-empty-value\");\n        data.unshift({ id: \"\", value: dataValue });\n      }\n    }\n\n    if (properties.value) {\n      if (!bCurrentDataFound && self.showCurrentData()) {\n        data.unshift({ id: properties.value.id, value: properties.value.value, hidden: true });\n      }\n    }\n\n    // Add additional value\n    return self.parseAdditionalValues(data);\n  },\n\n  /*\r\n     *   Check if a render has no value for required validation\r\n     */\n  hasValue: function hasValue() {\n    var self = this;\n    var currentValue = self.getValue();\n\n    if (bizagi.util.isEmpty(currentValue)) return false;\n    if (Object.prototype.toString.apply(currentValue) === \"[object Object]\" && (bizagi.util.isEmpty(currentValue.id) || currentValue.id == 0)) return false;\n\n    // Else\n    return true;\n  },\n\n  /*\r\n     * Cleans current data\r\n     */\n  cleanData: function cleanData() {\n    var self = this;\n    var value = { id: \"\", label: \"\" };\n\n    self.setDisplayValue(value);\n    self.setValue(value, false);\n  },\n\n  beforeToRefresh: function beforeToRefresh() {\n    this.column && !this.column.comboData && this.getData();\n  },\n\n  isExtraItem: function isExtraItem() {\n    var self = this;\n    var data = self.value || {};\n    var value = data.value || \"\";\n\n    return value === \"\" || value === self.getResource(\"render-combo-empty-selection\") || value === self.getResource(\"render-combo-empty-value\");\n  },\n\n  escapeValue: function escapeValue(value) {\n    if (bizagi.util.isString(value)) {\n      var valueToReturn = value.replaceAll(\"<\", \"&lt;\").replaceAll(\">\", \"&gt;\");\n      return valueToReturn;\n    } else {\n      return value;\n    }\n  },\n\n  /**\r\n      *  Maps the value, when this one comes from actions\r\n      * @param value\r\n      * @returns {*}\r\n      */\n  mapValue: function mapValue(value) {\n    if (value && value.fromAction) {\n      return {\n        id: value.value,\n        value: value.label,\n        label: value.label };\n\n    }\n\n    return value;\n  },\n\n  validateValue: function validateValue(value) {\n    if (value.id != undefined && (typeof value.id === \"number\" && value.id !== null || typeof value.id === \"string\" && value.id.length > 0)) {\n      if (value.value !== null && typeof value.value === \"boolean\") {\n        translated = true;\n        if (bizagi.util.parseBoolean(value.value) === true) {\n          value.value = bizagi.localization.getResource(\"render-boolean-yes\");\n        } else if (bizagi.util.parseBoolean(value.value) === false) {\n          value.value = bizagi.localization.getResource(\"render-boolean-no\");\n        }\n      } else if (value.value != null && _typeof(value.value) === \"object\") {\n        for (var i = 0, length = value.value.length; i < length; i++) {\n          if (value.value[i] != null && typeof value.value[i] === \"boolean\") {\n            if (bizagi.util.parseBoolean(value.value[i]) === true) {\n              value.value[i] = bizagi.localization.getResource(\"render-boolean-yes\");\n            } else if (bizagi.util.parseBoolean(value.value[i]) === false) {\n              value.value[i] = bizagi.localization.getResource(\"render-boolean-no\");\n            }\n          }\n        }\n      }\n    }\n\n    return value;\n  },\n\n  /**\r\n      * Finds an element in the combo data values by id\r\n      * @param {int} id\r\n      * @returns {Object}\r\n      */\n  findDataValueById: function findDataValueById(id) {\n    return (this.properties.data || []).find(function (e) {\n      return e.id == id;\n    });\n  } });","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /*\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Name: BizAgi Render Date Class\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Author: UI Forms Team\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Comments:\r\n                                                                                                                                                                                                                                                                                                                                                                                *   -   This script will define basic stuff for date renders\r\n                                                                                                                                                                                                                                                                                                                                                                                */\n\n$.Class.extend(\"bizagi.rendering.date\", {}, {\n  /*\r\n                                               *   Update or init the element data\r\n                                               */\n  initializeData: function initializeData(data) {\n    var self = this;\n    var ud = bizagi.util.dateFormatter;\n\n    // Call base\n    this._super(data);\n\n    // Fill default properties\n    var properties = self.properties;\n    var dateFormat = self.getResource(\"dateFormat\");\n    var timeFormat = self.getResource(\"timeFormat\");\n\n    // We will hold here the value to display\n    properties.displayValue = \"\";\n    properties.showTime = properties.showTime !== undefined ? bizagi.util.parseBoolean(properties.showTime) : false;\n    properties.dateFormat = properties.dateFormat || dateFormat;\n    properties.timeFormat = properties.timeFormat || timeFormat;\n    properties.fullFormat = properties.dateFormat;\n\n    // Check if it has the showtime property\n    if (properties.showTime) {\n      if (properties.fullFormat.search(/[h|H]+/gi) === -1) {\n        properties.fullFormat = properties.fullFormat + \" \" + properties.timeFormat;\n      }\n    }\n\n    // Read always parameter from server in invariant format\n    if (properties.value) {\n      var date = ud.getDateFromInvariant(properties.value, properties.showTime);\n      // Format date to current format\n      if (date != 0) {\n        // Value must always hold the value with invariant format\n        self.value = properties.value;\n        var datePickerRegional = bizagi.localization.getResource(\"datePickerRegional\");\n        properties.displayValue = bizagi.util.dateFormatter.formatDate(date, properties.fullFormat, datePickerRegional);\n      } else {\n        self.value = null;\n      }\n    }\n\n    // Fix dateFormat for datepicker\n    dateFormat = self.getDateFormat(properties.fullFormat);\n\n    var indexDateTimeSeparation = properties.fullFormat.substring(0, properties.fullFormat.indexOf(\":\")).lastIndexOf(\" \");\n    if (!properties.showTime)\n    properties.fullFormat =\n    indexDateTimeSeparation > 0 ? properties.fullFormat.substring(0, indexDateTimeSeparation) : properties.fullFormat;\n\n    properties.datePickerFormat = dateFormat.datePickerFormat;\n    properties.timePickerFormat = dateFormat.timePickerFormat;\n\n    self.i18n = bizagi.localization.getResource(\"datePickerRegional\");\n  },\n\n  /*\r\n      *   Template method to implement in each children to customize each control\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var properties = self.properties;\n    var template = self.renderFactory.getTemplate(\"date\");\n    var fullFormat = properties.fullFormat;\n\n    // Render template\n    var html = $.fasttmpl(template, {\n      showTime: properties.showTime,\n      value: properties.value,\n      editable: properties.editable,\n      dateFormat: bizagi.override && bizagi.override.uppercaseDatePlaceholder === true ? fullFormat.toUpperCase() : fullFormat,\n      rtl: properties.orientation == \"rtl\" });\n\n    return html;\n  },\n\n  /*\r\n      *   Template method to implement in each device to customize the render's behaviour to add handlers\r\n      */\n  configureHandlers: function configureHandlers(intHandler, isNow) {\n    var self = this;\n    var properties = self.properties;\n\n    // Set control references\n    var dateControl = self.getDateControl();\n    var timeControl = self.getTimeControl();\n\n    // Attach change event\n    dateControl.bind(\"change\", function () {\n      self.onChangeHandler();\n    });\n\n    if (properties.showTime) {\n      timeControl.bind(\"change\", function (e, isNow) {\n        if (self.updatingTime) {\n          delete self.updatingTime;\n          return;\n        }\n        self.onChangeHandler(isNow);\n      });\n    }\n  },\n\n  /*\r\n      *   Formats the date time value to the hidden control\r\n      */\n  onChangeHandler: function onChangeHandler() {\n  },\n\n  getDisplayValue: function getDisplayValue(value) {\n    var self = this;\n    var properties = self.properties;\n    var displayValue;\n\n    if (!properties.displayValue && value) {\n      var date = bizagi.util.dateFormatter.getDateFromInvariant(value, properties.showTime);\n      var datePickerRegional = bizagi.localization.getResource(\"datePickerRegional\");\n      displayValue = bizagi.util.dateFormatter.formatDate(date, properties.fullFormat, datePickerRegional);\n    } else {\n      displayValue = \"\";\n    }\n\n    // We can return the display value isntance\n    return properties.displayValue || displayValue || \"\";\n  },\n\n  /*\r\n      *   Add the render data to the given collection in order to send data to the server\r\n      */\n  collectData: function collectData(renderValues) {\n    var self = this;\n    var properties = self.properties;\n\n    // Add the render value\n    var xpath = properties.xpath;\n    var value = self.getValue();\n\n    if (self.controlValueIsChanged()) {\n      // Filter by valid xpaths and valid values\n      if (!bizagi.util.isEmpty(xpath)) {\n        if (!bizagi.util.isEmpty(value)) {\n          // Formats the value in full invariant (with time) in order to send to the server\n          var date = bizagi.util.dateFormatter.getDateFromInvariant(value, properties.showTime);\n          if (typeof date != \"undefined\")\n          if (date !== 0) {\n            if (!properties.showTime) {\n              date.setHours(0, 0, 0, 0);\n            }\n            renderValues[properties.xpath] = bizagi.util.dateFormatter.formatInvariant(date, true);\n          }\n        } else if (value === \"\") {\n          renderValues[properties.xpath] = \"\";\n        }\n      }\n    }\n  },\n\n  /*\r\n      *   Gets the date control\r\n      */\n  getDateControl: function getDateControl() {\n  },\n\n  /*\r\n      *   Gets the time control\r\n      */\n  getTimeControl: function getTimeControl() {\n  },\n\n  /*\r\n      * Public method to determine if a value is valid or not\r\n      */\n  isValid: function isValid(invalidElements) {\n    var self = this,\n    properties = self.properties;\n\n    // Call base\n    var bValid = this._super(invalidElements);\n    var value = self.getValue();\n    if (value) {\n      if (bizagi.util.parseBoolean(properties.editable) === true) {\n        value = self.getNormalizeDate(bizagi.util.dateFormatter.getDateFromInvariant(value, properties.showTime));\n        var message;\n\n        // Check that we have a valid data\n        if (value != 0) {\n          // Check min value\n          if (properties.minValue && (typeof properties.minValue === \"string\" || typeof properties.minValue == \"number\")) {\n            var minValue = self.getNormalizeDate(\n            typeof properties.minValue == \"string\" ?\n            bizagi.util.dateFormatter.getDateFromInvariant(properties.minValue, properties.showTime) :\n            new Date(properties.minValue));\n\n\n            if (value < minValue) {\n              message = this.getResource(\"render-date-minimum-validation\").\n              replaceAll(\"#label#\", properties.displayName).\n              replaceAll(\"#minValue#\", bizagi.util.dateFormatter.formatDate(minValue, properties.fullFormat));\n              invalidElements.push({\n                xpath: properties.xpath,\n                message: message });\n\n              bValid = false;\n            }\n          }\n\n          // Check max value\n          if (properties.maxValue && (typeof properties.maxValue == \"string\" || typeof properties.maxValue == \"number\")) {\n            var maxValue = self.getNormalizeDate(\n            typeof properties.maxValue == \"string\" ?\n            bizagi.util.dateFormatter.getDateFromInvariant(properties.maxValue, properties.showTime) :\n            new Date(properties.maxValue));\n\n\n            if (value > maxValue) {\n              message = this.getResource(\"render-date-maximum-validation\").\n              replaceAll(\"#label#\", properties.displayName).\n              replaceAll(\"#maxValue#\", bizagi.util.dateFormatter.formatDate(maxValue, properties.fullFormat));\n              invalidElements.push({\n                xpath: properties.xpath,\n                message: message });\n\n              bValid = false;\n            }\n          }\n        }\n      }\n    }\n    return bValid;\n  },\n\n  /**\r\n      * Translate standar date format to jquery date picker\r\n      * @property {string} format Control's date format\r\n      * @returns {JSON object} A JSON Object whith the date and time format\r\n      */\n  getDateFormat: function getDateFormat(format) {\n    var datePickerFormat = format;\n    var timePickerFormat = undefined;\n    var init;\n\n    if (format.search(\"h\") != -1 || format.search(\"H\") != -1) {\n      if (format.search(\"h\") != -1) {\n        init = format.search(\"h\");\n      } else {\n        init = format.search(\"H\");\n      }\n\n      datePickerFormat = format.substring(0, init - 1);\n      timePickerFormat = format.substr(init);\n    }\n\n    // Fix month\n    if (datePickerFormat.indexOf(\"MMMM\") >= 0) {\n      datePickerFormat = datePickerFormat.replaceAll(\"MMMM\", \"MM\");\n    } else if (datePickerFormat.indexOf(\"MMM\") >= 0) {\n      // Month name short\n      datePickerFormat = datePickerFormat.replaceAll(\"MMM\", \"M\");\n    } else if (datePickerFormat.indexOf(\"MM\") >= 0) {\n      // Month two digits\n      datePickerFormat = datePickerFormat.replaceAll(\"MM\", \"mm\");\n    } else if (datePickerFormat.indexOf(\"M\") >= 0) {\n      // Month one digits\n      datePickerFormat = datePickerFormat.replaceAll(\"M\", \"m\");\n    }\n\n    // Fix years\n    if (datePickerFormat.search(\"yyyy\") != -1) {\n      datePickerFormat = datePickerFormat.replaceAll(\"yyyy\", \"yy\");\n    } else {\n      if (datePickerFormat.search(\"yy\") != -1) {\n        datePickerFormat = datePickerFormat.replaceAll(\"yy\", \"y\");\n      }\n    }\n\n    datePickerFormat = datePickerFormat.replaceAll(\"dddd\", \"DD\"); // Fix days\n\n    return {\n      datePickerFormat: datePickerFormat,\n      timePickerFormat: timePickerFormat };\n\n  },\n\n  /*\r\n      *   Template method to implement in each device to customize each render after processed\r\n      */\n  postRender: function postRender() {\n    var self = this;\n    var properties = self.properties;\n    // Call base\n    this._super();\n    if (typeof properties.maxValue == \"undefined\")\n    properties.maxValue = \"12/31/\" + parseInt(new Date().getFullYear() + 200).toString() + \" 00:00:00\"; //Current year + 200 IE or 9999\n    if (typeof properties.minValue == \"undefined\")\n    properties.minValue = \"01/01/\" + parseInt(new Date().getFullYear() - 200).toString() + \" 00:00:00\"; //Current year - 200 IE or 1753 for SQL Server compat\n  },\n\n  /**\r\n      * Sets milliseconds to 0 in date\r\n      * @param {Date} date date to be treated\r\n      * @returns {Date} date converted with milliseconds 0\r\n      */\n  getNormalizeDate: function getNormalizeDate(date) {\n    var self = this;\n    if (date != 0 && date != null) {\n      if (!self.properties.showTime) {\n        date.setHours(0, 0, 0, 0);\n      } else date.setMilliseconds(0);\n    }\n    return date;\n  },\n\n  /**\r\n      * Configure the timeformat\r\n      */\n  getTimeFormat: function getTimeFormat(format) {\n    return format.replaceAll(\"m\", \"i\").replaceAll(\"tt\", \"A\");\n  },\n\n  /**\r\n      * Sets value to the control\r\n      * @param {Date} date date to asign\r\n      * @returns {}\r\n      */\n  setValueFromCalendarButtons: function setValueFromCalendarButtons(date) {\n    var self = this;\n    if (date) date = self.getNormalizeDate(date);else\n    {\n      value = null;\n      self.setValue(\"\");\n      self.setDisplayValue(\"\");\n    }\n  },\n\n  /*\r\n      *   Changes the render min value\r\n      */\n  changeMinValue: function changeMinValue(value) {\n    var self = this;\n    var properties = self.properties;\n    var ud = bizagi.util.dateFormatter;\n\n    // Set value in control\n    if (value && properties.editable) {\n      if (typeof value === \"number\") {\n        value = ud.formatInvariant(self.getNormalizeDate(new Date(value)), properties.showTime); // Set as invariant\n      } else {\n        value = self.getNormalizeDate(_typeof(value) === \"object\" ? value : ud.getDateFromInvariant(value, properties.showTime));\n        value = ud.formatInvariant(value);\n      }\n      properties.minValue = value;\n    }\n  },\n\n  /*\r\n      *   Changes the render max value\r\n      */\n  changeMaxValue: function changeMaxValue(value) {\n    var self = this;\n    var properties = self.properties;\n    var ud = bizagi.util.dateFormatter;\n\n    // Set value in control\n    if (value && properties.editable) {\n      if (typeof value === \"number\") {\n        value = ud.formatInvariant(self.getNormalizeDate(new Date(value)), properties.showTime); // Set as invariant\n      } else {\n        value = self.getNormalizeDate(_typeof(value) === \"object\" ? value : ud.getDateFromInvariant(value, properties.showTime));\n        value = ud.formatInvariant(value);\n      }\n      properties.maxValue = value;\n    }\n  } });","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /**\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Name: Bizagi Render Text Class\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Author: UI Forms Team\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Comments:\r\n                                                                                                                                                                                                                                                                                                                                                                                *   -   This script will define basic stuff for text renders\r\n                                                                                                                                                                                                                                                                                                                                                                                */\n\n$.Class.extend(\"bizagi.rendering.extendedText\", {}, {\n\n  /**\r\n                                                       * Update or init the element data\r\n                                                       * @param {} data\r\n                                                       */\n  initializeData: function initializeData(data) {\n    var self = this;\n\n    // Call base\n    self._super(data);\n\n    // Check if offline forms is supported\n    this.isOfflineForm = bizagi.util.isOfflineForm({ context: self });\n    this.hasMaxLines = this.properties.maxLines ? true : false;\n\n    // Fill default properties\n    var properties = this.properties;\n\n    // Fill default properties\n    properties.maxLines = this.properties.maxLines || 6;\n\n    if (properties.regularExpressionExpression) {\n      var message = properties.regularExpressionMessage || self.getResource(\"render-text-regular-expression-default-message\");\n\n      properties.regularExpression = { \"expression\": properties.regularExpressionExpression, \"message\": message };\n    }\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      */\n  renderControl: function renderControl() {\n    var template = this.renderFactory.getTemplate(\"extendedText\");\n\n    // Render template\n    var html = $.fasttmpl(template, {\n      isEmptyField: typeof this.properties.value === \"undefined\",\n      editable: this.properties.editable });\n\n\n    return html;\n  },\n\n  /**\r\n      * Template method to implement in each device to customize each render after processed\r\n      */\n  postRender: function postRender() {\n    var self = this;\n    self._super();\n\n    var control = self.getControl();\n    self.textarea = control.find(\"textarea\");\n\n    // If is textarea, then enable resize element.\n    if (self.textarea) {\n      self.textarea.css({ resize: \"both\" });\n    } else {\n      self.textarea.css({ resize: \"none\" });\n    }\n\n    // Attach event for retype double\n    if (self.properties.retype === \"double\")\n    self.attachRetypeDouble();\n  },\n\n  /**\r\n      * Function virtual implements on children (desktop,samrtphone...).\r\n      */\n  attachRetypeDouble: function attachRetypeDouble() {\n  },\n\n  /**\r\n      * Template method to implement in each device to customize the render's behaviour to add handlers\r\n      */\n  configureHandlers: function configureHandlers() {\n    var self = this;\n    var properties = self.properties;\n\n    // Set the default maxlength for the input if is 0 or undefined set to infinity\n    // this resolve issue with scope strings that don't have maxlength\n    if (properties.maxLength)\n    self.textarea.prop('maxlength', properties.maxLength);\n\n    if (properties.maxLines) {\n      self.textarea.prop('rows', properties.maxLines);\n    } else {\n      self.textarea.prop('rows', 6);\n    }\n\n    // Attach change event\n    self.textarea.bind(\"change\", function () {\n\n      // Updates internal value\n      self.setValue(self.textarea.val());\n\n      // Check that the value is valid\n      var validationMessages = [];\n      if (properties.retype !== \"duplicate\") {\n        if (self.isValid(validationMessages) || typeof properties.regularExpression === \"undefined\") {\n          // Update value again triggering handlers\n          self.setValue(self.textarea.val(), true);\n        } else {\n          // Set error message\n          var message = validationMessages[0].message;\n          bizagi.showMessageBox(message, \"Bizagi\", \"error\");\n        }\n      }\n    });\n\n    // Attach blur event\n    self.textarea.bind(\"blur\", function () {\n      // Updates internal value\n      self.setValue(self.textarea.val());\n    });\n  },\n\n  /**\r\n      * Public method to determine if a value is valid or not\r\n      * @param {} invalidElements\r\n      * @returns {}\r\n      */\n  isValid: function isValid(invalidElements) {\n    var self = this;\n    var properties = self.properties;\n    var message;\n\n    // Call base\n    var bValid = this._super(invalidElements);\n    var value = self.getValue();\n    var regEx = new RegExp(\".*?(<|\\\\u003C)(.+?)(>|\\\\u003E)(.?)|eval\\\\(|eval\\\\u0028\", \"g\");\n\n    // Offline capability\n    if (this.isOfflineForm && bizagi.util.isMobileDevice()) {\n      value = value && _typeof(value) === \"object\" && value.value ? value.value : value;\n    }\n\n    // Check regular expression\n    if (properties.regularExpression) {\n      if (properties.editable) {\n        if (value && (value.match(regEx) || !value.match(new RegExp(properties.regularExpression.expression)) && self.properties && self.properties.xpath === \"userName\")) {\n          message = properties.regularExpression.message;\n          invalidElements.push({ xpath: properties.xpath, message: message });\n          bValid = false;\n        } else {\n          if (value && (value.match(regEx) || !value.match(new RegExp(properties.regularExpression.expression)))) {\n            message = properties.regularExpression.message;\n            invalidElements.push({ xpath: properties.xpath, message: message });\n            bValid = false;\n          }\n        }\n      }\n    } else {\n      if (value && value.match(new RegExp(\".*?eval\\\\(\", \"g\")) && value.match(new RegExp(\".*?eval\\\\u0028\", \"g\"))) {\n        if (properties.editable) {\n          message = this.getResource(\"render-text-regular-expression-default-message\");\n          invalidElements.push({ xpath: properties.xpath, message: message });\n          bValid = false;\n        }\n      }\n    }\n\n    return bValid;\n  },\n\n  /**\r\n      * Sets the value in the rendered control\r\n      * @param {} value\r\n      * @returns {}\r\n      */\n  setDisplayValue: function setDisplayValue(value) {\n    var self = this;\n    var control = self.getControl();\n    var decodedValue = bizagi.util.decodeURI(value);\n\n    if (self.properties.editable == false) {\n      // Render as simple value\n      if (typeof value == \"string\") {\n\n        // Replace line breaks for html line breaks\n        var valueToDisplay = bizagi.util.encodeHtmlText(self.getDisplayValue());\n\n        control.html(valueToDisplay);\n      }\n    }\n\n    // Set internal value\n    self.setValue(decodedValue, false);\n  },\n\n  /**\r\n      * Add the render data to the given collection in order to send data to the server\r\n      * @param {} renderValues\r\n      * @returns {}\r\n      */\n  collectData: function collectData(renderValues) {\n    // Call base\n    this._super(renderValues);\n  },\n\n  /**\r\n      * Extend setValue to fix all encode data from database\r\n      * More information SUITE-9407\r\n      * @param {} value\r\n      * @returns {}\r\n      */\n  setValue: function setValue(value) {\n    var decodedValue = bizagi.util.decodeURI(value);\n\n    this._super(decodedValue);\n  },\n\n  /**\r\n      * Helptext tooltip\r\n      * @param {} control\r\n      * @param {} currentValue\r\n      * @param {} currentTitle\r\n      */\n  createTooltip: function createTooltip(control, currentValue, currentTitle) {\n    control.data(\"oldValue\", currentValue);\n    control.val(\"\");\n\n    if (control.data('ui-tooltip')) control.tooltip('destroy');\n\n    control.attr(\"title\", currentTitle);\n    control.tooltip();\n\n    var toolTipZindex = $.getMaxZindex();\n    control.tooltip().on(\"tooltipopen\", function (event, ui) {\n      ui.tooltip.zIndex(toolTipZindex);\n    });\n\n    // Create new tooltip\n    control.tooltip(\"open\");\n\n    var timeOutFocus = setTimeout(function () {\n      control.focus();\n      clearTimeout(timeOutFocus);\n    }, 100);\n  },\n\n  //#region No side effects functions\n  /**\r\n   * Gets the string with the correct size\r\n   * @param {string} value String value to validate\r\n   * @param {Int} maxLength Maximum size of the string\r\n   * @returns {string} String value validated\r\n   */\n  validateValue: function validateValue(value, maxLength) {\n    if (maxLength < 1 || value.length <= maxLength) return value;\n    return value.substr(0, maxLength);\n  }\n  //#endregion No side effects functions\n});","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /**\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Name: Bizagi Render Grid Class\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Author: UI Forms Team\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Comments:\r\n                                                                                                                                                                                                                                                                                                                                                                                *   -   This script will define basic stuff for grids\r\n                                                                                                                                                                                                                                                                                                                                                                                */\n\n$.Class.extend(\"bizagi.rendering.grid\", {}, {\n\n  /*\r\n                                               *   Update or init the element data\r\n                                               */\n  initializeData: function initializeData(data) {\n    var self = this;\n\n    // Call base\n    this._super(data);\n    self.originalProperties = bizagi.clone(data.properties);\n\n    // Fill default properties\n    var properties = this.properties;\n\n    self.initProperties();\n\n    // Set columns\n    var areThereEditableColumns;\n    var areThereTotalizedColumns;\n    self.columns = [];\n    self.columnsIds = [];\n    self.enabledChecks = {};\n    self.exclusiveChanges = {};\n    self.originalEnabledChecks = [];\n    $.each(data.elements, function (i, column) {\n      var columnProperties = column.render.properties;\n\n      // the groupby property is taken of column\n      if (columnProperties.groupBy) {\n        properties.groupBy = columnProperties.xpath || \"\";\n        properties.allowGrouping = !bizagi.util.isEmpty(properties.groupBy) ? true : false;\n      }\n\n      if (/columnBoolean/i.test(columnProperties.type) && columnProperties.isExclusive) {\n        properties.hasExclusiveCheck = true;\n        column.render.properties.required = false;\n        self.enabledChecks[columnProperties.xpath] = [];\n      }\n\n      // If inlineEdit is false then all columns must be read only\n      if (!self.properties.inlineEdit) {\n        column.render.properties.editable = false;\n      }\n\n      // Create renderColumns\n      var columnRender = self.renderFactory.getColumn({\n        type: columnProperties.type,\n        data: column.render,\n        parent: self,\n        singleInstance: properties.singleInstance });\n\n\n      self.columns.push(columnRender);\n      self.columnsIds.push(column.render.properties.id);\n\n      if (columnProperties.editable) {\n        areThereEditableColumns = true;\n      }\n\n      if (columnProperties.totalize && columnProperties.totalize.operation) {\n        areThereTotalizedColumns = true;\n\n        // Default summary format\n        columnProperties.totalize.format = columnProperties.totalize.format || {};\n        columnProperties.totalize.format.bold = columnProperties.totalize.format.bold !== undefined ? columnProperties.totalize.format.bold : true;\n      }\n    });\n\n    // Reverse columns when using right to left orientation\n    if (properties.orientation === \"rtl\")\n    self.columns = self.columns.reverse();\n\n    // Turn off inline edit if there are any editable columns        \n    if (properties.inlineEdit && !areThereEditableColumns) {\n      properties.inlineEdit = false;\n      properties.allowEdit = false;\n    }\n\n    // Check if the grid has totalizers\n    if (areThereTotalizedColumns) {\n      properties.showSummary = true;\n      properties.rowsPerPage = 0;\n    }\n  },\n\n  initProperties: function initProperties() {\n    var self = this;\n    var form = self.getFormContainer();\n    var properties = self.properties;\n\n    /** Edit properties\r\n                                       * @default editable true\r\n                                       * @default  allowAdd true\r\n                                       */\n    $.extend(properties, self.initEditabilityProperties(\n    properties.editable,\n    properties.allowEdit,\n    properties.inlineEdit,\n    properties.withEditForm),\n    self.initAddAndDeleteProperties(\n    properties.editable,\n    properties.allowAdd,\n    properties.inlineAdd,\n    properties.allowDelete));\n\n\n    /* Define details properties*/\n    properties.allowDetail = bizagi.util.parseBoolean(properties.allowDetail) != null ? bizagi.util.parseBoolean(properties.allowDetail) : false;\n    properties.isSortable = bizagi.util.parseBoolean(properties.isSortable) != null ? bizagi.util.parseBoolean(properties.isSortable) : true;\n\n    /* Define general properties */\n    properties.keyColumn = \"\";\n    properties.data = properties.data || null;\n    properties.displayType = \"value\";\n    properties.skipInitialLoad = properties.skipInitialLoad || false;\n    properties.allowMore = bizagi.util.parseBoolean(properties.allowMore) || false;\n    properties.allowFilter = bizagi.util.parseBoolean(properties.allowFilter) || false;\n    properties.allowGrouping = false;\n    properties.groupBy = \"\";\n    properties.groupSummary = properties.groupSummary || null;\n    properties.groupText = this.getResource(\"render-grid-group-text\");\n    properties.groupCollapsed = bizagi.util.parseBoolean(properties.groupCollapsed) || false;\n    properties.groupOrder = properties.groupOrder || \"asc\";\n    properties.formShowMode = bizagi.util.parseBoolean(properties.formShowMode) || \"popup\";\n    properties.floatingHeader = bizagi.util.parseBoolean(properties.floatingHeader) || false;\n\n    properties.sortBy = properties.sortBy ? properties.sortBy : properties.data && properties.data.sort ? properties.data.sort : properties.keyColumn;\n    properties.sortOrder = properties.sortOrder !== undefined && properties.sortOrder !== null ? properties.sortOrder === \"True\" ? \"asc\" : \"desc\" : properties.data && properties.data.order ? properties.data.order : \"asc\";\n    properties.sort = properties.sortBy + \" \" + properties.sortOrder;\n\n    properties.rowsPerPage = properties.allowGrouping ? 1000 : properties.rowsPerPage || 20;\n    properties.page = 1;\n    properties.records = 0;\n    properties.totalPages = 0;\n\n    properties.addLabel = properties.addLabel || $.trim(this.getResource(\"render-grid-add-label\")) + \" \" + properties.displayName;\n    properties.editLabel = properties.editLabel || $.trim(this.getResource(\"render-grid-edit-label\")) + \" \" + properties.displayName;\n    properties.deleteLabel = properties.deleteLabel || this.getResource(\"render-ecm-confirm-bt-delete\") + \" \" + properties.displayName;\n    properties.exportOptionsLabel = properties.exportOptionsLabel || this.getResource(\"render-grid-export-options-label\") + properties.displayName;\n    properties.detailLabel = properties.detailLabel || this.getResource(\"render-collection-navigator-details-form\");\n\n    // Apply style to entire table\n    properties.tableCssClass = properties.cssClass || \"\";\n\n    properties.alreadySaved = false;\n\n    // When grid open in modal window and the parent is entity\n    if (properties.contexttype != \"entity\") {\n      properties.contexttype = typeof self.parent.getContextType == 'function' ? self.parent.getContextType() : \"\";\n    }\n\n    // Define if it is editable or not        \n    /* This part change all cells in the table to no editable,\r\n     * you must use it when the parent container has noeditable property,\r\n     * so this table is noeditable too.\r\n     */\n    try {\n      if (self.parent && typeof self.parent.properties.editable == \"boolean\" && !self.parent.properties.editable || !properties.editable) {\n        properties.editable = false;\n        properties.allowEdit = false;\n        properties.inlineEdit = false;\n        properties.allowAdd = false;\n        properties.inlineAdd = false;\n        properties.allowDelete = false;\n      }\n    } catch (e) {\n    }\n\n    // If grid has not allowEdit property in true, all fields within the grid\n    // must be no editables, so these lines changes this behavior\n    if (!properties.allowEdit || !properties.inlineEdit && !properties.withEditForm) {\n      properties.editable = false;\n    }\n\n    // Calculate render width\n    properties.labelWidth = 0;\n    properties.valueWidth = \"100%\";\n\n    // This property will be used to make custom grids with another data source\n    properties.overrideGetRemoteData = properties.overrideGetRemoteData || undefined;\n    //this property use to create a single decorated or a array of decorated\n    properties.singleInstance = bizagi.util.isEmpty(properties.singleInstance) ? true : properties.singleInstance;\n\n    // Check if the grid its opened whitin dialog form and has contextType\n    properties.contextType = form.params && form.params.data && form.params.data.contextType ? form.params.data.contextType : null;\n\n    // Create a collection to collect changes\n    self.changes = {};\n\n    // Create a collection to override properties per cell\n    self.cellOverrides = {};\n\n    // Check orientation and change order of data if its necesary (rtl)\n    if (self.isRTL() && properties.data != null) {\n      properties.data.rows = self.changeOrderData(properties.data.rows);\n    }\n  },\n\n  initEditabilityProperties: function initEditabilityProperties(editable, allowEdit, inlineEdit, withEditForm) {\n    // Set default values\n    editable = bizagi.util.parseBoolean(editable) !== null ? bizagi.util.parseBoolean(editable) : true;\n    allowEdit = bizagi.util.parseBoolean(allowEdit) !== null ? bizagi.util.parseBoolean(allowEdit) : true;\n    inlineEdit = bizagi.util.parseBoolean(inlineEdit) !== null ? bizagi.util.parseBoolean(inlineEdit) : true;\n    withEditForm = bizagi.util.parseBoolean(withEditForm) !== null ? bizagi.util.parseBoolean(withEditForm) : false;\n\n    if (!editable) {\n      allowEdit = inlineEdit = withEditForm = false;\n    }\n\n    return {\n      editable: editable,\n      allowEdit: allowEdit,\n      inlineEdit: inlineEdit,\n      withEditForm: withEditForm };\n\n  },\n\n  initAddAndDeleteProperties: function initAddAndDeleteProperties(editable, allowAdd, inlineAdd, allowDelete) {\n    // Set default values\n    editable = bizagi.util.parseBoolean(editable) !== null ? bizagi.util.parseBoolean(editable) : true;\n    allowAdd = bizagi.util.parseBoolean(allowAdd) != null ? bizagi.util.parseBoolean(allowAdd) : true;\n    inlineAdd = bizagi.util.parseBoolean(inlineAdd) != null ? bizagi.util.parseBoolean(inlineAdd) : true;\n    // Define Delete \n    allowDelete = bizagi.util.parseBoolean(allowDelete) != null ? bizagi.util.parseBoolean(allowDelete) : true;\n\n    if (!allowAdd) {\n      inlineAdd = false;\n    }\n\n    if (!editable) {\n      allowAdd = inlineAdd = allowDelete = false;\n    }\n\n    return {\n      allowAdd: allowAdd,\n      inlineAdd: inlineAdd,\n      allowDelete: allowDelete };\n\n  },\n\n  /*\r\n     *   Check if a render has no value for required validation\r\n     */\n  hasValue: function hasValue() {\n    return this.properties.data && this.properties.data.rows.length > 0;\n  },\n\n  isRTL: function isRTL() {\n    var properties = this.properties;\n    if (!properties) return true;\n    return typeof properties.orientation == \"string\" && properties.orientation.toUpperCase() == \"RTL\" ? true : false;\n  },\n\n  changeOrderData: function changeOrderData(data) {\n    var reverseDataRows = [];\n    var rows = data || [];\n    var rowKey;\n\n    $.each(rows, function (key, value) {\n      // Extract row key\n      rowKey = value.shift();\n      reverseDataRows = value.reverse();\n      // add element in the start\n      reverseDataRows.unshift(rowKey);\n\n      rows[key] = reverseDataRows;\n    });\n\n    return rows;\n  },\n\n  /**\r\n      * Specific fix RTL with localizated\r\n      * @param data\r\n      * @returns {*|Array}\r\n      */\n  removeRemainingColumns: function removeRemainingColumns(data, numColumns) {\n    var rows = data || [];\n    var remainingColumns = 0;\n    if (rows.length > 0) {\n      // \"- 1\" because the first column represent id row\n      remainingColumns = rows[0].length - numColumns - 1;\n    }\n    if (remainingColumns > 0) {\n      $.each(rows, function (key, value) {\n        // Remove remaining columns\n        for (var i = 0; i < remainingColumns; i++) {\n          value.pop();\n        }\n      });\n    }\n    return rows;\n  },\n\n  /* \r\n      *   Gets a column definition by xpath\r\n      */\n  getColumn: function getColumn(xpath) {\n    var self = this;\n    var result = null;\n    $.each(self.columns, function (i, column) {\n      if (\n      column.properties.xpath == xpath ||\n      column.properties.id == xpath ||\n      column.properties.xpath + \".\" + column.properties.id == xpath)\n      {\n        result = column;\n      }\n    });\n\n    return result;\n  },\n\n  getColumnType: function getColumnType(id) {\n    var self = this;\n    var columnIndex = self.columnsIds.indexOf(id);\n\n    if (columnIndex != -1) {\n      return self.columns[columnIndex].properties.type;\n    }\n\n    return null;\n  },\n\n  /*\r\n      *   Template method to implement in each children to customize each control\r\n      *   Returns a promise that will be resolved when all the columns has been loaded\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var properties = this.properties;\n    var defer = new $.Deferred();\n\n    // Set dummy data when not in execution mode\n    var mode = self.getMode();\n    if (mode !== \"execution\") {\n      properties.data = self.getDummyData();\n    }\n\n    var template = self.getGridTemplate();\n\n    // Render template\n    var html = self.applyTemplate(template);\n\n    // Initialize columns\n    var columnInitializers = [];\n    $.each(self.columns, function (i, column) {\n\n      // Add to column initializer array so we can synch out the promises\n      var result = column.initialize();\n      if (result)\n      columnInitializers.push(result);\n    });\n\n    // Resolve when all columns has been loaded\n    $.when.apply($, columnInitializers).done(function () {\n      defer.resolve(html);\n    });\n\n    return defer.promise();\n  },\n  /*\r\n      *   Template method to implement in each device to customize each render after processed\r\n      */\n  postRender: function postRender() {\n    var self = this;\n    var control = self.getControl();\n\n    // Call base\n    this._super();\n\n    // Make control to behave as a block container\n    // TODO: Move to instances. This does not apply to mobiles\n    control.addClass(\"ui-bizagi-render-grid-container\").\n    addClass(\"ui-bizagi-render-display-block\");\n  },\n\n  /*\r\n      *   Returns the grid template to be used\r\n      */\n  getGridTemplate: function getGridTemplate() {\n    return this.renderFactory.getTemplate(\"grid\");\n  },\n\n  /*\r\n      *   Applies the template to the render and returns the resolved element\r\n      */\n  applyTemplate: function applyTemplate(template) {\n    var self = this,\n    properties = self.properties;\n    orientation = self.properties.orientation;\n\n    return $.fasttmpl(template, {\n      id: bizagi.util.encodeXpath(properties.xpath),\n      displayName: bizagi.util.encodeXpath(properties.displayName),\n      allowAdd: properties.allowAdd,\n      addLabel: properties.addLabel });\n\n  },\n  /*\r\n      *   Method to render non editable values\r\n      *   Returns a promise that will be resolved when all the columns has been loaded\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    var self = this;\n\n    // Override read-only presets\n    //  properties.allowAdd = false;\n    // Render the same, just change some presets\n    return self.renderControl();\n  },\n  /*\r\n      *   Fetch the data into a deferred\r\n      */\n  getRemoteData: function getRemoteData(params) {\n    var self = this;\n    var properties = self.properties;\n\n    // Set params\n    params = params || {};\n    $.extend(params, {\n      url: properties.dataUrl,\n      xpath: properties.xpath,\n      idRender: properties.id,\n      xpathContext: properties.xpathContext,\n      contexttype: properties.contextType,\n      idPageCache: properties.idPageCache,\n      sort: properties.sortBy,\n      order: properties.sortType,\n      page: properties.page,\n      rows: properties.rowsPerPage,\n      searchFilter: properties.searchFilter,\n      orientation: properties.orientation || \"ltr\" });\n\n\n    // Check if a custom method has been given\n    if (properties.overrideGetRemoteData) {\n      return properties.overrideGetRemoteData(params);\n    } else {\n      // Resolve with remote data\n      return self.dataService.multiaction().getGridData(params).then(function (data) {\n        self.originalProperties = self.originalProperties || {};\n        self.originalProperties.data = bizagi.clone(data);\n\n        // Resolve with fetched data\n        properties.page = data.page;\n        properties.records = data.records;\n        properties.totalPages = data.totalPages;\n\n        return data;\n      }).fail(function (error) {\n        console.error(error.message || \"Error\");\n      });\n    }\n  },\n  /*\r\n      insert a blank item in the selected column in the data matrix\r\n      */\n  spliceRowData: function spliceRowData(data, index) {\n    var self = this;\n    var mode = self.getMode();\n    if (mode === \"execution\" && data && data.rows) {\n      $.each(data.rows, function (key, value) {\n        var spliceIndex = index || data.rows[key].length;\n        data.rows[key].splice(spliceIndex, 0, \"\");\n      });\n    }\n  },\n\n  spliceRowDataVisible: function spliceRowDataVisible(data, index) {\n    var self = this;\n    var mode = self.getMode();\n    if (mode === \"execution\" && data && data.visible) {\n      $.each(data.visible, function (key, value) {\n        var spliceIndex = index || data.visible[key].length;\n        data.visible[key].splice(spliceIndex, 0, true);\n      });\n    }\n  },\n\n  spliceRowDataEditable: function spliceRowDataEditable(data, index) {\n    var self = this;\n    var mode = self.getMode();\n    if (mode === \"execution\" && data && data.editable) {\n      $.each(data.editable, function (key, value) {\n        var spliceIndex = index || data.editable[key].length;\n        data.editable[key].splice(spliceIndex, 0, true);\n      });\n    }\n  },\n\n  /*\r\n      *   Creates a set of dummy data in order to display it when rendering in design or layout mode\r\n      */\n  getDummyData: function getDummyData() {\n    var self = this;\n    var properties = self.properties;\n    if (properties.data) {\n      return properties.data;\n\n    } else {\n      var rowTemplate = [\"1\"];\n\n      // Add a value for each column\n      for (var i = 0; i < self.columns.length; i++) {\n        rowTemplate.push(\"\");\n      }\n\n      var data = {\n        \"page\": 1,\n        \"total\": 1,\n        \"records\": 1,\n        \"rows\": [rowTemplate] };\n\n\n      return data;\n    }\n  },\n  /*\r\n      *   Submits a grid edit record request for the given id\r\n      *   Returns a deferred\r\n      */\n  submitEditRequest: function submitEditRequest(id) {\n    var self = this,\n    properties = self.properties;\n\n    var xpath = properties.xpath + self.buildCellXpathFilter(id);\n\n    return self.dataService.editGridRecord({\n      url: properties.editUrl,\n      idRender: properties.id,\n      xpath: xpath,\n      xpathContext: properties.xpathContext,\n      idPageCache: properties.idPageCache,\n      contexttype: properties.contextType });\n\n  },\n  /*\r\n      *   Submits a grid edit record request for the given id\r\n      *   Returns a deferred\r\n      */\n  submitSaveRequest: function submitSaveRequest(id, data) {\n    var self = this,\n    properties = self.properties;\n\n    // Check if there are deferreds to wait\n    var deferredsToWait = null;\n    if (data.deferreds) {\n      deferredsToWait = $.when.apply($, data.deferreds);\n      delete data.deferreds;\n    }\n\n    // Calculate xpath context\n    var xpathContext = properties.xpathContext.length > 0 ? properties.xpathContext + \".\" + properties.xpath + self.buildCellXpathFilter(id) : properties.xpath + self.buildCellXpathFilter(id);\n\n    return $.when(deferredsToWait).pipe(function () {\n      self.startLoading();\n      return self.dataService.saveGridRecord({\n        url: properties.saveUrl,\n        idRender: properties.id,\n        xpath: properties.xpath,\n        xpathContext: xpathContext,\n        submitData: data,\n        contexttype: properties.contextType,\n        disableServerGridValidations: data.disableServerGridValidations || false }).\n      pipe(function (dataResp) {\n        self.endLoading();\n        return dataResp;\n      }).fail(function (dataFail) {\n        var form = self.getFormContainer();\n        var message = dataFail.responseText ? dataFail.responseText : typeof dataFail == \"string\" ? dataFail : dataFail.toString();\n        //Convert String to object\n        if (typeof message == \"string\") {\n          try {\n            message = JSON.parse(message).message;\n          } catch (e) {\n            message = message.match(/\"message\":(.*)\",/)[0];\n            message = message.substr(11, message.length - 13);\n          }\n\n        } else if (!message.message) {\n          message = dataFail;\n        }\n        form.validateForm();\n        form.clearValidationMessages();\n        form.addValidationMessage(message);\n      });\n    });\n  },\n  /*\r\n      *   Submits a grid delete record request for the given id\r\n      *   Returns a deferred\r\n      */\n  submitDeleteRequest: function submitDeleteRequest(id) {\n    var self = this,\n    properties = self.properties;\n\n    var xpath = properties.xpath + self.buildCellXpathFilter(id);\n\n    return self.dataService.deleteGridRecord({\n      url: properties.deleteUrl,\n      idRender: properties.id,\n      xpath: xpath,\n      xpathContext: properties.xpathContext,\n      idPageCache: properties.idPageCache,\n      contexttype: properties.contextType }).\n    pipe(function (data) {\n      if (data.type == \"validationMessages\") {\n        var form = self.getFormContainer();\n        var message = data.messages.join(\" \");\n        form.failHandler({ message: message });\n      }\n\n      return data;\n    });\n  },\n  /*\r\n      *   Submits a grid add record request\r\n      *   Returns a deferred when done, the server returns an id for the new record\r\n      */\n  submitAddRequest: function submitAddRequest() {\n    var self = this,\n    properties = self.properties;\n\n    var request = self.dataService.addGridRecord({\n      url: properties.addUrl,\n      idRender: properties.id,\n      xpath: properties.xpath,\n      xpathContext: properties.xpathContext,\n      contexttype: properties.contextType,\n      idPageCache: properties.idPageCache });\n\n\n    var filterResponse = request.pipe(function (data) {\n      // Parses response\n      return data.idEntity;\n    });\n\n    return filterResponse.promise();\n  },\n  /*\r\n      *   Submits a grid rollback request\r\n      *   Returns a deferred when done\r\n      */\n  submitRollbackRequest: function submitRollbackRequest(params) {\n    var self = this,\n    properties = self.properties;\n\n    return self.dataService.rollbackGridAction({\n      url: properties.rollbackUrl,\n      idRender: properties.id,\n      xpath: properties.xpath,\n      xpathContext: properties.xpathContext,\n      idPageCache: params ? params.idPageCache : properties.idPageCache,\n      contexttype: self.properties.contexttype || \"\" });\n\n  },\n  /**\r\n      * Collect a single cell change made in the grid to send the data when the user saves the form\r\n      * @param params\r\n      */\n  collectGridChange: function collectGridChange(params) {\n    var self = this;\n    params = params || {};\n    var id = params.id;\n    var dataType = params.dataType;\n    var xpath = params.xpath;\n    var value = params.value;\n    var trigger = typeof params.trigger !== \"undefined\" ? params.trigger : true;\n    var isPressed = params.pressed || false;\n    var renderType = dataType && bizagi.util.normalizeType(dataType);\n\n    self.changes[id] = self.changes[id] || {};\n\n    if (/^columnsearch$/i.test(renderType) && value && typeof value.id !== \"undefined\") {\n      self.changes[id][xpath] = value.id;\n    } else {\n      self.changes[id][xpath] = value;\n    }\n\n    if (trigger) {\n      self.triggerRenderChange({ key: id, column: xpath, pressed: isPressed });\n    }\n  },\n  /*\r\n      *   Configures a column to perform a submit on change when the user changes a cell\r\n      */\n  configureColumnSubmitOnChange: function configureColumnSubmitOnChange(xpath) {\n    var self = this;\n    var properties = self.properties;\n\n    // Build action\n    var action = {\n      commands: [{\n        xpath: properties.xpath,\n        command: 'submit-value',\n        argument: 'all' }],\n\n      conditions: {\n        operator: 'and',\n        expressions: [\n        {\n          simple: {\n            operator: 'cell-change',\n            xpath: properties.xpath + '[].' + xpath,\n            argumentType: 'text',\n            argument: xpath } }] },\n\n\n\n\n      dependencies: [properties.xpath] };\n\n\n    // Add action when form ends its rendering\n    $.when(self.ready()).\n    done(function () {\n      var form = self.getFormContainer();\n      form.addSubmitAction(xpath, action);\n    });\n  },\n  /*\r\n      *   Add the render data to the given collection in order to send data to the server\r\n      */\n  collectData: function collectData(renderValues) {\n    var self = this;\n    var properties = self.properties;\n    var keysToDelete = [];\n\n    if (self.exclusiveChanges) {\n      //Add filter to parse all checks in tru to false. DON'T CHANGE CODE ORDER\n      for (var xpath in self.exclusiveChanges) {//Brings the xpath columns with changes\n        var columnExclusiveChanges = self.exclusiveChanges[xpath];\n        var columnEnabledChecks = self.enabledChecks[xpath];\n        if (columnExclusiveChanges && columnEnabledChecks) {\n          // If there are any change, its needed to include as a change the filter to set all rows in false\n          var xpathExclusiveFilter = properties.xpath + \"[\" + xpath + \"=true].\" + xpath;\n          renderValues[xpathExclusiveFilter] = false;\n        }\n      }\n    }\n\n    for (var id in self.changes) {\n      // Dont collect data from totalizers \n      if (id != \"summary\") {\n        for (var columnXpath in self.changes[id]) {\n          // Check if the render can submit data\n          if (self.canColumnBeSent(id, columnXpath)) {\n            var xpath = properties.xpath + self.buildCellXpathFilter(id) + \".\" + columnXpath;\n            var value = self.changes[id][columnXpath];\n\n            renderValues[xpath] = value;\n          }\n        }\n      }\n\n      // Clean changes \n      keysToDelete.push(id);\n\n    }\n    //If any exclusive check is true, set the new value in renderValues. DON'T CHANGE CODE ORDER\n    if (self.exclusiveChanges) {\n      for (var xpath in self.exclusiveChanges) {//Brings the xpath columns with changes\n        var columnExclusiveChanges = self.exclusiveChanges[xpath];\n        var columnEnabledChecks = self.enabledChecks[xpath];\n        if (columnExclusiveChanges && columnEnabledChecks) {\n          var checkedObject = self.exclusiveChanges[xpath];\n          if (checkedObject && checkedObject.value) {\n            var columnSimpleXpathEnabled = properties.xpath + self.buildCellXpathFilter(checkedObject.key) + \".\" + xpath;\n            renderValues[columnSimpleXpathEnabled] = checkedObject.value;\n          }\n        }\n      }\n    }\n\n    // Clean changes array in order to prevent duplicate data\n    // when execute SUBMITDATA in multiaction, that make and error\n    // in circular dependencies, specially when we add inline record\n    $.each(keysToDelete, function (key, v) {\n      delete self.changes[v];\n    });\n  },\n\n  hasChanged: function hasChanged(result) {\n    var self = this;\n    if (!$.isEmptyObject(self.changes)) {\n      result.push(true);\n      return true;\n    } else {\n      if (!$.isEmptyObject(self.exclusiveChanges)) {\n        result.push(true);\n        return true;\n      } else {\n        return false;\n      }\n    }\n  },\n\n  /*\r\n      *   Check if a column data can be sent to the server\r\n      */\n  canColumnBeSent: function canColumnBeSent(id, columnXpath) {\n    var self = this,i,j,xpath;\n    for (i in self.columns) {\n      if (self.columns.hasOwnProperty(i)) {\n        var column = self.columns[i];\n        if (column.properties.type !== \"columnUserfield\") {\n          if (column.properties.xpath == columnXpath) {\n            var cellOverride = self.getCellOverride(id, column.columnIndex - 1);\n            return column.canBeSent(id, cellOverride);\n          }\n        } else {\n          for (j in column.properties) {\n            if (column.properties.hasOwnProperty(j)) {\n              if (Object.prototype.toString.apply(column.properties[j]) === \"[object String]\") {\n                xpath = column.properties[j].substr(column.properties[j].lastIndexOf(\".\") + 1);\n                if (xpath === columnXpath) {\n                  return true;\n                }\n              }\n            }\n          }\n        }\n\n      }\n    }\n\n    return false;\n  },\n  /* \r\n      *  Method to determine if the render value can be sent to the server or not\r\n      */\n  canBeSent: function canBeSent() {\n    var self = this;\n    var properties = self.properties;\n    var displayOnly = bizagi.util.parseBoolean(properties.displayOnly) || false;\n\n    // The render can be sent if it is \"display only\" and inline Edit is available\n    if (!displayOnly && (properties.inlineEdit || properties.inlineAdd || !$.isEmptyObject(self.changes))) {\n      return true;\n    }\n    return false;\n  },\n  /*\r\n      *   Return the value for a requested cell\r\n      */\n  getCellValue: function getCellValue(key, xpath) {\n    var self = this;\n    var data = self.properties.data.rows;\n    for (var i = 0; i < data.length; i++) {\n      if (data[i][0] == key) {\n        for (var j = 0; j < self.columns.length; j++) {\n          if (self.columns[j].properties.xpath == xpath) {\n            var result = data[i][j + 1];\n            return result;\n          }\n        }\n      }\n    }\n    return null;\n  },\n  /*\r\n      *\r\n      */\n  getCellCurrentValue: function getCellCurrentValue(key, xpath) {\n    var self = this;\n\n    var control = self.getControlCell(key, xpath);\n    if (control && typeof control.getValue === \"function\") {\n      return control.getValue();\n    }\n    return null;\n  },\n  /*\r\n      *   Gets control\r\n      */\n  getControlCell: function getControlCell(key, xpath) {\n    var self = this;\n    var control = null;\n    if (typeof self.columns != \"undefined\")\n    for (var j = 0; j < self.columns.length; j++) {\n      if (\n      self.columns[j].properties.xpath == xpath ||\n      self.columns[j].properties.id == xpath ||\n      self.columns[j].properties.xpath + \".\" + self.columns[j].properties.id == xpath)\n      {\n        control = self.columns[j].getDecorated(key);\n        break;\n      }\n    }\n\n\n    return control;\n  },\n\n  changeRequired: function changeRequired(argument) {\n    this.properties.required = argument;\n    this.changeRequiredLabel(argument);\n  },\n\n  changeRequiredLabel: function changeRequiredLabel(argument) {\n    var control = this.getControl();\n\n    if (control.length > 0) {\n      if (this.getMode() !== \"execution\") {\n        if (bizagi.util.parseBoolean(argument) == true && this.properties.editable) {\n          control.addClass(\"grid-control-required\");\n        } else {\n          control.removeClass(\"grid-control-required\");\n        }\n      } else {\n        if (bizagi.util.parseBoolean(argument) == true && !this.hasValue() && this.properties.editable) {\n          control.addClass(\"grid-control-required\");\n        } else {\n          control.removeClass(\"grid-control-required\");\n        }\n      }\n    }\n\n    this.triggerRenderValidate();\n  },\n\n  /*\r\n      *   Fetch the data again and updates the content\r\n      */\n  refresh: function refresh() {\n  },\n  /*\r\n      *   Sets an error on the cell\r\n      */\n  setError: function setError(key, columnXpath) {\n  },\n  /*\r\n      *   Changes the background for a cell\r\n      */\n  changeCellBackgroundColor: function changeCellBackgroundColor(key, xpath, argument) {\n  },\n  /*\r\n      *   Changes the background for a cell\r\n      */\n  changeCellColor: function changeCellColor(key, xpath, argument) {\n  },\n  /*\r\n      *   Changes the visibility for a cell\r\n      */\n  changeCellVisibility: function changeCellVisibility(key, xpath, argument) {\n  },\n  /*\r\n      *  Changes the required for cell\r\n      */\n  changeCellRequired: function changeCellRequired(key, xpath, argument) {\n  },\n  /*\r\n      *   Changes the editability for a cell\r\n      */\n  changeCellEditability: function changeCellEditability(key, xpath, argument) {\n  },\n  /*\r\n      *  Refresh behaviors of cell\r\n      */\n  changeCellProperties: function changeCellProperties(key, xpath, argument) {\n\n  },\n  /*\r\n      *  Changes the max value for a cell\r\n      */\n  changeCellMaxValue: function changeCellMaxValue(key, xpath, argument) {\n\n  },\n  /*\r\n      *  Changes the min value for a cell\r\n      */\n  changeCellMinValue: function changeCellMinValue(key, xpath, argument) {\n\n  },\n\n  /*\r\n     *   Changes the editability for a column\r\n     */\n  changeColumnEditability: function changeColumnEditability(xpath, argument) {\n  },\n  /*\r\n      *   Changes the visibility for a column\r\n      */\n  changeColumnVisibility: function changeColumnVisibility(xpath, argument) {\n  },\n  /*\r\n      *   Changes the required for a column\r\n      */\n  changeColumnRequired: function changeColumnRequired(xpath, argument) {\n  },\n\n  /*\r\n      *  Clean data of cell\r\n      */\n  cleanCellData: function cleanCellData(key, xpath) {\n  },\n\n  changeEditability: function changeEditability(argument) {\n    var self = this;\n    var control = self.getControl();\n\n    self.saveGrid().done(function () {\n      var tmpEditable = argument == \"Default\" ? self.originalProperties.editable : bizagi.util.parseBoolean(argument);\n\n      // Clears control\n      control.empty();\n\n      var originalProperties = self.originalProperties;\n\n      $.extend(self.properties, self.initEditabilityProperties(\n      tmpEditable,\n      originalProperties.allowEdit,\n      originalProperties.inlineEdit,\n      originalProperties.withEditForm),\n      self.initAddAndDeleteProperties(\n      tmpEditable,\n      originalProperties.allowAdd,\n      originalProperties.inlineAdd,\n      originalProperties.allowDelete));\n\n\n      self.properties.editabilityEnabled = self.properties.editabilityEnabled || self.properties.editable;\n\n      // argument because it is necessary to propagate the default value to the column controls\n      if (!tmpEditable) {\n        self.changeColumnsEditability(false);\n      } else if (self.properties.allowEdit && self.properties.inlineEdit) {\n        self.changeColumnsEditability(argument);\n      }\n\n      if (typeof self.internalRenderControl == \"function\") {\n        $.when(self.internalRenderControl()).done(function (html) {\n          control.append(html);\n          self.postRenderElement(self.element);\n        });\n      }\n    });\n\n  },\n\n  saveGrid: function saveGrid() {\n    var self = this;\n    var defer = $.Deferred();\n\n    var rows = $(\"[data-bizagi-component=rows]\", self.element).find(\"[data-new-row=true]\");\n\n    if (rows.length > 0) {\n      var newRows = $.map(rows, function (row, i) {\n        return $(row).data(\"business-key\");\n      });\n\n      self.saveInlineAddedRows(newRows).done(function () {\n        $.when(self.saveRows()).done(function () {\n          self.refresh();\n          defer.resolve();\n        });\n      });\n    } else {\n      defer.resolve();\n    }\n\n    return defer.promise();\n  },\n\n  changeColumnsEditability: function changeColumnsEditability(value) {\n    var self = this;\n    var columns = self.columns || [];\n\n    $.each(columns, function (i, column) {\n      column.properties.editable = value == \"Default\" ? column.originalProperties.editable : bizagi.util.parseBoolean(value);\n    });\n  },\n\n  /**\r\n      *   Refresh behaviors of cell\r\n      */\n  refreshCell: function refreshCell(params) {\n    var self = this;\n    var properties = self.properties;\n    var key = params.key;\n    var column = params.column;\n    var xpathContext = params.xpathContext !== \"\" ? params.xpathContext + \".\" + self.properties.xpath + self.buildCellXpathFilter(key) : self.properties.xpath + self.buildCellXpathFilter(key);\n    var cell = self.getControlCell(key, params.column);\n    var form = self.getFormContainer();\n    var idForm = form.properties.id;\n\n    if (!cell) {\n      return;\n    }\n\n    // Execute personalized stuff before to refresh it\n    cell.beforeToRefresh();\n\n    // Call service\n    return $.when(self.dataService.multiaction().refreshGridCell({\n      idRender: properties.id,\n      column: cell.properties.id,\n      idPageCache: properties.idPageCache,\n      xpathContext: xpathContext,\n      idForm: idForm,\n      typeRender: bizagi.util.normalizeType(cell.properties.type) })).\n    done(function (data) {\n      // Extract values\n      var getDepthData = function getDepthData(target) {\n        if (target && _typeof(target) == \"object\" && target.length >= 1) {\n          return target[0].length >= 1 ? target[0][0] : target[0];\n        }\n        return \"\";\n      };\n      var newValue = getDepthData(data.rows);\n      var editable = getDepthData(data.editable);\n      if (!bizagi.util.isBoolean(editable)) {\n        editable = editable || true;\n      }\n      var visible = getDepthData(data.visible);\n      if (!bizagi.util.isBoolean(visible)) {\n        visible = visible || true;\n      }\n\n      // Change Visibility & Editability\n      self.changeCellVisibility(key, column, visible);\n      self.changeCellEditability(key, column, editable);\n\n      // Change control value\n      var cellValue = cell.formatValue(newValue);\n\n      cell.setValue(cellValue);\n      cell.setDisplayValue(cellValue);\n\n      // Trigger grid change\n      self.triggerRenderChange({ key: key, column: column, changed: false });\n\n      if (bizagi.override.restoreAppearanceAfterRefresh) {\n        cell.restoreCellAppearance();\n      }\n\n      // Update the affected cell manually after a refresh\n      //TODO:temporary solution\n      //review the DRAGON-5982 \n      if (cell.column != undefined && bizagi.util.detectDevice() == \"desktop\") {\n        self.updateAffectedCellManually(key, cellValue, cell.column.columnIndex);\n      }\n\n      // Execute personalized stuff after to refresh it\n      self.afterToRefresh({ action: \"refreshCell\" });\n    });\n  },\n\n  /*\r\n      *   Triggers the render change event\r\n      */\n  triggerRenderChange: function triggerRenderChange(params) {\n    var self = this;\n    params = params || {};\n    // Property to verify exporting updated grids\n    if (!bizagi.util.isEmpty(params) && params.changed != false)\n    self.properties.canBeExported = false;\n    self.triggerHandler(\"renderchange\", {\n      render: self,\n      surrogateKey: params.key,\n      column: params.column,\n      changed: params.changed,\n      rowDeleted: params.rowDeleted,\n      pressed: params.pressed });\n\n  },\n\n  /*\r\n      *   Validate the grid\r\n      */\n  validate: function validate() {\n    this.isValid([]);\n  },\n  /* \r\n      * Public method to determine if a value is valid or not\r\n      */\n  isValid: function isValid(invalidElements) {\n    var self = this;\n    var bValid = true;\n\n    // Clear error message\n    self.hasErrors = false;\n    self.setValidationMessage(\"\");\n\n    // Check for required columns and null values\n    if (self.properties.data && self.properties.data.rows) {\n      var newRows = self.getDataNewRows();\n      // Preserve elements in data.rows\n      // Check required\n      if (newRows.length == 0 && bizagi.util.parseBoolean(self.properties.required)) {\n        if (!self.hasValue()) {\n          message = self.getResource(\"render-required-text\").replaceAll(\"#label#\", self.properties.displayName);\n          invalidElements.push({\n            xpath: self.properties.xpath,\n            message: message });\n\n          bValid = false;\n        }\n      }\n\n      var data = $.merge($.merge([], self.properties.data.rows), newRows);\n\n      for (var i = 0; i < self.columns.length; i++) {\n        var messages = [];\n        var uniqueMessages = {};\n\n        for (var j = 0; j < data.length; j++) {\n          var value = data[j][i + 1];\n          var key = data[j][0];\n          var xpath = self.columns[i].properties.xpath;\n          if (self.changes[key] !== undefined && self.changes[key][self.columns[i].properties.xpath] !== undefined) {\n            value = self.changes[key][self.columns[i].properties.xpath];\n          }\n\n          // Check if the column is valid\n          var valueValid = self.columns[i].isValueValid(key, value, messages, self.getCellOverride(key, i));\n          if (!valueValid) {\n            bValid = false;\n\n            self.hasErrors = true;\n            self.setError(key, self.columns[i].properties.xpath);\n          }\n        }\n        for (var k = 0, messagesLength = messages.length; k < messagesLength; k++) {\n          if (uniqueMessages[messages[k]] == null) {\n            uniqueMessages[messages[k]] = messages[k];\n          }\n        }\n\n        if (messages.length > 0) {\n          var gridValidationMessage = self.getResource(\"render-grid-validation\").replaceAll(\"#grid#\", self.properties.displayName);\n          for (key in uniqueMessages) {\n            invalidElements.push({\n              xpath: self.properties.xpath,\n              message: gridValidationMessage + \" \" + key });\n\n          }\n        }\n      }\n    }\n\n    return bValid;\n  },\n  /*\r\n      *   Enables submit on change feature for the current render\r\n      */\n  configureSubmitOnChange: function configureSubmitOnChange() {\n    // Don't do anything we will trigger submit on change manually only when the grid add or edit form has been edited   \n  },\n  /*\r\n      *   Get cell override\r\n      */\n  getCellOverride: function getCellOverride(key, column) {\n    var self = this;\n\n    // Convert to numbers\n    column = Number(column);\n\n    // Find overrides\n    var columnProperties = self.columns[column].properties;\n    if (!self.cellOverrides[key])\n    self.cellOverrides[key] = {};\n    if (!self.cellOverrides[key][column]) {\n      self.cellOverrides[key][column] = {\n        visible: columnProperties.columnVisible && columnProperties.visible,\n        editable: columnProperties.editable,\n        required: columnProperties.required };\n\n    }\n\n    return self.cellOverrides[key][column];\n  },\n\n  /*\r\n      * Set cell overrides based on the data\r\n      */\n  setCellOverrides: function setCellOverrides(data, columns) {\n    var self = this;\n    var key;\n\n    // Init visibility overrides\n    if (data.visible) {\n      for (var i = 0, len = data.visible.length; i < len; i++) {\n        key = data.visible[i][0];\n        for (var j = 0, len_v = data.visible[i].length; j < len_v; j++) {\n\n          // Skip key columns\n          if (j > 0) {\n            var columnVisible = self.getCellOverride(key, j - 1).visible;\n            self.cellOverrides[key][j - 1].visible = columnVisible ? bizagi.util.parseBoolean(data.visible[i][j]) : false;\n          }\n        }\n      }\n    }\n\n    // Init editability overrides\n    if (data.editable) {\n      for (var i = 0, len = data.editable.length; i < len; i++) {\n        key = data.editable[i][0];\n        for (var j = 0, len_v = data.editable[i].length; j < len_v; j++) {\n          // Skip key columns\n          if (j > 0) {\n            var columnEditable = columns ? bizagi.util.parseBoolean(columns[j - 1].properties.editable) : true;\n            self.getCellOverride(key, j - 1).editable = columnEditable ? bizagi.util.parseBoolean(data.editable[i][j]) : false;\n          }\n        }\n      }\n    }\n\n    // Init required overrides\n    if (data.required) {\n      for (var i = 0, len = data.required.length; i < len; i++) {\n        key = data.required[i][0];\n        for (var j = 0, len_v = data.required[i].length; j < len_v; j++) {\n          // Skip key columns\n          if (j > 0)\n          self.getCellOverride(key, j - 1).required = bizagi.util.parseBoolean(data.required[i][j]);\n        }\n      }\n    }\n  },\n  /*\r\n      *   Returns the row indexes for the data\r\n      */\n  getIndexes: function getIndexes() {\n    var self = this;\n    var data = $.merge(self.properties.data.rows, self.getDataNewRows());\n    return $.map(data, function (item, i) {\n      return item[0];\n    });\n  },\n  /**\r\n      *  Return object with value of all new records unsaved within the grid\r\n      *  @return {object} all new records\r\n      */\n  getDataNewRows: function getDataNewRows() {\n    var self = this;\n    var newRows = [];\n\n    if (_typeof(self.newRecords) == \"object\" && !$.isEmptyObject(self.newRecords)) {\n      $.each(self.newRecords, function (rowKey) {\n        var cellValue = [];\n        cellValue.push(rowKey);\n        for (var i = 0, length = self.columns.length; i < length; i++) {\n          cellValue.push(self.getCellCurrentValue(rowKey, self.columns[i].properties.xpath));\n        }\n        // Add cell value row to new rows\n        newRows.push(cellValue);\n      });\n    }\n    return newRows;\n  },\n\n  /**\r\n      * Return the object with the required url to access the exported grid to the desired format\r\n      * @param params\r\n      * @returns {*}\r\n      */\n  getGridExportFile: function getGridExportFile(params) {\n    var self = this;\n    var properties = self.properties;\n\n    return self.dataService.getGridExportFile({\n      idRender: properties.id,\n      xpathContext: properties.xpathContext || \"\",\n      idPageCache: properties.idPageCache,\n      disposition: params.disposition,\n      exportType: params.exportType,\n      sort: properties.sort,\n      idForm: self.getFormContainer().properties.id }).\n    then(function (response) {\n      return bizagi.util.handleJSONResponse(response);\n    });\n  },\n\n  submitForGridChange: function submitForGridChange() {\n    var self = this;\n    return self.submitOnChange(null, false);\n  },\n\n  dispose: function dispose() {\n    var self = this;\n\n    var timeOutColumn = setTimeout(function () {\n      if (self.columns) {\n        $.each(self.columns, function (i, column) {\n          column.dispose();\n        });\n      }\n      clearTimeout(timeOutColumn);\n    }, bizagi.override.disposeTime || 50);\n\n    // Call base\n    self._super();\n  },\n\n  getEnabledChecks: function getEnabledChecks(params) {\n    var self = this;\n    var properties = self.properties;\n    params = params || {};\n    $.extend(params, {\n      url: properties.dataUrl,\n      xpath: properties.xpath,\n      idRender: properties.id,\n      xpathContext: properties.xpathContext,\n      contexttype: properties.contextType,\n      idPageCache: properties.idPageCache,\n      rows: properties.rowsPerPage,\n      xpathfilter: params.xpath });\n\n    // Default ajax call\n    var defer = new $.Deferred();\n    // Resolve with remote data\n    self.dataService.multiaction().getGridDataExclusivesSelected(params).done(function (data) {\n      // Resolve with fetched data\n      properties.page = data.page;\n      properties.records = data.records;\n      properties.totalPages = data.totalPages;\n\n      // Check RTL\n      if (self.isRTL()) {\n        data.rows = self.changeOrderData(data.rows);\n      }\n      defer.resolve(data);\n    });\n    return defer.promise();\n  },\n\n  buildCellXpathFilter: function buildCellXpathFilter(key) {\n    if (bizagi.util.isNumeric(key)) return \"[id=\" + key + \"]\";\n    return \"[id='\" + key + \"']\";\n  },\n\n  cleanNewRecords: function cleanNewRecords() {\n    // Mark it as saved\n    this.newRecords = {};\n  },\n\n  /**\r\n      * Set inline added new row as saved, removing data new-row attribute\r\n      * @param key\r\n      */\n  setRowAsSaved: function setRowAsSaved(key) {\n    var $control = this.getControl();\n    var $row = $(\"[data-bizagi-component=rows]\", $control).\n    find(\"tr[data-business-key=\" + key + \"]\");\n\n    $row.attr(\"data-new-row\", 'false');\n  },\n\n  /**\r\n      *\r\n      * Customizes render background color\r\n      *\r\n      * This method is called when the backgroud color is setted by Form Designer\r\n      *\r\n      * @param color\r\n      */\n  changeBackgroundColor: function changeBackgroundColor(color) {\n    this._super(color);\n\n    var control = this.getControl();\n\n    control.find(\".bz-rn-grid-header-title, .bz-rn-grid-header-title-rtl\").\n    css(\"background-color\", color, \"!important\");\n\n    control.find(\".bz-rn-grid-container-foother, .bz-rn-grid-container-foother-rtl\").\n    css(\"background-color\", color, \"!important\");\n\n    return this;\n  },\n\n  /**\r\n      * Check has header format\r\n      * @returns {boolean}\r\n      */\n  hasColorHeader: function hasColorHeader() {\n    var headerFormat = this.properties.headerFormat || {};\n\n    return headerFormat ? !bizagi.util.isEmpty(headerFormat.color) : false;\n  },\n\n  /**\r\n      * Check if the orientation is RTL\r\n      * @param parent\r\n      * @param orientation\r\n      * @returns {*|boolean|boolean}\r\n      */\n  isRTLOrientation: function isRTLOrientation(parent, orientation) {\n    if ((!orientation || orientation === \"auto\") && parent) {\n      return this.isRTLOrientation(parent.parent, parent.properties.orientation);\n    }\n\n    return /^rtl$/i.test(orientation);\n  },\n\n  /**\r\n      * Check If has changes for send to server\r\n      * @returns {boolean}\r\n      */\n  canBeExport: function canBeExport() {\n    var self = this;\n\n    // Check If normal column-control has changes\n    for (var id in self.changes) {\n      // Don't collect data from totalizers\n      if (id !== \"summary\") {\n        for (var columnXpath in self.changes[id]) {\n          // Check if the render can submit data\n          if (self.canColumnBeSent(id, columnXpath)) return false;\n        }\n      }\n    }\n\n    // Check If exclusive-check control has changes\n    if (self.exclusiveChanges) {\n      for (var xpath in self.exclusiveChanges) {\n        // Brings the xpath columns with changes\n        if (self.exclusiveChanges[xpath] && self.enabledChecks[xpath]) return false;\n      }\n    }\n\n    // Don't have changes\n    return true;\n  },\n\n  /**\r\n      * Get exclusive-check change by Row\r\n      * @param idRow\r\n      * @returns {{}}\r\n      */\n  getExclusiveChangeByRow: function getExclusiveChangeByRow(idRow) {\n    var value = {};\n\n    for (var xpath in this.enabledChecks) {\n      if (this.enabledChecks.hasOwnProperty(xpath)) {\n        var obj = (this.enabledChecks[xpath] || []).\n        find(function (el) {\n          return el.id == idRow && el.changed;\n        });\n\n        if (obj) {\n          value[xpath] = obj.value;\n        }\n      }\n    }\n\n    return value;\n  },\n\n  /**\r\n      * Check If xpath or id of column is valid\r\n      * @param columnXpath\r\n      * @param columnId\r\n      * @param xpath\r\n      * @returns {boolean}\r\n      */\n  isCurrentGridCell: function isCurrentGridCell(columnXpath, columnId, xpath) {\n    return columnXpath === xpath || columnId === xpath || columnXpath + \".\" + columnId === xpath;\n  },\n\n  /**\r\n      * Get index for current cell\r\n      * @param xpath\r\n      * @returns {number|number}\r\n      */\n  getIndexForCurrentCell: function getIndexForCurrentCell(xpath) {\n    var self = this;\n\n    return (self.columns || []).findIndex(function (cell) {\n      return self.isCurrentGridCell(cell.properties.xpath, cell.properties.id, xpath);\n    }) || 0;\n  },\n\n  /**\r\n      * Check if it is a Summary o Global Form\r\n      * @returns {*|boolean}\r\n      */\n  isSummaryOrGlobalForm: function isSummaryOrGlobalForm() {\n    var form = this.getFormContainer();\n    var properties = form && form.properties || {};\n\n    return form && [\"SummaryForm\", \"GlobalForm\"].includes(properties.typeForm);\n  } });","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /**\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Name: Bizagi Render Label Class\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Author: UI Forms Team\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Comments:\r\n                                                                                                                                                                                                                                                                                                                                                                                *   -   This script will define basic stuff for labels\r\n                                                                                                                                                                                                                                                                                                                                                                                */\n$.Class.extend(\"bizagi.rendering.label\", {}, {\n\n  /**\r\n                                                * Update or init the element data\r\n                                                * @param {} data\r\n                                                * @returns {}\r\n                                                */\n  initializeData: function initializeData(data) {\n    var self = this;\n\n    // Call base\n    self._super(data);\n\n    // A label itself is never \"required\" as other controls\n    var properties = self.properties;\n    properties.required = false;\n\n    // Set properties\n    self.properties.displayType = \"label\";\n    //self.properties.labelAlign = self.originalProperties.labelAlign || \"left\";\n    self.properties.displayName = data.properties.displayName || \"\";\n\n    if (bizagi.util.parseBoolean(self.properties.allowDinamiclabel)) {\n      this.properties.displayName = data.properties.displayName || bizagi.localization.getResource(\"render-label-default-display-name\");\n    }\n\n    self.bindingValue();\n\n    // Calculate layout properties\n    self.calculateInitialLayoutProperties();\n  },\n\n  /**\r\n      * Template method to implement in each device to customize each render after processed\r\n      */\n  postRender: function postRender() {\n    this._super();\n    // Just apply display-type: label, align it to the left\n    this.changeDisplayOption(\"label\");\n    //this.changeLabelAlign(this.properties.labelAlign || \"left\");\n\n    if (typeof this.configureHelpText == \"function\")\n    this.configureHelpText();\n  },\n\n  /**\r\n      * Template method to implement in each device to customize each render after processed in read-only mode\r\n      */\n  postRenderReadOnly: function postRenderReadOnly() {\n    this._super();\n    // Just apply display-type: label, align it to the left\n    this.changeDisplayOption(\"label\");\n    this.changeLabelAlign(this.properties.labelAlign || \"left\");\n  },\n\n  /**\r\n      * Public method to determine if a value is valid or not\r\n      * @param {} invalidElements\r\n      */\n  isValid: function isValid(invalidElements) {\n    // Automatically this render is valid, so we can't check a required label\n  },\n\n  /**\r\n      * Method to determine if the render value can be sent to the server or not\r\n      * @returns {}\r\n      */\n  canBeSent: function canBeSent() {\n    // This render cannot be sent because it is full ajax\n    return false;\n  },\n\n  bindingValue: function bindingValue() {\n    var self = this;\n\n    if (self.properties.allowDinamiclabel && self.properties.value) {\n      if (_typeof(self.properties.value) === \"object\" && self.properties.value[0]) {\n        self.properties.displayName = self.properties.value[0].value;\n      } else if (typeof self.properties.value === \"string\" && self.properties.value !== \"\") {\n        self.properties.displayName = self.performLabelLineBreak(self.properties.value);\n      }\n    }\n  },\n\n  controlValueIsChanged: function controlValueIsChanged() {\n    //Labels never change\n    return false;\n  },\n\n  /**\r\n      * Process the break line character\r\n      * @param value\r\n      * @returns {string}\r\n      */\n  performLabelLineBreak: function performLabelLineBreak(value) {\n    var label = value || \"\";\n\n    return label.replace(/\\\\n/gm, \"\\n\");\n  } });","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /*\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Name: Bizagi Render Search Class\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Author: UI Forms Team\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Comments:\r\n                                                                                                                                                                                                                                                                                                                                                                                *   -   This script will define basic stuff for search renders\r\n                                                                                                                                                                                                                                                                                                                                                                                */\n\n$.Class.extend(\"bizagi.rendering.search\", {}, {\n  /**\r\n                                                 * Update or init the element data\r\n                                                 * @param {} data\r\n                                                 * @returns {}\r\n                                                 */\n  initializeData: function initializeData(data) {\n    var self = this;\n\n    var submitOnChange = data.properties.submitOnChange;\n    if (self.getMode() === \"execution\") {\n      // Normalize submitOnChange property\n      // QAF-3297 - Compatibility for old versions of advanced search where the \"submitOnChange\" property default is true\n      // New \"submitVersion\" property default is 2\n      if (data.properties.advancedSearch) {\n        submitOnChange = typeof submitOnChange !== \"undefined\" ? submitOnChange : (data.properties.submitVersion || 1) > 1 ? false : true;\n      }\n    }\n\n    // Call base\n    self._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n    properties.submitOnChange = bizagi.util.parseBoolean(submitOnChange) || false;\n\n    properties.searchForms = properties.searchForms || [];\n\n    // Default maxRecords is 20\n    properties.maxRecords = Number(properties.maxRecords) || 20;\n    properties.advancedSearch = bizagi.util.parseBoolean(properties.advancedSearch) === null ? false : bizagi.util.parseBoolean(properties.advancedSearch);\n    properties.allowSuggest = bizagi.util.parseBoolean(properties.allowSuggest) !== null ? bizagi.util.parseBoolean(properties.allowSuggest) : false;\n    properties.allowFullSearch = properties.allowFullSearch || false;\n    properties.allowAdd = bizagi.util.parseBoolean(properties.allowAdd) || false;\n    properties.allowTyping = bizagi.util.parseBoolean(properties.allowTyping) !== null ? bizagi.util.parseBoolean(properties.allowTyping) : false;\n    properties.allowTyping = bizagi.util.parseBoolean(properties.allowSuggest) ? true : properties.allowTyping;\n    properties.allowClear = bizagi.util.parseBoolean(properties.allowClear) !== null ? bizagi.util.parseBoolean(properties.allowClear) : false;\n    properties.editable = bizagi.util.parseBoolean(properties.editable) !== null ? bizagi.util.parseBoolean(properties.editable) : true;\n\n    // This length defines the behavior of the suggest, 2 characters are used by default meaning after 2 characters are written the search will take place\n    properties.searchLength = properties.searchLength || 2;\n\n    // Expire local storage cache\n    properties.enableLocalStorage = false;\n    properties.expireCache = 1000 * 60 * 15; // 15 minutes\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @returns {}\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var properties = self.properties;\n    var template = self.renderFactory.getTemplate(\"search\");\n\n    return $.fasttmpl(template, {\n      id: properties.id,\n      xpath: properties.xpath,\n      allowTyping: properties.allowTyping,\n      advancedSearch: properties.advancedSearch,\n      allowSuggest: properties.allowSuggest,\n      editable: properties.editable,\n      allowClear: properties.allowClear,\n      hasValue: self.hasValue() });\n\n  },\n\n  /**\r\n      * Fetch the data into a deferred\r\n      * @param {} params\r\n      * @returns {}\r\n      */\n  getData: function getData(params) {\n    var self = this;\n    var properties = self.properties;\n    var defer = new $.Deferred();\n    var form = self.getFormContainer();\n    var contextType = form.getContextType() || form.params.contexttype || false;\n\n    params = params || {};\n\n    // Verify context type\n    if (self.properties.contexttype) {\n      params.h_contexttype = self.properties.contexttype;\n    } else if (contextType) {\n      params.h_contexttype = contextType;\n    }\n\n    params.h_contexttype = self.properties.enableQuerySuggestBehavior ? \"metadata\" : params.h_contexttype;\n\n    // QA-471 When the contexttype is metadata it does not send xpathcontext\n    if (params && params.h_contexttype && params.h_contexttype === 'metadata') {\n      properties.xpathContext = '';\n    }\n\n    // BA35025 - JFA\n    if (properties.term.indexOf(\"\\'\") > -1) {\n      var regexC = new RegExp(\"\\'\", \"g\");\n      properties.term = properties.term.replace(regexC, \"\\\\'\\\\'\");\n    }\n\n    // QAF-6448 - JFA\n    if (properties.term.indexOf(\"\\\"\") > -1) {\n      var regexC = new RegExp(\"\\\"\", \"g\");\n      properties.term = properties.term.replace(regexC, \"\\\"\");\n    }\n\n    // Resolve with remote data\n    self.dataService.multiaction().getSearchData({\n      url: properties.dataUrl,\n      contexttype: params.h_contexttype,\n      xpath: properties.xpath,\n      idRender: properties.id,\n      xpathContext: properties.xpathContext,\n      idPageCache: properties.idPageCache,\n      term: properties.allowFullSearch ? \"%\" + properties.term : properties.term,\n      extra: params }).\n    done(function (data) {\n      // Resolve with fetched data\n      properties.data = data;\n      defer.resolve(properties.data);\n    }).fail(function (data) {\n      var hideStatus = data.hideStatus || false;\n\n      defer.resolve({});\n\n      if (!hideStatus) {\n        self.trigger(\"onSearchError\", data);\n      }\n    });\n\n    return defer.promise(defer);\n  },\n\n  /**\r\n      * Sets the internal value\r\n      * @param {} value\r\n      * @param {} triggerEvents\r\n      * @returns {}\r\n      */\n  setValue: function setValue(value, triggerEvents) {\n    var self = this;\n    triggerEvents = triggerEvents !== undefined ? triggerEvents : true;\n\n    self._super(value, triggerEvents);\n\n    if (value != undefined) {\n      this.value = value;\n      this.selectedValue = value.label;\n    } else {\n      this.value = null;\n      this.selectedValue = null;\n    }\n  },\n\n  /* Maps the value, when this one comes from actions*/\n  mapValue: function mapValue(value) {\n    if (value && value.fromAction) {\n      return {\n        id: value.value,\n        value: value.label,\n        label: value.label };\n\n    }\n\n    return value;\n  },\n\n  /*\r\n     *   Add the render data to the given collection in order to send data to the server\r\n      */\n  collectData: function collectData(renderValues) {\n    var self = this;\n    var xpath = self.properties.xpath;\n    var value = self.getValue();\n\n    if (self.controlValueIsChanged()) {\n      // Filter by valid xpaths and valid values\n      // Remove empty validation for value for combos\n      if (!bizagi.util.isEmpty(xpath) && value !== null && typeof value !== \"undefined\") {\n        // Add a validation because sometimes value contains an empty not null object\n        if (_typeof(value) == \"object\" && value.id === undefined)\n        return;\n        // Add the value to the server\n        renderValues[xpath] = value;\n      }\n    }\n  },\n\n  /**\r\n      * Submits the selected data to the server in order to be saved\r\n      * @returns {}\r\n      */\n  submitData: function submitData() {\n    var self = this;\n    var data = {};\n\n    // Add current data\n    if (!self.grid) {\n      data[self.properties.xpath] = self.getValue();\n    }\n\n    // Executes submit on change\n    self.submitOnChange(data, undefined, false);\n  },\n\n  /**\r\n      * Check if control is valid or not\r\n      * @param {} invalidElements\r\n      * @returns {}\r\n      */\n  isValid: function isValid(invalidElements) {\n    return this._super(invalidElements);\n  },\n\n  hasValue: function hasValue() {\n    var value = this.getValue();\n\n    if (typeof value == \"undefined\" || value == null) return false;\n\n    if (_typeof(value) === \"object\" && value.id !== \"\" && typeof value.id !== \"undefined\") return true;\n    return !bizagi.util.isEmpty(value);\n  },\n\n  /**\r\n      * Formats value of each item\r\n      * @param {string, boolean or array} value\r\n      * @example\r\n      * value = \"string\" => \"string\"\r\n      * value = true => \"yes\" or \"si\", the localized value\r\n      * value = false => \"no\", the localized value\r\n      * value = [\"string 1\", \"string 2\"] => \"string 1 - string 2\"\r\n      * @returns {string}\r\n      */\n  formatItem: function formatItem(value) {\n    return bizagi.util.formatItem(value);\n  } });","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /**\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Name: Bizagi Render HandSignature Class\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Author: UI Forms Team\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Comments:\r\n                                                                                                                                                                                                                                                                                                                                                                                *   -   This script will define basic stuff for HandSignature control\r\n                                                                                                                                                                                                                                                                                                                                                                                */\n$.Class.extend(\"bizagi.rendering.handSignature\", {}, {\n\n  BASE_IMAGE: \"data:image/png;base64,\",\n  EMPTY_IMAGE: \"R0lGODlhAQABAIAAAP7//wAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\",\n  EMPTY_VALUE: \"\",\n  DELAY_TO_SAVE: 1000,\n\n  // Fallback if resources\n  RESOURCES_FALLBACK: {\n    DONE_BUTTON: \"Done\",\n    EDIT_BUTTON: \"Edit\",\n    CLEAR_BUTTON: \"Clear\",\n    UPLOAD_SUCCESS: \"Your signature have been uploaded successfully\",\n    UPLOAD_ERROR: \"The signature have not been uploaded. Try again\",\n    TITLE_DONE: \"Click \\\"Done\\\" to upload the signature\",\n    TITLE_DRAW: \"Draw here your signature\",\n    TITLE_EDIT: \"Click \\\"Edit\\\" to start drawing\" },\n\n\n  // Type of state\n  STATE_TYPE: {\n    edit: 1,\n    draw: 2,\n    done: 3,\n    success: 4,\n    error: 5 },\n\n\n  /**\r\n                 * Whether or not is plugin initialized\r\n                 * @var isOfflineForm boolean\r\n                 */\n  pluginInitialized: false,\n\n  saveDeferred: null,\n  saveTimestamp: 0,\n\n  /**\r\n                     * Update or init the element data\r\n                     * @param data\r\n                     */\n  initializeData: function initializeData(data) {\n    // Call base\n    this._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n\n    properties.editable = bizagi.util.parseBoolean(properties.editable) === true;\n    properties.addUrl = properties.addUrl || this.dataService.serviceLocator.getUrl(\"form-submit-data-upload\");\n    properties.deleteUrl = properties.deleteUrl || this.dataService.serviceLocator.getUrl(\"render-upload-delete-url\");\n    properties.isChanged = false;\n\n    this.currentState = this.STATE_TYPE.edit;\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @returns {*|jQuery}\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var properties = self.properties;\n    var template = self.renderFactory.getTemplate(\"hand-signature\");\n\n    return $.fasttmpl(template, {\n      id: properties.id,\n      xpath: properties.xpath,\n      editable: properties.editable,\n      isDesign: !self.isExecutionMode(),\n      render_signature_action_edit: self.getResourceByKey(\"render-signature-action-edit\", self.RESOURCES_FALLBACK.EDIT_BUTTON),\n      render_signature_action_done: self.getResourceByKey(\"render-signature-action-done\", self.RESOURCES_FALLBACK.DONE_BUTTON),\n      render_signature_action_clear: self.getResourceByKey(\"render-signature-action-clear\", self.RESOURCES_FALLBACK.CLEAR_BUTTON) });\n\n  },\n\n  /**\r\n      * After rendering element\r\n      */\n  postRender: function postRender() {\n    var self = this;\n\n    // Apply plugin\n    if (this.isExecutionMode()) {\n      var $container = self.getSignatureContainer();\n\n      // Wait until current element is rendered\n      self.setResizeObserver($container, function (initialized) {\n        self.renderSignature();\n        self.setState(self.currentState);\n\n        if ([self.STATE_TYPE.draw, self.STATE_TYPE.done].includes(self.currentState)) {\n          $container.BzjSignature(\"enable\");\n        }\n      });\n    }\n  },\n\n  /**\r\n      * Render after processed in read-only mode\r\n      */\n  postRenderReadOnly: function postRenderReadOnly() {\n    var self = this;\n\n    // Apply plugin\n    if (this.isExecutionMode()) {\n      var $container = self.getSignatureContainer();\n\n      // Wait until current element is rendered\n      self.setResizeObserver($container, function () {\n        self.renderSignature();\n      });\n    }\n  },\n\n  /**\r\n      * Method to render non editable values\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    var self = this;\n    var properties = self.properties;\n    var template = self.renderFactory.getTemplate(\"hand-signature-readonly\");\n\n    return $.fasttmpl(template, {\n      id: properties.id,\n      xpath: properties.xpath,\n      editable: properties.editable,\n      isDesign: !self.isExecutionMode() });\n\n  },\n\n  setData: function setData(value) {\n    var self = this;\n    var previousValue = self.getData();\n\n    if (bizagi.util.isEmpty(value)) {\n      this.properties.binaryValue = null;\n    } else {\n      if (value instanceof Blob) {\n        this.properties.binaryValue = value;\n      } else {\n        this.properties.binaryValue = bizagi.util.b64toBlob(value, \"image/png\");\n      }\n    }\n\n    if (previousValue != this.properties.binaryValue) {\n\n      if (self.properties.required && self.isExecutionMode()) {\n        var isValidField = !self.checkRequired([]);\n        self.changeRequiredLabel(isValidField);\n      }\n\n      if (this.properties.isChanged) {\n        self.triggerRenderChange();\n        self.triggerRenderValidate();\n      }\n    }\n  },\n\n  getData: function getData() {\n    return this.properties.binaryValue || [];\n  },\n\n  getBase64: function getBase64() {\n    return this.properties.base64 || \"\";\n  },\n\n  /**\r\n      * Returns the internal value\r\n      * @returns {*|Array}\r\n      */\n  getValue: function getValue() {\n    return this.properties.value || [];\n  },\n\n  /**\r\n      * Check if a render has no value for required validation\r\n      */\n  hasValue: function hasValue() {\n    if (!this.pluginInitialized) {\n      return !bizagi.util.isEmpty(this.properties.value);\n    } else {\n      var value = this.getData();\n      return !bizagi.util.isEmpty(value);\n    }\n  },\n\n  /**\r\n      * Check if control is valid or not\r\n      * @param invalidElements\r\n      * @returns {boolean}\r\n      */\n  isValid: function isValid(invalidElements) {\n    var self = this;\n\n    // Don't check non-visible renders\n    if (bizagi.util.parseBoolean(self.properties.visible) === false) {\n      return true;\n    }\n\n    // Don't check non-editable renders\n    if (bizagi.util.parseBoolean(self.properties.editable) === false) {\n      return true;\n    }\n\n    // Clear error message\n    self.setValidationMessage(\"\");\n\n    // Check required\n    if (self.properties.required && !self.hasValue()) {\n      var message = self.getResource(\"render-required-text\").replaceAll(\"#label#\", self.properties.displayName);\n      invalidElements.push({ xpath: self.properties.xpath, message: message });\n      return false;\n    }\n\n    return true;\n  },\n\n  /**\r\n      * Method to determine if the render value can be sent to the server or not\r\n      * @returns {boolean}\r\n      */\n  canBeSent: function canBeSent() {\n    var form = this.getFormContainer();\n    if (!form.isOfflineForm) return true;\n    return this.properties.isChanged;\n  },\n\n  /**\r\n      * Process an upload file into the server\r\n      * @param {} dataFile\r\n      * @returns {}\r\n      */\n  processUploadFile: function processUploadFile(dataFile) {\n    var data = {\n      url: this.properties.addUrl,\n      formData: this.buildAddFileParams(dataFile) };\n\n\n    return this.dataService.processUploadFile(data);\n  },\n\n  /**\r\n      * Build add params to send to the server\r\n      * @param {} dataFile\r\n      * @returns {}\r\n      */\n  buildAddFileParams: function buildAddFileParams(dataFile) {\n    var self = this;\n    var properties = self.properties;\n    var prefix = self.Class.BA_CONTEXT_PARAMETER_PREFIX;\n\n    // Get form data for POSTing\n    var formData = new FormData();\n    var form = self.getFormContainer();\n\n    // Build add params to send to the server\n    formData.append(prefix + \"xpath\", properties.xpath);\n    formData.append(prefix + \"idRender\", properties.id);\n    formData.append(prefix + \"xpathContext\", properties.xpathContext);\n    formData.append(prefix + self.Class.BA_PAGE_CACHE, properties.idPageCache);\n    formData.append(self.Class.BA_ACTION_PARAMETER_PREFIX + \"sessionId\", form.properties.sessionId);\n    formData.append(prefix + \"action\", \"savefile\");\n\n    var fileName = \"signature_\" + bizagi.util.randomNumber() + \".png\";\n    formData.append(self.properties.xpath, dataFile, fileName);\n\n    if (properties.contexttype) {\n      formData.append(prefix + \"contexttype\", properties.contexttype);\n    }\n\n    try {\n      if (typeof BIZAGI_SESSION_NAME !== \"undefined\") {\n        formData.append(BIZAGI_SESSION_NAME, form.properties.sessionId);\n      } else {\n        formData.append(\"JSESSIONID\", form.properties.sessionId);\n      }\n    } catch (e) {\n      formData.append(\"JSESSIONID\", form.properties.sessionId);\n    }\n\n    return formData;\n  },\n\n  /**\r\n      * Builds the upload item url\r\n      * @param params\r\n      * @returns {*}\r\n      */\n  buildItemUrl: function buildItemUrl() {\n    var self = this;\n    var form = self.getFormContainer();\n    var properties = self.properties;\n    var isVersion2OrSuperior = form.properties.compatibilityVersion >= 2;\n    var url = \"\";\n\n    if (!this.isExecutionMode()) return $.Deferred().resolve(url).promise();\n\n    var parameters = {\n      url: properties.dataUrl,\n      xpath: properties.xpath,\n      idRender: properties.id,\n      xpathContext: properties.xpathContext,\n      idPageCache: properties.idPageCache,\n      property: \"fileFullContent\",\n      queue: \"onlineimages\",\n      sessionId: form.properties.sessionId,\n      contexttype: properties.contexttype || undefined,\n      dataType: \"text\" };\n\n\n    if (isVersion2OrSuperior) {\n\n      if (bizagi.util.isEmpty(self.properties.value) && !self.hasValue()) return $.Deferred().resolve(\"\").promise();\n\n      parameters.property = \"fileBinaryContent\";\n      parameters.sessionId = form.properties.sessionId;\n\n      return self.dataService.downloadFile(parameters).\n      then(function (blob) {\n        self.setData(blob);\n        if (blob == null || window.Blob && blob instanceof Blob && blob.size === 0) return null;\n        return bizagi.util.blobTob64(blob, false);\n      }).\n      then(function (base64) {\n        return bizagi.util.getDataUrl(base64, properties.url);\n      });\n    }\n\n    return self.dataService.multiaction().getPropertyData(parameters, \"text\").\n    then(function (data) {\n      if (data.charAt(0) === \"\\\"\") data = data.slice(1, -1);\n      if (data !== \"\") url = self.BASE_IMAGE + data;\n      self.setData(bizagi.util.b64toBlob(data));\n      return url;\n    });\n  },\n\n  /**\r\n      * Call the form failhandler with an specific error\r\n      * @param {} error\r\n      * @returns {}\r\n      */\n  executeFormFailHandler: function executeFormFailHandler(error) {\n    var error_obj = bizagi.util.getErrorFormatted(error);\n    var message = error_obj;\n\n    if (typeof error_obj === \"undefined\" || error_obj && !error_obj.message) {\n      message = Object.assign({}, _typeof(error_obj) === \"object\" ? error_obj : {}, {\n        \"message\": bizagi.localization.getResource(\"workportal-general-error\") });\n\n    }\n\n    this.getFormContainer().failHandler(message);\n  },\n\n  /**\r\n      * Save data control\r\n      * @returns {*}\r\n      */\n  saveSignature: function saveSignature(dataImage) {\n    var self = this;\n\n    return $.when(self.postSignature(dataImage)).\n    then(function (base64) {\n      self.setData(base64);\n      self.properties.url = bizagi.util.getDataUrl(base64, self.EMPTY_VALUE);\n      self.executePartialSaveForm();\n    }).fail(function (error) {\n      self.executeFormFailHandler(error);\n    });\n  },\n\n  executePartialSaveForm: function executePartialSaveForm() {\n    var self = this;\n    var data = {};\n    var form = this.getFormContainer();\n\n    if (!form.isOfflineForm) return;\n    self.collectDataToSave(data);\n    form.partialSubmitFormOffline(data).then(function () {\n      //console.log(\"Signature saved\");\n    });\n  },\n\n  /**\r\n      * Delete image\r\n      * @returns {*}\r\n      */\n  deleteImage: function deleteImage() {\n    return this.dataService.deleteImage({\n      url: this.properties.deleteUrl,\n      idRender: this.properties.id,\n      xpath: this.properties.xpath,\n      xpathContext: this.properties.xpathContext,\n      idPageCache: this.properties.idPageCache,\n      contexttype: this.properties.contexttype });\n\n  },\n\n  /**\r\n      * Execute upload image\r\n      * @param dataImage\r\n      * @returns {*}\r\n      */\n  postSignature: function postSignature(dataImage) {\n    var signature = dataImage.replace(/^data:image\\/(png|jpg|jpeg);base64,/, \"\");\n    return this.postSignatureOnline(signature);\n  },\n\n  /**\r\n      * Execute upload image for online mode\r\n      * @param signature\r\n      * @returns {*}\r\n      */\n  postSignatureOnline: function postSignatureOnline(signature) {\n    var self = this;\n    var dataFile = self.getDataFileFromSignature(signature);\n\n    if (bizagi.util.isEmpty(dataFile)) {\n      return self.getData();\n    }\n\n    return self.processUploadFile(dataFile).then(function () {\n      self.properties.isChanged = true;\n      return signature;\n    });\n  },\n\n  /**\r\n      * Clean html because some scenarios render twice\r\n      */\n  emptyControlByAsyncRenderDeferred: function emptyControlByAsyncRenderDeferred() {\n    var $control = this.getControl();\n    $control.empty();\n  },\n\n  // region // #region METHODS TO OFFLINE\n\n  /**\r\n   * Create an image offline\r\n   * @param path File in Browser or Path in Mobile Devices\r\n   * @param promise Promise to be resolved when save is completed\r\n   */\n  saveImageOffline: function saveImageOffline(path) {\n    var self = this;\n    var id = self.buildOfflineImageId();\n\n    return $.when(function () {\n      return path;\n    }()).then(function (blobImage) {\n      // Save the image as attachment\n      var formParams = self.getFormParams();\n      var parameters = {\n        idCase: formParams.idCase,\n        idWorkitem: formParams.idWorkitem,\n        id: id,\n        operationType: \"edition\",\n        offlineType: formParams.offlineType };\n\n\n      return self.dataService.saveOfflineImage(parameters, blobImage);\n    });\n  },\n\n  /**\r\n      * Add the render data to the given collection in order to send data to the server\r\n      * @param {} renderValues\r\n      * @returns {}\r\n      */\n  collectDataToSave: function collectDataToSave(renderValues) {\n    var self = this;\n    if (self.isOfflineForm && bizagi.util.isOfflineFormsV2Supported()) {\n      if (!self.properties.isChanged) return;\n\n      renderValues[self.properties.xpath] = {\n        offlineId: self.buildOfflineImageId(),\n        name: self.dataService.fileService.getOfflineImageName(self.getValue()),\n        isSignature: true };\n\n    }\n  },\n\n  /**\r\n      * This method allows wait until the signature is persisted to execute the form save \r\n      * @param {*} renderValues \r\n      * @returns \r\n      */\n  collectData: function collectData(renderValues) {\n    var self = this;\n    if (self.saveTimestamp == 0) return;\n    var tmpTimeStamp = new Date().getTime() - self.saveTimestamp;\n\n    if (tmpTimeStamp < self.DELAY_TO_SAVE) {\n      var def = new $.Deferred();\n      setTimeout(function () {\n        $.when(self.saveDeferred).always(function () {\n          def.resolve();\n        });\n      }, self.DELAY_TO_SAVE + 10 - tmpTimeStamp);\n      renderValues.deferreds = renderValues.deferreds || [];\n      renderValues.deferreds.push(def.promise());\n    } else\n    if (self.saveDeferred) {\n      renderValues.deferreds = renderValues.deferreds || [];\n      renderValues.deferreds.push(self.saveDeferred.promise());\n    }\n  },\n\n  /**\r\n      * Builds the upload item url\r\n      * @returns {*}\r\n      */\n  buildItemUrlOffline: function buildItemUrlOffline() {\n    var self = this;\n    var properties = self.properties;\n    var formParams = self.getFormParams();\n    var imageId = self.buildOfflineImageId();\n    var loadImageFromForm = !properties.isChanged;\n\n    var parameters = {\n      idCase: formParams.idCase,\n      idWorkitem: formParams.idWorkitem,\n      id: imageId,\n      offlineType: formParams.offlineType,\n      loadImageFromForm: loadImageFromForm };\n\n\n    return $.when(self.dataService.getOfflineImage(parameters, bizagi.util.db.AttachmentType.Blob)).\n    then(function (blob) {\n      self.setData(blob);\n      if (blob == null || window.Blob && blob instanceof Blob && blob.size === 0) return null;\n      return bizagi.util.blobTob64(blob, false);\n    }).\n    then(function (base64) {\n      return bizagi.util.getDataUrl(base64, properties.url);\n    });\n  },\n\n  // endregion // #endregion\n\n  // region // #region UTILS TO CONTROL\n\n  /**\r\n   * Update actions\r\n   * @param state\r\n   */\n  setState: function setState(state) {\n    var self = this;\n    var $actions = $(\".bz-actions\", this.getControl());\n    var message = \"\";\n\n    self.currentState = state;\n\n    switch (state) {\n      case self.STATE_TYPE.edit:\n        message = self.getResourceByKey(\"render-signature-title-edit\", self.RESOURCES_FALLBACK.TITLE_EDIT);\n        break;\n      case self.STATE_TYPE.draw:\n        message = self.getResourceByKey(\"render-signature-title-draw\", self.RESOURCES_FALLBACK.TITLE_DRAW);\n        break;\n      case self.STATE_TYPE.done:\n        message = self.getResourceByKey(\"render-signature-title-done\", self.RESOURCES_FALLBACK.TITLE_DONE);\n        break;}\n\n\n    // Update message\n    $(\".bz-actions__status\", $actions).text(message);\n\n    // Update actions\n    self.setActions(state);\n  },\n\n  /**\r\n      * Update action state\r\n      * @param state\r\n      */\n  setActions: function setActions(state) {\n    var self = this;\n    var $actions = $(\".bz-actions\", this.getControl());\n\n    if ([self.STATE_TYPE.draw].includes(state)) {\n      // Hidden action\n      $actions.find(\"[data-action='edit']\").addClass(\"bz-hidden\");\n\n      // Show actions\n      $actions.find(\"[data-action='clear']\").removeClass(\"bz-hidden\");\n      $actions.find(\"[data-action='save']\").removeClass(\"bz-hidden\");\n    } else if ([self.STATE_TYPE.edit].includes(state)) {\n      // Show actions\n      $actions.find(\"[data-action='edit']\").removeClass(\"bz-hidden\");\n\n      // Hidden action\n      $actions.find(\"[data-action='clear']\").addClass(\"bz-hidden\");\n      $actions.find(\"[data-action='save']\").addClass(\"bz-hidden\");\n    }\n  },\n\n  buildOfflineImageId: function buildOfflineImageId() {\n    var self = this;\n    var form = self.getFormContainer();\n    var isVersion2OrSuperior = form.properties.compatibilityVersion >= 2;\n    var isStartForm = !form.properties.isTaskForm;\n\n    return self.dataService.fileService.buildOfflineImageId(self.properties.value, self.properties.xpathContext, self.properties.xpath, isVersion2OrSuperior, isStartForm);\n  },\n\n  buildOfflineFileLoadingKey: function buildOfflineFileLoadingKey() {\n    var self = this;\n    var form = self.getFormContainer();\n    var idCase = form.getParams().idCase;\n    var idWorkitem = form.getParams().idWorkitem;\n\n    var key = idCase;\n    if (!bizagi.util.isEmpty(idWorkitem)) key += \"-\" + idWorkitem;\n    key += \"-\";\n    if (!bizagi.util.isEmpty(self.properties.xpathContext)) key += \"-\" + self.properties.xpathContext;\n    key += self.properties.xpath;\n\n    return key;\n  },\n\n  getDataFileFromSignature: function getDataFileFromSignature(signature) {\n    try {\n      var binary = atob(signature);\n      var array = bizagi.util.stringToByteArray(binary);\n\n      return new Blob([new Uint8Array(array)], { type: \"image/png\" });\n    } catch (e) {\n      return \"\";\n    }\n  },\n\n  setSignature: function setSignature($container) {\n    var url = this.properties && this.properties.url;\n\n    try {\n      if (!bizagi.util.isEmpty(url)) {\n        $container.BzjSignature(\"reset\");\n        $container.BzjSignature(\"setData\", url);\n      }\n    } catch (err) {\n    }\n  },\n\n  /**\r\n      * Provides a way to asynchronously observe changes in the resize\r\n      * of a target element\r\n      * @param $context\r\n      * @param callbackFn\r\n      */\n  setResizeObserver: function setResizeObserver($context, callbackFn) {\n    var self = this;\n    var initialWidth = 0;\n\n    var resizeObserver = new ResizeObserver(function (entries) {\n      var entry = entries[0];\n      if (entry.contentRect) {\n        if (initialWidth !== entry.contentRect.width && entry.contentRect.width !== 0) {\n          initialWidth = entry.contentRect.width;\n          if (typeof callbackFn === \"function\") {\n            callbackFn();\n          }\n        }\n      }\n    });\n\n    resizeObserver.observe($context.get(0));\n  },\n\n  /**\r\n      * Get container of control\r\n      * @param selectorClass\r\n      * @returns {*}\r\n      */\n  getSignatureContainer: function getSignatureContainer(selectorClass) {\n    var contextClass = selectorClass || \".bz-signature__container\";\n    return this.getSignatureContext(contextClass);\n  },\n\n  /**\r\n      * Get context of control\r\n      * @param selectorClass\r\n      * @returns {jQuery|HTMLElement}\r\n      */\n  getSignatureContext: function getSignatureContext(selectorClass) {\n    var $control = this.getControl();\n    return $(selectorClass, $control);\n  }\n\n  // endregion // #endregion\n});","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /**\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Name: Bizagi Render Column Decorator Class\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Author: Bizagi UI Forms\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Comments:\r\n                                                                                                                                                                                                                                                                                                                                                                                *   -   This script will define basic stuff for Columns\r\n                                                                                                                                                                                                                                                                                                                                                                                */\n\nbizagi.rendering.element.extend(\"bizagi.rendering.columns.column\", {}, {\n  /*\r\n                                                                         *   Constructor\r\n                                                                         */\n  init: function init(params) {\n    // Call base\n    this._super(params);\n\n    // Save original properties\n    this.originalProperties = JSON.parse(JSON.encode(this.properties));\n\n    this.decoratedClass = params.decorated;\n    this.data = params.data;\n    if (params.singleInstance) {\n      this.decorated = new this.decoratedClass({\n        data: this.data,\n        parent: this.parent,\n        renderFactory: this.renderFactory,\n        dataService: this.dataService });\n\n      this.decorated.getControl = this.getControl;\n      params.decorated = this.decorated;\n      this.decorated.properties.isColumn = true;\n    } else {\n      this.decorateRenders = [];\n    }\n    this.grid = params.parent;\n\n    // Set base column styles\n    var properties = this.properties;\n\n    properties.columnVisible = bizagi.util.parseBoolean(properties.columnVisible) != null ? bizagi.util.parseBoolean(properties.columnVisible) : true;\n    properties.align = properties.align || 'center';\n    properties.textFormat = properties.textFormat || {};\n    properties.submitOnChange = typeof properties.submitOnChange != \"undefined\" ? bizagi.util.parseBoolean(properties.submitOnChange) : false;\n    properties.singleInstance = params.singleInstance;\n    properties.editable = typeof properties.editable != \"undefined\" ? bizagi.util.parseBoolean(properties.editable) : true;\n    properties.visible = typeof properties.visible != \"undefined\" ? bizagi.util.parseBoolean(properties.visible) : true;\n    properties.required = typeof properties.required != \"undefined\" ? bizagi.util.parseBoolean(properties.required) : false;\n    properties.showColumn = typeof properties.showColumn != \"undefined\" ? bizagi.util.parseBoolean(properties.showColumn) : true;\n    properties.isSortable = typeof properties.isSortable != \"undefined\" ? bizagi.util.parseBoolean(properties.isSortable) : true;\n\n    // Define if it is editable or not        \n    try {\n      if (params.parent && typeof params.parent.properties.editable == \"boolean\" && !params.parent.properties.editable) {\n        properties.editable = false;\n      }\n    } catch (e) {\n    }\n\n    // Define if the column is readonly\n    this.readonly = properties.readonly !== undefined ? properties.readonly : false;\n    if (this.readonly) properties.editable = required = false;\n  },\n\n  /*\r\n     *   Return true if the column is read-only, so we can make a quick render\r\n     */\n  isReadonly: function isReadonly() {\n    return false;\n  },\n\n  /*\r\n     *   Method to retrieve the decorated control\r\n     */\n  getControl: function getControl() {\n    var self = this;\n    return $(\".ui-bizagi-render-control\", self.element || self.observableElement);\n  },\n  /*\r\n     *   Returns the decorated cell instance to use\r\n     */\n  getDecorated: function getDecorated(surrogateKey) {\n    var self = this;\n    var properties = self.properties;\n    if (properties.singleInstance) {\n      return self.decorated;\n    } else {\n      var decorated = self.decorateRenders[surrogateKey];\n      if (decorated == undefined) {\n        if (_typeof(self.decorateRenders) != \"object\") {\n          self.decorateRenders = [];\n        }\n        var instanceDecoratedClass = new this.decoratedClass({\n          data: bizagi.clone(this.data),\n          parent: this.parent,\n          renderFactory: this.renderFactory,\n          dataService: this.dataService });\n\n        decorated = instanceDecoratedClass;\n        self.decorateRenders[surrogateKey] = instanceDecoratedClass;\n\n        // Set surrogate key to all controls\n        decorated.surrogateKey = surrogateKey;\n\n        // Execute decorated overrides\n        self.applyOverrides(decorated);\n\n        var dataType = bizagi.util.normalizeType(decorated.properties.type);\n        // Also override setDisplayValue on summary row for non numeric columns\n        if (surrogateKey === \"summary\" && !/columnMoney/i.test(dataType) && !/columnNumber/i.test(dataType)) {\n\n          decorated.setDisplayValue = function (value) {\n            var control = this.getControl();\n\n            // Replace line breaks for html line breaks\n            control.html(value);\n          };\n        }\n      }\n      return decorated;\n    }\n  },\n  /*\r\n     *   Set a ready function to execute when the render has been inserted in the dom\r\n     */\n  ready: function ready() {\n    return this.readyDeferred.promise();\n  },\n  /*\r\n     *   Load stuff needed for the column\r\n     *   It could return a promise if the column need to load async stuff\r\n     */\n  initialize: function initialize() {\n    // Override to do any stuff needed here\n  },\n  /* \r\n     *  Method to determine if the render value can be sent to the server or not\r\n     */\n  canBeSent: function canBeSent(surrogateKey, cellOverrides) {\n    var self = this;\n    var decorated = self.getDecorated(surrogateKey);\n\n    if (cellOverrides) {\n      decorated.properties.visible = cellOverrides.visible;\n      decorated.properties.editable = cellOverrides.editable;\n    }\n    return decorated.canBeSent() || !self.properties.editable && self.hasChanged() || !decorated.properties.editable && self.hasChanged();\n  },\n  /*\r\n     *   Method to check if a value is valid or not in this render\r\n     */\n  isValueValid: function isValueValid(surrogateKey, value, messages, propertyOverrides) {\n    var self = this;\n    var decorated = self.getDecorated(surrogateKey);\n    var invalidElements = [];\n\n    if (propertyOverrides.visible) {\n      self.setValue(surrogateKey, value);\n\n      // Override properties\n      decorated.properties = $.extend(decorated.properties, propertyOverrides);\n\n      if (self.grid && typeof decorated.grid === \"undefined\") {\n        decorated.grid = self.grid;\n      }\n\n      // Validate field\n      decorated.isValid(invalidElements);\n    }\n\n    if (invalidElements.length > 0) {\n      $.each(invalidElements, function (i, invalidElement) {\n        messages.push(invalidElement.message);\n      });\n      return false;\n    }\n\n    return true;\n  },\n  /*\r\n     *   Apply custom overrides to each decorated instance\r\n     */\n  applyOverrides: function applyOverrides(decorated) {\n  },\n  /*\r\n     *   Returns the in-memory processed element \r\n     *   so the caller could append it to any place\r\n     */\n  render: function render(surrogateKey, value) {\n    var self = this;\n    var properties = self.properties;\n    // Set grid and id references to the control in order to render the content\n    var decorated = self.getDecorated(surrogateKey);\n    decorated.grid = self.grid;\n    decorated.column = this;\n    decorated.surrogateKey = surrogateKey;\n\n    // Set cell value\n    self.setValue(surrogateKey, value);\n\n    // Override render properties\n    self.overrideDecoratedRenderProperties(surrogateKey);\n\n    // Set flag to check when a render has changed\n    self.changed = false;\n\n    // If the render is not editable return the readonly version of the column\n    //Fix: Uncaught RangeError: Maximum call stack size exceeded\n    if (!properties.editable && arguments[3] !== \"CALLER_RENDER_READ_ONLY_COLUMNSLINK\")\n    return self.renderReadOnly.apply(self, arguments);\n\n    // Returns the decorated render inside a custom layout for columns\n    self.readyDeferred = new $.Deferred();\n    var cell = decorated.render(\"cell\");\n\n    // If the render changes set the flag on\n    decorated.bind(\"renderchange\", function () {\n      self.changed = true;\n    });\n\n    self.bind(\"rendered\", function () {\n      self.readyDeferred.resolve();\n    });\n\n    return cell;\n  },\n  /*\r\n     *   Post process the element after it has been rendered\r\n     */\n  postRender: function postRender(surrogateKey, cell) {\n    var self = this;\n    var decorated = self.getDecorated(surrogateKey);\n    decorated.postRenderElement(cell);\n  },\n  /*\r\n     *   Returns the in-memory processed element when the element is read-only\r\n     */\n  renderReadOnly: function renderReadOnly(surrogateKey, value) {\n    var self = this;\n    // Set grid and id references to the control in order to render the content\n    var decorated = self.getDecorated(surrogateKey);\n    decorated.grid = self.grid;\n    decorated.column = this;\n    decorated.surrogateKey = surrogateKey;\n\n    // Set cell value\n    self.setValue(surrogateKey, value);\n\n    // Override render properties\n    self.overrideDecoratedRenderProperties(surrogateKey);\n\n    // Changes editable to false to render read-only\n    decorated.properties.editable = false;\n\n    // Perform the internal render\n    self.readyDeferred = new $.Deferred();\n    var result = decorated.render(\"cell.readonly\");\n\n    self.bind(\"rendered\", function () {\n      self.readyDeferred.resolve();\n    });\n\n    // Returns the decorated render inside a custom layout for columns\n    return result;\n  },\n\n  /*\r\n     *  Returns the html template to draw the summary cell\r\n     */\n  renderSummary: function renderSummary(key, value) {\n    var self = this;\n    var result = self.renderFactory.getTemplate(\"cell.summary\");\n    return $.tmpl(result).html();\n  },\n\n  /*\r\n     *   Post process the element after it has been rendered\r\n     */\n  postRenderReadOnly: function postRenderReadOnly(surrogateKey, cell) {\n    var self = this;\n    var decorated = self.getDecorated(surrogateKey);\n    var editable = self.properties.editable;\n    decorated.properties.editable = false;\n    if (self.properties.singleInstance) {\n      decorated.element = cell;\n    }\n    decorated.postRenderElement(cell);\n    decorated.properties.editable = editable;\n  },\n\n  /*\r\n     * Return false to all columns that doesn't need special treatment (like number or currency)\r\n     */\n  postRenderSummary: function postRenderSummary() {\n    return false;\n  },\n\n  /*\r\n     *   Returns the cell html to be inserted in the table\r\n     */\n  getCell: function getCell() {\n    return this.decorated.getDisplayValue();\n  },\n  /*\r\n     *   Sets the surrogate key for this row\r\n     */\n  setSurrogateKey: function setSurrogateKey(key) {\n    this.surrogateKey = key;\n  },\n  /*\r\n     *   Sets the internal value, only must be called internally\r\n     */\n  setValue: function setValue(surrogateKey, value) {\n    var self = this;\n\n    var decorated = self.getDecorated(surrogateKey);\n    if (decorated != \"undefined\" && decorated != null) {\n\n      decorated.properties.originalValue = value;\n      decorated.properties.previousValue = value;\n\n      if ((value === null || value === undefined) && (self.properties.defaultvalue !== undefined || self.properties.defaultValue !== undefined) && decorated.grid != undefined) {\n        value = self.setDefaultValue(surrogateKey, decorated);\n      }\n\n      decorated.properties.value = value;\n      decorated.setValue(value, false);\n    }\n  },\n\n  /*\r\n     * Set the cell default value and make this action as a change to send it to server\r\n     */\n  setDefaultValue: function setDefaultValue(surrogateKey, decorated) {\n    var self = this;\n    var value = undefined;\n\n    if (self.properties.defaultvalue !== null && self.properties.defaultvalue !== undefined) {\n      value = self.properties.defaultvalue;\n    } else {\n      if (self.properties.defaultValue !== null && self.properties.defaultValue !== undefined) {\n        value = self.properties.defaultValue;\n      }\n    }\n\n    decorated.grid.changes[surrogateKey] = decorated.grid.changes[surrogateKey] || {};\n    decorated.grid.changes[surrogateKey][self.properties.xpath] = value;\n\n    return value;\n  },\n  /*\r\n     *   Gets the internal value\r\n     */\n  getValue: function getValue(surrogateKey) {\n    var self = this;\n    var decorated = self.getDecorated(surrogateKey);\n    return decorated.getValue();\n  },\n  /*\r\n     *   Gets the composite value (applies for non-standard render values)\r\n     */\n  getCompositeValue: function getCompositeValue(surrogateKey) {\n    return this.getValue(surrogateKey);\n  },\n  /*\r\n     *   Returns the element type\r\n     */\n  getElementType: function getElementType() {\n    return bizagi.rendering.element.ELEMENT_TYPE_COLUMN;\n  },\n  /*\r\n     *   Determines if a render has changed its value\r\n     */\n  hasChanged: function hasChanged() {\n    return this.changed;\n  },\n  /*\r\n     *   Triggers an event inside the control\r\n     */\n  trigger: function trigger(eventType, data) {\n    if (this.decorated)\n    this.decorated.trigger(eventType, data);\n  },\n  /*\r\n     *   Triggers an event handler inside the control\r\n     */\n  triggerHandler: function triggerHandler(eventType, data) {\n    if (this.decorated)\n    this.decorated.triggerHandler(eventType, data);\n  },\n  /*\r\n     *   Binds to an event\r\n     */\n  bind: function bind(eventType, fn) {\n    if (this.decorated)\n    this.decorated.bind(eventType, fn);\n  },\n  /*\r\n     *   Unbinds to an event\r\n     */\n  unbind: function unbind(eventType, fn) {\n    if (this.decorated)\n    this.decorated.unbind(eventType, fn);\n  },\n  /*\r\n     *   Override decorated properties\r\n     */\n  overrideDecoratedRenderProperties: function overrideDecoratedRenderProperties(surrogateKey) {\n    var self = this;\n    var decorated = self.getDecorated(surrogateKey);\n\n    // Override decorated control properties\n    decorated.properties.editable = this.properties.editable;\n    decorated.properties.visible = this.properties.visible;\n    decorated.properties.required = this.properties.required;\n  },\n\n  overrideProperties: function overrideProperties(properties) {\n    var self = this;\n\n    self.properties.editable = properties.editable || self.properties.editable;\n    self.properties.visible = properties.visible || self.properties.visible;\n    self.properties.required = properties.required || self.properties.required;\n  },\n\n  /*\r\n     *   Returns the xpath used to sort the grid\r\n     */\n  getSortName: function getSortName() {\n    var self = this;\n\n    // Check if there is an override for the default behaviour \n    var decorated = self.getAnyDecoratedInstance();\n    if (decorated && decorated.getSortColumn) {\n      return decorated.getSortColumn();\n    }\n\n    // Default behaviour\n    return self.properties.xpath;\n  },\n\n  /*\r\n     *   Returns any of the decorated instances, if there are none, return null\r\n     */\n  getAnyDecoratedInstance: function getAnyDecoratedInstance() {\n    var self = this;\n    var first;\n\n    // Get the first key for the hash\n    for (first in this.decorateRenders) {break;}\n\n    // Return the first decorated render\n    if (first) return this.decorateRenders[first];\n\n    return null;\n  },\n\n  dispose: function dispose() {\n    var self = this;\n\n    var timeOutDecorated = setTimeout(function () {\n      if (self.decorated) {\n        self.decorated.unbind(\"renderchange\");\n        self.decorated.dispose();\n      }\n\n      if (self.decorateRenders) {\n        bizagi.util.arrayEach(self.decorateRenders, function (key, render) {\n          if (render) {\n            render.unbind(\"renderchange\");\n            render.dispose();\n          }\n        });\n      }\n      clearTimeout(timeOutDecorated);\n    }, bizagi.override.disposeTime || 50);\n\n    // Call base\n    self._super();\n  } });","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /*\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Name: BizAgi Rendering\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Author: Diego Parra\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Comments:\r\n                                                                                                                                                                                                                                                                                                                                                                                *   -   This script will process a rendering page by calling an ajax service to retrieve the model,\r\n                                                                                                                                                                                                                                                                                                                                                                                *       and then process it to create base layout, and then call the device render factory\r\n                                                                                                                                                                                                                                                                                                                                                                                */\n\n// Define BizAgi Rendering namespace\nbizagi.rendering = bizagi.rendering || {};\n\n/*\r\n                                            *   This class will define a method to process the page\r\n                                            *   1. Fetch the data\r\n                                            *   2. Call the device factory to appropriately render the content\r\n                                            */\n$.Class.extend(\"bizagi.rendering.facade\", {\n  form: undefined,\n  executionDeferred: new $.Deferred() },\n{\n  /*\r\n  *   Constructor\r\n  */\n  init: function init(params) {\n    params = params || {};\n\n    // Set observable element\n    this.observableElement = $({});\n\n    // Injection of Device, only for print version purpose\n    var device = params.device || \"\";\n\n    // Defines a device factory for all rendering\n    this.deviceFactory = new bizagi.rendering.device.factory();\n\n    // Creates a data service instance\n    this.dataService = new bizagi.render.services.service(params);\n\n    // Retrieves the render factory\n    this.renderFactory = this.deviceFactory.getRenderFactory(this.dataService, device);\n  },\n  getFactory: function getFactory() {\n    var self = this;\n    return {\n      deviceFactory: self.deviceFactory,\n      dataService: self.dataService,\n      renderFactory: self.renderFactory };\n\n  },\n  /*\r\n     *   Subscribe method\r\n     */\n  subscribe: function subscribe() {\n    this.observableElement.bind.apply(this.observableElement, arguments);\n  },\n  /*\r\n     *   Unsubscribe method\r\n     */\n  unsubscribe: function unsubscribe() {\n    this.observableElement.unbind.apply(this.observableElement, arguments);\n  },\n  /*\r\n     *   Publish method\r\n     */\n  publish: function publish() {\n    return this.observableElement.triggerHandler.apply(this.observableElement, arguments);\n  },\n  /*\r\n     *   This method will re-execute the process\r\n     */\n  update: function update(params) {\n    var self = this;\n\n    // Update rendering mode\n    if (params.mode)\n    self.mode = params.mode;\n\n    // Enable form buttons on desktop view\n    return self.execute($.extend({\n      canvas: self.canvas,\n      mode: self.mode },\n    params));\n  },\n  /*\r\n     *   Start point method to use in the main javascript pages\r\n     *   This method will process everything and attach the html directly to the dom\r\n     */\n  execute: function execute(params) {\n    var self = this;\n    var doc = this.ownerDocument;\n    var body = $(\"body\", doc);\n    params = params || {};\n\n    // Creates ready deferred\n    if (self.executionDeferred && self.executionDeferred.state) {\n      if (self.executionDeferred.state() == \"resolved\") {\n        self.executionDeferred = $.Deferred();\n      }\n    } else {\n      self.executionDeferred = $.Deferred();\n    }\n\n    // Performance measurement stuff\n    bizagi.chrono.initAndStart(\"rendering+data\", true);\n    bizagi.rendering.render.startOptimization();\n\n    // Override mode\n    if (typeof params.mode === \"undefined\") {\n      if (!bizagi.util.isEmpty(window.location.search)) {\n        var queryString = bizagi.util.getQueryString();\n        params.mode = queryString[\"mode\"];\n      }\n    }\n\n    // If the canvas is not given, we need to create one\n    var canvas = self.canvas = params.canvas = params.canvas || $(\"<div />\").appendTo(body);\n    self.mode = params.mode;\n\n    self.sendExecutingPostMessageWebparts();\n\n    self.process(params).done(function (form) {\n\n      // Clear canvas    \n      if (!params.refreshing) {\n        canvas.empty();\n      }\n\n      // Append content\n      canvas.append(form.container);\n\n      // Include process path\n      $(form.pathProcess).insertBefore(form.container);\n\n      // Keep reference in class\n      self.form = form;\n      self.form.setSize({ width: self.lastWidth, height: self.lastHeight });\n\n      // Save window size variables\n      var timeoutResize = setTimeout(function () {\n        self.lastWidth = $(window).width();\n        self.lastHeight = $(window).height();\n        if (window.self !== window.top)\n        self.resizeInPopUpHTML();\n        clearTimeout(timeoutResize);\n      }, 2000);\n\n      // Publish an event to check if the form has been set in the DOM\n      form.triggerHandler(\"ondomincluded\");\n\n      // Notify to module users that the form has been rendered\n      self.publish(\"rendering-formRendered\", { form: form });\n      //Configure triggers\n      self.configureOpenForm(form);\n\n      // Configure handlers\n      self.configureRefresh(form, canvas);\n      self.configureRouting(form, canvas);\n      self.configureRenderError(form, canvas);\n      self.configureResize(form);\n      self.configureGlobalHandlers(form);\n\n      // Check if it is a summary form\n      if (params.summaryForm) {\n        form.container.addClass(\"ui-bizagi-summary-form\");\n      }\n\n      // Ends main timer and log everything\n      bizagi.chrono.stopAndLog(\"rendering\");\n      bizagi.chrono.stopAndLog(\"rendering+data\");\n      bizagi.chrono.stopAndLog(\"submitForm\");\n      bizagi.chrono.stopAndLog(\"submitForm-ajax\");\n      bizagi.chrono.stopAndLog(\"waiting\");\n\n      // Resolves deferred\n      bizagi.rendering.render.stopOptimization();\n\n      // Expose public reference of form\n      if (bizagi.override.enableE2EInterface) {\n        self.Class.form = self.form;\n        self.Class.executionDeferred.resolve(self.form);\n      }\n\n      self.executionDeferred.resolve(self.form);\n\n    }).fail(function (message, errorType) {\n\n      $.when(self.renderFactory).\n      done(function (renderFactory) {\n\n        if (typeof message === \"undefined\" || message === \"\") {\n          message = bizagi.localization.getResource(\"render-error-unknown\");\n        }\n\n        var errorTemplate = renderFactory.getCommonTemplate(\"form-error\");\n        // Fill canvas\n        canvas.empty();\n        canvas.append($.tmpl(errorTemplate, {\n          message: message }));\n\n        self.publish(\"rendering-formRenderedError\", message);\n        self.canvas.triggerHandler(\"errorform\", message);\n        // Ends main timer and log everything\n        bizagi.chrono.stopAndLog(\"rendering\");\n        bizagi.chrono.stopAndLog(\"rendering+data\");\n\n        self.executionDeferred.reject();\n      });\n    });\n\n    return self.executionDeferred.promise();\n  },\n  /*\r\n     *   Returns the execution deferred to determine if the component is ready or not\r\n     */\n  ready: function ready() {\n    return this.executionDeferred.promise();\n  },\n  /*\r\n     *   Loads data and render factory in order to process the form\r\n     *   Returns a deferred to set callbacks when the process is done\r\n     */\n  process: function process(params) {\n    var self = this;\n    var defer = new $.Deferred();\n\n    // Call get form data service\n    var dataPromise = self.dataService.getFormData(params);\n\n    var canvas = self.canvas || params.canvas;\n\n    bizagi.showErrorAlertDialog = false;\n    // Set callback when requests have been done\n    $.when(dataPromise, self.renderFactory).\n    done(function (data, renderFactory) {\n      bizagi.showErrorAlertDialog = true;\n\n      // When there is no data trigger an event\n      if (bizagi.util.isEmpty(data)) {\n        self.publish(\"no-data-found\");\n        defer.fail();\n        return;\n      }\n\n      if (data && data.type == \"reload\") {\n        var form = self.form;\n        if (form) {\n          form.endLoading();\n          form.dispose();\n        }\n        // Trigger handler on canvas\n        canvas.triggerHandler(\"routing\", data);\n\n      } else if (data && data.type == \"suspended\") {\n        var errorTemplate = renderFactory.getTemplate(\"info-message\");\n        var message = bizagi.localization.getResource(\"render-case-suspended\");\n        var errorHtml = $.tmpl(errorTemplate, {\n          message: message });\n\n        // Remove loading icon from summary container\n        errorHtml.appendTo(canvas);\n\n        defer.fail();\n\n      } else if (data && data.type != \"error\") {\n        if (params.hasOwnProperty('printversion')) {\n          data = self.transformGridControl(data);\n          data.form.properties.editable = \"False\";\n        }\n\n        bizagi.chrono.initAndStart(\"rendering\");\n        params.type = data.form && data.form.properties.type || params.type;\n        var form = self.processForm(data.form, renderFactory, params);\n\n        // Resolve deferred\n        defer.resolve(form);\n\n      } else {\n        self.getFailDeferred(data, defer);\n      }\n    }).fail(function (errorMessage) {\n      self.getFailDeferred(errorMessage, defer);\n    });\n\n    return defer.promise();\n  },\n  /**\r\n      * In the print version widget when grid control was rendered, the main render has broken\r\n      * Is necesary change id of grid control to fixed these  problems\r\n      */\n  transformGridControl: function transformGridControl(data) {\n    var self = this;\n    if (data == null) {\n      return data;\n    }\n\n    if (data.hasOwnProperty('type') && data.type == 'grid') {\n      data.id = data.id + \"-print\";\n      data.allowAdd = \"False\";\n      data.allowDelete = \"False\";\n      data.allowEdit = \"False\";\n      data.allowGrouping = \"False\";\n      data.allowMore = \"False\";\n      data.allowSearch = \"False\";\n    } else {\n      $.each(data, function (key, value) {\n        if (_typeof(value) == 'object') {\n          data[key] = self.transformGridControl(data[key]);\n        }\n      });\n    }\n    return data;\n  },\n  /**\r\n      * Resolve deferred\r\n      */\n  getFailDeferred: function getFailDeferred(errorMessage, defer) {\n    var self = this;\n    var message = \"\";\n    var jsonErrorMessage = {};\n    try {\n      jsonErrorMessage = JSON.parse(errorMessage.responseText);\n    } catch (e) {\n      jsonErrorMessage = { message: errorMessage.responseText, errorType: \"ERRORUNKNOWN\" };\n    }\n\n\n    if (jsonErrorMessage.message) {\n      message += \"<br>Error Type: \" + jsonErrorMessage.errorType;\n      message += \"<br>Error Message: \" + jsonErrorMessage.message;\n    } else {\n      if (jsonErrorMessage.errorType == \"JSharpNotSupportedException\") {\n        message += \"<br>Error Message: \" + bizagi.localization.getResource(\"jsharp-required\");\n      }\n    }\n\n    // Error in metadata InvalidFormMetadata\n    if (jsonErrorMessage.errorType == 'ERRORUNKNOWN') {\n      defer.reject(message, jsonErrorMessage.errorType);\n    } else {\n\n      defer.reject(message);\n    }\n  },\n  /*\r\n     *   Process the form\r\n     */\n  processForm: function processForm(data, renderFactory, params) {\n    var form = renderFactory.getContainer($.extend(params, {\n      type: params.type || \"form\",\n      data: data }));\n\n\n    // Render the full form\n    form.render();\n\n    return form;\n  },\n  /*\r\n     *   Performs a resize\r\n     */\n  resize: function resize(args) {\n    var self = this;\n    if (self.form) {\n      self.form.trigger(\"renderresize\", args);\n    }\n  },\n  /*\r\n     *   Binds a refresh handler to detect when the whole form needs to fetch all data from server\r\n     */\n  configureRefresh: function configureRefresh(form, canvas) {\n    var self = this;\n\n    // Attach a refresh handler to recreate all the form\n    form.bind(\"refresh\", function (_, refreshParams) {\n\n      // Find the scroll top\n      var parent = form.container.parent();\n      parent = bizagi.util.scrollTop(parent);\n      var scrollTop = parent.scrollTop();\n\n      $(self.form).trigger(\"onRefreshStarted\");\n\n      //Dispose current form\n      form.dispose(refreshParams);\n      canvas.fastEmpty();\n      var canvasParent = canvas.parent();\n      if (canvasParent.find(\".ui-bizagi-button-container\").length > 0) {\n        canvasParent.find(\".ui-bizagi-button-container\").remove();\n      }\n\n      if (self.executionDeferred && self.executionDeferred.state) {\n        if (self.executionDeferred.state() == \"resolved\") {\n          self.executionDeferred = $.Deferred();\n        }\n      }\n\n      var formParams = self.form.getParams();\n      if (bizagi.util.isMobileDevice() && formParams.isOfflineForm === true) {\n        $.extend(refreshParams, {\n          isOfflineForm: true,\n          offlineType: formParams.offlineType,\n          isOpen: formParams.isOpen });\n\n        refreshParams.online = (\"\" + BIZAGI_ENVIRONMENT).toLowerCase() === \"debug\" ?\n        form.online : bizagi.util.isConnected();\n      }\n\n      // Re-execute process\n      $.when(self.execute($.extend(refreshParams, {\n        canvas: canvas,\n        refreshing: true,\n        idCase: formParams.idCase,\n        displayName: formParams.displayName }))).\n      done(function () {\n\n        // Restore scroll at same position\n        var timeoutTrigger = setTimeout(function () {\n          parent.scrollTop(scrollTop);\n          $(self.form).trigger(\"onRefreshFinished\");\n          clearTimeout(timeoutTrigger);\n        }, 100);\n      });\n\n      return self.executionDeferred.promise();\n    });\n  },\n  /*\r\n     *   Binds a resize hanlder to configure the resize behaviour\r\n     */\n  configureResize: function configureResize(form) {\n    var self = this;\n\n    // Attach resize handler\n    form.bind(\"renderresize\", function (_, args) {\n      args = args || {};\n      // Just allow one resize at a time\n      if (self.resizeTimeout)\n      return;\n      var resizeFn = function resizeFn() {\n        // Call resize event in form\n        var width = $(window).width();\n        var height = $(window).height();\n        if (args.forceResize || width != self.lastWidth) {\n\n          // Logging stuff\n          bizagi.chrono.initAndStart(\"resize\");\n\n          // Perform resize\n          form.resize({\n            width: width,\n            height: height });\n\n          self.lastWidth = width;\n          self.lastHeight = height;\n\n          // Logging stuff\n          bizagi.chrono.stopAndLog(\"resize\");\n          bizagi.chrono.log(\"resize\");\n        }\n\n        self.resizeTimeout = null;\n        clearTimeout(self.resizeTimeout);\n      };\n      self.resizeTimeout = setTimeout(resizeFn, 0);\n\n    });\n    self.resize();\n  },\n  /*\r\n     *   Binds a routing handler to detect when the workportal need to enroute the case\r\n     */\n  configureRouting: function configureRouting(form, canvas) {\n    // Attach a routing handler to notify to the caller\n    form.bind(\"routing\", function (context, triggerParams) {\n      //Dispose current form\n      form.dispose();\n\n      // Trigger handler on canvas\n      canvas.triggerHandler(\"routing\", triggerParams);\n    });\n  },\n  /*\r\n     *   Binds a generic handler that will be replicated to facade instantiators\r\n     */\n  configureGlobalHandlers: function configureGlobalHandlers(form) {\n    var self = this;\n\n    // Attach a routing handler to notify to the caller\n    form.bind(\"globalHandler\", function (_, args) {\n      // Trigger handler on canvas\n      return self.publish(args.eventType, args.data);\n    });\n  },\n  /*\r\n     *   Bind trigger for form opening\r\n     */\n  configureOpenForm: function configureOpenForm(form) {\n    $(document).trigger(\"openForm\", { form: form });\n  },\n\n  /*\r\n     * Binds error form handler to detect when the render element nop posible get information or error in server\r\n     */\n  configureRenderError: function configureRenderError(form, canvas) {\n    var self = this;\n\n    form.bind(\"formRenderingError\", function (event, errorMessage) {\n      $.when(self.renderFactory).\n      done(function (renderFactory) {\n        var message = \"<br>Error: \";\n\n        errorMessage = errorMessage.replace(/(\\r\\n|\\n|\\r)/gm, \"\");\n\n        var jsonErrorMessage = JSON.parse(errorMessage);\n        if (jsonErrorMessage.message) {\n          message += jsonErrorMessage.message;\n          message += \"<br>Error Type: \" + jsonErrorMessage.errorType;\n        }\n        var errorTemplate = renderFactory.getCommonTemplate(\"form-error\");\n        // Fill canvas\n        canvas.empty();\n        canvas.append($.tmpl(errorTemplate, {\n          message: message }));\n\n        //send the type error to differentiate between a form and an item for render\n        self.canvas.triggerHandler(\"errorform\", \"renderItemError\");\n        // Ends main timer and log everything\n        bizagi.chrono.stopAndLog(\"rendering+data\");\n        bizagi.chrono.stopAndLog(\"rendering\");\n      });\n    });\n  },\n\n  dispose: function dispose() {\n    var self = this;\n    if (self.form) {\n      self.form.dispose();\n    }\n    bizagi.util.dispose(self);\n  },\n\n  resizeInPopUpHTML: function resizeInPopUpHTML() {\n    if ($(\".activitiFormContainer\").length > 0 && bizagi.util.getQueryString().type != \"cases\") {\n      var heightActivitiFormContainer = $(\".activitiFormContainer\").height() || 0;\n      var renderForm = $(\".activitiFormContainer #ui-bizagi-webpart-render-container\");\n      var buttonContainer = $(\".ui-bizagi-button-container\", \".activitiFormContainer\");\n      var heightButtonContainer = buttonContainer.outerHeight() || 0;\n      var renderBehavior = bizagi.util.getQueryString().renderBehavior || \"\";\n      renderBehavior = renderBehavior.replace(\"#\", \"\");\n\n      if (renderBehavior == \"PopUp\") {\n        if (typeof self.postMessageSocket == \"undefined\") {\n          var heightCanvas = $(\".activitiFormContainer\").height() - 50 || 396;\n          $(\"#render-canvas\").height(heightCanvas);\n          $(\"#render-canvas\").css(\"overflowY\", \"scroll\");\n        } else $(\".activitiFormContainer\").height($(\".activitiFormContainer\").height() + $(\".ui-bizagi-button-container\").height() + 30);\n        $(\".ui-bizagi-button-container\").css(\"position\", \"absolute\");\n        $(\".ui-bizagi-button-container\").appendTo(\".activitiFormContainer\");\n        if ($(\".ui-bizagi-button-container\").length > 1) {\n          $(\".ui-bizagi-button-container:first\").hide();\n          renderForm.css(\"marginTop\", \"-17px\");\n        }\n      }\n      if (buttonContainer.length > 0) {\n        //display buttons\n        renderForm.height(heightActivitiFormContainer - 97 - heightButtonContainer);\n      }\n      if ($(\".ui-bizagi-button-container\").children().length == 0)\n      $(\"#render-canvas\").height($(\"#render-canvas\").height() + heightButtonContainer);else\n      {\n        buttonContainer.width(\"100%\");\n        buttonContainer.css(\"marginLeft\", 0);\n        buttonContainer.css(\"bottom\", 0);\n      }\n    } else if (bizagi.util.getQueryString().type == \"render\") {\n      $(\"html\").css(\"overflowX\", \"hidden\");\n      $(\"#render\").height() <= window.innerHeight + 5 ? $(\"html\").css(\"overflowY\", \"hidden\") :\n      $(\"html\").css(\"overflowY\", \"scroll\");\n      $(\".ui-widget-overlay\").height(650);\n    }\n  },\n\n  sendExecutingPostMessageWebparts: function sendExecutingPostMessageWebparts() {\n    if (bizagi && bizagi.iframeCommunicator) {\n      bizagi.iframeCommunicator.trigger(\"executing-rendering\", {});\n    }\n  } });","/**\r\n * Autor: Ricardo Pérez\r\n */\n\n(function ($) {\n\n  $.fn.material_bizagi_tabs = function (options, params) {\n\n    var opts = $.extend({}, $.fn.material_bizagi_tabs.defaults, options);\n\n    var base = {\n      index: 0,\n      tabs: [],\n      $el: undefined,\n      $active: undefined,\n      $active_content: undefined,\n      init: function init(el, params) {\n        var self = this;\n        var $tabs = $(\">ul.bz-tabs\", el);\n        var $content_tabs = self.$el = $(el);\n        var $ind;\n        self.index = opts.active_index_tab;\n\n        function updatePositions(active, $indicator) {\n          if (typeof $indicator !== \"undefined\") {\n            var info = updateIndicatorState($tabs.get(0), active.get(0), opts.direction);\n            $indicator.css(\"left\", info.left).css(\"width\", info.width);\n          }\n\n          var scroll_info = scrollSelectedIntoView($tabs.get(0), active.get(0), opts.direction);\n          $tabs.scrollLeft(scroll_info);\n          $tabs.trigger(\"updatePositions\", getTabsMetaInfo($tabs.get(0), active.get(0), opts.direction));\n        }\n\n        $(\">li.bz-tab\", $tabs).each(function (index, element) {\n          if (index === opts.active_index_tab) {\n            self.$active = $(this);\n            self.$active.addClass(\"active\");\n          } else\n          {\n            $($(element).data(\"reference\"), $content_tabs).hide();\n          }\n          self.tabs.push({ index: index, element: element });\n        });\n\n        self.$active_content = $(self.$active.data(\"reference\"), $content_tabs);\n\n        //Updates the initial position\n        updatePositions(self.$active);\n\n        $tabs.on(\"click\", '> li.bz-tab', function (e) {\n          e.stopPropagation();\n\n          if (typeof $ind === \"undefined\") {\n            $ind = $(\"<li class='bz-indicator-bar'></li>\");\n            var info = updateIndicatorState($tabs.get(0), self.$active.get(0), opts.direction);\n            $ind.css(\"left\", info.left).css(\"width\", info.width);\n            $ind = $tabs.prepend($ind).find(\".bz-indicator-bar\");\n          }\n\n          self.$active.removeClass('active');\n          self.$active_content.hide();\n\n          self.$active = $(this);\n\n          var reference = self.$active.data(\"reference\");\n          self.index = self.$active.data(\"index\");\n\n          self.$active_content = $(reference, $content_tabs);\n\n          self.$active.addClass('active');\n\n          //Updates to the current position\n          updatePositions(self.$active, $ind);\n          $tabs.trigger(\"updateActive\", { index: self.index });\n\n          self.$active_content.show();\n          e.preventDefault();\n        });\n\n      },\n      getActiveTab: function getActiveTab() {\n        return {\n          index: this.index,\n          tab: this.$active,\n          contantTab: this.$active_content };\n\n      },\n      moveToNextTab: function moveToNextTab() {\n        var index = this.index + 1 < this.tabs.length ? this.index + 1 : 0;\n        this.tabs[index].element.click();\n      },\n      refreshPositions: function refreshPositions() {\n        this.tabs[this.index].element.click();\n      },\n      refreshTab: function refreshTab(id) {\n        var self = this;\n        var tab = this.tabs.find(function (el) {\n          var el_id = $(el.element).data(\"reference\");\n          return el_id && el_id.indexOf(id) !== -1;\n        });\n\n        if (tab) {\n          if (tab.index === this.index) {\n            self.$active = $(tab.element);\n            self.$active.addClass(\"active\");\n\n            var $content_tabs = self.$el;\n            var reference = self.$active.data(\"reference\");\n            self.index = self.$active.data(\"index\");\n\n            self.$active_content = $(reference, $content_tabs);\n          } else\n          {\n            $($(tab.element).data(\"reference\"), this.$el).hide();\n          }\n        }\n      } };\n\n\n\n    if (typeof options == \"string\" && options) {\n      base = $(this).data(\"base\");\n      if (typeof base == \"undefined\") {\n        console.error(\"this plugin is has not been initialized!!\");\n      }\n      return base[options](params);\n    } else\n    {\n      return this.each(function () {\n        base.init(this, params);\n        $(this).data(\"base\", base);\n      });\n    }\n  };\n\n  $.fn.material_bizagi_tabs.defaults = {\n    direction: 'ltr',\n    active_index_tab: 0 };\n\n\n  function updateIndicatorState(tabs, active_tab, direction) {\n    var tabs_meta = getTabsMetaInfo(tabs, active_tab, direction);\n    var tabs_info = tabs_meta.tabsMetaInfo;\n    var tab_info = tabs_meta.tabMetaInfo;\n\n    var left = 0;\n    if (tabs_info && tab_info) {\n      var tmp_left = \"rtl\" === direction ? tabs_info.scrollLeftNormalized + tabs_info.clientWidth - tabs_info.scrollWidth : tabs_info.scrollLeft;\n      left = tab_info.left - tabs_info.left + tmp_left;\n    }\n    return {\n      left: left,\n      width: tab_info ? tab_info.width : 0 };\n\n  }\n\n  function getTabsMetaInfo(tabs, active_tab, direction) {\n    var tabs_meta_info = void 0;\n    if (tabs) {\n      var r = tabs.getBoundingClientRect();\n      tabs_meta_info = {\n        clientWidth: tabs ? tabs.clientWidth : 0,\n        scrollLeft: tabs ? tabs.scrollLeft : 0,\n        scrollLeftNormalized: tabs ? getNormalizedScrollLeft(tabs, direction) : 0,\n        scrollWidth: tabs ? tabs.scrollWidth : 0,\n        left: r.left,\n        right: r.right };\n\n    }\n    var tab_meta_info = void 0;\n    if (tabs && false !== active_tab) {\n      tab_meta_info = active_tab.getBoundingClientRect();\n    }\n\n    return {\n      tabsMetaInfo: tabs_meta_info,\n      tabMetaInfo: tab_meta_info };\n\n  }\n\n  function getNormalizedScrollLeft(tabs, direction) {\n    var a = tabs.scrollLeft;\n    if (\"rtl\" !== direction)\n    return a;\n    var n = getScrollType(tabs);\n    if (\"indeterminate\" === n)\n    return Number.NaN;\n    switch (n) {\n      case \"negative\":\n        return e.scrollWidth - e.clientWidth + a;\n      case \"reverse\":\n        return e.scrollWidth - e.clientWidth - a;}\n\n    return a;\n  }\n\n  function getScrollType(tabs) {\n    if (!tabs || !window.document.body)\n    return \"indeterminate\";\n\n    var e = window.document.createElement(\"div\");\n    e.appendChild(document.createTextNode(\"ABCD\"));\n    e.dir = \"rtl\";\n    e.style.fontSize = \"14px\";\n    e.style.width = \"4px\";\n    e.style.height = \"1px\";\n    e.style.position = \"absolute\";\n    e.style.top = \"-1000px\";\n    e.style.overflow = \"scroll\";\n    document.body.appendChild(e);\n    type = \"reverse\";\n    if (e.scrollLeft > 0)\n    type = \"default\";else\n    {\n      e.scrollLeft = 1;\n      0 === e.scrollLeft && (type = \"negative\");\n    }\n    document.body.removeChild(e);\n    return type;\n  }\n\n  scrollSelectedIntoView = function scrollSelectedIntoView(tabs, active_tab, direction) {\n    var tabs_meta = getTabsMetaInfo(tabs, active_tab, direction);\n    var tabs_info = tabs_meta.tabsMetaInfo;\n    var tab_info = tabs_meta.tabMetaInfo;\n\n    if (!tab_info || !tabs_info)\n    return;\n\n    var scroll_info = void 0;\n    if (tab_info.left < tabs_info.left) {\n      scroll_info = tabs_info.scrollLeft + (tab_info.left - tabs_info.left);\n    } else if (tab_info.right > tabs_info.right) {\n      scroll_info = tabs_info.scrollLeft + (tab_info.right - tabs_info.right);\n    }\n    return scroll_info;\n  };\n\n})($);","/**\r\n * Material floating button\r\n * By: Nobita\r\n * Repo and docs: https://github.com/nobitagit/material-floating-button\r\n *\r\n * License: MIT\r\n */\n\n// build script hook - don't remove\n(function ($) {\n  $.fn.mfb = function (options) {\n    \"use strict\";\n\n    var animations = [\"mfb-zoomin\", \"mfb-slidein\", \"mfb-slidein-spring\", \"mfb-fountain\"];\n    var placements = [\"mfb-component--tl\", \"mfb-component--tr\", \"mfb-component--bl\", \"mfb-component--br\"];\n\n    /**\r\n                                                                                                            * Some defaults\r\n                                                                                                            */\n    var self = this;\n    var overlay = {\n      element: $(\"<div class='mfb-component__overlay'></div>\"),\n      opened: false };\n\n\n    options = options || {};\n    options.buttons = options.buttons || [];\n    options.activePrincipalButton = options.activePrincipalButton || false;\n    options.placement = typeof options.placement !== \"undefined\" ? placements.indexOf(options.placement) !== -1 ? options.placement : \"mfb-component--br\" : \"mfb-component--br\";\n    options.efect = typeof options.efect !== \"undefined\" ? animations.indexOf(options.efect) !== -1 ? options.efect : \"mfb-slidein\" : \"mfb-slidein\";\n    options.clickHoverOpt = options.clickHoverOpt || \"click\";\n    options.toggleMethod = options.toggleMethod || \"data-mfb-toggle\";\n    options.menuState = options.menuState || \"data-mfb-state\";\n    options.menuStateValue = options.menuStateValue || \"closed\";\n    options.isOpen = options.isOpen || \"open\";\n    options.isClosed = options.isClosed || \"closed\";\n    options.mainButtonClass = options.mainButtonClass || \"mfb-component__button--main\";\n    options.restingIcon = options.restingIcon || \"mo-icon bz-plus\";\n    options.activeIcon = options.activeIcon || \"mo-icon bz-cross\";\n\n    /**\r\n                                                                    * @todo ask: I think this is useless cause we don't need to remove the main button, remove the complete component will be cleaner\r\n                                                                    */\n    // $(\"[\" + options.toggleMethod + \"='\" + options.clickHoverOpt + \"'] .\" + options.mainButtonClass, this).remove();\n    $(this).children(\".mfb-component-holder\").remove();\n    /**\r\n                                                         * @fix How about the events that was bind before?\r\n                                                         */\n\n    var tmpl =\n    \"<ul class=\\\"mfb-component-holder #: data.placement # #: data.efect #\\\" #: data.toggleMethod #=\\\"#: data.clickHoverOpt #\\\" #: data.menuState#=\\\"#: data.menuStateValue #\\\">\" +\n    \"   <li class=\\\"mfb-component__wrap\\\">\" +\n    \"      #if (data.activePrincipalButton && data.buttons.length >= 1){#\" +\n    \"       <a #if(typeof data.buttons[0].label !== \\\"undefined\\\"){# data-mfb-label=\\\"#: data.buttons[0].label #\\\"#}# class=\\\"mfb-component__button--main\\\">\" +\n    \"           <i class=\\\"mfb-component__main-icon--resting mfb-icon-font bz-#:data.restingIcon#\\\"></i><i class=\\\"mfb-component__main-icon--active mfb-icon-font bz-#:data.buttons[0].icon#\\\"></i>\" +\n    \"       </a>\" +\n    \"       #}else{#\" +\n    \"       <a #if(typeof data.label !== \\\"undefined\\\"){# data-mfb-label=\\\"#: data.label #\\\"#}# class=\\\"mfb-component__button--main\\\">\" +\n    \"           <i class=\\\"mfb-component__main-icon--resting mfb-icon-font bz-#:data.restingIcon#\\\"></i><i class=\\\"mfb-component__main-icon--active mfb-icon-font bz-#:data.activeIcon#\\\"></i>\" +\n    \"       </a>\" +\n    \"       #}#\" +\n    \"       # if(data.buttons.length > 0){#\" +\n    \"       <ul class=\\\"mfb-component__list\\\">\" +\n    \"           #for(var i = (data.activePrincipalButton ? 1 : 0), len = data.buttons.length; i< len; i++){#\" +\n    \"           <li data-id=\\\"#: data.buttons[i].id #\\\">\" +\n    \"               <a href=\\\"#: data.buttons[i].link #\\\" data-index=\\\"#: i#\\\" #if(typeof data.buttons[i].label !== \\\"undefined\\\"){# data-mfb-label=\\\"#: data.buttons[i].label #\\\"#}# class=\\\"mfb-component__button--child\\\">\" +\n    \"                  <i class=\\\"mfb-component__child-icon mfb-icon-font bz-#: data.buttons[i].icon #\\\"></i>\" +\n    \"               </a>\" +\n    \"           </li>\" +\n    \"           #}#\" +\n    \"       </ul>\" +\n    \"       #}#\" +\n    \"   </li>\" +\n    \"</ul>\";\n\n    /**\r\n              * Internal references\r\n              */\n    var target,\n    currentState;\n\n    /**\r\n                   * For every menu we need to get the main button and attach the appropriate evt.\r\n                   */\n    function attachEvt(elems, evt, handler) {\n      for (var i = 0, len = elems.length; i < len; i++) {\n        elems[i].addEventListener(evt, handler, false);\n      }\n    }\n\n    function configureBlur(element, blur) {\n      if (blur) {\n        element.siblings().addClass(\"mfb-component__overlay--blur\");\n        element.closest(\"[data-role]\").siblings().addClass(\"mfb-component__overlay--blur\");\n      } else {\n        element.siblings().removeClass(\"mfb-component__overlay--blur\");\n        element.closest(\"[data-role]\").siblings().removeClass(\"mfb-component__overlay--blur\");\n      }\n    }\n\n    /**\r\n       * The open/close action is performed by toggling an attribute\r\n       * on the menu main element.\r\n       *\r\n       * First, check if the target is the menu itself. If it's a child\r\n       * keep walking up the tree until we found the main element\r\n       * where we can toggle the state.\r\n       */\n    function toggleButton(evt) {\n      target = evt.target;\n      while (target && !target.getAttribute(options.toggleMethod)) {\n        target = target.parentNode;\n        if (!target) {\n          return;\n        }\n      }\n      currentState = target.getAttribute(options.menuState) === options.isOpen ? options.isClosed : options.isOpen;\n\n      if (options.activePrincipalButton && currentState !== \"open\") {\n        var button = options.buttons[0];\n        if (options.click) {\n          options.click(evt, $.extend(button, { principal: true }), this);\n        }\n        configureBlur($(target), true);\n      }\n\n      if (currentState === \"open\" && !overlay.opened) {\n        overlay.element.appendTo(target).bind(\"click\", function () {\n          this.remove();\n          overlay.opened = false;\n          target.setAttribute(options.menuState, \"close\");\n          configureBlur($(target), false);\n        });\n        configureBlur($(target), true);\n      } else {\n        overlay.element.remove();\n        configureBlur($(target), false);\n      }\n\n      overlay.opened = !overlay.opened;\n\n      target.setAttribute(options.menuState, currentState);\n    }\n\n    function clickChildButton(evt) {\n      var index = $(this).data(\"index\");\n      var button = options.buttons[index];\n\n      $(\".mfb-component__overlay\", self).click();\n\n      if (options.click) {\n        evt.preventDefault();\n        options.click(evt, $.extend(button, { principal: false }), this);\n      }\n    }\n\n    function clickPrincipalButton(evt) {\n      if (options.click) {\n        evt.preventDefault();\n        options.click(evt, { principal: true }, this);\n      }\n    }\n\n    var template = kendo.template(tmpl, { useWithBlock: false });\n    var html = template(options);\n\n    if (options.position === \"prepend\") {\n      this.prepend(html);\n    } else {\n      this.append(html);\n    }\n\n    // Principal button to toggle\n    var toggle = options.buttons.length > 0 ? toggleButton : clickPrincipalButton;\n    attachEvt($(\"[\" + options.toggleMethod + \"='\" + options.clickHoverOpt + \"'] .\" + options.mainButtonClass, this), \"click\", toggle);\n\n    // Secondary buttons to click\n    attachEvt($(\".mfb-component__button--child\", this), \"click\", clickChildButton);\n  };\n\n  // build script hook - don't remove\n})(jQuery);\n\n\n(function ($) {\n  $.fn.bz_navigation_buttons = function (options) {\n    options = options || {};\n    var MARGIN = 2;\n    var buttons = options.buttons || [];\n    var isDesign = options.isDesign || false;\n    var buttonSelected = options.buttonSelected;\n    var lastActionExecuted = options.lastActionExecuted || false;\n    var allowAddButtons = options.allowAddButtons || false;\n    var $element = this;\n\n\n    var addButtonTemplate = '<div class=\"bz-button--add\"><svg class=\"ico_16x16\" ><use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#icon-plus\"></use></svg></div>';\n    var containerTemplate = '<ul class=\"bz-buttons--container\"></ul>';\n    var buttonTemplate = '<li class=\"bz-button--container\" data-id=\"{1}\"><button class=\"bz-btn\">{0}</button></li>';\n    var rightNavigationButton = '<div class=\"bz-button--rigth\"><svg class=\"ico_16x16\" ><use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#icon-arrow-rigth\"></use></svg></div>';\n    var leftNavigationButton = '<div class=\"bz-button--left\"><svg class=\"ico_16x16\" ><use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#icon-arrow-left\"></use></svg></div>';\n\n    $element.empty();\n    $element.addClass('bz-buttons--navigation');\n\n    var $container = $(containerTemplate);\n    $container.appendTo($element);\n\n\n    var processButtons = function processButtons() {\n      var result = MARGIN;\n      for (var index = 0; index < buttons.length; index++) {\n        (function (button) {\n          var caption = button.properties.caption;\n          var $elementButton = $(buttonTemplate.replace(\"{0}\", caption).replace(\"{1}\", button.properties.id));\n          var height = 0;\n\n          var handlerOnClickButton = function handlerOnClickButton() {\n            $container.trigger('onSelectButton', {\n              $element: $elementButton,\n              button: button });\n\n\n            var targetElement = $container.get(0);\n            var clientWidth = targetElement.clientWidth;\n            var offset = isDesign ? 35 : 0;\n\n            if (targetElement.scrollWidth > clientWidth) {\n              if (height > clientWidth) {targetElement.scrollLeft = height - clientWidth + offset;} else\n              {\n                if (height - targetElement.scrollLeft < targetElement.scrollLeft) {targetElement.scrollLeft = height - (targetElement.scrollLeft + offset);}\n              }\n            }\n          };\n\n          $elementButton.\n          on('click', handlerOnClickButton).\n          appendTo($container);\n\n          height = result = result + $elementButton.get(0).offsetWidth + MARGIN;\n\n          if (isDesign && typeof buttonSelected == \"string\" && button.properties.id == buttonSelected) {\n            setTimeout(handlerOnClickButton, 100);\n          }\n\n        })(buttons[index].button), result;\n      };\n\n\n      if (isDesign) {\n        var $addButton = $(addButtonTemplate);\n\n        if (allowAddButtons) {\n          $addButton.click(function () {\n            $container.trigger('onAddButton');\n          });\n\n          $addButton.appendTo($element);\n        }\n\n        var htmlButtons = $container.get(0);\n\n        var heightAddButton = $addButton.get(0).scrollWidth;\n        var heightWrapper = $element.get(0).scrollWidth;\n        var heightButtons = htmlButtons.scrollWidth;\n\n\n        var $rightNavigationButton = $(rightNavigationButton);\n        var rightNavigationButtonIsLocated = heightButtons > heightWrapper - heightAddButton;\n\n        if (rightNavigationButtonIsLocated) {$rightNavigationButton.insertAfter($container);}\n\n        $rightNavigationButton.on(\"click\", function () {\n          htmlButtons.scrollLeft += 40;\n        });\n\n        var leftNavigationButtonIsLocated = false;\n        var $leftNavigationButton = $(leftNavigationButton);\n\n\n        $leftNavigationButton.on(\"click\", function () {\n          htmlButtons.scrollLeft -= 40;\n        });\n\n        $container.on(\"scroll\", function (ev) {\n          var targetElement = ev.target;\n          var maxScrollLeft = targetElement.scrollWidth - targetElement.clientWidth;\n          var scrollLeft = targetElement.scrollLeft;\n\n          if (scrollLeft === 0 && leftNavigationButtonIsLocated) {\n            leftNavigationButtonIsLocated = false;\n            $leftNavigationButton.detach();\n          }\n\n          if (rightNavigationButtonIsLocated && scrollLeft === maxScrollLeft) {\n            rightNavigationButtonIsLocated = false;\n            $rightNavigationButton.detach();\n          }\n\n          if (!leftNavigationButtonIsLocated && scrollLeft > 0) {\n\n            $leftNavigationButton.prependTo($element);\n            leftNavigationButtonIsLocated = true;\n          }\n\n          if (!rightNavigationButtonIsLocated && scrollLeft < maxScrollLeft) {\n            rightNavigationButtonIsLocated = true;\n            $rightNavigationButton.insertAfter($container);\n          }\n        });\n\n        if (lastActionExecuted === \"addButton\") {\n          if (rightNavigationButtonIsLocated) {\n            htmlButtons.scrollLeft = htmlButtons.scrollWidth - htmlButtons.clientWidth;\n          }\n        }\n      }\n    };\n\n    processButtons();\n\n    return $container;\n  };\n\n})(jQuery);","/*\r\nAdd the Material Design Style Ripple Effect on Click / Touch.\r\n*/\n(function ($) {\n  var transparent;\n  //only run this once. this addes an empty elment in boody root and gets the defintion of the browsers transparent color scheme.\n  if (typeof transparent == \"undefined\") {\n    // Get this browser's definition of no back ground / transprent, rgba(0,0,0,0) etc..\n    // Must be appended else Chrome etc return 'initial'\n    var $temp = $('<div style=\"background:none;display:none;\"/>').appendTo('body');\n    //now we just get the value given back to use by the browser for its spcific transparent color scheme.\n    transparent = $temp.css('backgroundColor');\n    //remove the temp object since were done with it.\n    $temp.remove();\n  }\n\n\n  //add Material desing style rippple effect to a given element that animates on click / touch.\n  $.fn.rippleEffect = function (options) {\n    // Extend our default options with those provided.\n    var opts = $.extend({}, $.fn.rippleEffect.defaults, options);\n\n\n    return this.each(function () {\n      $(this).on(\"click\", function (e) {\n        var $thisElement = $(this),\n        eventPageX,\n        eventPageY,\n        inkX,\n        inkY,\n        maxDiameter,\n        eventType = e.type,\n        rippleColor,\n        $inkSpan,\n        $inkparent;\n\n        //default append\n        $inkparent = $thisElement;\n\n        function getRippleColorFromTraverse() {\n          if (opts.inkColor != \"\") {\n            return opts.inkColor;\n          } else {\n            //try and get from elemnt or parent what ever has a bg color and it will lighten or dark based on color.\n            return getInkColor($inkparent, opts.inkDefaultColor);\n          }\n        }\n        //check to see if were appending ink to a parent element other than the trigger\n        //if you append to a parent item that item will have the ripple span and it may block access to links\n        //all i had to do was give any of the siblings of the ripple a z-index of 1, some i had to set position to relative.\n        if (opts.appendInkTo != \"\") {\n          $inkparent = $thisElement.closest(opts.appendInkTo);\n        }\n        // check to se if we have an ink, if not we need to add it in, we only need to do this once.\n        if ($inkparent.find(\".\" + opts.inkClass).length == 0) {\n          //add ink \n          $inkparent.append('<span class=\"' + opts.inkContainerClass + '\"><span class=\"' + opts.inkClass + '\"></span></span>');\n        }\n        //set the ink var targeting the ink within the element to prevent dup ink animates.\n        $inkSpan = $inkparent.find(\".\" + opts.inkContainerClass + \" > \" + \" .\" + opts.inkClass);\n        //incase of quick double click or animate is present. remove the animation\n        $inkSpan.removeClass(\"animate\");\n\n        //now if the ink has no height set we need to add it in.\n        if (!$inkSpan.height() && !$inkSpan.width()) {\n          //use $thisElement width or height whichever is larger for the diameter to make a circle which can cover the entire element.\n          maxDiameter = Math.max($inkparent.outerWidth(), $inkparent.outerHeight());\n          //set width and height and get bg color for the\n          //see if ripple color was provided via data attr.\n          if (typeof $thisElement.data(\"ripple\") != \"undefined\" && $thisElement.data(\"ripple\") != \"\") {\n            rippleColor = $thisElement.data(\"ripple\");\n          } else {\n            //check if a target element id to get a ripple color from is provided\n            if (typeof $thisElement.data(\"ripple-getcolorfromid\") != \"undefined\" && $thisElement.data(\"ripple-getcolorfromid\") != \"\") {\n              var idToUse = $thisElement.data(\"ripple-getcolorfromid\");\n              //make sure element is on page.\n              if ($(idToUse).length > 0) {\n                //set from given elmements bgcolor.\n                rippleColor = $(idToUse).css(\"background-color\");\n              } else {\n                //get from default ways\n                rippleColor = getRippleColorFromTraverse();\n              }\n            } else {\n              //get from default ways\n              rippleColor = getRippleColorFromTraverse();\n            }\n          }\n          //set h and w and ripple color.\n          $inkSpan.css({ height: maxDiameter, width: maxDiameter, \"background-color\": rippleColor });\n        }\n\n        //now that the ink is taken care of we need to set the position where it starts, which if from click.\n        //get event type.\n        if (eventType === \"click\") {\n          eventPageX = e.pageX;\n          eventPageY = e.pageY;\n        } else if (eventType === \"touchstart\") {\n          var touch = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];\n          eventPageX = touch.pageX;\n          eventPageY = touch.pageY;\n        }\n\n        inkX = eventPageX - $inkparent.offset().left - $inkSpan.width() / 2;\n        inkY = eventPageY - $inkparent.offset().top - $inkSpan.height() / 2;\n        $inkSpan.css({ top: inkY + 'px', left: inkX + 'px' }).addClass(\"animate\");\n        //remove animation after a little bit.\n        setTimeout(function () {\n          $inkSpan.removeClass(\"animate\");\n        }, 400);\n\n      });\n    });\n  };\n  // Plugin defaults – added as a property on our plugin function.\n  $.fn.rippleEffect.defaults = {\n    inkContainerClass: \"ripple\",\n    inkClass: \"ink\",\n    //to avoid a global default you can add data-ripple=\"#ff00ff\" to the element that will have the ripple and that color will be used.\n    //or to use a tagrget elements background color for the ripple you can set the data-ripple=\"\" and data-ripple-getcolorfromid=\"#elmentWIthBGColorToUSe\"\n    inkDefaultColor: \"#F0F0F0\", //falback color to use if using parent traversing to get a bg color.\n    inkColor: \"\", //the ink color you want the element to use, this will override any bg checks for element and parent traversing, but if the ement has data-ripple=\"#fff\" the #fff will be used above all else\n    //if you append to a parent item that item will have the ripple span and it may block access to links and child elements\n    //all i had to do was give any of the children of the appended element a z-index of 1, some i had to set position to relative.\n    appendInkTo: \"\" //append ink to a diffrent element. will find closest element matching.\n  };\n\n  //Now users can include a line like this in their scripts:\n  //$.fn.rippleEffect.defaults.inkDefaultColor = \"#0000FF\";\n\n  // Define our get background color function.\n  //this will try and get a background color for the ink color manipulation \n  //by starting with the element provided and going as far back to the body unless a value is found.\n  //providing a falback value will make sure that an actual color is returned\n  function getBackgroundColorForInk($element, fallback) {\n    function getBgColor($elementToCheckForBg) {\n      //here we check against the @transparent var that is set on load.\n      if ($elementToCheckForBg.css('backgroundColor') == transparent) {\n        //here we check if were not at body, if not, then run again on the elments parent, if were at body use fallback or the browers take on transparent.\n        return !$elementToCheckForBg.is('body') ? getBgColor($elementToCheckForBg.parent()) : fallback || transparent;\n      } else {\n        //it was not transparent return this color.\n        return $elementToCheckForBg.css('backgroundColor');\n      }\n    }\n    //run the function which will repeate as long as it needs until it hits body to find a color to use.\n    return getBgColor($element);\n  };\n\n  //create as a property so users can set make there own lum check.\n  //returns the direction lumination should go for ink contrast.\n  //get the lumination value for a given color.\n  $.fn.rippleEffect.getLuminationValue = function (hexcolor) {\n    var hexcolor = hexcolor.substring(1); // strip #\n    var rgb = parseInt(hexcolor, 16); // convert rrggbb to decimal\n    var r = rgb >> 16 & 0xff; // extract red\n    var g = rgb >> 8 & 0xff; // extract green\n    var b = rgb >> 0 & 0xff; // extract blue\n\n    var luma = 0.2126 * r + 0.7152 * g + 0.0722 * b; // per ITU-R BT.709\n    return luma;\n  };\n\n  //create as property, for user override. \n  //this was from a site point article.\n  //get a new color luminance -0.15 is darker by 15% and 0.20 is lighter by 20%\n  $.fn.rippleEffect.getColorLuminance = function (hexcolor, lum) {\n    // validate hex string\n    hexcolor = String(hexcolor).replace(/[^0-9a-f]/gi, '');\n    if (hexcolor.length < 6) {\n      hexcolor = hexcolor[0] + hexcolor[0] + hexcolor[1] + hexcolor[1] + hexcolor[2] + hexcolor[2];\n    }\n    //set a default lum value.\n    lum = lum || 0;\n\n    // convert to decimal and change luminosity\n    var resultHex = \"#\",c,i;\n    for (i = 0; i < 3; i++) {\n      c = parseInt(hexcolor.substr(i * 2, 2), 16);\n      c = Math.round(Math.min(Math.max(0, c + c * lum), 255)).toString(16);\n      resultHex += (\"00\" + c).substr(c.length);\n    }\n\n    return resultHex;\n  };\n\n  //create property for overide if wanted, this converts an rgb value to hex.\n  //it does not work right with rgba though it just returns the bas rgb part so the trans is not claculated in.\n  $.fn.rippleEffect.colorToHex = function (rgb) {\n    //first echeck to see if we already have a hex color, if so just return.\n    if (rgb.substr(0, 1) === '#') {\n      return color;\n    }\n    rgb = rgb.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n    return rgb && rgb.length === 4 ? \"#\" +\n    (\"0\" + parseInt(rgb[1], 10).toString(16)).slice(-2) +\n    (\"0\" + parseInt(rgb[2], 10).toString(16)).slice(-2) +\n    (\"0\" + parseInt(rgb[3], 10).toString(16)).slice(-2) : '';\n  };\n\n  //this is the base function that does all of the magic, it gets a bkg color, \n  //then changes the colors lumanince so the ink is visiable when being animated.\n  function getInkColor($element, fallBackColor) {\n    var backgroundOrInhreitedBackGround,\n    hex,\n    luma,\n    returnLumintion;\n    //get back ground color of element / or parent with an actual color or use fallback of a lighter gray \n    // Call our getBackgroundColorForInk function.\n\n    backgroundOrInhreitedBackGround = getBackgroundColorForInk($element, fallBackColor);\n    //convert to hex, this returns hex if it is already hex.\n    //call our colorToHex function\n    hex = $.fn.rippleEffect.colorToHex(backgroundOrInhreitedBackGround);\n    //now get the lumination value of this bg.\n    //call our getLuminationValue function\n    luma = $.fn.rippleEffect.getLuminationValue(hex);\n\n    //239 for lighter lumination ok \n    if (luma <= 239) {\n      //go lighter alwasy prefered.\n      //we need to make sure we are light enough though\n      if (luma <= 70) {\n        returnLumintion = $.fn.rippleEffect.getColorLuminance(hex, 0.80);\n      } else {\n        returnLumintion = $.fn.rippleEffect.getColorLuminance(hex, 0.20);\n      }\n    } else {\n      //go darker\n      returnLumintion = $.fn.rippleEffect.getColorLuminance(hex, -0.15);\n    }\n    return returnLumintion;\n  };\n\n})(jQuery);","/*\r\n*   Name: Bizagi Grid for Smartphone\r\n*   Author: Bizagi UI Forms\r\n*   Comments:\r\n*   -   This widget will extend the bizagi grid widget to specialize into a smartPhone view\r\n*\r\n*   \r\n*\r\n*   Styles:\r\n*   - css/bizagi/smarpthone/controls/bizagi.grid.css\r\n*/\n\n(function ($) {\n  $.widget('ui.bizagi_grid_smartphone', $.ui.bizagi_grid, {\n\n    /*\r\n                                                            *   Method to attach any handler to the grid\r\n                                                            */\n    attachHandlers: function attachHandlers() {\n      var self = this;\n\n      // Add paging events\n      var pager = self._getComponent(\"pager\");\n      pager.on(\"click\", \"div.bz-btn-icn\", function () {\n        var pageNumber = $(this).attr(\"data-page-number\");\n        if (pageNumber && self.isValid()) {\n          self.changePage(pageNumber);\n        }\n      });\n\n      pager.on(\"change\", \"input\", function () {\n        var page = this.value;\n        if (page && self.isValid()) {\n          var _input = this;\n          self.changePage(page, /*success*/function () {}, /*fail*/function () {\n            _input.value = self.page;\n          });\n        }\n      });\n\n      if (self._getComponent(\"buttons\") != undefined) {\n        var items = [];\n        if (self.options.actions.add) {\n          items.push({\n            name: bizagi.localization.getResource(\"render-grid-add-label\"),\n            fn: function fn() {\n              self.processAction(\"add\");\n              self.unselectRow();\n            } });\n\n        }\n\n        if (self.options.actions.hasTotalizer) {\n          items.push({\n            name: \"Totalizer\", // TODO: Add resource\n            fn: function fn() {\n              self.totalizer();\n            } });\n\n        }\n\n        self._getComponent(\"buttons\").find(\".bz-btn-icn\").overflowMenu({ items: items });\n      }\n\n      // Bind special cell button action\n      var _row_buttons = self._getComponent(\"rowButtons\");\n      if (_row_buttons) {\n        _row_buttons.on(\"click\", \"[data-action]\", function () {\n          self.processAction($(this).attr(\"data-action\"), {});\n        });\n      }\n    },\n    /* popup Total\r\n        *\r\n        */\n    totalizer: function totalizer() {\n      var self = this;\n      self.options.totalData();\n    },\n\n    /*totalData\r\n        *   prepare totalizer\r\n       */\n    draw: function draw() {\n      var self = this;\n      self._super();\n      var verifyTotalizer = self.options.actions.totalizer;\n      if (self.data.rows.length == 0) {\n        var rowButtons = self._getComponent(\"rowButtons\");\n        if (rowButtons) {\n          rowButtons.hide();\n        }\n        self.element.addClass(\"bz-mobile-grid--empty\");\n      }\n      //Verify totalizer to activate action sheet\n      if (verifyTotalizer) {\n        if (typeof self.actualActionSheet != \"undefined\" && !bizagi.util.isObjectEmpty(self.actualActionSheet)) {\n          self.actualActionSheet.data(\"kendoMobileActionSheet\").destroy();\n        }\n\n        self.actualActionSheet = self.element.find(\"#ui-bizagi-menu-totalizer\").kendoMobileActionSheet();\n      }\n\n      //hide loader\n      bizagi.util.smartphone.stopLoading();\n    },\n\n    drawRow: function drawRow(rowData, isNewRow) {\n      this.selectedBusinessKey = rowData[this.columnKeyIndex];\n      return this._super(rowData, isNewRow);\n    },\n\n    changePage: function changePage(page, success_callback, fail_callback) {\n      var self = this;\n      var currentPage = Number(self.data.page);\n      //in the smartphone the original  self.data.total is always 1  this change to self.data.records refers in this case a total pages\n      var total = self.data.records;\n      var newPage = page;\n\n      // Process previous page\n      if (page == \"previous\") {\n        if (currentPage > 1) newPage = currentPage - 1;else\n        {\n          if (fail_callback) fail_callback();\n          return;\n        }\n      }\n      // Process next page\n      if (page == \"next\") {\n        if (currentPage < total) newPage = currentPage + 1;else\n        {\n          if (fail_callback) fail_callback();\n          return;\n        }\n      }\n\n      if (page !== \"next\" && page !== \"previous\" && typeof page === \"string\") {\n        try {\n          newPage = Number(page);\n        }\n        catch (e) {\n          if (fail_callback) fail_callback();\n          return;\n        }\n        if (newPage == NaN || newPage > total || newPage < 0) {\n          if (fail_callback) fail_callback();\n          return;\n        };\n      }\n\n      //show loader\n      bizagi.util.smartphone.startLoading();\n      setTimeout(function () {\n        bizagi.util.smartphone.stopLoading();\n      }, 1000);\n\n      // Update internal options\n      self.page = Number(newPage);\n\n      // Execute handler\n      self.onPageRequested();\n      if (success_callback) {\n        success_callback();\n      }\n    },\n\n    /*\r\n       *   Executes the row selected handler\r\n       */\n    onRowSelected: function onRowSelected() {\n      var self = this;\n      // Call base\n      $.ui.bizagi_grid.prototype.onRowSelected.apply(self, arguments);\n    },\n\n    /*\r\n       *   Executes the row un-selected handler\r\n       */\n    onRowUnselected: function onRowUnselected() {\n      var self = this;\n      // Call base\n      $.ui.bizagi_grid.prototype.onRowUnselected.apply(self, arguments);\n    },\n\n    /*\r\n       *  Template method to check if buttons component must be rendered\r\n       */\n    _canShowButtons: function _canShowButtons() {\n      var self = this;\n      var actions = self.options.actions;\n      return actions[\"add\"] || actions[\"hasTotalizer\"];\n    },\n\n    /*\r\n       *  Template method to check if row buttons must be displayed when the row is selected\r\n       */\n    _canShowRowButtons: function _canShowRowButtons() {\n      var self = this;\n      var actions = self.options.actions;\n      return actions[\"edit\"] || actions[\"remove\"] || actions[\"details\"];\n    },\n\n    /*\r\n       *   Return the new created ids\r\n       */\n    getNewRowKeys: function getNewRowKeys() {\n      var self = this;\n      var rows = self._getComponent(\"rows\").find(\"[data-new-row]\");\n      return $.map(rows, function (row, i) {\n        return $(row).data(\"business-key\");\n      });\n    },\n\n\n    /*\r\n       *   Show the row buttons\r\n       */\n    _showRowButtons: function _showRowButtons() {\n    },\n\n    /*\r\n       *   Hide the row buttons\r\n       */\n    _hideRowButtons: function _hideRowButtons() {\n    },\n\n    /**\r\n        * Replaces a matched element in the container for the specified \"replace\" element\r\n        * @param html\r\n        * @param element\r\n        * @param replace\r\n        * @returns {*}\r\n        * @private\r\n        */\n    _replaceElement: function _replaceElement(html, element, replace) {\n      return html.replace(new RegExp(\"{{element \" + element + \"}}\", 'g'), replace);\n    },\n\n    /**\r\n        * Check if row its new\r\n        * @param {} businessKey\r\n        * @returns {}\r\n        */\n    isNewRecord: function isNewRecord(businessKey) {\n      var self = this;\n      var row = self._getComponent(\"rows\");\n\n      if (row) {\n        businessKey = row.find(\"[data-business-key='\" + businessKey + \"']\");\n        if ($(businessKey).data(\"new-row\")) {\n          return true;\n        }\n      }\n      return false;\n    } });\n\n\n})(jQuery);","/**\r\n * Name:\r\n *   Author: Bizagi Mobile team\r\n *   Comments:\r\n * Structure to applicate plugin\r\n *  <div class=\"bz-bizagi-container-tap-popup\"> //container\r\n    <div class=\"cell bz-container-items-tabs\"> // represent item of tab\r\n    <span >${displayName}</span>// the first span always is the title                                    \r\n    <span> ........</span> // after the span can place the items you want\r\n    <div> .........</div> // etc\r\n    </div> <!-- end cell-->\r\n    </div><!-- end bz-bizagi-container-tap-popup-->\r\n**/\n(function ($) {\n  $.fn.bztabs = function (params) {\n\n    var self = $(this);\n\n    params = params || {};\n    params.activeTab = params.activeTab || 0;\n    params.tabNumber = params.tabNumber || 1;\n\n\n    var activate = params.activate && typeof params.activate === \"function\" ? params.activate : function () {};\n    var beforeActivate = params.beforeActivate && typeof params.beforeActivate === \"function\" ? params.beforeActivate : function () {};\n\n    // PopUp control\n    var popUp = self.find(\">div.bz-bizagi-container-tap-popup\").hide();\n    // Depending on tabNumber a percentage will be in the width of each tab\n    var tabCountPopup = popUp.children().length;\n    // Base to build the header of tabs\n    var tabHeader = $(\"<div class='bz-header_select'></div>\");\n\n    var tabCountReal = params.tabNumber > tabCountPopup ? tabCountPopup : params.tabNumber;\n\n    // round down\n    var widthRow = Math.floor(100 / Number(tabCountReal));\n\n    // Duplicate the tabs to create the header\n    popUp.children().each(function (i, item) {\n      tabHeader.append(\n      \"<div class='bz-wp-tabs-ui bz-wp-tabs-item' data-index='\" + i + \"' data-reference-tab='\" +\n      item.getAttribute(\"data-reference-tab\") + \"'><span>\" +\n      item.textContent + \"</span></div>\");\n    });\n\n    tabHeader.find(\"> .bz-wp-tabs-ui\").css(\"width\", widthRow + \"%\");\n    tabHeader.append(\"<div class='bz-wp-tabs-arrow-container'><div class='bz-cm-icon bz-mo-icon bz-plus'></div></div>\");\n\n    self.prepend(tabHeader);\n\n    var tabCurrent = self.find(\"> .bz-bizagi-container-tap-popup > .bz-container-items-tabs\").eq(params.activeTab);\n    var itemCurrent = $($(tabCurrent).data(\"reference-tab\"), self);\n\n    itemCurrent.addClass(\"childrenActive\");\n    tabCurrent.addClass(\"tabSelected\");\n\n    // Mark the selected tab in the header\n    var activeTab = $(\".bz-wp-tabs-ui:nth-child(\" + (params.activeTab + 1) + \")\", tabHeader).addClass(\"tabSelected\");\n\n    // The new width will be added to the tabSelected in order to complete the 100% on tabs\n    var widthTabSelected = widthRow + (100 - widthRow * tabCountReal);\n    activeTab.css(\"width\", widthTabSelected + \"%\");\n\n    function updateTabSize() {\n      if (params.tabNumber < tabCountPopup) {\n        // Select the current tab\n        $(\".bz-wp-tabs-arrow-container\", self).first().addClass(\"show-pluss\");\n        tabHeader.addClass(\"show-pluss\");\n        activeTab.trigger(\"click\", { origin: \"popUp\" });\n      } else {\n        $(\".bz-wp-tabs-arrow-container\", self).removeClass(\"show-pluss\");\n        tabHeader.removeClass(\"show-pluss\");\n        tabHeader.find(\"> .bz-wp-tabs-ui:last\").addClass(\"bz-wp-no-border\");\n      }\n    }\n\n    // Reorder tabs\n    function reorderTabs(dataRef) {\n\n      var tempTabs = tabHeader.find(\".bz-wp-tabs-ui\");\n      var moveAtTheEnd = true;\n\n      tempTabs.each(function (i, item) {\n        if (dataRef !== item.getAttribute(\"data-reference-tab\") && moveAtTheEnd) {\n          tabHeader.remove(\"[data-reference-tab='\" + dataRef + \"']\");\n          tabHeader.append(item);\n        } else {\n          moveAtTheEnd = false;\n        }\n      });\n    }\n\n    // Change tabs\n    function changeTab(e, params) {\n\n      params = params || {};\n      params.origin = params.origin || \"header\";\n\n      e.stopPropagation();\n      e.preventDefault();\n\n      if ($(this).hasClass(\"tabSelected\") && params.origin !== \"popUp\") {\n        return;\n      }\n\n      var dataRef = e.currentTarget.getAttribute(\"data-reference-tab\");\n      var tabChildren = $(dataRef, self);\n\n      activeTab = $(e.currentTarget);\n      // Changes the visibility of the contents of the tabs\n      self.find(\">div.childrenActive\").removeClass(\"childrenActive\");\n      tabChildren.addClass(\"childrenActive\");\n\n      // Add the normal width\n      tabHeader.find(\">div.tabSelected\").removeClass(\"tabSelected\").css(\"width\", widthRow + \"%\");\n\n      if (popUp.css(\"display\") === \"block\") {\n        popUp.toggle();\n      }\n\n      if (params.origin && params.origin === \"popUp\") {\n        activeTab = $(\"[data-reference-tab='\" + dataRef + \"']\", tabHeader);\n        reorderTabs(dataRef);\n      }\n\n      // Add the new width for tabSelected to complete the 100%\n      activeTab.addClass(\"tabSelected\").css(\"width\", widthTabSelected + \"%\");\n      activate(e, params);\n    }\n\n    if (typeof params.domIncluded !== \"undefined\") {\n      // Until the control is added to the DOM can be known widths to add the icon popup         \n      $.when(params.domIncluded).done(function () {\n        updateTabSize();\n      });\n    } else {\n      updateTabSize();\n    }\n\n    // Attach events\n    self.find(\".bz-wp-tabs-arrow-container\").first().bind(\"click\", function (event) {\n\n      // Determine if an item is visible or not\n      var headerWidth = tabHeader.innerWidth() - 29;\n      var totalWidth = 0;\n\n      // Remove the visible elements\n      $(\".bz-container-items-tabs\", popUp).removeClass(\"show\");\n\n      tabHeader.find(\".bz-wp-tabs-ui\").each(function (i, item) {\n\n        totalWidth += $(\":first-child\", item).outerWidth();\n\n        // If \"true\" then it is a tab to display the popup\n        if (totalWidth > headerWidth) {\n\n          popUp.children().each(function (j, pop) {\n            if (pop.textContent === item.textContent) {\n              $(pop).addClass(\"show\");\n              $(\".cell.bz-container-items-tabs\").css(\"border-bottom\", \"\");\n              $(\".cell.bz-container-items-tabs.show\").last().css(\"border-bottom\", \"none\");\n\n              return;\n            }\n          });\n        }\n      });\n\n      event.stopPropagation();\n      event.preventDefault();\n      popUp.toggle();\n    });\n\n    $(\">div.cell\", popUp).bind(\"click\", function (e) {\n      changeTab(e, { origin: \"popUp\" });\n    });\n\n    $(\".bz-wp-tabs-ui\", tabHeader).bind(\"click\", changeTab);\n\n    tabHeader.bind(\"resizeHeader\", function () {\n      updateTabSize();\n    });\n  };\n})(jQuery);","(function (a) {\n  var defaulti18n = {\n    rtl: false,\n    setText: 'Set',\n    cancelText: 'Cancel',\n    clearText: 'Clear',\n    selectedText: '{count} selected',\n    selectedPluralText: '{count} selected',\n    dateFormat: 'dd/mm/yy',\n    dayNames: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n    dayNamesShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n    dayNamesMin: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n    dayText: 'Day',\n    hourText: 'Hours',\n    minuteText: 'Minutes',\n    monthNames: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n    monthNamesShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n    monthText: 'Month',\n    secText: 'Seconds',\n    amText: 'am',\n    pmText: 'pm',\n    timeFormat: 'hh:ii A',\n    yearText: 'Year',\n    nowText: 'Now',\n    firstDay: 0,\n    dateText: 'Date',\n    timeText: 'Time',\n    calendarText: 'Calendar',\n    closeText: 'Close',\n    todayText: 'Today',\n    prevMonthText: 'Previous Month',\n    nextMonthText: 'Next Month',\n    prevYearText: 'Previous Year',\n    nextYearText: 'Next Year',\n    eventText: 'event',\n    eventsText: 'events',\n    fromText: 'Start',\n    toText: 'End',\n    wholeText: 'Whole',\n    fractionText: 'Fraction',\n    unitText: 'Unit',\n    delimiter: '/',\n    decimalSeparator: '.',\n    thousandsSeparator: ',',\n    labels: ['Years', 'Months', 'Days', 'Hours', 'Minutes', 'Seconds', ''],\n    labelsShort: ['Yrs', 'Mths', 'Days', 'Hrs', 'Mins', 'Secs', ''],\n    startText: 'Start',\n    stopText: 'Stop',\n    resetText: 'Reset',\n    lapText: 'Lap',\n    hideText: 'Hide',\n    offText: 'Off',\n    onText: 'On',\n    backText: 'Back',\n    undoText: 'Undo' };\n\n  mobiscroll.i18n.de = {\n    setText: \"OK\",\n    cancelText: \"Abbrechen\",\n    clearText: \"Löschen\",\n    selectedText: \"{count} ausgewählt\",\n    dateFormat: \"dd.mm.yy\",\n    dayNames: [\"Sonntag\", \"Montag\", \"Dienstag\", \"Mittwoch\", \"Donnerstag\", \"Freitag\", \"Samstag\"],\n    dayNamesShort: [\"So\", \"Mo\", \"Di\", \"Mi\", \"Do\", \"Fr\", \"Sa\"],\n    dayNamesMin: [\"S\", \"M\", \"D\", \"M\", \"D\", \"F\", \"S\"],\n    dayText: \"Tag\",\n    delimiter: \".\",\n    hourText: \"Stunde\",\n    minuteText: \"Minuten\",\n    monthNames: [\"Januar\", \"Februar\", \"März\", \"April\", \"Mai\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"Dezember\"],\n    monthNamesShort: [\"Jan\", \"Feb\", \"Mär\", \"Apr\", \"Mai\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dez\"],\n    monthText: \"Monat\",\n    secText: \"Sekunden\",\n    timeFormat: \"HH:ii\",\n    yearText: \"Jahr\",\n    nowText: \"Jetzt\",\n    pmText: \"pm\",\n    amText: \"am\",\n    todayText: \"Heute\",\n    firstDay: 1,\n    dateText: \"Datum\",\n    timeText: \"Zeit\",\n    closeText: \"Schließen\",\n    allDayText: \"Ganztägig\",\n    noEventsText: \"Keine Ereignisse\",\n    eventText: \"Ereignis\",\n    eventsText: \"Ereignisse\",\n    moreEventsText: \"{count} weiteres Element\",\n    moreEventsPluralText: \"{count} weitere Elemente\",\n    fromText: \"Von\",\n    toText: \"Bis\",\n    wholeText: \"Ganze Zahl\",\n    fractionText: \"Bruchzahl\",\n    unitText: \"Maßeinheit\",\n    labels: [\"Jahre\", \"Monate\", \"Tage\", \"Stunden\", \"Minuten\", \"Sekunden\", \"\"],\n    labelsShort: [\"Jahr.\", \"Mon.\", \"Tag.\", \"Std.\", \"Min.\", \"Sek.\", \"\"],\n    startText: \"Starten\",\n    stopText: \"Stoppen\",\n    resetText: \"Zurücksetzen\",\n    lapText: \"Lap\",\n    hideText: \"Ausblenden\",\n    backText: \"Zurück\",\n    undoText: \"Rückgängig machen\",\n    offText: \"Aus\",\n    onText: \"Ein\",\n    decimalSeparator: \",\",\n    thousandsSeparator: \" \" };\n\n  mobiscroll.i18n.es = {\n    setText: \"Aceptar\",\n    cancelText: \"Cancelar\",\n    clearText: \"Borrar\",\n    selectedText: \"{count} seleccionado\",\n    selectedPluralText: \"{count} seleccionados\",\n    dateFormat: \"dd/mm/yy\",\n    dayNames: [\"Domingo\", \"Lunes\", \"Martes\", \"Miércoles\", \"Jueves\", \"Viernes\", \"Sábado\"],\n    dayNamesShort: [\"Do\", \"Lu\", \"Ma\", \"Mi\", \"Ju\", \"Vi\", \"Sá\"],\n    dayNamesMin: [\"D\", \"L\", \"M\", \"M\", \"J\", \"V\", \"S\"],\n    dayText: \"Día\",\n    hourText: \"Horas\",\n    minuteText: \"Minutos\",\n    monthNames: [\"Enero\", \"Febrero\", \"Marzo\", \"Abril\", \"Mayo\", \"Junio\", \"Julio\", \"Agosto\", \"Septiembre\", \"Octubre\", \"Noviembre\", \"Diciembre\"],\n    monthNamesShort: [\"Ene\", \"Feb\", \"Mar\", \"Abr\", \"May\", \"Jun\", \"Jul\", \"Ago\", \"Sep\", \"Oct\", \"Nov\", \"Dic\"],\n    monthText: \"Mes\",\n    secText: \"Segundos\",\n    timeFormat: \"HH:ii\",\n    yearText: \"A&ntilde;o\",\n    nowText: \"Ahora\",\n    pmText: \"pm\",\n    amText: \"am\",\n    todayText: \"Hoy\",\n    firstDay: 1,\n    dateText: \"Fecha\",\n    timeText: \"Tiempo\",\n    closeText: \"Cerrar\",\n    allDayText: \"Todo el día\",\n    noEventsText: \"No hay eventos\",\n    eventText: \"Evento\",\n    eventsText: \"Eventos\",\n    moreEventsText: \"{count} más\",\n    fromText: \"Iniciar\",\n    toText: \"Final\",\n    wholeText: \"Entero\",\n    fractionText: \"Fracción\",\n    unitText: \"Unidad\",\n    labels: [\"Años\", \"Meses\", \"Días\", \"Horas\", \"Minutos\", \"Segundos\", \"\"],\n    labelsShort: [\"Año\", \"Mes\", \"Día\", \"Hora\", \"Min\", \"Seg\", \"\"],\n    startText: \"Iniciar\",\n    stopText: \"Deténgase\",\n    resetText: \"Reinicializar\",\n    lapText: \"Lap\",\n    hideText: \"Esconder\",\n    backText: \"Atrás\",\n    undoText: \"Deshacer\",\n    offText: \"No\",\n    onText: \"Sí\",\n    decimalSeparator: \",\",\n    thousandsSeparator: \" \" };\n\n  mobiscroll.i18n.fr = {\n    setText: \"Terminer\",\n    cancelText: \"Annuler\",\n    clearText: \"Effacer\",\n    selectedText: \"{count} sélectionné\",\n    selectedPluralText: \"{count} sélectionnés\",\n    dateFormat: \"dd/mm/yy\",\n    dayNames: [\"Dimanche\", \"Lundi\", \"Mardi\", \"Mercredi\", \"Jeudi\", \"Vendredi\", \"Samedi\"],\n    dayNamesShort: [\"Dim.\", \"Lun.\", \"Mar.\", \"Mer.\", \"Jeu.\", \"Ven.\", \"Sam.\"],\n    dayNamesMin: [\"D\", \"L\", \"M\", \"M\", \"J\", \"V\", \"S\"],\n    dayText: \"Jour\",\n    monthText: \"Mois\",\n    monthNames: [\"Janvier\", \"Février\", \"Mars\", \"Avril\", \"Mai\", \"Juin\", \"Juillet\", \"Août\", \"Septembre\", \"Octobre\", \"Novembre\", \"Décembre\"],\n    monthNamesShort: [\"Janv.\", \"Févr.\", \"Mars\", \"Avril\", \"Mai\", \"Juin\", \"Juil.\", \"Août\", \"Sept.\", \"Oct.\", \"Nov.\", \"Déc.\"],\n    hourText: \"Heures\",\n    minuteText: \"Minutes\",\n    secText: \"Secondes\",\n    timeFormat: \"HH:ii\",\n    yearText: \"Année\",\n    nowText: \"Maintenant\",\n    pmText: \"pm\",\n    amText: \"am\",\n    todayText: \"Aujourd'hui\",\n    firstDay: 1,\n    dateText: \"Date\",\n    timeText: \"Heure\",\n    closeText: \"Fermer\",\n    allDayText: \"Toute la journée\",\n    noEventsText: \"Aucun événement\",\n    eventText: \"Événement\",\n    eventsText: \"Événements\",\n    moreEventsText: \"{count} autre\",\n    moreEventsPluralText: \"{count} autres\",\n    fromText: \"Démarrer\",\n    toText: \"Fin\",\n    wholeText: \"Entier\",\n    fractionText: \"Fraction\",\n    unitText: \"Unité\",\n    labels: [\"Ans\", \"Mois\", \"Jours\", \"Heures\", \"Minutes\", \"Secondes\", \"\"],\n    labelsShort: [\"Ans\", \"Mois\", \"Jours\", \"Hrs\", \"Min\", \"Sec\", \"\"],\n    startText: \"Démarrer\",\n    stopText: \"Arrêter\",\n    resetText: \"Réinitialiser\",\n    lapText: \"Lap\",\n    hideText: \"Cachez\",\n    backText: \"Retour\",\n    undoText: \"Annuler\",\n    offText: \"Non\",\n    onText: \"Oui\",\n    decimalSeparator: \",\",\n    thousandsSeparator: \" \" };\n\n  mobiscroll.i18n.it = {\n    setText: \"OK\",\n    cancelText: \"Annulla\",\n    clearText: \"Chiarire\",\n    selectedText: \"{count} selezionato\",\n    selectedPluralText: \"{count} selezionati\",\n    dateFormat: \"dd/mm/yy\",\n    dayNames: [\"Domenica\", \"Lunedì\", \"Mertedì\", \"Mercoledì\", \"Giovedì\", \"Venerdì\", \"Sabato\"],\n    dayNamesShort: [\"Do\", \"Lu\", \"Ma\", \"Me\", \"Gi\", \"Ve\", \"Sa\"],\n    dayNamesMin: [\"D\", \"L\", \"M\", \"M\", \"G\", \"V\", \"S\"],\n    dayText: \"Giorno\",\n    hourText: \"Ore\",\n    minuteText: \"Minuti\",\n    monthNames: [\"Gennaio\", \"Febbraio\", \"Marzo\", \"Aprile\", \"Maggio\", \"Giugno\", \"Luglio\", \"Agosto\", \"Settembre\", \"Ottobre\", \"Novembre\", \"Dicembre\"],\n    monthNamesShort: [\"Gen\", \"Feb\", \"Mar\", \"Apr\", \"Mag\", \"Giu\", \"Lug\", \"Ago\", \"Set\", \"Ott\", \"Nov\", \"Dic\"],\n    monthText: \"Mese\",\n    secText: \"Secondi\",\n    timeFormat: \"HH:ii\",\n    yearText: \"Anno\",\n    nowText: \"Ora\",\n    pmText: \"pm\",\n    amText: \"am\",\n    todayText: \"Oggi\",\n    firstDay: 1,\n    dateText: \"Data\",\n    timeText: \"Volta\",\n    closeText: \"Chiudere\",\n    allDayText: \"Tutto il giorno\",\n    noEventsText: \"Nessun evento\",\n    eventText: \"Evento\",\n    eventsText: \"Eventi\",\n    moreEventsText: \"{count} altro\",\n    moreEventsPluralText: \"altri {count}\",\n    fromText: \"Inizio\",\n    toText: \"Fine\",\n    wholeText: \"Intero\",\n    fractionText: \"Frazione\",\n    unitText: \"Unità\",\n    labels: [\"Anni\", \"Mesi\", \"Giorni\", \"Ore\", \"Minuti\", \"Secondi\", \"\"],\n    labelsShort: [\"Anni\", \"Mesi\", \"Gio\", \"Ore\", \"Min\", \"Sec\", \"\"],\n    startText: \"Inizio\",\n    stopText: \"Arresto\",\n    resetText: \"Ripristina\",\n    lapText: \"Lap\",\n    hideText: \"Nascondi\",\n    backText: \"Indietro\",\n    undoText: \"Annulla\",\n    offText: \"Via\",\n    onText: \"Su\",\n    decimalSeparator: \",\",\n    thousandsSeparator: \" \" };\n\n  mobiscroll.i18n.zh = {\n    setText: \"确定\",\n    cancelText: \"取消\",\n    clearText: \"明确\",\n    selectedText: \"{count} 选\",\n    dateFormat: \"yy年mm月d日\",\n    dayNames: [\"周日\", \"周一\", \"周二\", \"周三\", \"周四\", \"周五\", \"周六\"],\n    dayNamesShort: [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"],\n    dayNamesMin: [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"],\n    dayText: \"日\",\n    hourText: \"时\",\n    minuteText: \"分\",\n    monthNames: [\"1月\", \"2月\", \"3月\", \"4月\", \"5月\", \"6月\", \"7月\", \"8月\", \"9月\", \"10月\", \"11月\", \"12月\"],\n    monthNamesShort: [\"一\", \"二\", \"三\", \"四\", \"五\", \"六\", \"七\", \"八\", \"九\", \"十\", \"十一\", \"十二\"],\n    monthText: \"月\",\n    secText: \"秒\",\n    timeFormat: \"HH:ii\",\n    yearText: \"年\",\n    nowText: \"当前\",\n    pmText: \"下午\",\n    amText: \"上午\",\n    yearSuffix: \"年\",\n    monthSuffix: \"月\",\n    daySuffix: \"日\",\n    todayText: \"今天\",\n    dateText: \"日\",\n    timeText: \"时间\",\n    closeText: \"关闭\",\n    allDayText: \"全天\",\n    noEventsText: \"无事件\",\n    eventText: \"活动\",\n    eventsText: \"活动\",\n    moreEventsText: \"他 {count} 件\",\n    fromText: \"开始时间\",\n    toText: \"结束时间\",\n    wholeText: \"合计\",\n    fractionText: \"分数\",\n    unitText: \"单位\",\n    labels: [\"年\", \"月\", \"日\", \"小时\", \"分钟\", \"秒\", \"\"],\n    labelsShort: [\"年\", \"月\", \"日\", \"点\", \"分\", \"秒\", \"\"],\n    startText: \"开始\",\n    stopText: \"停止\",\n    resetText: \"重置\",\n    lapText: \"圈\",\n    hideText: \"隐藏\",\n    backText: \"返回\",\n    undoText: \"复原\",\n    offText: \"关闭\",\n    onText: \"开启\",\n    decimalSeparator: \",\",\n    thousandsSeparator: \" \" };\n\n  mobiscroll.i18n.nl = {\n    setText: \"Instellen\",\n    cancelText: \"Annuleren\",\n    clearText: \"Leegmaken\",\n    selectedText: \"{count} gekozen\",\n    dateFormat: \"dd-mm-yy\",\n    dayNames: [\"Zondag\", \"Maandag\", \"Dinsdag\", \"Woensdag\", \"Donderdag\", \"Vrijdag\", \"Zaterdag\"],\n    dayNamesShort: [\"zo\", \"ma\", \"di\", \"wo\", \"do\", \"vr\", \"za\"],\n    dayNamesMin: [\"z\", \"m\", \"d\", \"w\", \"d\", \"v\", \"z\"],\n    dayText: \"Dag\",\n    hourText: \"Uur\",\n    minuteText: \"Minuten\",\n    monthNames: [\"januari\", \"februari\", \"maart\", \"april\", \"mei\", \"juni\", \"juli\", \"augustus\", \"september\", \"oktober\", \"november\", \"december\"],\n    monthNamesShort: [\"jan\", \"feb\", \"mrt\", \"apr\", \"mei\", \"jun\", \"jul\", \"aug\", \"sep\", \"okt\", \"nov\", \"dec\"],\n    monthText: \"Maand\",\n    secText: \"Seconden\",\n    timeFormat: \"HH:ii\",\n    yearText: \"Jaar\",\n    nowText: \"Nu\",\n    pmText: \"pm\",\n    amText: \"am\",\n    todayText: \"Vandaag\",\n    firstDay: 1,\n    dateText: \"Datum\",\n    timeText: \"Tijd\",\n    closeText: \"Sluiten\",\n    allDayText: \"Hele dag\",\n    noEventsText: \"Geen activiteiten\",\n    eventText: \"Activiteit\",\n    eventsText: \"Activiteiten\",\n    moreEventsText: \"nog {count}\",\n    fromText: \"Start\",\n    toText: \"Einde\",\n    wholeText: \"geheel\",\n    fractionText: \"fractie\",\n    unitText: \"eenheid\",\n    labels: [\"Jaren\", \"Maanden\", \"Dagen\", \"Uren\", \"Minuten\", \"Seconden\", \"\"],\n    labelsShort: [\"j\", \"m\", \"d\", \"u\", \"min\", \"sec\", \"\"],\n    startText: \"Start\",\n    stopText: \"Stop\",\n    resetText: \"Reset\",\n    lapText: \"Ronde\",\n    hideText: \"Verbergen\",\n    backText: \"Terug\",\n    undoText: \"Onged. maken\",\n    offText: \"Uit\",\n    onText: \"Aan\",\n    decimalSeparator: \",\",\n    thousandsSeparator: \" \" };\n\n  mobiscroll.i18n.ja = {\n    setText: \"セット\",\n    cancelText: \"キャンセル\",\n    clearText: \"クリア\",\n    selectedText: \"{count} 選択\",\n    dateFormat: \"yy年mm月dd日\",\n    dayNames: [\"日\", \"月\", \"火\", \"水\", \"木\", \"金\", \"土\"],\n    dayNamesShort: [\"日\", \"月\", \"火\", \"水\", \"木\", \"金\", \"土\"],\n    dayNamesMin: [\"日\", \"月\", \"火\", \"水\", \"木\", \"金\", \"土\"],\n    dayText: \"日\",\n    hourText: \"時\",\n    minuteText: \"分\",\n    monthNames: [\"1月\", \"2月\", \"3月\", \"4月\", \"5月\", \"6月\", \"7月\", \"8月\", \"9月\", \"10月\", \"11月\", \"12月\"],\n    monthNamesShort: [\"1月\", \"2月\", \"3月\", \"4月\", \"5月\", \"6月\", \"7月\", \"8月\", \"9月\", \"10月\", \"11月\", \"12月\"],\n    monthText: \"月\",\n    secText: \"秒\",\n    timeFormat: \"HH:ii\",\n    yearText: \"年\",\n    nowText: \"今\",\n    pmText: \"午後\",\n    amText: \"午前\",\n    yearSuffix: \"年\",\n    monthSuffix: \"月\",\n    daySuffix: \"日\",\n    todayText: \"今日\",\n    dateText: \"日付\",\n    timeText: \"時間\",\n    closeText: \"クローズ\",\n    allDayText: \"終日\",\n    noEventsText: \"イベントはありません\",\n    eventText: \"イベント\",\n    eventsText: \"イベント\",\n    moreEventsText: \"他 {count} 件\",\n    fromText: \"開始\",\n    toText: \"終わり\",\n    wholeText: \"全数\",\n    fractionText: \"分数\",\n    unitText: \"単位\",\n    labels: [\"年間\", \"月間\", \"日間\", \"時間\", \"分\", \"秒\", \"\"],\n    labelsShort: [\"年間\", \"月間\", \"日間\", \"時間\", \"分\", \"秒\", \"\"],\n    startText: \"開始\",\n    stopText: \"停止\",\n    resetText: \"リセット\",\n    lapText: \"ラップ\",\n    hideText: \"隠す\",\n    backText: \"バック\",\n    undoText: \"アンドゥ\" };\n\n  mobiscroll.i18n.pt = mobiscroll.i18n[\"pt-PT\"] = {\n    setText: \"Seleccionar\",\n    cancelText: \"Cancelar\",\n    clearText: \"Claro\",\n    selectedText: \"{count} selecionado\",\n    selectedPluralText: \"{count} selecionados\",\n    dateFormat: \"dd-mm-yy\",\n    dayNames: [\"Domingo\", \"Segunda-feira\", \"Terça-feira\", \"Quarta-feira\", \"Quinta-feira\", \"Sexta-feira\", \"Sábado\"],\n    dayNamesShort: [\"Dom\", \"Seg\", \"Ter\", \"Qua\", \"Qui\", \"Sex\", \"Sáb\"],\n    dayNamesMin: [\"D\", \"S\", \"T\", \"Q\", \"Q\", \"S\", \"S\"],\n    dayText: \"Dia\",\n    hourText: \"Horas\",\n    minuteText: \"Minutos\",\n    monthNames: [\"Janeiro\", \"Fevereiro\", \"Março\", \"Abril\", \"Maio\", \"Junho\", \"Julho\", \"Agosto\", \"Setembro\", \"Outubro\", \"Novembro\", \"Dezembro\"],\n    monthNamesShort: [\"Jan\", \"Fev\", \"Mar\", \"Abr\", \"Mai\", \"Jun\", \"Jul\", \"Ago\", \"Set\", \"Out\", \"Nov\", \"Dez\"],\n    monthText: \"Mês\",\n    secText: \"Segundo\",\n    timeFormat: \"HH:ii\",\n    yearText: \"Ano\",\n    nowText: \"Actualizar\",\n    pmText: \"pm\",\n    amText: \"am\",\n    todayText: \"Hoy\",\n    firstDay: 1,\n    dateText: \"Data\",\n    timeText: \"Tempo\",\n    closeText: \"Fechar\",\n    allDayText: \"Todo o dia\",\n    noEventsText: \"Nenhum evento\",\n    eventText: \"Evento\",\n    eventsText: \"Eventos\",\n    moreEventsText: \"mais {count}\",\n    fromText: \"Início\",\n    toText: \"Fim\",\n    wholeText: \"Inteiro\",\n    fractionText: \"Fracção\",\n    unitText: \"Unidade\",\n    labels: [\"Anos\", \"Meses\", \"Dias\", \"Horas\", \"Minutos\", \"Segundos\", \"\"],\n    labelsShort: [\"Ano\", \"Mês\", \"Dia\", \"Hora\", \"Min\", \"Seg\", \"\"],\n    startText: \"Começar\",\n    stopText: \"Parar\",\n    resetText: \"Reinicializar\",\n    lapText: \"Lap\",\n    hideText: \"Esconder\",\n    backText: \"Anterior\",\n    undoText: \"Anular\",\n    offText: \"Desl\",\n    onText: \"Lig\",\n    decimalSeparator: \",\",\n    thousandsSeparator: \" \" };\n\n  mobiscroll.i18n[\"pt-BR\"] = {\n    setText: \"Selecionar\",\n    cancelText: \"Cancelar\",\n    clearText: \"Claro\",\n    selectedText: \"{count} selecionado\",\n    selectedPluralText: \"{count} selecionados\",\n    dateFormat: \"dd/mm/yy\",\n    dayNames: [\"Domingo\", \"Segunda-feira\", \"Terça-feira\", \"Quarta-feira\", \"Quinta-feira\", \"Sexta-feira\", \"Sábado\"],\n    dayNamesShort: [\"Dom\", \"Seg\", \"Ter\", \"Qua\", \"Qui\", \"Sex\", \"Sáb\"],\n    dayNamesMin: [\"D\", \"S\", \"T\", \"Q\", \"Q\", \"S\", \"S\"],\n    dayText: \"Dia\",\n    hourText: \"Hora\",\n    minuteText: \"Minutos\",\n    monthNames: [\"Janeiro\", \"Fevereiro\", \"Março\", \"Abril\", \"Maio\", \"Junho\", \"Julho\", \"Agosto\", \"Setembro\", \"Outubro\", \"Novembro\", \"Dezembro\"],\n    monthNamesShort: [\"Jan\", \"Fev\", \"Mar\", \"Abr\", \"Mai\", \"Jun\", \"Jul\", \"Ago\", \"Set\", \"Out\", \"Nov\", \"Dez\"],\n    monthText: \"Mês\",\n    secText: \"Segundo\",\n    timeFormat: \"HH:ii\",\n    yearText: \"Ano\",\n    nowText: \"Agora\",\n    pmText: \"pm\",\n    amText: \"am\",\n    todayText: \"Hoje\",\n    dateText: \"Data\",\n    timeText: \"Tempo\",\n    closeText: \"Fechar\",\n    allDayText: \"Dia inteiro\",\n    noEventsText: \"Nenhum evento\",\n    eventText: \"Evento\",\n    eventsText: \"Eventos\",\n    moreEventsText: \"Mais {count}\",\n    fromText: \"In&iacute;cio\",\n    toText: \"Fim\",\n    wholeText: \"Inteiro\",\n    fractionText: \"Fração\",\n    unitText: \"Unidade\",\n    labels: [\"Anos\", \"Meses\", \"Dias\", \"Horas\", \"Minutos\", \"Segundos\", \"\"],\n    labelsShort: [\"Ano\", \"M&ecirc;s\", \"Dia\", \"Hora\", \"Min\", \"Seg\", \"\"],\n    startText: \"Começar\",\n    stopText: \"Pare\",\n    resetText: \"Reinicializar\",\n    lapText: \"Lap\",\n    hideText: \"Esconder\",\n    backText: \"Anterior\",\n    undoText: \"Desfazer\",\n    offText: \"Desl\",\n    onText: \"Lig\",\n    decimalSeparator: \",\",\n    thousandsSeparator: \" \" };\n\n  mobiscroll.i18n.cs = {\n    setText: \"Zadej\",\n    cancelText: \"Storno\",\n    clearText: \"Vymazat\",\n    selectedText: \"Označený: {count}\",\n    dateFormat: \"dd.mm.yy\",\n    dayNames: [\"Neděle\", \"Pondělí\", \"Úterý\", \"Středa\", \"Čtvrtek\", \"Pátek\", \"Sobota\"],\n    dayNamesShort: [\"Ne\", \"Po\", \"Út\", \"St\", \"Čt\", \"Pá\", \"So\"],\n    dayNamesMin: [\"N\", \"P\", \"Ú\", \"S\", \"Č\", \"P\", \"S\"],\n    dayText: \"Den\",\n    hourText: \"Hodiny\",\n    minuteText: \"Minuty\",\n    monthNames: [\"Leden\", \"Únor\", \"Březen\", \"Duben\", \"Květen\", \"Červen\", \"Červenec\", \"Srpen\", \"Září\", \"Říjen\", \"Listopad\", \"Prosinec\"],\n    monthNamesShort: [\"Led\", \"Úno\", \"Bře\", \"Dub\", \"Kvě\", \"Čer\", \"Čvc\", \"Spr\", \"Zář\", \"Říj\", \"Lis\", \"Pro\"],\n    monthText: \"Měsíc\",\n    secText: \"Sekundy\",\n    timeFormat: \"HH:ii\",\n    yearText: \"Rok\",\n    nowText: \"Teď\",\n    amText: \"am\",\n    pmText: \"pm\",\n    todayText: \"Dnes\",\n    firstDay: 1,\n    dateText: \"Datum\",\n    timeText: \"Čas\",\n    closeText: \"Zavřít\",\n    allDayText: \"Celý den\",\n    noEventsText: \"Žádné události\",\n    eventText: \"Událostí\",\n    eventsText: \"Události\",\n    moreEventsText: \"{count} další\",\n    fromText: \"Začátek\",\n    toText: \"Konec\",\n    wholeText: \"Celý\",\n    fractionText: \"Část\",\n    unitText: \"Jednotka\",\n    labels: [\"Roky\", \"Měsíce\", \"Dny\", \"Hodiny\", \"Minuty\", \"Sekundy\", \"\"],\n    labelsShort: [\"Rok\", \"Měs\", \"Dny\", \"Hod\", \"Min\", \"Sec\", \"\"],\n    startText: \"Start\",\n    stopText: \"Stop\",\n    resetText: \"Resetovat\",\n    lapText: \"Etapa\",\n    hideText: \"Schovat\",\n    backText: \"Zpět\",\n    undoText: \"Zpět\",\n    offText: \"O\",\n    onText: \"I\",\n    decimalSeparator: \",\",\n    thousandsSeparator: \" \" };\n\n  mobiscroll.i18n.ru = mobiscroll.i18n[\"ru-RU\"] = {\n    setText: \"Установить\",\n    cancelText: \"Отмена\",\n    clearText: \"Очистить\",\n    selectedText: \"{count} Выбрать\",\n    dateFormat: \"dd.mm.yy\",\n    dayNames: [\"воскресенье\", \"понедельник\", \"вторник\", \"среда\", \"четверг\", \"пятница\", \"суббота\"],\n    dayNamesShort: [\"вс\", \"пн\", \"вт\", \"ср\", \"чт\", \"пт\", \"сб\"],\n    dayNamesMin: [\"в\", \"п\", \"в\", \"с\", \"ч\", \"п\", \"с\"],\n    dayText: \"День\",\n    delimiter: \".\",\n    hourText: \"Час\",\n    minuteText: \"Минут\",\n    monthNames: [\"Январь\", \"Февраль\", \"Март\", \"Апрель\", \"Май\", \"Июнь\", \"Июль\", \"Август\", \"Сентябрь\", \"Октябрь\", \"Ноябрь\", \"Декабрь\"],\n    monthNamesShort: [\"Янв\", \"Фев\", \"Мар\", \"Апр\", \"Май\", \"Июн\", \"Июл\", \"Авг\", \"Сен\", \"Окт\", \"Ноя\", \"Дек\"],\n    monthText: \"Месяц\",\n    secText: \"Секунд\",\n    timeFormat: \"HH:ii\",\n    yearText: \"Год\",\n    nowText: \"Сейчас\",\n    amText: \"am\",\n    pmText: \"pm\",\n    todayText: \"Cегодня\",\n    firstDay: 1,\n    dateText: \"Дата\",\n    timeText: \"Время\",\n    closeText: \"Закрыть\",\n    allDayText: \"Весь день\",\n    noEventsText: \"Нет событий\",\n    eventText: \"Мероприятия\",\n    eventsText: \"Мероприятия\",\n    moreEventsText: \"Ещё {count}\",\n    fromText: \"Начало\",\n    toText: \"Конец\",\n    wholeText: \"Целое\",\n    fractionText: \"Дробное\",\n    unitText: \"Единица\",\n    labels: [\"Лет\", \"Месяцев\", \"Дней\", \"Часов\", \"Минут\", \"Секунд\", \"\"],\n    labelsShort: [\"Лет\", \"Мес\", \"Дн\", \"Час\", \"Мин\", \"Сек\", \"\"],\n    startText: \"Старт\",\n    stopText: \"Стоп\",\n    resetText: \"Сбросить\",\n    lapText: \"Круг\",\n    hideText: \"Скрыть\",\n    backText: \"назад\",\n    undoText: \"ОтменитЬ\",\n    offText: \"O\",\n    onText: \"I\",\n    decimalSeparator: \",\",\n    thousandsSeparator: \" \" };\n\n  mobiscroll.i18n.ar = {\n    rtl: !0,\n    setText: \"تعيين\",\n    cancelText: \"إلغاء\",\n    clearText: \"مسح\",\n    selectedText: \"{count} المحدد\",\n    dateFormat: \"dd/mm/yy\",\n    dayNames: [\"الأحد\", \"الاثنين\", \"الثلاثاء\", \"الأربعاء\", \"الخميس\", \"الجمعة\", \"السبت\"],\n    dayNamesShort: [\"أحد\", \"اثنين\", \"ثلاثاء\", \"أربعاء\", \"خميس\", \"جمعة\", \"سبت\"],\n    dayNamesMin: [\"ح\", \"ن\", \"ث\", \"ر\", \"خ\", \"ج\", \"س\"],\n    dayText: \"يوم\",\n    hourText: \"ساعات\",\n    minuteText: \"الدقائق\",\n    monthNames: [\"كانون الثاني\", \"شهر فبراير\", \"مارس\", \"أبريل\", \"قد\", \"يونيو\", \"يوليو\", \"أغسطس\", \"سبتمبر\", \"شهر اكتوبر\", \"شهر نوفمبر\", \"ديسمبر\"],\n    monthNamesShort: [\"كانون الثاني\", \"شهر فبراير\", \"مارس\", \"أبريل\", \"قد\", \"يونيو\", \"يوليو\", \"أغسطس\", \"سبتمبر\", \"شهر اكتوبر\", \"شهر نوفمبر\", \"ديسمبر\"],\n    monthText: \"شهر\",\n    secText: \"ثواني\",\n    amText: \"ص\",\n    pmText: \"م\",\n    timeFormat: \"hh:ii A\",\n    yearText: \"عام\",\n    nowText: \"الآن\",\n    firstDay: 0,\n    dateText: \"تاريخ\",\n    timeText: \"وقت\",\n    closeText: \"إغلاق\",\n    todayText: \"اليوم\",\n    prevMonthText: \"الشهر السابق\",\n    nextMonthText: \"الشهر القادم\",\n    prevYearText: \"السنه السابقة\",\n    nextYearText: \"العام القادم\",\n    allDayText: \"اليوم كله\",\n    noEventsText: \"لا توجد احداث\",\n    eventText: \"الحدث\",\n    eventsText: \"أحداث\",\n    moreEventsText: \"واحد آخر\",\n    moreEventsPluralText: \"اثنان آخران {count}\",\n    fromText: \"يبدا\",\n    toText: \"ينتهي\",\n    wholeText: \"كامل\",\n    fractionText: \"جزء\",\n    unitText: \"وحدة\",\n    delimiter: \"/\",\n    decimalSeparator: \".\",\n    thousandsSeparator: \",\",\n    labels: [\"سنوات\", \"أشهر\", \"أيام\", \"ساعة\", \"دقائق\", \"ثواني\", \"\"],\n    labelsShort: [\"سنوات\", \"أشهر\", \"أيام\", \"ساعة\", \"دقائق\", \"ثواني\", \"\"],\n    startText: \"بدء\",\n    stopText: \"إيقاف\",\n    resetText: \"إعادة ضبط\",\n    lapText: \"الدورة\",\n    hideText: \"إخفاء\",\n    offText: \"إيقاف\",\n    onText: \"تشغيل\",\n    backText: \"رجوع\",\n    undoText: \"تراجع\" };\n\n  mobiscroll.i18n.ko = {\n    setText: \"설정\",\n    cancelText: \"취소\",\n    clearText: \"삭제\",\n    selectedText: \"{count} 선택된\",\n    dateFormat: \"yy년mm월dd일\",\n    dayNames: [\"일요일\", \"월요일\", \"화요일\", \"수요일\", \"목요일\", \"금요일\", \"토요일\"],\n    dayNamesShort: [\"일\", \"월\", \"화\", \"수\", \"목\", \"금\", \"토\"],\n    dayNamesMin: [\"일\", \"월\", \"화\", \"수\", \"목\", \"금\", \"토\"],\n    dayText: \"일\",\n    delimiter: \"-\",\n    hourText: \"시간\",\n    minuteText: \"분\",\n    monthNames: [\"1월\", \"2월\", \"3월\", \"4월\", \"5월\", \"6월\", \"7월\", \"8월\", \"9월\", \"10월\", \"11월\", \"12월\"],\n    monthNamesShort: [\"1월\", \"2월\", \"3월\", \"4월\", \"5월\", \"6월\", \"7월\", \"8월\", \"9월\", \"10월\", \"11월\", \"12월\"],\n    monthText: \"달\",\n    secText: \"초\",\n    timeFormat: \"H:ii\",\n    yearText: \"년\",\n    nowText: \"지금\",\n    pmText: \"오후\",\n    amText: \"오전\",\n    yearSuffix: \"년\",\n    monthSuffix: \"월\",\n    daySuffix: \"일\",\n    firstDay: 0,\n    dateText: \"날짜\",\n    timeText: \"시간\",\n    todayText: \"오늘\",\n    prevMonthText: \"이전 달\",\n    nextMonthText: \"다음 달\",\n    prevYearText: \"이전 년\",\n    nextYearText: \"다음 년\",\n    closeText: \"닫기\",\n    eventText: \"이벤트\",\n    eventsText: \"이벤트\",\n    allDayText: \"종일\",\n    noEventsText: \"이벤트 없음\",\n    moreEventsText: \"{count}개 더보기\",\n    fromText: \"시작\",\n    toText: \"종료\",\n    wholeText: \"정수\",\n    fractionText: \"분수\",\n    unitText: \"단위\",\n    labels: [\"년\", \"달\", \"일\", \"시간\", \"분\", \"초\", \"\"],\n    labelsShort: [\"년\", \"달\", \"일\", \"시간\", \"분\", \"초\", \"\"],\n    startText: \"시작\",\n    stopText: \"중지 \",\n    resetText: \"초기화\",\n    lapText: \"기록\",\n    hideText: \"숨는 장소\",\n    backText: \"뒤로\",\n    undoText: \"실행취소\",\n    offText: \"끔\",\n    onText: \"켬\",\n    decimalSeparator: \",\",\n    thousandsSeparator: \" \" };\n\n  mobiscroll.i18n.ua = {\n    setText: \"встановити\",\n    cancelText: \"відміна\",\n    clearText: \"очистити\",\n    selectedText: \"{count} вибрані\",\n    dateFormat: \"dd.mm.yy\",\n    dayNames: [\"неділя\", \"понеділок\", \"вівторок\", \"середа\", \"четвер\", \"п’ятниця\", \"субота\"],\n    dayNamesShort: [\"нед\", \"пнд\", \"вів\", \"срд\", \"чтв\", \"птн\", \"сбт\"],\n    dayNamesMin: [\"Нд\", \"Пн\", \"Вт\", \"Ср\", \"Чт\", \"Пт\", \"Сб\"],\n    dayText: \"День\",\n    delimiter: \".\",\n    hourText: \"година\",\n    minuteText: \"хвилина\",\n    monthNames: [\"Січень\", \"Лютий\", \"Березень\", \"Квітень\", \"Травень\", \"Червень\", \"Липень\", \"Серпень\", \"Вересень\", \"Жовтень\", \"Листопад\", \"Грудень\"],\n    monthNamesShort: [\"Січ\", \"Лют\", \"Бер\", \"Кві\", \"Тра\", \"Чер\", \"Лип\", \"Сер\", \"Вер\", \"Жов\", \"Лис\", \"Гру\"],\n    monthText: \"Місяць\",\n    secText: \"Секунд\",\n    timeFormat: \"H:ii\",\n    yearText: \"Рік\",\n    nowText: \"Зараз\",\n    pmText: \"pm\",\n    amText: \"am\",\n    firstDay: 1,\n    dateText: \"дата\",\n    timeText: \"Час\",\n    todayText: \"Сьогодні\",\n    prevMonthText: \"Попередній місяць\",\n    nextMonthText: \"Наступного місяця\",\n    prevYearText: \"Попередній рік\",\n    nextYearText: \"Наступного року\",\n    closeText: \"Закрити\",\n    eventText: \"подія\",\n    eventsText: \"події\",\n    allDayText: \"Увесь день\",\n    noEventsText: \"Жодної події\",\n    moreEventsText: \"та ще {count}\",\n    fromText: \"від\",\n    toText: \"кінець\",\n    wholeText: \"всі\",\n    fractionText: \"фракція\",\n    unitText: \"одиниця\",\n    labels: [\"Рік\", \"Місяць\", \"День\", \"година\", \"хвилина\", \"Секунд\", \"\"],\n    labelsShort: [\"Рік\", \"Місяць\", \"День\", \"година\", \"хвилина\", \"Секунд\", \"\"],\n    startText: \"Початок\",\n    stopText: \"СТОП\",\n    resetText: \"скинути\",\n    lapText: \"коло\",\n    hideText: \"сховати\",\n    backText: \"назад\",\n    undoText: \"відмінити\",\n    offText: \"Вимикати\",\n    onText: \"Увімкнути\",\n    decimalSeparator: \",\",\n    thousandsSeparator: \" \" };\n\n  setI18nMobiscroll();\n  if (bizagi.localization && bizagi.localization.observableElement) {\n    bizagi.localization.observableElement.bind(\"setLanguage\", function () {\n      setI18nMobiscroll();\n    });\n  }\n  function setI18nMobiscroll() {\n    if (typeof bizagi !== \"undefined\" &&\n    typeof bizagi.localization !== \"undefined\" &&\n    typeof bizagi.localization.language !== \"undefined\" &&\n    typeof bizagi.util !== \"undefined\" &&\n    typeof bizagi.util.languages !== \"undefined\") {\n\n      var bizagiLang = typeof BIZAGI_LANGUAGE !== \"undefined\" ? BIZAGI_LANGUAGE : \"en\";\n      var language = bizagi.util.languages[bizagiLang] || bizagi.localization.language;\n\n      if (!mobiscroll.i18n[language]) {\n        var baseLanguageTag = language.toLowerCase().replace(/([^a-z]+)/g, \"-\").split(\"-\").shift();\n        if (mobiscroll.i18n[baseLanguageTag]) {\n          mobiscroll.i18n[language] = mobiscroll.i18n[baseLanguageTag];\n        } else {\n          mobiscroll.i18n[language] = defaulti18n;\n        }\n      }\n\n      var currentLanguage = mobiscroll.i18n[language];\n      var dateRegional = bizagi.localization.getResource(\"datePickerRegional\");\n      var firstDay = dateRegional.firstDay ? parseInt(dateRegional.firstDay) : currentLanguage.firstDay;\n\n      currentLanguage.closeText = dateRegional.closeText || currentLanguage.closeText;\n      currentLanguage.clearText = bizagi.localization.getResource(\"render-search-clear-label\", currentLanguage.clearText);\n      currentLanguage.nowText = bizagi.localization.getResource(\"render-timeentry-now\", currentLanguage.nowText);\n      currentLanguage.todayText = dateRegional.currentText || currentLanguage.todayText;\n      currentLanguage.dateFormat = dateRegional.dateFormat || currentLanguage.dateFormat;\n      currentLanguage.dayNames = dateRegional.dayNames || currentLanguage.dayNames;\n      currentLanguage.dayNamesMin = dateRegional.dayNamesMin || currentLanguage.dayNamesMin;\n      currentLanguage.dayNamesShort = dateRegional.dayNamesShort || currentLanguage.dayNamesShort;\n      currentLanguage.firstDay = firstDay;\n      currentLanguage.rtl = typeof dateRegional.isRTL !== \"undefined\" ? dateRegional.isRTL : currentLanguage.rtl;\n      currentLanguage.monthNames = dateRegional.monthNames || currentLanguage.monthNames;\n      currentLanguage.monthNamesShort = dateRegional.monthNamesShort || currentLanguage.monthNamesShort;\n      currentLanguage.nextMonthText = dateRegional.nextText || currentLanguage.nextMonthText;\n      currentLanguage.nextYearText = dateRegional.nextText || currentLanguage.nextYearText;\n      currentLanguage.prevMonthText = dateRegional.prevText || currentLanguage.prevMonthText;\n      currentLanguage.prevYearText = dateRegional.prevText || currentLanguage.prevYearText;\n      currentLanguage.yearSuffix = dateRegional.yearSuffix = dateRegional.yearSuffix || \"\";\n    }\n  }\n})(jQuery);","/*\r\n*   Name: BizAgi Element Class\r\n*   Author: Diego Parra\r\n*   Comments:\r\n*   -   This script will define a base class with common stuff related to all renders and containers\r\n*/\n\n$.Class.extend(\"bizagi.rendering.element\", {\n  ELEMENT_TYPE_CONTAINER: 1,\n  ELEMENT_TYPE_RENDER: 2,\n  ELEMENT_TYPE_COLUMN: 3 },\n{\n\n  /*\r\n  *   Constructor\r\n  */\n  init: function init(params) {\n    // Set render factory\n    this.renderFactory = params.renderFactory;\n\n    // Set data service\n    this.dataService = params.dataService;\n\n    // Set reference to parent\n    this.parent = params.parent;\n\n    // Set l10n service\n    this.resources = bizagi.localization;\n\n    // Set the observable element\n    this.observableElement = $(\"<div />\");\n\n    // Set the dispose flag\n    this.disposed = false;\n\n    // Update data\n    this.initializeData(params.data);\n\n    // Define an object to hold the subscribe collection\n    this.subscribers = [];\n  },\n\n  /*\r\n     *   Update or init the element data\r\n     */\n  initializeData: function initializeData(data) {\n    var self = this;\n\n    // Set the internal data\n    this.properties = {};\n    if (data && data.properties) this.properties = data.properties;\n\n    // Set xpath context\n    this.properties.xpathContext = this.getXpathContext();\n\n    // Set page cache\n    this.properties.idPageCache = this.getPageCache();\n\n    //History of visual changes from actions\n    self.visualChanges = self.visualChanges || {};\n  },\n\n  /*\r\n     *   Returns the xpath context of the element\r\n     */\n  getXpathContext: function getXpathContext() {\n    // By default return parent's xpath context\n    // This method is overriden in form container which contains the real xpath context\n\n    return this.parent != undefined && typeof this.parent.getXpathContext == \"function\" ? this.parent.getXpathContext() : \"\";\n  },\n\n  /*\r\n     *   Returns the xpath of the element\r\n     */\n  getXpath: function getXpath() {\n    return this.properties.xpath;\n  },\n  /*\r\n     *   Returns the page cache for the current element\r\n     */\n  getPageCache: function getPageCache() {\n    // By default return parent's page cache\n    // This method is overriden in form container which contains the real page cache\n\n    return this.parent != undefined && typeof this.parent.getPageCache == \"function\" ? this.parent.getPageCache() : \"\";\n  },\n\n  /*\r\n     *   Returns the form containing the element\r\n     */\n  getFormContainer: function getFormContainer() {\n    // By default return parent's form container\n    // This method is overriden in form container which returns itself\n    if (typeof this.parent != \"undefined\")\n    return this.parent.getFormContainer();\n  },\n\n\n  /*\r\n     *   Returns the mapped resource\r\n     */\n  getResource: function getResource(key) {\n    return this.resources.getResource(key);\n  },\n\n  /*\r\n     *   Returns the element type\r\n     */\n  getElementType: function getElementType() {},\n\n  /*\r\n                                                *   Resizes the element\r\n                                                */\n  resize: function resize(size) {\n\n  },\n\n  /*\r\n     *   Focus on the current element\r\n     */\n  focus: function focus() {\n\n    if (this.properties.required) {\n      var layout = $(\"#ui-bizagi-wp-app-render-form-content\");\n      // Check if element is visible into scroll\n      if (!bizagi.util.isScrolledIntoView(this.element, layout)) {\n        $(this.element).attr('tabindex', -1).focus();\n      }\n      if (this.element) {\n        this.element.effect('highlight', 2000);\n      }\n    }\n\n    //Check if the element has parent\n    if (this.parent && typeof this.parent.focus == 'function') {\n      this.parent.focus();\n    }\n  },\n\n  /*\r\n     *   Publish a global event that the facade will replicate\r\n     */\n  triggerGlobalHandler: function triggerGlobalHandler(eventType, data) {\n    if (this.disposed) return null;\n    if (this.parent) return this.parent.triggerGlobalHandler(eventType, data);\n    return null;\n  },\n\n  /*\r\n     *   Triggers an event inside the control\r\n     */\n  trigger: function trigger(eventType, data) {\n    if (this.disposed) return null;\n    if (this.observableElement) return this.observableElement.trigger(eventType, data);\n    return null;\n  },\n\n  /*\r\n     *   Triggers an event handler inside the control\r\n     */\n  triggerHandler: function triggerHandler(eventType, data) {\n    if (this.disposed) return null;\n    if (this.observableElement) return this.observableElement.triggerHandler(eventType, data);\n    return null;\n  },\n\n  /*\r\n     *   Binds to an event\r\n     */\n  bind: function bind(eventType, fn) {\n    if (this.disposed) return null;\n    if (this.observableElement) return this.observableElement.bind(eventType, fn);\n    this.subscribers.push({ event: eventType });\n    return null;\n  },\n\n  /*\r\n     *   Un-binds to an event\r\n     */\n  unbind: function unbind(eventType, fn) {\n    if (this.disposed) return null;\n    if (this.observableElement) return this.observableElement.unbind(eventType, fn);\n    return null;\n  },\n\n  /*\r\n     *   Binds a one time event\r\n     */\n  one: function one(eventType, fn) {\n    if (this.disposed) return null;\n    if (this.observableElement) return this.observableElement.one(eventType, fn);\n    this.subscribers.push({ event: eventType });\n    return null;\n  },\n\n  /*\r\n     *   Return the rendered element\r\n     */\n  getRenderedElement: function getRenderedElement() {},\n\n  /*\r\n                                                        *   Get current rendering mode\r\n                                                        */\n  getMode: function getMode() {\n    if (this.parent) return this.parent.getMode();\n  },\n\n  /*\r\n     *   Get current rendering params\r\n     */\n  getParams: function getParams() {\n    if (this.parent) return this.parent.getParams();\n  },\n\n  /*\r\n     * Get current form type (ex. queryform, form)\r\n     */\n  getFormType: function getFormType() {\n    var self = this;\n\n    var form = self.getFormContainer();\n    return form.properties.type || \"form\";\n  },\n\n  /*\r\n     *   Returns a promise that will resolve when the element is ready\r\n     */\n  ready: function ready() {},\n\n  /*\r\n                              *   Returns a promise that will resolve when the element is ready to save\r\n                              */\n  isReadyToSave: function isReadyToSave() {},\n\n  /*\r\n                                              *   Get the custom handlers set for this execution\r\n                                              */\n  getCustomHandlers: function getCustomHandlers() {\n    return null;\n  },\n\n  /*\r\n     *   Dispose the class so we can detect when a class is invalid already\r\n     */\n  dispose: function dispose() {\n    var self = this;\n    self.disposed = true;\n\n    var timeOutDispose = setTimeout(function () {\n      if (self.subscribers != null) {\n        // Remove all subcriptions\n        $.each(self.subscribers, function (i, item) {\n          self.unbind(item.event);\n        });\n      }\n      delete self.subscribers;\n\n      if (self.observableElement) self.observableElement.off();\n      bizagi.util.dispose(self);\n      clearTimeout(timeOutDispose);\n    }, bizagi.override.disposeTime || 50);\n  },\n\n  /*\r\n     *   Check if the current object is disposed\r\n     */\n  isDisposed: function isDisposed() {\n    return this.disposed;\n  },\n\n  /*\r\n     *   This method process the error or alert messages coming from the server, and adds them to the validation controller\r\n     */\n  processFailMessage: function processFailMessage(message) {\n    var self = this;\n    var form = self.getFormContainer();\n    var isOfflineForm = bizagi.util.isOfflineForm({ context: self });\n\n    if (message.errorType === \"CustomMessageException\") {\n      // Clear previous validations\n      form.validationController.clearValidationMessages();\n      var error = bizagi.localization.getResource(message.message);\n      form.validationController.showErrorMessage(error);\n    } else if (message.errorType === \"InvalidCaseStateException\") {\n      var params = form.getParams();\n\n      form.validationController.clearValidationMessages();\n\n      // Redirection Here\n      form.container.trigger(\"routing\", { idCase: params.idCase || bizagi.context.idCase });\n    } else {\n      var message = message || {};\n      message = typeof message == \"string\" ? JSON.parse(message) : message;\n      var type = message.type || \"error\";\n      var code = message.code || \"code\";\n      message = message.responseText || message.message || message;\n\n      // Omit processing when the ajax didn't process\n      if (type === \"not-processed\") return;\n      if (type === \"not-shown\") return;\n      if (isOfflineForm && code === \"AUTH_ERROR\") return;\n\n      // Clear previous validations\n      form.validationController.clearValidationMessages();\n      if (type == \"alert\") {\n        form.validationController.showAlertMessage(message);\n      } else {\n        form.validationController.showErrorMessage(message);\n      }\n    }\n\n    return message;\n  },\n\n  /*\r\n     *   Sets a waiting overlay above the current element\r\n     */\n  startLoading: function startLoading() {/* Override in implementations */},\n\n  /*\r\n                                                                             *   Removes the waiting overlay\r\n                                                                             */\n  endLoading: function endLoading() {/* Override in implementations */},\n\n  /**\r\n                                                                          *   Prepare control to remove it from the render, that allows to\r\n                                                                          *   clean all elements of the control or to do any stuff before to remove\r\n                                                                          */\n  beforeToRefresh: function beforeToRefresh() {\n    /* Implement in each render and container if you need */\n  },\n\n  /**\r\n      *   Run before that the control has been refreshed\r\n      */\n  afterToRefresh: function afterToRefresh() {\n    /* Implement in each render and container if you need */\n  },\n\n  /**\r\n      * This method returns the localized version of the resource\r\n      * @param resource\r\n      * @param fallback\r\n      * @returns {string}\r\n      */\n  getResourceByKey: function getResourceByKey(resource, fallback) {\n    fallback = fallback || resource;\n\n    return bizagi.localization.getResource(resource, fallback);\n  },\n  /**\r\n      * Restore appearance using type of command\r\n      */\n  restoreAppearance: function restoreAppearance() {\n    var self = this;\n\n    for (var command in self.visualChanges) {\n\n      switch (command) {\n        case \"color\":\n          self.changeColor(self.visualChanges[command]);\n          break;\n        case \"backgroundColor\":\n          self.changeBackgroundColor(self.visualChanges[command]);\n          break;\n        case \"required\":\n          self.changeRequired(self.visualChanges[command]);\n          break;\n        case \"editability\":\n          self.changeEditability(self.visualChanges[command]);\n          break;\n        case \"visibility\":\n          self.changeVisibility(self.visualChanges[command]);\n          break;\n        case \"minValue\":\n          self.changeMinValue(self.visualChanges[command]);\n          break;\n        case \"maxValue\":\n          self.changeMaxValue(self.visualChanges[command]);\n          break;}\n\n    }\n  },\n\n  getOrientation: function getOrientation() {\n    var control = this;\n    while (control) {\n      properties = control.properties || {};\n      if (properties.orientation !== \"auto\") return properties.orientation;\n      control = control.parent;\n    }\n    return \"auto\";\n  } });","/*\r\n *   Name: BizAgi Container Class\r\n *   Author: Diego Parra\r\n *   Comments:\r\n *   -   This script will define a base container class with common stuff related to all containers\r\n */\n\nbizagi.rendering.element.extend(\"bizagi.rendering.container\", {\n  TYPE_QUERY_FORM: \"queryForm\" },\n{\n\n  /*\r\n  *   Update or init the element data\r\n  */\n  initializeData: function initializeData(data) {\n    var self = this;\n\n    // Call base\n    self._super(data);\n\n    // Set defaults\n    var properties = self.properties;\n    properties.uniqueId = Math.ceil(Math.random() * 1000000);\n    properties.editable = typeof properties.editable != \"undefined\" ? bizagi.util.parseBoolean(properties.editable) : true;\n    properties.visible = typeof properties.visible != \"undefined\" ? bizagi.util.parseBoolean(properties.visible) : true;\n\n    // Override orientation from parent if not set\n    properties.orientation = properties.orientation || \"auto\";\n\n    // Save original properties\n    this.originalProperties = JSON.parse(JSON.encode(properties));\n\n    // Create children\n    this.children = [];\n    this.childrenHash = {};\n\n    if (data.elements) {\n      $.each(data.elements, function (i, element) {\n        if (element.render) {\n          self.createRenderElement(element);\n        } else if (element.container) {\n          self.createContainerElement(element);\n        } else if (element.form) {\n          self.createFormElement(element);\n        }\n      });\n    }\n  },\n\n  /*\r\n     *   Creates a render element\r\n     */\n  createRenderElement: function createRenderElement(element) {\n    var self = this;\n    var properties = self.properties;\n    var originalElement;\n\n    // Replicate editable property when container is not editable\n    if (properties.editable == false) {\n      element.render.properties.editable = properties.editable;\n      /*if (element.render.properties.type == \"grid\")\r\n                                                                    element.render.properties.inlineEdit = false;*/\n    }\n\n    // Replicate required property when container is not required\n    if (properties.required === false) {\n      element.render.properties.required = properties.required;\n    }\n\n    //clone originalElement to apply duplicate render properties correctly\n    if (element.render.properties.retype == \"duplicate\") {\n      originalElement = bizagi.clone(element);\n    }\n\n    var render = self.renderFactory.getRender({\n      type: element.render.properties.type,\n      data: element.render,\n      dataService: self.dataService,\n      parent: self,\n      mode: self.getMode() });\n\n\n    // Add to children\n    self.children.push(render);\n\n    // Check for duplicate\n    if (element.render.properties.retype == \"duplicate\") {\n      self.processDuplicateRender(render, originalElement);\n    }\n\n    //TODO: at this point not posible add the retype double at this point not exist input\n\n    // Register in form container\n    self.getFormContainer().registerRender(render);\n  },\n  /*\r\n     *   Creates a container element\r\n     */\n  createContainerElement: function createContainerElement(element) {\n    var self = this;\n    var properties = self.properties;\n\n    // Replicate editable property when container is not editable\n    if (properties.editable == false) {\n      element.container.properties.editable = properties.editable;\n    }\n\n    // Replicate required property when container is not required\n    if (properties.required === false) {\n      element.container.properties.required = properties.required;\n    }\n\n    var container = self.renderFactory.getContainer({\n      type: element.container.properties.type,\n      data: element.container,\n      parent: self,\n      dataService: self.dataService,\n      mode: self.getMode(),\n      isDesign: self.getMode() === \"design\" });\n\n\n    self.children.push(container);\n\n    // Register in form container\n    self.getFormContainer().registerRender(container);\n  },\n  /*\r\n     *   Creates a form element\r\n     */\n  createFormElement: function createFormElement(element) {\n    var self = this;\n    var properties = self.properties;\n\n    // Replicate editable property when container is not editable\n    if (properties.editable == false) {\n      element.container.properties.editable = properties.editable;\n    }\n\n    var form = self.renderFactory.getContainer({\n      type: element.form.properties.type || \"form\",\n      data: element.form,\n      parent: self,\n      dataService: self.dataService,\n      mode: self.getMode() });\n\n    self.children.push(form);\n  },\n  /*\r\n     *   Gets the current container\r\n     */\n  getElement: function getElement() {\n    var self = this;\n    return self.container;\n  },\n  /*\r\n     *   Gets a collection for all elements matching a type\r\n     */\n  getElementsByType: function getElementsByType(type, elements) {\n    elements = elements || [];\n    var self = this;\n\n    // Iterate through elements\n    $.each(self.children, function (i, child) {\n      if (child.properties.type == type) {\n        elements.push(child);\n      }\n      if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_CONTAINER) {\n        child.getElementsByType(type, elements);\n      }\n    });\n\n    return elements;\n  },\n  /*\r\n     *   Process renders with duplicate property\r\n     */\n  processDuplicateRender: function processDuplicateRender(render, element) {\n    var self = this;\n    var clonedElement = JSON.parse(JSON.encode(element.render));\n\n    // Changes properties\n    clonedElement.properties.displayName = clonedElement.properties.displayName + \" \" + self.getResource(\"render-text-duplicate-label-sufix\");\n    clonedElement.properties.xpath = clonedElement.properties.xpath + \".clone\";\n    clonedElement.properties.isClone = true;\n\n    // Creates clone\n    var clone = self.renderFactory.getRender({\n      type: clonedElement.properties.type,\n      data: clonedElement,\n      parent: self,\n      mode: self.getMode() });\n\n\n    // Associates with main render\n    render.cloneRender = clone;\n\n    // Add to collection\n    self.children.push(clone);\n  },\n  /*\r\n     *   Returns the element type\r\n     */\n  getElementType: function getElementType() {\n    return bizagi.rendering.element.ELEMENT_TYPE_CONTAINER;\n  },\n  /*\r\n     *   Returns the in-memory processed element\r\n     */\n  render: function render() {\n    var self = this,\n    mode = self.getMode(),\n    result;\n\n    // Render container\n    result = self.internalRender();\n\n    // Apply container defaults\n    self.applyContainerDefaults();\n\n    // Add container id\n    result.attr(\"data-container-id\", self.properties.id);\n\n    //Add container tag property\n    if (self.properties.tag) {\n      result.attr(\"data-tag\", self.properties.tag);\n    }\n\n    //Add class to the requested form, to specify if is add form, edit form, or detail form\n    if (self.params)\n    if (self.params.requestedForm)\n    result.addClass(self.params.requestedForm);\n\n    return result;\n  },\n  /*\r\n     *   Internal  rendering\r\n     */\n  internalRender: function internalRender() {\n    var self = this;\n\n    // Render the container\n    var html = self.renderContainerHtml();\n\n    // Convert html string to jquery object\n    var container = self.container = $(html);\n\n    // Post-render\n    self.postRenderContainer(container);\n\n    return self.container;\n  },\n  /*\r\n     *   Renders container html\r\n     */\n  renderContainerHtml: function renderContainerHtml() {\n    var self = this;\n    // Start rendering deferred\n    self.renderingDeferred = self.renderingDeferred || new $.Deferred();\n\n    return this.renderContainer();\n  },\n  /*\r\n     *   Check if the jquery element is ready or not\r\n     */\n  isRendered: function isRendered() {\n    var self = this;\n    if (!self.renderingDeferred)\n    return false;\n    return self.renderingDeferred.promise();\n  },\n  /*\r\n     *   Return the rendered element\r\n     */\n  getRenderedElement: function getRenderedElement() {\n    if (bizagi.util.isEmpty(this.container))\n    alert(\"container hasn't been rendered!\");\n\n    return this.container;\n  },\n  /*\r\n     *   Set container defaults\r\n     */\n  applyContainerDefaults: function applyContainerDefaults() {\n    var self = this,\n    properties = self.properties;\n\n    // Set customizations\n    if (properties.backgroundColor)\n    self.changeBackgroundColor(properties.backgroundColor);\n\n    // Set editability and visiblity\n    if (!properties.visible)\n    self.changeVisibility(properties.visible);\n  },\n  /*\r\n     *  Changes background color\r\n     */\n  changeBackgroundColor: function changeBackgroundColor(color) {\n    var self = this;\n    var properties = self.properties;\n\n    properties.backgroundColor = color;\n\n    // Iterate through elements\n    $.each(self.children, function (i, child) {\n      if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_CONTAINER) {\n        child.changeBackgroundColor(color);\n\n      } else if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_RENDER) {\n        child.changeBackgroundColor(color);\n      }\n    });\n  },\n  /*\r\n     *   Hides / Show container\r\n     */\n  changeVisibility: function changeVisibility(argument) {\n    var self = this;\n    var properties = self.properties;\n\n    // Store in properties\n    properties.visible = bizagi.util.parseBoolean(argument);\n\n    // Hide - show the render\n    if (properties.visible) {\n      self.container.show();\n\n    } else {\n      self.container.hide();\n    }\n  },\n  /* Changes editability */\n  changeEditability: function changeEditability(argument) {\n    var self = this;\n    var properties = self.properties;\n\n    // Store in properties\n    properties.editable = argument == \"Default\" ? self.originalProperties.editable : bizagi.util.parseBoolean(argument);\n\n    // Iterate through elements\n    $.each(self.children, function (i, child) {\n      if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_CONTAINER) {\n        $.when(child.ready()).done(function () {\n          child.changeEditability(argument);\n        });\n      } else if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_RENDER) {\n        child.changeEditability(argument);\n      }\n    });\n  },\n  /*\r\n     *   Replaces a <x/> tag in the container for the specified \"replace\" element\r\n     */\n  replaceTag: function replaceTag(container, tag, replace) {\n    bizagi.util.replaceSelector(container, tag, replace);\n  },\n  /*\r\n     *   Replaces a <children/> tag in the container for the specified \"replace\" element\r\n     */\n  replaceChildrenTag: function replaceChildrenTag(container, replace) {\n    this.replaceTag(container, \".children\", replace);\n  },\n  /*\r\n     *   Replaces a {{children}} string in the specified element\r\n     */\n  replaceChildrenHtml: function replaceChildrenHtml(html, replace) {\n    return html.replaceFirstWithoutPatterns(\"{{children}}\", replace);\n  },\n  /*\r\n     *   Template method to render the container layout, returns a string with all the builded html,\r\n     *   must be overriden in all children\r\n     */\n  renderContainer: function renderContainer() {\n  },\n  /*\r\n     *   Template method to process each jquery object\r\n     *   must be overriden in each container\r\n     */\n  postRenderContainer: function postRenderContainer(container) {\n    var self = this;\n    var mode = self.getMode();\n\n    // Resolve rendering deferred\n    if (self.renderingDeferred)\n    self.renderingDeferred.resolve();\n\n    // Process children elements\n    self.container = container;\n    self.executeChildrenPostRender(container);\n\n    if (mode == \"execution\") {\n      // Apply handlers\n      self.configureHandlers();\n      self.applyPlaceHolderPolyfill();\n\n    }\n    if (mode == \"design\") {\n      // Configure view\n      self.configureDesignView();\n    }\n    if (mode == \"layout\") {\n      // Configure view\n      self.configureDesignView();\n      self.configureLayoutView();\n    }\n  },\n\n  applyPlaceHolderPolyfill: function applyPlaceHolderPolyfill() {\n    var self = this;\n    var config = window.placeHolderConfig || {};\n    if (('placeholder' in $('<input>')[0] || 'placeHolder' in $('<input>')[0]) && !config.forceApply) {\n      // don't run the polyfill when the browser has native support\n      return;\n    }\n    Placeholders.enable();\n  },\n  /*\r\n     *   Process container children\r\n     */\n  executeChildrenPostRender: function executeChildrenPostRender(container) {\n    var self = this;\n    var childrenElements = container.children();\n\n    $.each(childrenElements, function (i, childElement) {\n      childElement = $(childElement);\n      var id = Number(childElement.data(\"unique-id\"));\n      if (id) {\n        var child = self.childrenHash[id];\n        if (child) {\n          var type = child.getElementType();\n          if (type == bizagi.rendering.element.ELEMENT_TYPE_RENDER)\n          child.postRenderElement(childElement);\n          if (type == bizagi.rendering.element.ELEMENT_TYPE_CONTAINER)\n          child.postRenderContainer(childElement);\n        }\n      } else {\n        self.executeChildrenPostRender(childElement);\n      }\n    });\n  },\n  /*\r\n     *   Template method to implement in each device to customize the container's behaviour to add handlers\r\n     */\n  configureHandlers: function configureHandlers() {\n  },\n  /*\r\n     *   Template method to implement in each device to customize the render's behaviour when rendering in design mode\r\n     */\n  configureDesignView: function configureDesignView() {\n  },\n  /*\r\n     *   Template method to implement in each device to customize the container's behaviour to show layout\r\n     */\n  configureLayoutView: function configureLayoutView() {\n\n  },\n  /**\r\n      *   Renders all children html\r\n      */\n  renderChildrenHtml: function renderChildrenHtml() {\n    var self = this;\n    var temp = \"\";\n\n    $.each(self.children, function (i, child) {\n      var type = child.getElementType();\n      if (type == bizagi.rendering.element.ELEMENT_TYPE_RENDER)\n      temp += child.renderElement();\n      if (type == bizagi.rendering.element.ELEMENT_TYPE_CONTAINER)\n      temp += child.renderContainerHtml();\n      self.childrenHash[child.properties.uniqueId] = child;\n    });\n\n    return temp;\n  },\n  /*\r\n     *   Iterate through all the renders in the container and fills the hashtable\r\n     */\n  collectRenderValues: function collectRenderValues(renderValues) {\n    var self = this;\n    if (self.children) {\n      $.each(self.children, function (i, child) {\n        if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_CONTAINER) {\n          // Go though container\n          child.collectRenderValues(renderValues);\n\n        } else if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_RENDER) {\n          // Check if the render can be sent to the server\n          if (child.canBeSent()) {\n            child.collectData(renderValues);\n          }\n        }\n      });\n    }\n  },\n\n  /*\r\n     *   Iterate through all the renders and check if has changed\r\n     */\n  hasChanged: function hasChanged(result) {\n    var self = this;\n    result = result || [];\n\n    if (!result.length) {\n      if (self.children) {\n        $.each(self.children, function (i, child) {\n          if (result.length || child.hasChanged(result)) {\n            return false;\n          }\n        });\n      }\n    } else {\n      return result;\n    }\n  },\n\n  /*\r\n     *    Creates a json array parameters to search result\r\n     */\n  collectRenderValuesQueryForm: function collectRenderValuesQueryForm(renderValues) {\n    var self = this;\n    $.each(self.children, function (i, child) {\n      if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_CONTAINER) {\n        // Go though container\n        child.collectRenderValuesQueryForm(renderValues);\n\n      } else if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_RENDER) {\n        // Check if the render can be sent to the server\n        if (child.canBeSentQueryForm()) {\n          child.collectDataQueryForm(renderValues);\n        }\n      }\n    });\n  },\n  /*\r\n     *   Gets the first child\r\n     */\n  firstChild: function firstChild() {\n    return this.children[0];\n  },\n  /*\r\n     *   Method to find all the renders matching an xpath inside the container\r\n     */\n  getRenders: function getRenders(xpath, renders) {\n    var self = this;\n\n    renders = renders || [];\n\n    // Remove [] filters for grid columns xpaths to fully identify the grid as the xpath target\n    if (xpath.indexOf(\"[\") > 0) {\n      xpath = xpath.substring(0, xpath.indexOf(\"[\"));\n    }\n\n    $.each(self.children, function (i, child) {\n      if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_CONTAINER) {\n        // Go though container\n        child.getRenders(xpath, renders);\n\n      } else if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_RENDER) {\n        if (xpath == child.properties.xpath) {\n          renders.push(child);\n        }\n      }\n    });\n\n    return renders;\n  },\n  /*\r\n     *   Gets the first editable render\r\n     */\n  getRender: function getRender(xpath) {\n    var self = this;\n    var renders = self.getRenders(xpath);\n    var result = null;\n    $.each(renders, function (i, render) {\n      if (render.properties.editable) {\n        if (result == null)\n        result = render;\n      }\n    });\n\n    // if no render has been found, skip editable condition\n    if (result == null) {\n      $.each(renders, function (i, render) {\n        result = render;\n      });\n    }\n\n    return result;\n  },\n\n  /*\r\n      *   Gets all renders by xpath\r\n      */\n  getRendersByXpath: function getRendersByXpath(xpath) {\n    var self = this;\n    return self.getRenders(xpath);\n  },\n\n  /*\r\n     *   Gets a container by the id\r\n     */\n  getContainer: function getContainer(id) {\n    var self = this;\n\n    if (self.properties.id == id)\n    return this;\n\n    var result;\n    $.each(self.children, function (i, child) {\n      if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_CONTAINER) {\n        // Go though container\n        var o = child.getContainer(id);\n        if (o != null) {\n          result = o;\n          return false;\n        }\n      }\n    });\n\n    return result;\n  },\n  /*\r\n     *   Validate all renders in the container\r\n     */\n  isValid: function isValid(invalidElements) {\n    var self = this;\n\n    if (self.children) {\n      $.each(self.children, function (i, child) {\n        if (child.properties.visible) {\n          if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_CONTAINER) {\n            // Go though container\n            child.isValid(invalidElements);\n          } else if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_RENDER) {\n            // Go to the render\n            child.isValid(invalidElements);\n          }\n        }\n      });\n    }\n\n    return invalidElements.length == 0;\n  },\n\n  /*\r\n     *   Validate all grids in the container\r\n     */\n  hasValidGrids: function hasValidGrids(invalidElements) {\n    var self = this;\n\n    $.each(self.children, function (i, child) {\n      if (child.properties.visible) {\n        if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_CONTAINER) {\n          // Go though container\n          child.hasValidGrids(invalidElements);\n\n        } else if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_RENDER && typeof child.grid != \"undefined\") {\n          // Go to the render\n          child.isValid(invalidElements);\n        }\n      }\n    });\n\n    return invalidElements.length == 0;\n  },\n  /*\r\n     *   Returns a promise that will resolve when the element is ready\r\n     */\n  ready: function ready() {\n    var self = this;\n    return $.when(self.parent.ready(), self.isRendered());\n  },\n  /*\r\n     *   Returns a promise that will resolve when the element is ready to save\r\n     */\n  isReadyToSave: function isReadyToSave() {\n    var self = this;\n    var childrenPromises = $.map(self.children, function (child) {\n      return child.isReadyToSave();\n    });\n    return $.when.apply($, childrenPromises);\n  },\n  /*\r\n     *   Return the current focuses container\r\n     */\n  getFocus: function getFocus() {\n    var self = this;\n    var focus;\n    $.each(self.children, function (i, child) {\n      if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_CONTAINER) {\n        var result = child.getFocus();\n        if (!bizagi.util.isEmpty(result)) {\n          focus = result;\n        }\n      }\n    });\n\n    return focus;\n  },\n  /*\r\n     *   Get the custom handlers set for this execution\r\n     */\n  getCustomHandlers: function getCustomHandlers() {\n    var self = this;\n    var form = self.getFormContainer();\n\n    if (form) {\n      return form.getCustomHandlers();\n    }\n  },\n  /*\r\n     *   Get the custom handlers set for this execution\r\n     */\n  getCustomHandler: function getCustomHandler(key) {\n    var self = this;\n    var customHandlers = self.getCustomHandlers();\n\n    if (customHandlers) {\n      return customHandlers[key];\n    }\n  },\n  /*\r\n     *   Dispose the class so we can detect when a class is invalid already\r\n     */\n  dispose: function dispose() {\n    var self = this;\n\n    // Iterate through elements\n    var timeOutChildrenDispose = setTimeout(function () {\n      if (self.children) {\n        $.each(self.children, function (i, child) {\n          child.dispose();\n        });\n      }\n      clearTimeout(timeOutChildrenDispose);\n    }, bizagi.override.disposeTime || 50);\n\n    // Call base\n    self._super();\n  },\n\n  /*\r\n     *   Refresh the current container\r\n     */\n  refreshContainer: function refreshContainer(args) {\n    var self = this;\n    var properties = self.properties;\n    var form = self.getFormContainer();\n\n    // Start waiting\n    self.startLoading();\n\n    // Execute personalized stuff before to refresh it\n    self.beforeToRefresh();\n\n    // Call the service\n    return $.when(self.dataService.multiaction().refreshControl({\n      xpath: properties.xpath,\n      idRender: properties.id,\n      idPageCache: properties.idPageCache,\n      xpathContext: properties.xpathContext || args.xpathContext,\n      contexttype: self.properties.contexttype || \"\",\n      idForm: form && form.properties && form.properties.id ? form.properties.id : \"\" //To fix BA56877.\n    })).done(function (data) {\n\n      if (!self.isDisposed()) {\n        self.saveChildrenVisualChanges(self);\n\n        // Unregister children of container to replace in hash self.rendersById and self.rendersByXpath\n        self.unregisterChildren();\n        delete self.children;\n        delete self.childrenHash;\n\n        self.getFormContainer().removeActions();\n\n        // update editable\n        if (self.properties.editable === false) {\n          data.container && data.container.properties ? data.container.properties.editable = false : \"\";\n        }\n\n        // Update the data\n        self.initializeData(data.container);\n\n        // Render the container again\n        var currentContainer = self.container;\n        var result = self.render();\n\n        if (self.properties.type == \"tabItem\") {\n          $(result).addClass(\"childrenActive\");\n        }\n\n        currentContainer.replaceWith(result);\n\n        // Rebind the actions\n        var actions = data.container && data.container.actions ? data.container.actions : [];\n        self.getFormContainer().refreshActions(actions);\n\n        self.triggerChildrenActions();\n        self.restoreChildrenVisualChanges(self);\n\n        if (bizagi.override.restoreAppearanceAfterRefresh) {\n          self.restoreContainerAppearance(data.container);\n        }\n\n        // Execute personalized stuff after to refresh it\n        self.afterToRefresh();\n\n      }\n    }).fail(function (message) {\n      message = self.processFailMessage(message);\n\n    }).always(function () {\n      self.endLoading();\n    });\n  },\n\n  /*\r\n      *   Refresh the current container\r\n      */\n  refreshDesignContainer: function refreshDesignContainer(data) {\n    var self = this;\n    var properties = self.properties;\n\n    // Execute personalized stuff before to refresh it\n    self.beforeToRefresh(data);\n    //self.setActiveTab(data.elements);\n\n    $.extend(data.properties, {\n      editable: properties.editable,\n      contexttype: properties.contexttype || \"\",\n      idPageCache: properties.idPageCache,\n      idRender: properties.id,\n      messageValidation: properties.messageValidation,\n      uniqueId: properties.uniqueId,\n      visible: properties.visible,\n      xpath: properties.xpath,\n      mode: \"design\",\n      xpathContext: properties.xpathContext || \"\" });\n\n\n\n    if (!self.isDisposed()) {\n      // Unregister children of container to replace in hash self.rendersById and self.rendersByXpath\n      self.unregisterChildren();\n      delete self.children;\n      delete self.childrenHash;\n\n      // update editable\n      if (self.properties.editable === false) {\n        data.container && data.container.properties ? data.container.properties.editable = false : \"\";\n      }\n\n      // Update the data\n      self.initializeData(data.container);\n\n      // Render the container again\n      var currentContainer = self.container;\n      var result = self.render();\n\n      if (self.properties.type == \"tabItem\") {\n        $(result).addClass(\"childrenActive\");\n      }\n\n      currentContainer && currentContainer.replaceWith(result);\n\n      // Execute personalized stuff after to refresh it\n      self.afterToRefresh();\n    }\n  },\n\n  beforeToRefresh: function beforeToRefresh() {\n    var self = this;\n\n    // Call beforeToRefresh of each children\n    for (var i = 0; i < self.children.length; i++) {\n      self.children[i].beforeToRefresh();\n    }\n  },\n\n  afterToRefresh: function afterToRefresh() {\n    var self = this;\n\n    // Call beforeToRefresh of each children\n    for (var i = 0; i < self.children.length; i++) {\n      self.children[i].afterToRefresh();\n    }\n  },\n\n  /*\r\n     *   Re-execute children actions\r\n     */\n  triggerChildrenActions: function triggerChildrenActions() {\n    var self = this;\n    var children = self.children;\n\n    for (var i = 0, l = children.length; i < l; i++) {\n      var child = children[i];\n      var type = child.getElementType();\n\n      if (type === bizagi.rendering.element.ELEMENT_TYPE_CONTAINER) {\n        child.triggerChildrenActions();\n      } else if (type === bizagi.rendering.element.ELEMENT_TYPE_RENDER) {\n        child.triggerRenderChange({ changed: false });\n      }\n    }\n  },\n\n\n  /*\r\n     * register actions container\r\n     */\n  registerActions: function registerActions(actions) {\n    var self = this;\n    var form = self.getFormContainer();\n\n    if (actions) {\n      form.actionController.buildActions(actions);\n    }\n  },\n\n  /*\r\n     * unregister children container\r\n     */\n  unregisterChildren: function unregisterChildren() {\n    var self = this;\n\n    var form = self.getFormContainer();\n    var children = self.children;\n\n    for (var i = 0, l = children.length; i < l; i++) {\n      var child = children[i];\n      var type = child.getElementType();\n\n      if (type === bizagi.rendering.element.ELEMENT_TYPE_CONTAINER) {\n        child.unregisterChildren();\n      } else if (type === bizagi.rendering.element.ELEMENT_TYPE_RENDER) {\n        form.unregisterRender(child);\n      }\n    }\n  },\n  /*\r\n     * Replace child\r\n     */\n  replaceChild: function replaceChild(element) {\n    var self = this;\n\n    var children = self.children;\n\n    for (var i = 0, l = children.length; i < l; i++) {\n      var child = children[i];\n\n      if (child.properties.uniqueId == element.properties.uniqueId) {\n        children.splice(i, 1);\n        children.splice(i, 0, element);\n        break;\n      }\n    }\n  },\n  /*\r\n     * Gets child\r\n     */\n  getChildById: function getChildById(id) {\n\n    var self = this;\n\n    var children = self.children;\n\n    for (var i = 0, l = children.length; i < l; i++) {\n      var child = children[i];\n\n      if (child.properties.id == id) {\n        return child;\n      }\n    }\n\n    return null;\n  },\n\n  /**\r\n      * Restore appearance of container\r\n      * @param data\r\n      */\n  restoreContainerAppearance: function restoreContainerAppearance(data) {\n    var self = this;\n\n    self.restoreAppearance();\n\n    (data.elements || []).forEach(function (element) {\n      if (element.container) {\n        self.restoreContainerAppearance(element.container);\n      } else if (element.render) {\n        self.restoreElementAppearance(element.render);\n      }\n    });\n\n  },\n\n  /**\r\n      * Restore appearance of control\r\n      * @param data\r\n      */\n  restoreElementAppearance: function restoreElementAppearance(data) {\n    var self = this;\n    var element = self.getChildById(data.properties.id);\n\n    if (!!element) element.restoreAppearance();\n  },\n\n  /**\r\n      * Save visual changes of children\r\n      * @param data\r\n      */\n  saveChildrenVisualChanges: function saveChildrenVisualChanges(data) {\n    var self = this;\n    self.childrenVisualChanges = self.childrenVisualChanges || {};\n\n    (data.children || []).forEach(function (element) {\n      var type = element.getElementType();\n\n      if (type === bizagi.rendering.element.ELEMENT_TYPE_CONTAINER) {\n        self.childrenVisualChanges[element.properties.id] = element.visualChanges;\n        self.saveChildrenVisualChanges(element);\n      } else if (type === bizagi.rendering.element.ELEMENT_TYPE_RENDER) {\n        self.childrenVisualChanges[element.properties.id] = element.visualChanges;\n      }\n    });\n\n  },\n\n  /**\r\n      * Restore visual changes of children\r\n      * @param data\r\n      */\n  restoreChildrenVisualChanges: function restoreChildrenVisualChanges(data) {\n    var self = this;\n\n    (data.children || []).forEach(function (element) {\n\n      var type = element.getElementType();\n      var visualChanges = self.childrenVisualChanges && self.childrenVisualChanges[element.properties.id] || {};\n\n      if (type === bizagi.rendering.element.ELEMENT_TYPE_CONTAINER) {\n        element.visualChanges = visualChanges;\n        self.restoreChildrenVisualChanges(element);\n      } else if (type === bizagi.rendering.element.ELEMENT_TYPE_RENDER) {\n        element.visualChanges = visualChanges;\n      }\n\n    });\n\n    delete self.childrenVisualChanges;\n  } });","/*\r\n *   Name: Bizagi Render Base Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define a base render class with common stuff related to all renders\r\n */\n\n$.Class.extend(\"bizagi.rendering.render.base\", {}, {\n\n  /**\r\n                                                      * Method to process the render the layout\r\n                                                      * @param {boolean} isLabelFormat\r\n                                                      * @param {string} format\r\n                                                      */\n  processLayout: function processLayout(isLabelFormat, format) {\n    var properties = this.properties;\n\n    if (typeof isLabelFormat !== \"boolean\") {\n      console.warm(\"error calling processLayout, 'isLabelFormat' is not boolean\");\n      return;\n    }\n\n    if (isLabelFormat) {\n      this.processLabelLayout(format);\n    } else {\n      this.processControlLayout(format);\n\n      // Set required and visiblity\n      properties.required = typeof properties.required !== \"undefined\" ? bizagi.util.parseBoolean(properties.required) : false;\n      var visible = typeof properties.visible !== \"undefined\" ? bizagi.util.parseBoolean(properties.visible) : true;\n\n      if (properties.required) {\n        this.changeRequired(properties.required);\n      }\n\n      if (!visible) {\n        this.changeVisibility(visible);\n      }\n    }\n  },\n\n  /**\r\n      * Method to process the label in the layout\r\n      * @param {} format\r\n      * @returns {}\r\n      */\n  processLabelLayout: function processLabelLayout(format) {\n    var $label = this.getLabel();\n    if ($label == null) return;\n\n    // Set customizations\n    format = format || {};\n    if (typeof format.bold === \"undefined\") {\n      format.bold = true; // Default value\n    }\n\n    this.changeBackgroundColor(format.background).\n    changeFontColor($label, format.color).\n    changeFontBold($label, format.bold).\n    changeFontSize($label, format.size).\n    changeFontItalic($label, format.italic).\n    changeTextDecoration($label, (format.underline ? \"underline\" : \"\") + (format.strikethru ? \" line-through\" : \"\"));\n  },\n\n  /**\r\n      * Method to process the control in the layout\r\n      * @param {} format\r\n      * @returns {}\r\n      */\n  processControlLayout: function processControlLayout(format) {\n    var $control = this.getControl();\n    var $elements = this.getElementsToStylize($control);\n\n    // Set customizations\n    format = format || {};\n\n    this.changeFontColor($elements, format.color).\n    changeFontBold($elements, format.bold).\n    changeFontItalic($elements, format.italic).\n    changeFontSize($elements, format.size).\n    changeTextDecoration($elements, (format.underline ? \"underline\" : \"\") + (format.strikethru ? \" line-through\" : \"\"));\n  },\n\n  /**\r\n      * Customizes render color\r\n      * @param {} color\r\n      * @returns {}\r\n      */\n  changeColor: function changeColor(color) {\n    var $label = this.getLabel();\n    var $control = this.getControl();\n    var $elements = this.getElementsToStylize($control);\n\n    return this.\n    changeFontColor($label, color).\n    changeFontColor($elements, color);\n  },\n\n  /**\r\n      * Customizes render color\r\n      * @param {} $element\r\n      * @param {} color\r\n      * @returns {}\r\n      */\n  changeFontColor: function changeFontColor($element, color) {\n    if ($element === undefined) return this;\n    if (color === undefined) return this;\n\n    var style = color !== \"none\" ? color : \"\";\n    $element.css(\"color\", style);\n\n    return this;\n  },\n\n  /**\r\n      * Customizes the font size property\r\n      * @param {} $element\r\n      * @param {} size\r\n      * @returns {}\r\n      */\n  changeFontSize: function changeFontSize($element, size) {\n    if (size === undefined) return this;\n    if ($element === undefined) return this;\n\n    if (size !== \"0\") {\n      var newFontSize = 100 + Number(size) * 10 + \"%\";\n      $element.css(\"font-size\", newFontSize);\n    }\n\n    return this;\n  },\n\n  /**\r\n      * Customizes the font Strikethrough or underline property\r\n      * @param {} $element\r\n      * @param {} textDecoration\r\n      * @returns {}\r\n      */\n  changeTextDecoration: function changeTextDecoration($element, textDecoration) {\n    if (textDecoration === undefined) return this;\n    if ($element === undefined) return this;\n\n    textDecoration && $element.css(\"text-decoration\", textDecoration);\n\n    return this;\n  },\n\n  /**\r\n      * Customizes the font italic style\r\n      * @param {} $element\r\n      * @param {} italic\r\n      * @returns {}\r\n      */\n  changeFontItalic: function changeFontItalic($element, italic) {\n    var style = bizagi.util.parseBoolean(italic) ? \"italic\" : \"normal\";\n\n    $element.css(\"font-style\", style);\n\n    return this;\n  },\n\n  /**\r\n      * Customizes the font weight\r\n      * @param {} $label\r\n      * @param {} bold\r\n      * @returns {}\r\n      */\n  changeFontBold: function changeFontBold($label, bold) {\n    var style = bizagi.util.parseBoolean(bold) ? \"bold\" : \"normal\";\n\n    $label.css(\"font-weight\", style);\n\n    return this;\n  },\n\n  /**\r\n      * Customizes render background color\r\n      * @param {} color\r\n      * @returns {}\r\n      */\n  changeBackgroundColor: function changeBackgroundColor(color) {\n    if (typeof color === \"undefined\") return this;\n\n    if (color !== \"none\") {\n      this.element.css(\"background-color\", color);\n    } else {\n      this.element.css(\"background-color\", \"\");\n    }\n\n    return this;\n  },\n\n  /**\r\n      * Customizes render cell background color\r\n      * @param {} color\r\n      * @returns {}\r\n      */\n  changeCellBackgroundColor: function changeCellBackgroundColor(color) {\n    return this.getCellBackgroundFunction(this.properties.editable.toString(), this.properties.type)(color);\n  },\n\n  getCellBackgroundFunction: function getCellBackgroundFunction(editable, type) {\n    var options = {\n      'true': { //editable\n        'columnDate': this.changeInputBackgroundColor.bind(this) },\n\n      'false': { //no editable\n        'default': this.changeBackgroundColor.bind(this) //labels o valores no editables \n      },\n      'default': this.changeBackgroundColor.bind(this) //labels o valores no editables \n    };\n\n    return options[editable][type] || options['default'];\n  },\n\n  changeInputBackgroundColor: function changeInputBackgroundColor(color) {\n    if (typeof color === \"undefined\") return this;\n\n    if (color !== \"none\") {\n      $(\".bz-input-icon\", this.element).css(\"background-color\", color);\n    } else {\n      $(\".bz-input-icon\", this.element).css(\"background-color\", \"\");\n    }\n\n    return this;\n  },\n\n  /**\r\n      * This method just make a toggle of red label indicator\r\n      * @argument {boolean} argument\r\n      */\n  changeRequiredLabel: function changeRequiredLabel() {\n  },\n\n  /**\r\n      * Change cell required and attach bindings\r\n      * @param argument\r\n      */\n  changeCellRequired: function changeCellRequired(argument) {\n    this.changeRequired(argument);\n  },\n\n  /**\r\n      * \r\n      */\n  getRTLAlign: function getRTLAlign(align) {\n    if (typeof align == \"undefined\" || align == \"\") {\n      return \"default\";\n    }\n    return align;\n  },\n\n  /**\r\n      * TODO: This override should be removed after genome, just because the align shoudnt be depend of the display type\r\n      */\n  getDefaultLabelAlign: function getDefaultLabelAlign() {\n    return \"default\";\n  },\n\n  /**\r\n      * TODO: This override should be removed after genome, just because the align shoudnt be depend of the display type\r\n      */\n  getDefaultValueAlign: function getDefaultValueAlign() {\n    return \"default\";\n  } });","/**\r\n * Render a new type of form called template\r\n *\r\n * @author Edward Morales\r\n */\n$.Class.extend(\"bizagi.rendering.formTemplate\", {\n\n  /**\r\n                                                   *   Constructor\r\n                                                   */\n  init: function init(params) {\n    this._super(params);\n    if (params.paramsRender && params.paramsRender.contextEvent) {\n      self.contextEvent = params.paramsRender.contextEvent;\n    }\n  },\n\n  /**\r\n      * Process controls on template\r\n      * @param template\r\n      * @param controls\r\n      * @return {*}\r\n      */\n  processTemplate: function processTemplate(template, controls) {\n    var regexControl = /\\{\\{([\\w:]*)\\s*(\\{[\"':,-\\[\\]\\w\\s]*\\})\\}\\}/g;\n    var regexRepeater = /\\{\\{(((repeater)\\s*(\\{[\"':,-\\[\\]\\w\\s]*\\}))|([\\/repeater]+:item)|(\\/repeater)|(repeater)|(separator))\\}\\}/g;\n\n    // Remove all repeaters key words\n    var processedTemplate = template.replace(regexRepeater, \"\");\n\n    // replace controls\n    processedTemplate = processedTemplate.replace(regexControl, function (match, g1, g2, offset, string) {\n      var parameters = JSON.parse(g2);\n\n      return controls[parameters.id] || '';\n    });\n\n    processedTemplate = processedTemplate.replace(/{{([\\w:]*)\\s*}}/g, function () {\n      return '';\n    });\n\n\n    return processedTemplate;\n  },\n\n  /**\r\n      * Render layout container\r\n      * @return {*}\r\n      */\n  renderContainer: function renderContainer() {\n    var self = this;\n    var layoutCollection = self.getRenderByType(\"layout\");\n    var layout = layoutCollection.length > 0 ? layoutCollection[0] : {};\n    var template = typeof layout.getTemplate == \"function\" ? layout.getTemplate() : \"\";\n    var css = typeof layout.getCss == \"function\" ? layout.getCss() : \"\";\n    var mode = self.getMode();\n    var layoutGuid = self.properties.layoutguid || Math.guid();\n\n    var controls = {};\n\n    /**\r\n                        * Render all elements within first layout container\r\n                        */\n    if (layout.children) {\n      $.each(layout.children, function (i, child) {\n        // ignore layoutPlaceholder control in execution\n        if (!(mode == 'execution' && child.properties.type == 'layoutPlaceholder')) {\n\n          var type = child.getElementType();\n          if (type == bizagi.rendering.element.ELEMENT_TYPE_RENDER) {\n            controls[child.properties.id] = child.renderElement();\n          }\n          if (type == bizagi.rendering.element.ELEMENT_TYPE_CONTAINER) {\n            controls[child.properties.id] = child.renderContainerHtml();\n          }\n          self.childrenHash[child.properties.uniqueId] = child;\n        }\n      });\n    }\n\n    // Load css\n    bizagi.util.loadStyle(css, layoutGuid);\n\n    return self.processTemplate(template, controls);\n  },\n\n  /**\r\n      * Get the context in which loads the formTemplate\r\n      *\r\n      */\n  getContextEvent: function getContextEvent() {\n    return self.contextEvent;\n  } });","$.Class.extend(\"bizagi.rendering.layout\", {}, {\n\n  /**\r\n                                                 * Get html template\r\n                                                 * @return {*}\r\n                                                 */\n  getTemplate: function getTemplate() {\n    var self = this;\n    var mode = self.getMode();\n    var html = self.properties.html || \"\";\n\n    // Add a container, this is important in design to calculate the scroll \n    if (mode == 'design' && html) {\n      html = \"<div class='bz-design-template'>\" + html + \"</div>\";\n    }\n\n    return bizagi.util.stripslashes(html);\n  },\n\n  /**\r\n      * Get string css of layout container\r\n      * @return {*}\r\n      */\n  getCss: function getCss() {\n    var self = this;\n    var css = self.properties.css || \"\";\n\n    var mode = self.getMode();\n    if (mode == \"design\") {\n      css = css && css.desktop;\n    }\n\n    return bizagi.util.stripslashes(css);\n  },\n\n\n  /*\r\n      *   Template method to process each jquery object\r\n      *   must be overriden in each container\r\n      */\n  postRenderContainer: function postRenderContainer(container) {\n    var self = this;\n    var mode = self.getMode();\n\n    // Resolve rendering deferred\n    if (self.renderingDeferred)\n    self.renderingDeferred.resolve();\n\n    // Process children elements\n    self.container = container;\n    self.executeChildrenPostRender(container);\n\n    if (mode == \"execution\") {\n      // Apply handlers\n      self.configureHandlers();\n    }\n    if (mode == \"design\") {\n      // Configure view\n      self.configureDesignView();\n    }\n    if (mode == \"layout\") {\n      // Configure view\n      self.configureDesignView();\n      self.configureLayoutView();\n    }\n  } });","/*\r\n*   Name: BizAgi Accordion Container Class\r\n*   Author: Diego Parra\r\n*   Comments:\r\n*   -   This script will define a accordion container class for all devices\r\n*/\n\n$.Class.extend(\"bizagi.rendering.accordion\", {}, {\n\n  /*\r\n                                                   *   Constructor\r\n                                                   */\n  initializeData: function initializeData(params) {\n    var self = this;\n\n    // Call base\n    this._super(params);\n\n    // Enumerate the children appending a property\n    $.each(self.children, function (i, child) {\n      child.properties.ordinal = i;\n    });\n  },\n\n\n  /*\r\n     *   Render the container layout\r\n     */\n  renderContainer: function renderContainer() {\n    var self = this;\n    var properties = self.properties;\n    var template = self.renderFactory.getTemplate(\"accordion\");\n\n    // Render the accordion\n    var html = $.fasttmpl(template, {\n      uniqueId: properties.uniqueId });\n\n\n    // Render children\n    html = self.replaceChildrenHtml(html, self.renderChildrenHtml());\n    return html;\n  } });","/*\r\n*   Name: BizAgi Accordion Item Container Class\r\n*   Author: Diego Parra\r\n*   Comments:\r\n*   -   This script will define a accordion item class for all devices\r\n*/\n\n$.Class.extend(\"bizagi.rendering.accordionItem\", {}, {\n\n  /*\r\n                                                       *   Render the container layout\r\n                                                       */\n  renderContainer: function renderContainer() {\n    var self = this;\n    var properties = this.properties;\n    var template = self.renderFactory.getTemplate(\"accordionItem\");\n\n    // Render the accordionItem\n    var html = $.fasttmpl(template, {\n      id: properties.id,\n      ordinal: properties.ordinal,\n      displayName: properties.displayName,\n      orientation: properties.orientation,\n      uniqueId: properties.uniqueId });\n\n\n    // Render children\n    html = self.replaceChildrenHtml(html, self.renderChildrenHtml());\n    return html;\n  },\n\n  /*\r\n     *   Fires when the accordionItem is selected \r\n     */\n  activate: function activate() {\n    var self = this;\n    self.active = true;\n  },\n\n  /*  \r\n     *   Return the current focuses container\r\n     */\n  getFocus: function getFocus() {\n    var self = this;\n    var focus = self._super();\n    if (bizagi.util.isEmpty(focus) && self.active) {\n      focus = self.properties.id;\n    }\n\n    return focus;\n  } });","/*\r\n*   Name: Bizagi Render CollectionNavigator\r\n*   Author: UI Forms Team\r\n*   Comments:\r\n*   -   This script will define basic stuff for collection navigator renders\r\n*/\n\n$.Class.extend(\"bizagi.rendering.collectionnavigator\", {}, {\n\n  initializeData: function initializeData(params) {\n    var self = this;\n\n    self._super(params);\n\n    var properties = self.properties;\n    properties.allowAdd = typeof properties.allowAdd != \"undefined\" ? bizagi.util.parseBoolean(properties.allowAdd) : true;\n    properties.withAddForm = properties.withAddForm && properties.allowAdd;\n    properties.allowEdit = typeof properties.allowEdit != \"undefined\" ? bizagi.util.parseBoolean(properties.allowEdit) : true;\n    properties.withEditForm = properties.withEditForm && properties.allowEdit;\n    properties.allowDetail = typeof properties.allowDetail != \"undefined\" ? bizagi.util.parseBoolean(properties.allowDetail) : false;\n    properties.inlineAdd = typeof properties.inlineAdd != \"undefined\" ? bizagi.util.parseBoolean(properties.inlineAdd) : true;\n    properties.inlineAdd = properties.inlineAdd && properties.allowAdd;\n    properties.inlineEdit = typeof properties.inlineEdit != \"undefined\" ? bizagi.util.parseBoolean(properties.inlineEdit) : true;\n    properties.inlineEdit = properties.inlineEdit && properties.allowEdit;\n    properties.allowDelete = typeof properties.allowDelete != \"undefined\" ? bizagi.util.parseBoolean(properties.allowDelete) : true;\n\n    self.orientation = self.properties.orientation || \"ltr\",\n    self.data = self.properties.data;\n    self.keys = self.data ? self.getKeys(self.data.rows) : [];\n    self.pointer = 0;\n    self.totalRows = 0;\n    self.inlineAddRecords = [];\n\n    if (self.data) {\n      self.totalRows = self.data.rows.length;\n    }\n  },\n  /*\r\n     * Normalize keys\r\n     */\n  getKeys: function getKeys(rows) {\n    rows = rows || [];\n    var keys = [];\n\n    for (var i = 0, l = rows.length; i < l; i++) {\n      var row = rows[i];\n      keys.push(row[0]);\n    }\n    return keys;\n  },\n\n  /*\r\n     *   Render the control\r\n     */\n  renderControl: function renderControl() {\n    var self = this;\n    var properties = this.properties;\n    var templateItem = \"collectionnavigator\";\n    var template = self.renderFactory.getTemplate(templateItem);\n    var mode = self.getMode();\n\n    // Render the container\n    var html = $.fasttmpl(template, {\n      uniqueId: properties.uniqueId,\n      displayName: properties.displayName ? properties.displayName : \"\",\n      id: properties.id,\n      guid: properties.guid,\n      showPreview: self.showPreview(),\n      mode: mode,\n      orientation: self.getFormContainer().properties.orientation });\n\n\n    html = self.drawControls(html);\n\n    return html;\n  },\n\n  /*\r\n     * Render version readonly of control\r\n     */\n  renderReadOnly: function renderReadOnly() {\n    return this.renderControl();\n  },\n\n  /*\r\n     * Draw navigation controls\r\n     */\n  drawControls: function drawControls(html) {\n\n  },\n\n  /*\r\n     *  render several actions in the navigation palete\r\n     *  ex. save, cancel \r\n     */\n  drawActions: function drawActions(controls) {\n\n  },\n\n  /*\r\n     * Render navigation controls (next, previous, last, first. etc )\r\n     */\n  drawControl: function drawControl(controls) {\n\n  },\n\n  /*\r\n     * Draw forms options (add form, edit form, navigation form)\r\n     */\n  drawForms: function drawForms(controls) {\n\n  },\n\n  /*\r\n     * Draw a preview views, it will be show when the collection hasn't records\r\n     */\n  drawPreview: function drawPreview() {\n    var self = this;\n    var mode = self.getMode();\n    var templateItem = mode === \"execution\" ? \"collectionnavigator-execution\" : \"collectionnavigator-preview\";\n    var template = self.renderFactory.getTemplate(templateItem);\n    var html = $.tmpl(template);\n\n    self.canvas.append(html);\n\n  },\n\n  /*\r\n     * Returns true if the collection has data\r\n     */\n  hasData: function hasData() {\n    return this.getTotalRows() > 0;\n  },\n\n  /*\r\n     * Returns the key of current row\r\n     */\n  getRow: function getRow() {\n    return this.keys[this.pointer];\n  },\n\n  /*\r\n     * Returns the key of next row\r\n     */\n  getNextRow: function getNextRow() {\n    var self = this;\n\n    if (self.getTotalRows() > self.pointer + 1)\n    self.pointer += 1;\n\n    return self.getRow();\n  },\n\n  /*\r\n     * Returns the key of previous row\r\n     */\n  getPreviousRow: function getPreviousRow() {\n    var self = this;\n\n    if (self.pointer > 0)\n    self.pointer -= 1;\n\n    return self.getRow();\n  },\n\n  /*\r\n     * Returns the key of first row\r\n     */\n  getFirstRow: function getFirstRow() {\n    var self = this;\n\n    self.pointer = 0;\n    return self.getRow();\n  },\n\n  /*\r\n     * Returns the key of last row\r\n     */\n  getLastRow: function getLastRow() {\n    var self = this;\n\n    self.pointer = self.keys.length - 1;\n    return self.getRow();\n  },\n\n  /*\r\n     * Returns the total numbers of rows in collection\r\n     */\n  getTotalRows: function getTotalRows() {\n    return this.keys.length;\n  },\n\n  getIndexes: function getIndexes() {\n    return this.properties.data.rows;\n  },\n\n  /*\r\n     * Sets the pointer to a specific position\r\n     */\n  setPointer: function setPointer(index) {\n    this.pointer = index - 1;\n  },\n\n  /*\r\n     * Returns true is there is a inline row pending to save\r\n     */\n  isTherePendingInlineRow: function isTherePendingInlineRow() {\n    return this.inlineAddRecords.length > 0;\n  },\n\n  /*\r\n     * Adds new row to collection\r\n     */\n  addKey: function addKey(newId) {\n    this.keys.push(newId);\n  },\n\n  /*\r\n     * Removes row in collection\r\n     */\n  removeKey: function removeKey() {\n    var self = this;\n    var index = self.pointer;\n\n    if (index >= 0) {\n      self.keys.splice(index, 1);\n\n      var totalRows = self.getTotalRows();\n      if (totalRows > 0 && index >= totalRows) {\n        self.setPointer(totalRows);\n      }\n    }\n  },\n\n  /*\r\n     * Returns true if the control should show the preview view\r\n     * ex. if the collection is empty \r\n     */\n  showPreview: function showPreview() {\n    var self = this;\n    var mode = self.getMode();\n    var properties = self.properties;\n\n    if (mode == \"execution\") {\n      return !self.hasData();\n    } else {\n      return !bizagi.util.parseBoolean(properties.navigationform);\n    }\n  },\n\n  /*\r\n     * Returns the parameters needed for the request\r\n     */\n  getParameters: function getParameters(params) {\n    var self = this;\n\n    var parameters = {};\n    var properties = self.properties;\n    var recordXpath = properties.xpath + \"[id=\" + params.id + \"]\";\n\n    parameters.idRender = properties.id;\n    parameters.recordXPath = recordXpath;\n    parameters.xpathContext = properties.xpathContext;\n    parameters.idPageCache = properties.idPageCache;\n    parameters.requestedForm = params.requestedForm;\n    parameters.contextType = properties.contextType || properties.contexttype;\n    parameters.url = params.url;\n    parameters.editable = params.editable;\n    orientation: properties.orientation || \"ltr\";\n\n\n    return parameters;\n  },\n\n  /*\r\n     *   Submits a collection navigator add record request\r\n     *   Returns a deferred when done, the server returns an id for the new record\r\n     */\n  submitAddRequest: function submitAddRequest() {\n    var self = this;\n    var properties = self.properties;\n\n    var request = self.dataService.addGridRecord({\n      url: properties.addUrl,\n      idRender: properties.id,\n      xpath: properties.xpath,\n      xpathContext: properties.xpathContext,\n      contexttype: properties.contextType || properties.contexttype,\n      idPageCache: properties.idPageCache,\n      orientation: properties.orientation || \"ltr\" });\n\n\n    var filterResponse = request.pipe(function (data) {\n      // Parses response\n      return data.idEntity;\n    });\n\n    return filterResponse.promise();\n  },\n\n  /*\r\n     *   Submits a edit record request for the given id \r\n     *   Returns a deferred\r\n     */\n  submitEditRequest: function submitEditRequest(id) {\n    var self = this;\n    var properties = self.properties;\n    var xpath = properties.xpath + \"[id=\" + id + \"]\";\n\n    return self.dataService.editGridRecord({\n      url: properties.editUrl,\n      idRender: properties.id,\n      xpath: xpath,\n      xpathContext: properties.xpathContext,\n      idPageCache: properties.idPageCache,\n      contexttype: properties.contextType || properties.contexttype || '',\n      orientation: properties.orientation || \"ltr\" });\n\n  },\n\n  /*\r\n     *   Submits a collection delete record request for the given id \r\n     *   Returns a deferred\r\n     */\n  submitDeleteRequest: function submitDeleteRequest(id) {\n    var self = this;\n    var properties = self.properties;\n    var xpath = properties.xpath + \"[id=\" + id + \"]\";\n\n    return self.dataService.deleteGridRecord({\n      url: properties.deleteUrl,\n      idRender: properties.id,\n      xpath: xpath,\n      xpathContext: properties.xpathContext,\n      idPageCache: properties.idPageCache,\n      contexttype: properties.contextType || properties.contexttype }).\n    pipe(function (data) {\n      if (data.type == \"validationMessages\") {\n        var form = self.getFormContainer();\n        var message = data.messages.join(\" \");\n        form.failHandler({ message: message });\n      }\n\n      return data;\n    });\n  },\n\n  /*\r\n     *   Submits a collection navigator edit record request for the given id \r\n     *   Returns a deferred\r\n     */\n  submitSaveRequest: function submitSaveRequest(id, data) {\n    var self = this;\n    var properties = self.properties;\n    var defer = $.Deferred();\n\n    // Calculate xpath context\n    var xpathContext = properties.xpathContext.length > 0 ? properties.xpathContext + \".\" + properties.xpath + \"[id=\" + id + \"]\" : properties.xpath + \"[id=\" + id + \"]\";\n\n    var deferredsToWait = null;\n    if (data.deferreds) {\n      deferredsToWait = $.when.apply($, data.deferreds);\n      delete data.deferreds;\n    }\n\n    $.when(deferredsToWait).then(function () {\n      if (!bizagi.util.isEmpty(data)) {\n        data.idPageCache = data.idPageCache || self.form.getPageCache();\n        self.dataService.saveGridRecord({\n          url: properties.saveUrl,\n          idRender: properties.id,\n          xpath: properties.xpath,\n          xpathContext: xpathContext,\n          contexttype: properties.contextType || properties.contexttype || \"\",\n          submitData: data }).\n        done(function (response) {\n          defer.resolve(response);\n        }).fail(function (dataFail) {\n          var form = self.getFormContainer();\n          var message = dataFail.responseText ? dataFail.responseText : typeof dataFail == \"string\" ? dataFail : dataFail.toString();\n          //Convert String to object\n          if (typeof message == \"string\") {\n            try {\n              message = JSON.parse(message).message;\n            } catch (e) {\n              message = message.match(/\"message\":(.*)\",/)[0];\n              message = message.substr(11, message.length - 13);\n            }\n\n          } else if (!message.message) {\n            message = dataFail;\n          }\n          form.validateForm();\n          form.clearValidationMessages();\n          form.addValidationMessage(message);\n        });\n      } else {\n        defer.resolve();\n      }\n    });\n\n    return defer.promise();\n  },\n\n  /*\r\n     *   Submits a collection navigator rollback request\r\n     *   Returns a deferred when done\r\n     */\n  submitRollbackRequest: function submitRollbackRequest(error) {\n    var self = this;\n    var properties = self.properties;\n\n    return self.dataService.rollbackGridAction({\n      url: properties.rollbackUrl,\n      idRender: properties.id,\n      xpath: properties.xpath,\n      xpathContext: properties.xpathContext,\n      idPageCache: error.idPageCache,\n      contexttype: self.properties.contexttype || \"\" });\n\n  },\n  /*\r\n     *   Fetch the data into a deferred\r\n     */\n  getRemoteData: function getRemoteData(params) {\n    var self = this;\n    var properties = self.properties;\n\n    // Set params\n    params = params || {};\n    $.extend(params, {\n      url: properties.dataUrl,\n      xpath: properties.xpath,\n      idRender: properties.id,\n      xpathContext: properties.xpathContext,\n      contexttype: properties.contextType || properties.contexttype,\n      idPageCache: properties.idPageCache });\n\n\n\n    return self.dataService.getData(params);\n  },\n\n  isValid: function isValid(invalidElements) {\n    var form = this.form;\n\n    if (typeof form !== \"undefined\") {\n      (form.children || []).forEach(function (child) {\n        if (child.properties.visible) {\n          if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_CONTAINER) {\n            // Go though container\n            child.isValid(invalidElements);\n\n          } else if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_RENDER) {\n            // Go to the render\n            if (!child.isValid(invalidElements)) {\n              var content = invalidElements[invalidElements.length - 1];\n              invalidElements[invalidElements.length - 1] = $.extend(content, {\n                id: child.properties.id });\n\n            }\n          }\n        }\n      });\n    }\n\n    return invalidElements.length === 0;\n  },\n\n  validateControls: function validateControls(invalidElements) {\n    if (!this.form) return false;\n    return this.form.validationController.performValidations(invalidElements);\n  } });","/*\r\n*   Name: Bizagi Group Container Class\r\n*   Author: Diego Parra\r\n*   Comments:\r\n*   -   This script will define a group container class for all devices\r\n*/\n\n$.Class.extend(\"bizagi.rendering.group\", {}, {\n\n  /*\r\n                                               *   Constructor\r\n                                               */\n  initializeData: function initializeData(params) {\n    var self = this;\n\n    // Call base\n    self._super(params);\n\n    // Default properties\n    var properties = self.properties;\n\n    properties.helpText = properties.helpText || properties.displayName;\n\n    // Extend css property \n    properties.cssclass = properties.cssclass || \"cssClassContainer\";\n\n    properties.collapse = typeof properties.collapse != \"undefined\" && bizagi.util.parseBoolean(properties.collapse) ? true : false;\n  },\n\n  /*\r\n     *   Render the container layout\r\n     */\n  renderContainer: function renderContainer() {\n    var self = this;\n    var properties = this.properties;\n    var template = self.renderFactory.getTemplate(\"group\");\n\n    // Define icons\n    self.expandedIcon = self.getExpandedIcon();\n    self.collapsedIcon = self.getCollapsedIcon();\n\n    // Render the panel\n    var html = $.fasttmpl(template, {\n      expandedClassIcon: self.expandedIcon,\n      displayName: properties.displayName,\n      editable: properties.editable,\n      orientation: properties.orientation,\n      uniqueId: properties.uniqueId,\n      collapse: properties.collapse,\n      isDesign: self.getMode() !== \"execution\",\n      messageValidation: properties.messageValidation,\n      cssclass: properties.cssclass,\n      guid: properties.guid });\n\n\n    // Render children\n    html = self.replaceChildrenHtml(html, self.renderChildrenHtml());\n    return html;\n  },\n\n  /*\r\n     *   Returns the expanded icon\r\n     */\n  getExpandedIcon: function getExpandedIcon() {},\n\n  /*\r\n                                                  *   Returns the collapsed icon\r\n                                                  */\n  getCollapsedIcon: function getCollapsedIcon() {},\n\n  /* \r\n                                                    *   Expands or collapse the container \r\n                                                    */\n  toogleContainer: function toogleContainer(argument, bImmediate) {} });","/*\r\n *   Name: Bizagi Section Container Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define a section container class for all devices\r\n */\n\n$.Class.extend(\n\"bizagi.rendering.section\",\n{},\n{\n  /**\r\n   * Constructor\r\n   * @param {object} params - section information\r\n   */\n  initializeData: function initializeData(params) {\n    var self = this;\n\n    // Call base\n    self._super(params);\n\n    // Default properties\n    var properties = self.properties;\n\n    properties.helpText = properties.helpText || properties.displayName;\n    properties.displayAs = properties.displayAs || \"section\";\n  },\n\n  /**\r\n      * Render the trigger of the section.\r\n      * @returns string with html code.\r\n      */\n  renderContainer: function renderContainer() {\n    var self = this;\n    var properties = this.properties;\n    var template = this.renderFactory.getTemplate(\"section-header\");\n\n    // Render the section trigger\n    var html = $.fasttmpl(template, {\n      displayName: properties.displayName,\n      editable: properties.editable,\n      orientation: properties.orientation,\n      uniqueId: properties.uniqueId,\n      isDesign: self.getMode() !== \"execution\",\n      messageValidation: properties.messageValidation,\n      guid: properties.guid });\n\n    this.sectionContent = $(this.renderSectionContent())[0];\n    return html;\n  },\n\n  /**\r\n      * Render the content of the section.\r\n      * Overwritable on devices.\r\n      */\n  renderSectionContent: function renderSectionContent() {},\n\n  /**\r\n                                                             * Return the breadcrumb of the section.\r\n                                                             * @returns An array with breadcrumb. For example: [\"activity\", \"parent section\", \"child section\"]\r\n                                                             */\n  getBreadcrumb: function getBreadcrumb() {\n    var container = this;\n    var breadCrumb = [];\n\n    while (container) {\n      var properties = container.properties || {};\n      var params = container.params || {};\n\n      if (properties.type === \"section\") {\n        var displayName = properties.displayName ? properties.displayName : \"\";\n        breadCrumb.unshift(displayName);\n      } else if (params.type === \"form\") {\n        breadCrumb.unshift(this.getResourceByKey(\"render-section-breadcrumb-main-form\", \"Main form\"));\n      }\n      container = container.parent;\n    }\n    return breadCrumb;\n  },\n\n  /**\r\n      * Gets the display name of the previous section or form.\r\n      * @returns String with the display name\r\n      */\n  getParentDisplayName: function getParentDisplayName() {\n    var self = this;\n    var parent = self.getSectionParent(self.parent);\n    var displayName = \"\";\n\n    //TODO Improve this code implementation \n    if (parent.properties.type == \"form\") {\n      if (parent.properties.formtype && parent.properties.formtype == \"startform\") {\n        displayName = parent.params && parent.params.originalParams && parent.params.originalParams.displayName ? parent.params.originalParams.displayName : \"\";\n      } else\n      {\n        displayName = parent.properties.displayName || parent.params.displayName || parent.params.radNumber || parent.params.idCase;\n      }\n    } else {\n      displayName = parent.properties.displayName || \"\";\n    }\n\n    return displayName;\n  },\n\n  /**\r\n      * Gets the section's parent.\r\n      * @returns Object parent\r\n      */\n  getSectionParent: function getSectionParent(parent) {\n    if (parent.properties.type === \"section\" || !parent.parent) {\n      return parent;\n    } else {\n      return this.getSectionParent(parent.parent);\n    }\n  },\n\n  /**\r\n      * Gets if the section's  orientation is RTL.\r\n      * @returns Object\r\n      */\n  getSectionOrientationRTL: function getSectionOrientationRTL(obj) {\n    if (obj && obj.properties && obj.properties.orientation && obj.properties.orientation === \"ltr\") return false;\n    if (obj && obj.properties && obj.properties.orientation && obj.properties.orientation === \"rtl\") return true;\n    if (obj.parent) return this.getSectionOrientationRTL(obj.parent);\n    return false;\n  } });","/*\r\n*   Name: BizAgi Horizontal Container Class\r\n*   Author: Diego Parra\r\n*   Comments:\r\n*   -   This script will define a tab item class for all devices\r\n*/\n\n\n$.Class.extend(\"bizagi.rendering.horizontal\", {}, {\n\n  /*\r\n                                                    *   Render the container layout\r\n                                                    */\n  renderContainer: function renderContainer() {\n    var self = this;\n    var properties = this.properties;\n    var template = self.renderFactory.getTemplate(\"horizontal\");\n\n    // Render the container\n    var html = $.fasttmpl(template, {\n      uniqueId: properties.uniqueId });\n\n\n    // Render children\n    html = self.replaceChildrenHtml(html, self.renderChildrenHtml());\n    return html;\n  } });","/*\r\n*   Name: Bizagi Panel Container Class\r\n*   Author: Diego Parra\r\n*   Comments:\r\n*   -   This script will define a panel container class for all devices\r\n*/\n\n$.Class.extend(\"bizagi.rendering.panel\", {}, {\n\n  /*\r\n                                               *   Constructor\r\n                                               */\n  initializeData: function initializeData(params) {\n    var self = this;\n\n    // Call base\n    self._super(params);\n\n    // Override properties\n    var properties = self.properties;\n    properties.displayName = properties.displayName || \"\";\n\n    if (properties.type == \"nestedForm\") {\n      var formContainer = self.getFormContainer();\n      formContainer.rendersById[properties.idForm] = self;\n    }\n  },\n\n\n  /*\r\n     *   Render the container layout\r\n     */\n  renderContainer: function renderContainer() {\n    var self = this;\n    var properties = this.properties;\n    var template = self.renderFactory.getTemplate(\"panel\");\n\n    // Render the panel\n    var html = $.fasttmpl(template, {\n      displayName: properties.displayName,\n      loading: properties.loading,\n      message: properties.message,\n      orientation: properties.orientation,\n      uniqueId: properties.uniqueId,\n      cssClass: properties.cssclass });\n\n\n    // Render children\n    html = self.replaceChildrenHtml(html, self.renderChildrenHtml());\n    return html;\n  },\n\n  /*\r\n     *   Process the html rendering object\r\n     */\n  postRenderContainer: function postRenderContainer(panel) {\n    var self = this;\n    var properties = self.properties;\n\n    // Set height\n    if (properties.height) {\n      panel.height(properties.height);\n    }\n\n    // Call base\n    self._super(panel);\n  } });","/*\r\n*   Name: Bizagi Panel Container Class\r\n*   Author: David Romero\r\n*   Comments:\r\n*   -   This script will define a panel container class for all devices\r\n*/\n\n$.Class.extend(\"bizagi.rendering.contentPanel\", {}, {\n\n  /*\r\n                                                      *   Constructor\r\n                                                      */\n  initializeData: function initializeData(params) {\n    var self = this;\n\n    // Call base\n    self._super(params);\n\n    // Override properties\n    var properties = self.properties;\n    properties.displayName = properties.displayName || \"\";\n  },\n\n\n  /*\r\n     *   Render the container layout\r\n     */\n  renderContainer: function renderContainer() {\n    var self = this;\n    var properties = this.properties;\n    var template = self.renderFactory.getTemplate(\"contentPanel\");\n\n    // Render the panel\n    var html = $.fasttmpl(template, {\n      displayName: properties.displayName,\n      mode: self.getMode(),\n      uniqueId: properties.uniqueId,\n      isDesign: self.getMode() === \"design\",\n      messageValidation: properties.messageValidation,\n      cssClass: properties.cssclass,\n      guid: properties.guid });\n\n\n    // Render children\n    html = self.replaceChildrenHtml(html, self.renderChildrenHtml());\n    return html;\n  },\n\n  /*\r\n     *   Process the html rendering object\r\n     */\n  postRenderContainer: function postRenderContainer(panel) {\n    // Call base\n    this._super(panel);\n  } });","/**\r\n *   Name: Bizagi Panel Container Class\r\n *   Author: Bizagi UI Forms\r\n *   Comments:\r\n *   -   This script will define a panel container class for all devices\r\n */\n\n$.Class.extend(\"bizagi.rendering.searchForm\", {}, {\n\n  /*\r\n                                                    *   Render the container layout\r\n                                                    */\n  renderContainer: function renderContainer() {\n    var self = this;\n    var properties = this.properties;\n    var template = self.renderFactory.getTemplate(\"searchForm\");\n\n    if (properties.contexttype !== \"entity\" && self.parent) {\n      properties.contexttype = typeof self.parent.getContextType == 'function' ? self.parent.getContextType() : \"\";\n    }\n\n    // Render the panel\n    var html = $.fasttmpl(template, {\n      displayName: properties.displayName,\n      uniqueId: properties.uniqueId });\n\n\n    // Render children\n    html = self.replaceChildrenHtml(html, self.renderChildrenHtml());\n\n    // Render result\n    html = html.replaceFirstWithoutPatterns(\"{{result}}\", self.renderResult());\n\n    return html;\n  },\n\n  /*\r\n     *   Perform a search and render the results\r\n     */\n  performSearch: function performSearch(searchParams) {\n    var properties = this.properties;\n\n    // Set parameter to search\n    properties.searchParams = searchParams;\n\n    // Submit the search to the server\n    this.submitSearch();\n  },\n\n  /*\r\n     *   Submits the query to the server\r\n     */\n  submitSearch: function submitSearch() {\n    // Makes the results to update its contents\n    this.refreshResults();\n  },\n\n  /*\r\n     *   Returns a promise that will resolve when the element is ready\r\n     */\n  ready: function ready() {\n    return this.parent.ready();\n  },\n\n  /*\r\n     *   Method to fill the result data\r\n     *   (THIS IS CALLED WITHIN GRID RENDER SCOPE)\r\n     */\n  getRemoteData: function getRemoteData(params) {\n    var self = this;\n    var properties = self.properties;\n    var defer = new $.Deferred();\n\n    // Collect data\n    var data = self.collectSearchValues();\n\n    if (bizagi.util.isMapEmpty(data)) {\n      bizagi.showMessageBox(this.getResource(\"render-search-advanced-no-filters\"), this.getResource(\"render-form-dialog-box-search\"), \"error\");\n      return null;\n    }\n\n    params.rows = properties.searchParams && properties.searchParams.maxRecords && properties.searchParams.maxRecords > 0 ? properties.searchParams.maxRecords : params.rows;\n\n    // The Grid only support one row per page in smartphone (DRAGON-41733 / QAF-3916)         \n    if (properties.searchParams && typeof properties.searchParams.maxRows !== \"undefined\") {\n      params.rows = properties.searchParams.maxRows || params.rows;\n    }\n\n    // Resolve with remote data\n    self.dataService.submitSearch($.extend(params, {\n      url: properties.dataUrl,\n      idRender: properties.idRender,\n      idPageCache: properties.idPageCache,\n      idSearchForm: properties.id,\n      allowFullSearch: properties.searchParams.allowFullSearch ? properties.searchParams.allowFullSearch : null,\n      maxRecords: properties.searchParams.maxRecords > 0 ? properties.searchParams.maxRecords : null,\n      criteria: data })).\n\n    done(function (response) {\n\n      // Resolve with fetched data    \n      properties.page = response.page;\n      properties.records = response.records;\n      properties.totalPages = response.totalPages || 0;\n\n      //In tablets are allowed about 10000 records as maximum\n      if (response.records > 10000) {\n        properties.deviceMaxRecordsExceeded = true;\n        response.deviceMaxRecordsExceeded = true;\n      } else {\n        delete properties.deviceMaxRecordsExceeded;\n      }\n\n      defer.resolve(response);\n\n      // Call virtual method\n      self.onSearchFinished();\n    }).fail(function (errorObject) {\n      bizagi.showErrorAlertDialog = false;\n      if (errorObject.responseText) {\n        try {\n          var message = JSON.parse(errorObject.responseText).message;\n          bizagi.showMessageBox(message, \"\", \"error\");\n        } catch (e) {\n        }\n      }\n      defer.reject();\n    });\n\n    return defer.promise();\n  },\n\n  /*\r\n     *   Iterate through all the renders in the container and fills the hashtable\r\n     *   - Overriden because server needs this in array\r\n     */\n  collectSearchValues: function collectSearchValues() {\n    var self = this;\n\n    // Collect data\n    var data = {};\n    this.collectRenderValues(data);\n\n    // Changes to array\n    var submitArray = [];\n    for (key in data) {\n      var xpath = key;\n      var value = data[key];\n      var operation = self.getCriteriaOperation(self.getRender(xpath));\n      var criteriaData = {};\n      if (!bizagi.util.isEmpty(value)) {\n        criteriaData[\"xpath\"] = xpath;\n        criteriaData[\"value\"] = value;\n        criteriaData[\"operation\"] = operation;\n        submitArray.push(criteriaData);\n      }\n    }\n\n    return submitArray;\n  },\n\n  /*\r\n     *   This method find out the criterial operation to be executed according to\r\n     *   data type. Text renders use LIKE operation, but other data types such like\r\n     *   numerics use exact match operatiors\r\n     */\n  getCriteriaOperation: function getCriteriaOperation(render) {\n    var self = this;\n    var properties = self.properties;\n\n    var operation = \"EQUALS\";\n    if (render.properties.dataType == \"15\") {\n      if (typeof render.properties.typeSearch === \"undefined\" || render.properties.typeSearch === \"approx\") {\n        if (properties.allowFullSearch) {\n          operation = \"FULLLIKE\";\n        } else {\n          operation = \"LIKE\";\n        }\n      }\n    }\n    return operation;\n  },\n\n  /*\r\n     *   Render the result controls for the query\r\n     *   Resolved in each device\r\n     */\n  renderResult: function renderResult() {\n  },\n\n  /*\r\n     *   Refresh the result panel, making it to query data with current criteria\r\n     */\n  refreshResults: function refreshResults() {\n  },\n\n  /*\r\n     *   Function to parse the dataType\r\n     */\n  parseAdditionalProperties: function parseAdditionalProperties(dataType) {\n\n    // Number\n    if (dataType == 1 || dataType == 2 || dataType == 3 ||\n    dataType == 4 || dataType == 6 || dataType == 7 ||\n    dataType == 10 || dataType == 11) {\n      return { type: \"columnNumber\" };\n    }\n\n    // Oracle Number\n    if (dataType == 29) {\n      return { type: \"columnNumberScientificNotation\" };\n    }\n\n    // Money\n    if (dataType == 8) {\n      return { type: \"columnMoney\" };\n    }\n\n    // Date\n    if (dataType == 12 || dataType == 13) {\n      return { type: \"columnDate\" };\n    }\n\n    // Boolean\n    if (dataType == 5) {\n      return { type: \"columnBoolean\" };\n    }\n\n    // Text\n    return { type: \"columnText\" };\n  },\n\n  /*\r\n     *\r\n     */\n  onSearchFinished: function onSearchFinished() {\n    // Empty function, overrided for Tablet version for now\n  } });","/*\r\n *   Name: BizAgi Tab Container Class\r\n *   Author: Diego Parra\r\n *   Comments:\r\n *   -   This script will define a tab container class for all devices\r\n */\n\n$.Class.extend(\"bizagi.rendering.tab\", {}, {\n\n  /*\r\n                                              *   Constructor\r\n                                              */\n  initializeData: function initializeData(params) {\n    var self = this;\n\n    // Call base\n    this._super(params);\n\n    // Default properties\n    var properties = self.properties;\n    properties.helpText = properties.helpText || properties.displayName;\n\n    // Extend css property\n    properties.cssclass = properties.cssclass || \"\";\n  },\n\n  /*\r\n      *   Render the container layout\r\n      */\n  renderContainer: function renderContainer() {\n    var self = this;\n    var properties = this.properties;\n    var tabItems = $.map(self.children, function (child, key) {\n      child.properties.counter = key;\n      child.properties.tooltip = child.properties.tooltip || child.properties.displayName || \"\";\n      return child.properties;\n    });\n    var template = self.renderFactory.getTemplate(\"tab\");\n    var mode = self.getMode();\n\n    // Render the tab\n    var html = $.fasttmpl(template, {\n      id: properties.id,\n      tabs: tabItems,\n      mode: mode,\n      isDesign: self.getMode() !== \"execution\",\n      editable: properties.editable,\n      tabOrientation: properties.orientation,\n      uniqueId: properties.uniqueId,\n      cssclass: properties.cssclass });\n\n\n    // Get active container based on focus\n    var activeTab = self.activeTab = self.getActiveTab();\n\n    // Render children\n    for (var i = 0, length = self.children.length; i < length; i++) {\n      // Load on demand other tabs besides the first one\n      self.children[i].properties.loadOnDemand = i != activeTab;\n    }\n    html = self.replaceChildrenHtml(html, self.renderChildrenHtml());\n    return html;\n  },\n\n  /*\r\n      *   Return the active tab containing the focus, or the first tab\r\n      */\n  getActiveTab: function getActiveTab() {\n    var self = this;\n    var properties = self.properties;\n    var formParams = this.getFormContainer().getParams();\n    var mode = self.getMode();\n\n    if (mode === \"execution\") {\n      if (!formParams.isRefresh && properties.activeTab) {\n        self.getFormContainer().setFocusedElement(properties.activeTab);\n      }\n    }\n\n    var selectedTabs = formParams && formParams.selectedTabs ? formParams.selectedTabs : {};\n\n    // Fetch from selected tabs collection\n    if (selectedTabs[self.properties.id] >= 0) {\n      return selectedTabs[self.properties.id];\n    }\n\n    // Check for focused elements\n    for (var i = 0, length = self.children.length; i < length; i++) {\n      // Load on demand other tabs besides the first one\n      if (self.children[i].containsFocusedElement()) return i;\n    }\n    return 0;\n  },\n\n  /**\r\n      * Update position of tab\r\n      * @param index\r\n      */\n  setActiveTab: function setActiveTab(index) {\n    var self = this;\n\n    self.triggerHandler(\"selected\", { index: index, tab: self.children[index] });\n\n    if (self.children[index]) {\n      var form = self.getFormContainer();\n\n      self.children[index].activate();\n      self.activeTab = index;\n\n      var selectedTab = {};\n      selectedTab[self.children[index].parent.properties.id] = index;\n      form.setParam(\"selectedTabs\", selectedTab);\n    }\n  } });","/**\r\n *   Name: Bizagi Tab Item Container Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define a tab item class for all devices\r\n */\n\n$.Class.extend(\"bizagi.rendering.tabItem\", {}, {\n\n  /*\r\n                                                 *   Render the container layout\r\n                                                 */\n  renderContainer: function renderContainer() {\n    var self = this;\n    var properties = this.properties;\n    var template = self.renderFactory.getTemplate(\"tabItem\");\n\n    // Render the tabItem\n    var html = $.fasttmpl(template, {\n      id: properties.id,\n      uniqueId: properties.uniqueId,\n      counter: properties.counter,\n      tabOrientation: properties.orientation,\n      isDesign: self.getMode() !== \"execution\" });\n\n\n    // Render content\n    html = self.renderTabContent(html);\n\n    return html;\n  },\n\n  /*\r\n     * Renders the tab content\r\n     */\n  renderTabContent: function renderTabContent(html) {\n    // Render children\n    return this.replaceChildrenHtml(html, this.renderChildrenHtml());\n  },\n\n  /*\r\n     *   Fires when the tab is selected \r\n     */\n  activate: function activate() {\n    this.active = true;\n  },\n\n  /*  \r\n     *   Return the current focuses container\r\n     */\n  getFocus: function getFocus() {\n    var self = this;\n    var focus = self._super();\n    if (bizagi.util.isEmpty(focus) && self.active) {\n      focus = self.properties.id;\n    }\n\n    return focus;\n  },\n\n  /*\r\n     *   Return true if this tab contains the active focused element\r\n     */\n  containsFocusedElement: function containsFocusedElement() {\n    var self = this;\n    var focus = self.getFormContainer().getFocusedElement();\n\n    if (focus) {\n\n      // Locate element\n      if (focus.xpath) {\n        // Search by xpath and id\n        var elements = self.getFormContainer().getRenders(focus.xpath);\n        var element;\n\n        $.each(elements, function (i, item) {\n          // Just select editable control\n          if (item.properties.id == focus.id && item.properties.editable) {\n            element = item;\n          }\n        });\n      } else {\n        // Search just using id\n        var element = self.getFormContainer().getContainer(focus) || self.getFormContainer().getRenderById(focus);\n      }\n\n      // Search element parent\n      if (element) {\n        while (element.parent) {\n          if (element.properties.id == self.properties.id || element.parent.properties.id == self.properties.id) return true;\n          element = element.parent;\n        }\n      }\n    }\n\n    return false;\n  } });","/*\r\n*   Name: BizAgi render layout Image Class\r\n*   Author: Andrés Fernando Muñoz\r\n*   Comments:\r\n*   -   This script will define basic stuff for non editable image control inside templates\r\n*/\n\n$.Class.extend(\"bizagi.rendering.layoutImage\", {}, {\n  /*\r\n                                                      * Constructor\r\n                                                      */\n  init: function init(params) {\n    // Call base\n    this._super(params);\n  },\n\n  /*\r\n      * Template method to implement in each children to customize each control\r\n      */\n  renderControl: function renderControl() {\n    var self = this,\n    mode = self.getMode(),\n    useDefaultImage = false,\n    valueObj = self.properties.value || {},\n    uri = \"\";\n\n    //\n    var templateUri = self.renderFactory.getTemplate(\"layout-image\");\n\n    //Solucion temporal mientras se ajusta la respuesta del servicio cambiar despues de demo de 21/07/2015\n    /*if (value.value && value.value !== \"\" && value.value.length > 100){\r\n        var template64 = self.renderFactory.getTemplate(\"layout-image64\");\r\n        return $.fasttmpl(template64, { url: value.value, useDefaultImage: useDefaultImage });\r\n    }*/\n\n    /* if (mode === 'execution' && valueObj.value && valueObj.value.length > 0) {\r\n            uri = self.getImageUri();\r\n        }\r\n        else{\r\n            useDefaultImage = true;\r\n        } */\n\n    return $.fasttmpl(templateUri, { useDefaultImage: true });\n  },\n\n  /**\r\n      * Gets the base 64 image, specify in each device in order to change the size\r\n      */\n  getImage64: function getImage64() {\n    var self = this;\n    //Gets the real value of the image\n    var params = {\n      xpath: self.properties.xpath,\n      entity: self.value.guid,\n      surrogateKey: self.value.surrogateKey,\n      width: 96,\n      height: 96 };\n\n\n    return self.dataService.getEntityImage64(params);\n  },\n\n  /**\r\n      * Gets the url to get the array image, specify in each device in order to change the size\r\n      */\n  getImageUri: function getImageUri() {\n    var self = this;\n\n    var map = {\n      entity: self.value.guid,\n      surrogateKey: self.value.surrogateKey,\n      xpath: self.properties.xpath,\n      width: 96,\n      height: 96,\n      hash: self.value.value };\n\n\n    return self.dataService.serviceLocator.getUrl(\"render-entity-layout-imageByteArray\").replaceMultiple(map);\n  } });","/*\r\n *   Name: BizAgi Render Layout Simple Link Class\r\n *   Author: Andrés Fernando Muñoz\r\n *   Comments:\r\n *   -   This script will define basic stuff for non editable link renders inside templates\r\n */\n\n$.Class.extend(\"bizagi.rendering.layoutLink\", {}, {\n  /*\r\n                                                     * Constructor\r\n                                                     */\n  init: function init(params) {\n    // Call base\n    this._super(params);\n  },\n\n  /*\r\n      * Template method to implement in each children to customize each control\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var template = self.renderFactory.getTemplate(\"layout-link\");\n    // Render template\n    var html = $.fasttmpl(template, { displayName: self.properties.displayName });\n    return html;\n  } });","/*\r\n *   Name: BizAgi Render Layout Label Class\r\n *   Author: Mauricio Sánchez\r\n *   Comments:\r\n *   -   This script will define basic stuff for labels inside templates\r\n */\n\n$.Class.extend(\"bizagi.rendering.layoutLabel\", {}, {\n\n  /*\r\n                                                      * Constructor\r\n                                                      */\n  init: function init(params) {\n    // Call base\n    this._super(params);\n\n    this.properties.required = false;\n\n    // Set properties\n    this.properties.displayType = \"label\";\n    this.properties.labelAlign = this.originalProperties.labelAlign || \"left\";\n\n    // Calculate layout properties\n    this.calculateInitialLayoutProperties();\n\n\n  },\n\n  /*\r\n      * Template method to implement in each children to customize each control\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var template = self.renderFactory.getTemplate(\"layout-label\");\n    var value = self.properties.displayName || self.properties.value || \"\";\n    // Render template\n    var html = $.fasttmpl(template, { value: value });\n    return html;\n  } });","/*\r\n*   Name: BizAgi Render Layout Text Class\r\n*   Author: Mauricio Sanchez\r\n*   Comments:\r\n*   -   This script will define basic stuff for text renders inside templates\r\n*/\n\n$.Class.extend(\"bizagi.rendering.layoutText\", {}, {\n  /*\r\n                                                     * Constructor\r\n                                                     */\n  init: function init(params) {\n    // Call base\n    this._super(params);\n  },\n\n  initializeData: function initializeData(data) {\n    var self = this;\n    // Call base\n    this._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n    //properties.editable = false;\n  },\n\n  /*\r\n      * Template method to implement in each children to customize each control\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var template = self.renderFactory.getTemplate(\"layout-text\");\n    // Render template\n    var html = $.fasttmpl(template, { value: self.properties.value, editable: self.properties.editable });\n    return html;\n  },\n  /*\r\n      *   Method to render non editable values\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    var self = this;\n    // Executes the same template than normal render\n    return self.renderControl();\n  } });","/**\r\n *   Name: Bizagi Render Layout Simple Upload Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for non editable upload renders inside templates\r\n */\n\n$.Class.extend(\"bizagi.rendering.layoutUpload\", {}, {\n\n  /**\r\n                                                       *   Update or init the element data\r\n                                                       */\n  initializeData: function initializeData(data) {\n    var self = this;\n    // Call base\n    this._super(data);\n\n    var form = self.getFormContainer();\n\n    // Fill default properties\n    var properties = this.properties;\n\n    properties.editable = true;\n    properties.allowDelete = true;\n    properties.contexttype = form.params && form.params.data && form.params.data.contextType ? form.params.data.contextType : \"\";\n    properties.allowSendInMail = properties.allowSendInMail || false;\n  },\n\n  /**\r\n      * Get value files by data\r\n      */\n  getValueFilesByData: function getValueFilesByData(properties) {\n    var self = this;\n    var defer = $.Deferred();\n    var dataFiles;\n\n    if (properties.value.value) {//Normal entityTemplate in form QAF-2319\n      dataFiles = properties.value.value;\n    } else {//QAF-2210\n      dataFiles = properties.value;\n    }\n\n    var valueAuxFiles;\n    try {\n      if (self.isContextContainerWidgetRender()) {\n        valueAuxFiles = JSON.parse(\"{ \\\"files\\\": \" + dataFiles + \"}\");\n        defer.resolve(properties, valueAuxFiles);\n      } else {//context: my stuff\n        $.when(self.getDataFilesWithoutScope()).done(function (valueResult) {\n          valueAuxFiles = JSON.parse(\"{ \\\"files\\\": \" + valueResult + \"}\");\n          defer.resolve(properties, valueAuxFiles);\n        });\n      }\n    } catch (err) {\n      valueAuxFiles = JSON.parse(\"{ \\\"files\\\": []}\");\n      defer.resolve(properties, valueAuxFiles);\n      console.warn(\"Exception converting data files. Error: \", err);\n    }\n\n    return defer.promise();\n  },\n\n  isContextContainerWidgetRender: function isContextContainerWidgetRender() {\n    var self = this;\n    var formContainer = self.getFormContainer();\n\n    return formContainer.params.paramsRender && formContainer.params.paramsRender.idRender;\n  },\n\n  /**\r\n      * Get data files when access from My stuff\r\n      */\n  getDataFilesWithoutScope: function getDataFilesWithoutScope() {\n    var self = this;\n    //Gets the real value of the image\n    var params = {\n      xpath: self.properties.xpath,\n      entity: self.value.guid,\n      surrogateKey: self.value.surrogateKey };\n\n\n    return self.dataService.getFilesDataForLayoutUploadControl(params);\n  },\n\n  /**\r\n      *   Returns the internal value\r\n      */\n  getValue: function getValue() {\n    return this.files;\n  },\n\n  /**\r\n      *   Returns the xpath to be used\r\n      */\n  getUploadXpath: function getUploadXpath() {\n    return this.properties.xpath;\n  } });","/*\r\n*   Name: BizAgi Render Layout Boolean Class\r\n*   Author: Alexander Mejia\r\n*   Comments:\r\n*   -   This script will define basic stuff for boolean renders inside templates\r\n*/\n\n$.Class.extend(\"bizagi.rendering.layoutBoolean\", {}, {\n  /*\r\n                                                        * Constructor\r\n                                                        */\n  init: function init(params) {\n    // Call base\n    this._super(params);\n  },\n\n  initializeData: function initializeData(data) {\n    var self = this;\n    // Call base\n    this._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n    properties.editable = false;\n  },\n\n  /*\r\n      * Template method to implement in each children to customize each control\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var template = self.renderFactory.getTemplate(\"layout-boolean\");\n    // Render template\n    var html = $.fasttmpl(template, { value: this.properties.value });\n    return html;\n  },\n  /*\r\n      *   Method to render non editable values\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    var self = this;\n    // Executes the same template than normal render\n    return self.renderControl();\n  },\n\n  setValue: function setValue(value, triggerEvents) {\n    if (value === null || value === \"\") {\n      this.properties.value = \"\";\n    } else\n    if (value.toString().toLowerCase() === \"true\" || value.toString().toLowerCase() === \"false\") {\n      this.properties.value = bizagi.util.parseBoolean(value) ? this.getResource(\"render-boolean-yes\") : this.getResource(\"render-boolean-no\");\n    }\n    this._super(this.properties.value, triggerEvents);\n  } });","/**\r\n * Name: BizAgi Render Layout DateTime Class\r\n * Author: Andres Fernando Muñoz\r\n * Comments:\r\n * - This script will define basic stuff for text renders inside templates\r\n */\n\n$.Class.extend(\"bizagi.rendering.layoutDateTime\", {}, {\n  /**\r\n                                                         * Constructor\r\n                                                         */\n  init: function init(params) {\n    // Call base\n    this._super(params);\n  },\n\n  /**\r\n      *\r\n      * @param data\r\n      */\n  initializeData: function initializeData(data) {\n    var self = this;\n    // Call base\n    self._super(data);\n\n    // Fill default properties\n    var properties = self.properties;\n    var dateFormat = self.getResource(\"dateFormat\");\n    var timeFormat = self.getResource(\"timeFormat\");\n\n    // We will hold here the value to display\n    properties.displayValue = \"\";\n    properties.showTime = properties.showTime !== undefined ? bizagi.util.parseBoolean(properties.showTime) : false;\n    properties.dateFormat = properties.dateFormat || dateFormat;\n    properties.timeFormat = properties.timeFormat || timeFormat;\n    properties.fullFormat = properties.dateFormat;\n\n    // Check if it has the showtime property\n    if (properties.showTime) {\n      if (properties.fullFormat.search(/[h|H]+/ig) === -1) {\n        properties.fullFormat = properties.fullFormat + ' ' + properties.timeFormat;\n      }\n    } else\n    {\n      var indexHour = properties.fullFormat.search(/[h|H]+/ig);\n      if (indexHour !== -1) {\n        properties.fullFormat = properties.fullFormat.substring(0, indexHour - 1);\n      }\n    }\n\n    // Read always parameter from server in invariant format\n    if (properties.value) {\n      var date = bizagi.util.dateFormatter.getDateFromInvariant(properties.value, properties.showTime);\n\n      // Format date to current format\n      if (date != 0) {\n        var datePickerRegional = bizagi.localization.getResource(\"datePickerRegional\");\n        self.value = properties.value; // Value must always hold the value with invariant format\n        properties.displayValue = bizagi.util.dateFormatter.formatDate(date, properties.fullFormat, datePickerRegional);\n      } else\n      {\n        self.value = null;\n      }\n    } else\n    {\n      self.value = null;\n      properties.value = \"\";\n      properties.displayValue = \"\";\n    }\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var template = self.renderFactory.getTemplate(\"layout-date-time\");\n    var value = self.properties.value === null || self.properties.value === \"\" ? \"\" : self.properties.value;\n\n    // Render template\n    return $.fasttmpl(template, { value: value });\n  },\n\n  /**\r\n      * Sets the value in the rendered control\r\n      */\n  setDisplayValue: function setDisplayValue(value) {\n    var self = this,dateObj;\n    var properties = self.properties;\n    var dateControl = self.getDateControl();\n    var INVARIANT_FORMAT = \"MM/dd/yyyy H:mm:ss\";\n    self.i18n = bizagi.localization.getResource(\"datePickerRegional\");\n\n    if (value.length == INVARIANT_FORMAT.length || value.length == INVARIANT_FORMAT.length + 1) {\n      dateObj = bizagi.util.dateFormatter.getDateFromInvariant(value, true);\n    } else\n    {\n      dateObj = bizagi.util.dateFormatter.getDateFromInvariant(value);\n      if (dateObj && !isNaN(Date.parse(dateObj)) && !$.isNumeric(dateObj)) {\n        dateObj.setHours(0, 0, 0, 0);\n      }\n\n    }\n    // Set value in input\n    if (value && !isNaN(Date.parse(value))) {\n      var formattedDateTime = bizagi.util.dateFormatter.formatDate(dateObj, properties.fullFormat, self.i18n);\n      dateControl.text(formattedDateTime);\n    }\n  },\n\n  /**\r\n      * Gets the date control\r\n      */\n  getDateControl: function getDateControl() {\n    var self = this;\n    self.dateControl = $(\".ui-bizagi-render-date-time\", self.getControl());\n    return self.dateControl;\n  } });","/*\r\n*   Name: BizAgi Render Layout number Class\r\n*   Author: Andres Fernando Muñoz\r\n*   Comments:\r\n*   -   This script will define basic stuff for text renders inside templates\r\n*/\n\n$.Class.extend(\"bizagi.rendering.layoutNumber\", {}, {\n  /*\r\n                                                       * Constructor\r\n                                                       */\n  init: function init(params) {\n    // Call base\n    this._super(params);\n  },\n  /*\r\n      *   Update or init the element data\r\n      */\n  initializeData: function initializeData(data) {\n    var self = this;\n    // Call base\n    this._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n    var format = this.getResource(\"numericFormat\");\n\n    properties.allowDecimals = typeof properties.allowDecimals !== \"undefined\" ? bizagi.util.parseBoolean(properties.allowDecimals) : this.getDefaultAllowDecimals(properties.dataType);\n    properties.numDecimals = properties.allowDecimals ? properties.numDecimals ? properties.numDecimals : typeof BIZAGI_DEFAULT_CURRENCY_INFO !== \"undefined\" ? BIZAGI_DEFAULT_CURRENCY_INFO.decimalDigits : 2 : 0;\n    properties.symbol = '';\n    properties.positiveFormat = format.positiveFormat;\n    properties.negativeFormat = format.negativeFormat;\n    properties.decimalSymbol = typeof BIZAGI_DEFAULT_CURRENCY_INFO !== \"undefined\" ? BIZAGI_DEFAULT_CURRENCY_INFO.decimalSeparator : format.decimalSymbol;\n    properties.digitGroupSymbol = typeof BIZAGI_DEFAULT_CURRENCY_INFO !== \"undefined\" ? BIZAGI_DEFAULT_CURRENCY_INFO.groupSeparator : format.digitGroupSymbol;\n    properties.groupDigits = this.getDefaultGroupDigits(properties.dataType);\n    properties.colorize = properties.colorizeOnNegative || false;\n  },\n\n  /*\r\n      * Template method to implement in each children to customize each control\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var template = self.renderFactory.getTemplate(\"layout-number\");\n    // Render template\n    var html = $.fasttmpl(template, { value: self.properties.value });\n    return html;\n  },\n  /*\r\n      *   Method to render non editable values\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    var self = this;\n    // Executes the same template than normal render\n    return self.renderControl();\n  },\n\n  /*\r\n      *   Returns the display value of the render\r\n      */\n  getDisplayValue: function getDisplayValue(value) {\n    var self = this;\n    var properties = self.properties;\n    var control = self.getControl();\n\n    // Workaround to get the display value by the format currency plugin, because it requires a control\n    var label = $('<label/>').html(value);\n    var regExp2 = /[\\u20AC \\u0024\\u00A3]/;\n    if (!value.toString().match(regExp2)) {\n      label.formatCurrency(\n      {\n        symbol: properties.symbol,\n        positiveFormat: properties.positiveFormat,\n        negativeFormat: properties.negativeFormat,\n        decimalSymbol: properties.decimalSymbol,\n        digitGroupSymbol: properties.digitGroupSymbol,\n        groupDigits: properties.groupDigits,\n        roundToDecimalPlace: properties.numDecimals,\n        colorize: properties.colorize });\n\n    }\n    return label.text();\n  },\n\n  /*\r\n      *   Return the allow decimals default property based on the datatype\r\n      */\n  getDefaultAllowDecimals: function getDefaultAllowDecimals(dataType) {\n    if (dataType) {\n      // Integer data types\n      if (dataType == 1 || dataType == 2 || dataType == 3 || dataType == 4 || dataType == 7) {\n        return false;\n      }\n      // Decimal data types\n      if (dataType == 6 || dataType == 8 || dataType == 10 || dataType == 11) {\n        return true;\n      }\n    }\n    return false;\n  },\n  /*\r\n      *   Return the group digits default property based on the datatype\r\n      */\n  getDefaultGroupDigits: function getDefaultGroupDigits(dataType) {\n    if (dataType) {\n      // Integer data types\n      if (dataType == 1 || dataType == 2 || dataType == 3 || dataType == 4 || dataType == 7) {\n        return false;\n      }\n      // Decimal data types\n      if (dataType == 6 || dataType == 8 || dataType == 10 || dataType == 11) {\n        return true;\n      }\n    }\n    return false;\n  } });","/*\r\n*   Name: BizAgi Render Layout Money Class\r\n*   Author: Andrés Fernando Muñoz\r\n*   Comments:\r\n*   -   This script will define basic stuff for money renders inside templates\r\n*/\n\n$.Class.extend(\"bizagi.rendering.layoutMoney\", {}, {\n  /*\r\n                                                      * Constructor\r\n                                                      */\n  init: function init(params) {\n    // Call base\n    this._super(params);\n  },\n\n  /*\r\n      *   Update or init the element data\r\n      */\n  initializeData: function initializeData(data) {\n    var self = this;\n    // Call base\n    this._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n    var format = this.getResource(\"numericFormat\");\n\n    // Configures symbol\n    properties.showsymbol = typeof properties.showsymbol !== \"undefined\" ? properties.showsymbol : true;\n\n    if (properties.showsymbol) {\n      properties.symbol = properties.currencySymbol ? properties.currencySymbol :\n      typeof BIZAGI_DEFAULT_CURRENCY_INFO !== \"undefined\" ? BIZAGI_DEFAULT_CURRENCY_INFO.symbol : format.symbol;\n    } else\n    {\n      properties.symbol = \"\";\n    }\n    properties.groupDigits = true;\n  } });","/*\r\n *   Name: BizAgi Render Layout Label Class\r\n *   Author: Mauricio Sánchez\r\n *   Comments:\r\n *   -   This script will define basic stuff for labels inside templates\r\n */\n\n$.Class.extend(\"bizagi.rendering.layoutPlaceholder\", {}, {\n\n  /*\r\n                                                            * Constructor\r\n                                                            */\n  init: function init(params) {\n    // Call base\n    this._super(params);\n\n  },\n\n  /*\r\n      *   Update or init the element data\r\n      */\n  initializeData: function initializeData(data) {\n    var self = this;\n    // Call base\n    this._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n\n  },\n\n  /*\r\n      * Template method to implement in each children to customize each control\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var template = self.renderFactory.getTemplate(\"layout-placeholder\");\n    var value = self.properties.value || self.properties.displayName || \"\";\n    // Render template\n    var html = $.fasttmpl(template, { value: value });\n    return html;\n  } });","/*\r\n*   Name: BizAgi Nested Form Container Class\r\n*   Author: Diego Parra\r\n*   Comments:\r\n*   -   This script will define a nested form container class for all devices\r\n*/\n\n$.Class.extend(\"bizagi.rendering.nestedForm\", {}, {});","/**\r\n *   Name: Bizagi Render Check Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for check renders\r\n */\n\n$.Class.extend(\"bizagi.rendering.check\", {}, {\n\n  /**\r\n                                                * Update or init the element data\r\n                                                * @param {} data\r\n                                                */\n  initializeData: function initializeData(data) {\n    // Call base\n    this._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n    properties.value = typeof properties.value != \"undefined\" ? bizagi.util.parseBoolean(properties.value) : null;\n\n    properties.showLetters = bizagi.override && bizagi.override.enableCheck === true && !properties.editable;\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      */\n  renderControl: function renderControl() {\n    var template = this.renderFactory.getTemplate(\"check\");\n    var randomId = bizagi.util.randomNumber(100, 10000000);\n\n    // Render template\n    var html = $.fasttmpl(template, {\n      id: randomId,\n      editable: this.properties.editable });\n\n\n    return html;\n  },\n\n  /**\r\n      * Method to render non editable values\r\n      * @returns {*|jQuery}\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    return this.renderControl();\n  },\n\n  /**\r\n      * Template method to implement in each device to customize each render after processed\r\n      */\n  postRender: function postRender() {\n    // Call base\n    this._super();\n  },\n\n  /**\r\n      * Gets the display value of the render\r\n      */\n  getDisplayValue: function getDisplayValue() {\n    var value = this.getValue();\n\n    if (bizagi.util.parseBoolean(value) === true) {\n      return this.getResource(\"render-boolean-yes\");\n    } else if (bizagi.util.parseBoolean(value) === false) {\n      return this.getResource(\"render-boolean-no\");\n    } else {\n      return \"\";\n    }\n  },\n\n  /**\r\n      * Check if a render has no value for required validation\r\n      */\n  hasValue: function hasValue() {\n    var value = this.getValue();\n\n    if (bizagi.util.isEmpty(value)) return false;\n\n    var booleanValue = bizagi.util.parseBoolean(value);\n\n    return !(booleanValue === false && this.properties.required);\n  } });","/*\r\n*   Name: Bizagi Render Number Class\r\n*   Author: UI Forms Team\r\n*   Comments:\r\n*   -   This script will define basic stuff for numbers\r\n*/\n\n$.Class.extend(\"bizagi.rendering.number\", {}, {\n\n  /**\r\n                                                 * Update or init the element data\r\n                                                 * @param data\r\n                                                 */\n  initializeData: function initializeData(data) {\n    var self = this;\n\n    // Call base\n    self._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n    var format = this.getResource(\"numericFormat\");\n\n    properties.allowDecimals = typeof properties.allowDecimals !== \"undefined\" ? bizagi.util.parseBoolean(properties.allowDecimals) : this.getDefaultAllowDecimals(properties.dataType);\n    properties.numDecimals = properties.allowDecimals ? properties.numDecimals ? properties.numDecimals : typeof BIZAGI_DEFAULT_CURRENCY_INFO !== \"undefined\" ? BIZAGI_DEFAULT_CURRENCY_INFO.decimalDigits : 2 : 0;\n    properties.symbol = '';\n    properties.positiveFormat = format.positiveFormat;\n    properties.negativeFormat = format.negativeFormat;\n    properties.decimalSymbol = typeof BIZAGI_DEFAULT_CURRENCY_INFO !== \"undefined\" ? BIZAGI_DEFAULT_CURRENCY_INFO.decimalSeparator : format.decimalSymbol;\n    properties.digitGroupSymbol = typeof BIZAGI_DEFAULT_CURRENCY_INFO !== \"undefined\" ? BIZAGI_DEFAULT_CURRENCY_INFO.groupSeparator : format.digitGroupSymbol;\n    properties.groupDigits = this.setGroupDigits();\n    properties.colorize = properties.colorizeOnNegative || false;\n    properties.dataTypeMinValue = this.calculateMinValue(properties.dataType);\n    properties.dataTypeMaxValue = this.calculateMaxValue(properties.dataType);\n\n    if (typeof properties.value != \"undefined\" && /[e][-+]/gi.test(properties.value) && Math.abs(parseFloat(properties.value)) < 1) {\n      properties.value = self.value = parseFloat(properties.value).toFixed(properties.numDecimals);\n    }\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @returns {*|jQuery}\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var template = self.renderFactory.getTemplate(\"number\");\n\n    // Render template\n    var html = $.fasttmpl(template, {\n      editable: self.properties.editable,\n      value: bizagi.isMobile() ? self.getDisplayValue() : \"\", // Only apply to mobile because in the template value is required (Bug: 11624)\n      type: bizagi.util.isAndroidDevice() ? \"tel\" : \"text\", // Change type control for android device\n      isDesign: self.getMode() !== \"execution\" });\n\n\n    return html;\n  },\n\n  /**\r\n      * Template method to implement in each device to customize each render after processed\r\n      */\n  postRender: function postRender() {\n    var self = this;\n\n    self._super();\n\n    var control = self.getControl();\n    var properties = self.properties;\n\n    self.numericInput = control.find(\"input\");\n\n    // Add numeric plugin to avoid invalid keystrokes\n    self.numericInput.numeric(self.properties.decimalSymbol);\n\n    // Attach event for retype double\n    if (properties.retype === \"double\") {\n      self.attachRetypeDouble();\n    }\n  },\n\n  /**\r\n      * Method to customize the render's behaviour to add handlers\r\n      */\n  configureHandlers: function configureHandlers() {\n    // Attach Format Currency Plugin to format the input\n    this.attachFormatCurrency();\n  },\n\n  /**\r\n      * Removes Validation Messages\r\n      */\n  removeValidations: function removeValidations() {\n    var form = this.getFormContainer().parent || this.getFormContainer();\n\n    form.clearValidationMessages();\n  },\n\n  /**\r\n      * Function virtual implements on children (desktop,smartphone...).\r\n      * @returns {}\r\n      */\n  attachRetypeDouble: function attachRetypeDouble() {\n  },\n  formatNumericInput: function formatNumericInput($input) {\n    var self = this;\n    var properties = self.properties;\n    var message = bizagi.localization.getResource(\"render-number-retype-fail\");\n    var form = self.getFormContainer();\n\n    if (typeof form.validationController == \"undefined\") {\n      var $canvas = form.getValidationsContainer();\n      form.validationController = new bizagi.command.controllers.validation(form, self.validations, $canvas);\n    }\n\n    var validationController = form.validationController || form.parent.validationController;\n    var decimalSeparator = \".\";\n    var digitGroupSeparator = \",\";\n\n    if (typeof BIZAGI_DEFAULT_CURRENCY_INFO == \"undefined\") {\n      decimalSeparator = self.getResource(\"numericFormat\").decimalSymbol || \".\";\n      digitGroupSeparator = self.getResource(\"numericFormat\").digitGroupSymbol || \",\";\n    } else\n    {\n      decimalSeparator = BIZAGI_DEFAULT_CURRENCY_INFO.decimalSeparator;\n      digitGroupSeparator = BIZAGI_DEFAULT_CURRENCY_INFO.groupSeparator;\n    }\n\n    var minValue = self.getMinValue();\n    var maxValue = self.getMaxValue();\n\n    if (properties.percentage) self.numericInput.val(self.numericInput.val().replace(\"%\", \"\"));\n    var inputValue = self.numericInput.val();\n    inputValue = decimalSeparator == \",\" ? inputValue.replace(/\\,0+$/, '') : inputValue.replace(/\\.0+$/, '');\n    inputValue = inputValue.replace(properties.symbol, \"\");\n    //Replace all the ocurrences of the digitGroupSeparator\n    inputValue = bizagi.util.replaceAll(inputValue, digitGroupSeparator, \"\");\n    if (inputValue.toString().indexOf(decimalSeparator) != -1) {\n      if (decimalSeparator == \",\") inputValue = inputValue.replace(/([0-9]+(\\,[0-9]+[1-9])?)(\\,?0+$)/, '$1');\n      if (decimalSeparator == \".\") inputValue = inputValue.replace(/([0-9]+(\\.[0-9]+[1-9])?)(\\.?0+$)/, '$1');\n    }\n\n    if (inputValue != undefined && inputValue.length > 0) self.numericInput.val(inputValue);\n\n    if (/(.+)-$/.test(inputValue)) {\n      inputValue = inputValue.replace(/(.+)-$/, '-$1');\n      self.numericInput.val(inputValue);\n    }\n\n    var inputLength = inputValue.replace(/[^0-9]+/g, \"\").length;\n    var xPath = self.properties.xpath;\n    var oldVal = self.numericInput.val();\n\n\n    if (self.isInvalidFormat != null && self.isInvalidFormat == true ||\n    inputValue != \"\" && [\"$\", \"£\", \"€\", \"¥\", properties.symbol].indexOf(inputValue) != -1) {\n      self.setValue(\"\");\n      self.getControl().find(\"input\").val(\"\");\n      self.numericInput.val(\"\");\n      return;\n    }\n\n    if (bizagi.util.trim(inputValue) == \"\") {\n      self.setValue(\"\");\n      return;\n    }\n\n    //The \",\" is changed to \".\" For the correct operation of \"parseFloat ()\"\n    var tempValue = parseFloat(inputValue.replace(\",\", \".\"));\n    if (isNaN(tempValue)) {\n      tempValue = self.numericInput.asNumber();\n    }\n\n    if (minValue !== undefined && minValue != null && tempValue < minValue) {\n      message = bizagi.localization.getResource(\"render-numeric-minimum-validation\").\n      replaceAll(\"#label#\", properties.displayName + \" (\" + oldVal + \")\").\n      replaceAll(\"#minValue#\", minValue.toString());\n    } else\n    if (maxValue !== undefined && maxValue !== null && tempValue > maxValue) {\n      message = bizagi.localization.getResource(\"render-numeric-maximum-validation\").\n      replaceAll(\"#label#\", properties.displayName + \" (\" + oldVal + \")\").\n      replaceAll(\"#maxValue#\", maxValue.toString());\n    } else\n    message = message + \" \" + oldVal + \"\";\n\n\n    // Do datatype validations\n    if (\n    minValue !== undefined && minValue !== null && tempValue < minValue ||\n    maxValue !== undefined && maxValue !== null && tempValue > maxValue ||\n    self.properties.dataType == 10 && inputLength > 15 ||\n    self.properties.dataType == 1 && inputLength > 19 ||\n    self.properties.dataType == 11 && inputLength > 7 ||\n    self.properties.dataType == 11 && inputLength > 7 ||\n    oldVal.match(/[^$£€¥,-.()\\d]/))\n    {\n      if (typeof validationController != \"undefined\" && validationController != null) {\n        self.removeValidations();\n\n        var messageToShow = message;\n        if (messageToShow.indexOf(oldVal) === -1) {\n          messageToShow = message + \" \" + oldVal + \"\";\n        }\n\n        validationController.showValidationMessage(messageToShow, xPath);\n        self.isValidRender = false;\n        self.isValidRenderMessage = messageToShow;\n      }\n      message = message.replace(oldVal, \"\");\n      return;\n    } else\n    {\n      self.isValidRender = true;\n      self.isValidRenderMessage = \"\";\n    }\n\n    // Fix decimals specially when it starts with 0 (0000234 -> 234, 00000 -> 0)\n    if ($input.value.toString().length > 0 && !properties.allowDecimals && !properties.groupDigits) {\n      $input.value = $input.value.toString().replace(/^0+/, '');\n      if (properties.symbol.length > 0) $input.value = $input.value.toString().replace(properties.symbol + \"0\", properties.symbol);\n      $input.value = $input.value.toString().replace(/^0+/, '');\n      if ($input.value.replaceAll('0', '').length == 0)\n      $input.value = properties.symbol + \"0\";else\n      if ($input.value.toString() == parseInt($input.value)) $input.value = properties.symbol + $input.value;\n    } else {\n      //Fix type money when number start with 0 (0000234 -> 234, 00000 -> 0)\n      if (self.properties.type === \"money\" || self.properties.type === \"number\" || self.properties.type === \"columnMoney\" || self.properties.type === \"columnNumber\") {\n        $input.value = $input.value.toString().replace(/^0+/, '');\n        if ($input.value === \"\") {\n          $input.value = 0;\n        }\n      }\n    }\n    self.executeFormatCurrencyPlugin();\n\n    // Updates internal value\n    self.setValue(self.numericInput.asNumber({\n      symbol: properties.symbol,\n      positiveFormat: properties.positiveFormat,\n      negativeFormat: properties.negativeFormat,\n      decimalSymbol: properties.decimalSymbol,\n      digitGroupSymbol: properties.digitGroupSymbol,\n      groupDigits: properties.groupDigits }));\n\n\n    if (properties.percentage) {\n      if (self.numericInput && self.numericInput.val().indexOf(\"%\") == -1)\n      self.numericInput.val(self.numericInput.val() + '%');\n    }\n    message = message.replace(oldVal, \"\");\n\n  },\n  /**\r\n      * Adds the format currency plugin\r\n      * @returns {}\r\n      */\n  attachFormatCurrency: function attachFormatCurrency() {\n    var self = this;\n    var properties = self.properties;\n    self.isValidRender = self.isValidRender || true;\n\n    // Extend formatCurrency language\n    if ($.formatCurrency.regions[bizagi.language] == null)\n    $.formatCurrency.regions[bizagi.language] = this.getResource(\"numericFormat\");\n\n    // Attach events\n    self.numericInput.blur(function () {\n      self.formatNumericInput(this);\n    })\n\n    // Avoiding pasting invalid characters\n    .bind('paste', function (e) {\n      try {\n        var tmpData = bizagi.util.isIE() || bizagi.util.isIE11() ? window.clipboardData.getData(\"text\") : e.originalEvent.clipboardData.getData(\"Text\");\n\n\n\n        // Next lines checks if there is something different to numbers symbol, decimalSymbol and digitGroupSybol\n        var totalVal = \"/[^0-9\";\n        if (properties.decimalSymbol.length > 0) {\n          totalVal += properties.decimalSymbol;\n        }\n        // Next lines only for currency type\n        if (properties.dataType == 8) {\n          if (properties.symbol.length > 0) {\n            totalVal += properties.symbol;\n          }\n          if (properties.digitGroupSymbol.length > 0) {\n            totalVal += properties.digitGroupSymbol;\n          }\n        }\n        totalVal += \"\\\\-\\\\s]/gi\";\n        try {\n          if (tmpData.replace(eval(totalVal), '').length != tmpData.length)\n          e.preventDefault();\n        }\n        catch (e) {\n        }\n      }\n      catch (e) {\n        bizagi.log(\"Error to pasting content\");\n        self.isInvalidFormat = true;\n      }\n    })\n    // Now we implement keydown instead of keyup in order to include preventDefault\n    .keydown(function (e) {\n      self.previousValue = this.value;\n      e = window.event && window.event.preventDefault ? window.event : e;\n      var keyUnicode = e.charCode || e.keyCode;\n      // Validation for currency info\n      if (typeof BIZAGI_DEFAULT_CURRENCY_INFO != \"undefined\")\n      if (BIZAGI_DEFAULT_CURRENCY_INFO.decimalDigits == 0) properties.allowDecimals = false;\n      if (properties.dataType < 5 || properties.dataType == 8 && properties.allowDecimals == false)\n      if (keyUnicode == 188 || keyUnicode == 190 || keyUnicode == 110)\n      e.preventDefault();\n      if (this.value)\n      if (e !== undefined && this.value.length > 0 && (properties.dataType == 8 || properties.dataType == 10)) {\n        // Just numbers\n        if (keyUnicode > 47 && keyUnicode < 58) {\n          if (self.formatTimeout) {\n            clearTimeout(self.formatTimeout);\n          }\n\n          var floatPart = this.value + \"\";\n          //var  floatPart = stringPart.replaceAll(properties.digitGroupSymbol, \"\").replaceAll(properties.symbol,\"\").trim().replaceAll(properties.decimalSymbol,\".\");\n          if (properties.digitGroupSymbol && properties.digitGroupSymbol.length > 0) {\n            floatPart = floatPart.replaceAll(properties.digitGroupSymbol, \"\");\n          }\n          if (properties.symbol.length > 0) {\n            floatPart = floatPart.replaceAll(properties.symbol, \"\");\n          }\n\n          floatPart = $.trim(floatPart);\n          if (properties.decimalSymbol && properties.decimalSymbol.length > 0) {\n            floatPart = floatPart.replaceAll(properties.decimalSymbol, \".\");\n          }\n          // If increasing one digit (x10) will overtake the maxValue\n          if (floatPart * 10 > properties.dataTypeMaxValue) {\n            e.preventDefault();\n          }\n        } else\n        if (keyUnicode == 109 || keyUnicode == 189) {\n          if (this.selectionStart != 0 || this.selectionEnd != this.value.length) {\n            var currentPosition = this.selectionEnd;\n            this.value = properties.symbol + \"-\" + this.value.replace(properties.symbol, \"\");\n            this.selectionStart = this.selectionEnd = currentPosition + 1;\n          } else if (this.selectionStart == 0 && this.selectionEnd == this.value.length) {\n            this.value = \"-\";\n            this.selectionStart = this.selectionEnd = this.value.length;\n          }\n        }\n      }\n    }).\n\n    keyup(function (e) {\n      e = window.event || e;\n      var keyUnicode = e.charCode || e.keyCode;\n      if (e !== undefined) {\n        switch (keyUnicode) {\n          case 16:\n            break; // Shift\n          case 17:\n            break; // Ctrl\n          case 13:\n            break; // Intro\n          case 18:\n            break; // Alt\n          case 27:\n            this.value = '';\n            break; // Esc: clear entry\n          case 35:\n            break; // End\n          case 36:\n            break; // Home\n          case 37:\n            break; // cursor left\n          case 38:\n            break; // cursor up\n          case 39:\n            break; // cursor right\n          case 40:\n            break; // cursor down\n          case 78:\n            break; // N (Opera 9.63+ maps the \".\" from the number key section to the \"N\" key too!) (See: http://unixpapa.com/js/key.html search for \". Del\")\n          case 110:\n            break; // . number block (Opera 9.63+ maps the \".\" from the number block to the \"N\" key (78) !!!)\n          case 188:\n            break; // , comma\n          case 190:\n            break; // .\n          default:\n            {\n\n            }}\n\n      }\n    }).keypress(function (e) {\n      e = window.event && window.event.preventDefault ? window.event : e;\n      var keyUnicode = e.charCode || e.keyCode;\n      if (typeof e !== \"undefined\") {\n        if (keyUnicode == 35 || keyUnicode == 37 || keyUnicode == 39) {\n          e.preventDefault();\n        } else if (properties.dataType != 8 && keyUnicode == 36) {\n          e.preventDefault();\n        }\n\n        // When no decimals are permited\n        var character = String.fromCharCode(keyUnicode);\n        if (properties.allowDecimals === false && properties.numDecimals === 0 && character === properties.decimalSymbol)\n        e.preventDefault();\n      }\n    });\n\n  },\n\n  executeFormatCurrencyPlugin: function executeFormatCurrencyPlugin() {\n    var self = this;\n    var properties = self.properties;\n\n    if (self.numericInput) {\n      self.numericInput.formatCurrency({\n        symbol: properties.symbol,\n        positiveFormat: properties.positiveFormat,\n        negativeFormat: properties.negativeFormat,\n        decimalSymbol: properties.decimalSymbol,\n        digitGroupSymbol: properties.digitGroupSymbol,\n        groupDigits: properties.groupDigits,\n        roundToDecimalPlace: properties.numDecimals,\n        colorize: properties.colorize });\n\n    }\n\n    if (properties.dataType !== 8 && bizagi.override.removeTrailingZeros === true) {\n      var value = self.numericInput.val();\n      var positive = true;\n\n      if (value.indexOf(\")\") !== -1) {\n        positive = false;\n        value = value.replace(\"(\", \"\").replace(\")\", \"\");\n      }\n\n      var regExp = new RegExp(\"(\" + properties.decimalSymbol + \"\\\\d*?[1-9])0+$\", \"g\");\n      value = value.replace(regExp, \"$1\");\n\n      regExp = new RegExp(\"\\\\\" + properties.decimalSymbol + \"0+$\", \"g\");\n      value = value.replace(regExp, \"\");\n      self.numericInput.val(value);\n\n      if (!positive) self.numericInput.val(\"(\" + value + \")\");\n    }\n\n    if (properties.percentage)\n    self.numericInput.val(self.numericInput.val() + '%');\n  },\n\n  /**\r\n      * Returns the display value of the render\r\n      * @returns {*}\r\n      */\n  getDisplayValue: function getDisplayValue() {\n    var self = this;\n    var properties = self.properties;\n    var control = self.getControl();\n    var value = self.getValue() !== undefined ? self.getValue() : $(\"input\", control).val() || \"\";\n\n    // Workaround to get the display value by the format currency plugin, because it requires a control\n    var label = $('<label/>').html(value);\n\n    label.formatCurrency({\n      symbol: properties.symbol,\n      positiveFormat: properties.positiveFormat,\n      negativeFormat: properties.negativeFormat,\n      decimalSymbol: properties.decimalSymbol,\n      digitGroupSymbol: properties.digitGroupSymbol,\n      groupDigits: properties.groupDigits,\n      roundToDecimalPlace: properties.numDecimals,\n      colorize: properties.colorize });\n\n\n    if (properties.percentage)\n    label = $('<label/>').html(label.text() + '%');\n\n    // Removing unrequired zeros as requested by BA26331\n    if (!properties.editable && properties.dataType !== 8 && bizagi.override.removeTrailingZeros === true) {\n      value = label.text();\n      var positive = true;\n\n      if (value.toString().indexOf(\")\") !== -1) {\n        positive = false;\n        value = value.replace(\"(\", \"\").replace(\")\", \"\");\n      }\n\n      var re = new RegExp(\"(\" + properties.decimalSymbol + \"\\\\d*?[1-9])0+$\", \"g\");\n      value = value.replace(re, \"$1\");\n\n      re = new RegExp(\"\\\\\" + properties.decimalSymbol + \"0+$\", \"g\");\n      value = value.replace(re, \"\");\n\n      if (!positive) value = \"(\" + value + \")\";\n      return value;\n    }\n\n    return label.text();\n  },\n\n  /**\r\n      * Public method to determine if a value is valid or not\r\n      * @param invalidElements\r\n      * @returns {*}\r\n      */\n  isValid: function isValid(invalidElements) {\n    var self = this;\n    var properties = self.properties;\n\n    // Call base\n    var bValid = this._super(invalidElements);\n    var value = self.getValue();\n    var message;\n    var minValue = self.getMinValue();\n    var maxValue = self.getMaxValue();\n\n    if (typeof value == \"string\" && value != \"\") {\n      value = Number(value);\n    }\n\n    // Check min value\n    if (self.hasValue()) {\n      if (!bizagi.util.isEmpty(minValue)) {\n        if (value < minValue) {\n          message = this.getResource(\"render-numeric-minimum-validation\").replaceAll(\"#label#\", properties.displayName.toString() + \" (\" + value + \")\").replaceAll(\"#minValue#\", minValue.toString());\n          invalidElements.push({ xpath: properties.xpath, message: message });\n          bValid = false;\n        }\n      }\n      // Check max value\n      if (!bizagi.util.isEmpty(maxValue)) {\n        if (value > maxValue) {\n          message = this.getResource(\"render-numeric-maximum-validation\").replaceAll(\"#label#\", properties.displayName.toString() + \" (\" + value + \")\").replaceAll(\"#maxValue#\", maxValue.toString());\n          invalidElements.push({ xpath: properties.xpath, message: message });\n          bValid = false;\n        }\n      }\n\n    }\n\n    if (self.isValidRender === false && !(bValid && bizagi.util.isMobileDevice())) {\n      bValid = false;\n      var validMessage = self.isValidRenderMessage ? self.isValidRenderMessage : \"error\";\n      invalidElements.push({ xpath: properties.xpath, message: validMessage });\n    }\n\n    return bValid;\n  },\n\n  /**\r\n      * Get minimum value\r\n      * @returns {*}\r\n      */\n  getMinValue: function getMinValue() {\n    var minValue = this.properties.minValue;\n\n    if (minValue !== undefined && minValue !== null)\n    return minValue;\n\n    return this.properties.dataTypeMinValue;\n  },\n\n  /**\r\n      * Get maximum value\r\n      * @returns {*}\r\n      */\n  getMaxValue: function getMaxValue() {\n    var maxValue = this.properties.maxValue;\n\n    if (maxValue !== undefined && maxValue !== null)\n    return maxValue;\n\n    return this.properties.dataTypeMaxValue;\n  },\n\n  /**\r\n      * Return the allow decimals default property based on the datatype\r\n      * @param dataType\r\n      * @returns {boolean}\r\n      */\n  getDefaultAllowDecimals: function getDefaultAllowDecimals(dataType) {\n    if (dataType) {\n      // Integer data types\n      if (dataType === 1 || dataType === 2 || dataType === 3 || dataType === 4 || dataType === 7) {\n        return false;\n      }\n      // Decimal and money data types\n      if (dataType === 6 || dataType === 8 || dataType === 10 || dataType === 11) {\n        return true;\n      }\n    }\n    return false;\n  },\n  /**\r\n      * Return the group digits default property based on the datatype\r\n      * @param dataType\r\n      * @returns {boolean}\r\n      */\n  getDefaultGroupDigits: function getDefaultGroupDigits(dataType) {\n    if (dataType) {\n      // Integer data types\n      if (dataType === 1 || dataType === 2 || dataType === 3 || dataType === 4 || dataType === 7) {\n        return false;\n      }\n\n      // Decimal data types\n      if (dataType === 6 || dataType === 8 || dataType === 10 || dataType === 11) {\n        return true;\n      }\n    }\n    return false;\n  },\n\n  /**\r\n      * Return the group digits default property based on digitGroupSymbol\r\n      * @returns {*}\r\n      */\n  setGroupDigits: function setGroupDigits() {\n    var self = this;\n    if (typeof self.properties.thousands !== \"undefined\") {\n      if (self.properties.digitGroupSymbol) {//some cultures\n        return bizagi.util.parseBoolean(self.properties.thousands);\n      } else {\n        return false;\n      }\n    } else if (self.properties.digitGroupSymbol) {//some cultures\n      return this.getDefaultGroupDigits(self.properties.dataType);\n    } else {\n      return false;\n    }\n  },\n\n  /**\r\n      * Calculate Minimum Value\r\n      * @param dataType\r\n      * @returns {*}\r\n      */\n  calculateMinValue: function calculateMinValue(dataType) {\n    if (dataType === 8 || dataType === 10) {\n      return -922337203685477; // Money\n    }\n    if (dataType === 4) {\n      return 0; // tinyint\n    }\n    if (dataType === 3) {\n      return -32768; // smallint\n    }\n    if (dataType === 2) {\n      return -2147483648; // int\n    }\n    if (dataType === 1) {\n      return -999999999999999; // bigint\n    }\n    return null;\n  },\n\n  /**\r\n      * Calculate Maximum Value\r\n      * @param dataType\r\n      * @returns {*}\r\n      */\n  calculateMaxValue: function calculateMaxValue(dataType) {\n    if (dataType === 8 || dataType === 10) {\n      return 922337203685477; // Money\n    }\n    if (dataType === 4) {\n      return 255; // tinyint\n    }\n    if (dataType === 3) {\n      return 32767; // smallint\n    }\n    if (dataType === 2) {\n      return 2147483647; // int\n    }\n    if (dataType === 1) {\n      return 999999999999999; // bigint\n    }\n    return null;\n  },\n\n  /**\r\n      * Calculate min value\r\n      * @param value\r\n      * @returns {number}\r\n      */\n  performMinValue: function performMinValue(value) {\n    var newValue = Number(value);\n\n    if (isNaN(newValue)) {\n      newValue = this.calculateMinValue(this.properties.dataType);\n    }\n\n    return newValue;\n  },\n\n  /**\r\n      * Calculate min value\r\n      * @param value\r\n      * @returns {number}\r\n      */\n  performMaxValue: function performMaxValue(value) {\n    var newValue = Number(value);\n\n    if (isNaN(newValue)) {\n      newValue = this.calculateMaxValue(this.properties.dataType);\n    }\n\n    return newValue;\n  },\n\n  /**\r\n      * Changes the render minimum value\r\n      * @param value\r\n      */\n  changeMinValue: function changeMinValue(value) {\n    var newValue = this.performMinValue(value);\n\n    this.properties.minValue = this.properties.dataTypeMinValue = newValue;\n  },\n  /**\r\n      * Changes the render maximum value\r\n      * @param value\r\n      */\n  changeMaxValue: function changeMaxValue(value) {\n    var newValue = this.performMaxValue(value);\n\n    this.properties.maxValue = this.properties.dataTypeMaxValue = newValue;\n  },\n\n  createTooltip: function createTooltip(control, currentValue, currentTitle) {\n    control.data(\"oldValue\", currentValue);\n    control.val(\"\");\n\n    try {\n      // Destroy tooltips\n      control.tooltip(\"destroy\");\n    } catch (e) {\n    }\n\n    control.attr(\"title\", currentTitle);\n    control.tooltip();\n\n    var toolTipZindex = $.getMaxZindex();\n    control.tooltip().on(\"tooltipopen\", function (event, ui) {\n      ui.tooltip.zIndex(toolTipZindex);\n    });\n\n    // Create new tooltip\n    control.tooltip(\"open\");\n\n    var timeOutFocus = setTimeout(function () {\n      control.focus();\n      clearTimeout(timeOutFocus);\n    }, 100);\n  } });","\n/*\r\n*   Name: Bizagi Render Number Scientific notation Class\r\n*   Author: Laura Ariza\r\n*   Comments:\r\n*   -   This script will define basic stuff for scientific notation numbers\r\n*/\n\n$.Class.extend(\"bizagi.rendering.numberScientificNotation\", {\n  /*\r\n                                                               *   Update or init the element data\r\n                                                               */\n  initializeData: function initializeData(data) {\n    var self = this;\n\n    // Call base\n    this._super(data);\n\n    // Fill default properties\n    var properties = self.properties;\n\n    properties.decimalSymbol = typeof BIZAGI_DEFAULT_CURRENCY_INFO !== \"undefined\" ?\n    BIZAGI_DEFAULT_CURRENCY_INFO.decimalSeparator : format.decimalSymbol;\n  },\n\n  renderControl: function renderControl() {\n    var self = this;\n    var template = self.renderFactory.getTemplate(\"numberScientificNotation\");\n\n    // Render template\n    var html = $.fasttmpl(template, {});\n    return html;\n  },\n\n  /*\r\n      * Template method to implement in each device to customize each render after processed\r\n      */\n  postRender: function postRender() {\n    var self = this;\n    var control = self.getControl();\n    self.numericInput = control.find(\"input\");\n    // Add numeric plugin to avoid invalid keystrokes\n    self.numericInput.numericSN(self.properties.decimalSymbol);\n\n  },\n\n  getDisplayValue: function getDisplayValue() {\n    var self = this;\n    return self.getValue().replace('.', self.properties.decimalSymbol);\n  },\n\n  setValue: function setValue(value) {\n    var self = this;\n    value = (value || '').toString().replace(self.properties.decimalSymbol, '.');\n    self._super(value);\n  },\n  controlValueIsChanged: function controlValueIsChanged() {\n    var self = this;\n    var properties = self.properties;\n    var value = self.getValue() || \"\";\n    var compareValue = properties.originalValue || \"\";\n    var result = true;\n\n    // Flag to force to collect data\n    if ($.forceCollectData) {\n      return true;\n    }\n    result = compareValue.toLowerCase() == value.toLowerCase() ? false : true;\n    return result;\n  } });","/**\r\n *   Name: Bizagi Render Hidden Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for hiddens\r\n */\n\n$.Class.extend(\"bizagi.rendering.hidden\", {}, {\n\n  /**\r\n                                                 * Returns the in-memory processed element\r\n                                                 */\n  renderControl: function renderControl() {\n    if (this.getMode() === \"design\") {\n      return \"<div>\" + bizagi.localization.getResource(\"render-hidden-displayName\") + \"</div>\";\n    } else {\n      return \"<div />\";\n    }\n  },\n\n  /**\r\n      * Template method to implement in each device to customize each render after processed\r\n      */\n  postRender: function postRender() {\n    var properties = this.properties;\n\n    // Call base\n    this._super();\n\n    // Set the initial value\n    if (properties.value !== undefined) {\n      this.setDisplayValue(properties.value);\n    }\n  } });","/**\r\n *   Name: Bizagi Render Text Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for text renders\r\n */\n\n$.Class.extend(\"bizagi.rendering.text\", {}, {\n\n  /**\r\n                                               * Update or init the element data\r\n                                               * @param data\r\n                                               */\n  initializeData: function initializeData(data) {\n    // Call base\n    this._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n\n    if (properties.regularExpressionExpression) {\n      var message = properties.regularExpressionMessage || this.getResource(\"render-text-regular-expression-default-message\");\n      properties.regularExpression = { \"expression\": properties.regularExpressionExpression, \"message\": message };\n    }\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @returns {*}\r\n      */\n  renderControl: function renderControl() {\n    var template = this.renderFactory.getTemplate(\"text\");\n\n    // Render template\n    var html = $.fasttmpl(template, {\n      value: this.properties.value,\n      isEmptyField: typeof this.properties.value === \"undefined\",\n      helpText: this.properties.helpText,\n      editable: this.properties.editable });\n\n\n    return html;\n  },\n\n  /**\r\n      * Method to render non editable values\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    var template = this.renderFactory.getTemplate(\"text-read-only\");\n    var value = this.getValue();\n\n    if (bizagi.util.isString(value)) {\n      value = value.replaceAll(\"`\", \"&#96;\");\n    }\n\n    // Render template\n    return $.fasttmpl(template, { value: value, editable: this.properties.editable });\n  },\n\n  /**\r\n      * Template method to implement in each device to customize each render after processed\r\n      */\n  postRender: function postRender() {\n    // Call base\n    this._super();\n\n    this.input = this.getControl().find(\"input\");\n\n    //Attach event for retype double\n    if (this.properties.retype === \"double\")\n    this.attachRetypeDouble();\n  },\n\n  /**\r\n      * function virtual implements on children (desktop,samrtphone...).\r\n      */\n  attachRetypeDouble: function attachRetypeDouble() {\n  },\n\n  /**\r\n      * Template method to implement in each device to customize the render's behaviour to add handlers\r\n      */\n  configureHandlers: function configureHandlers() {\n    var self = this;\n    var properties = self.properties;\n\n    // Check mask property\n    if (properties.mask)\n    self.input.mask({ mask: properties.mask });\n\n    // Attach change event\n    self.input.bind(\"change\", function () {\n\n      // Updates internal value\n      self.setValue(self.input.val(), false);\n\n      // Check that the value is valid\n      var validationMessages = [];\n      if (properties.retype !== \"duplicate\") {\n        if (self.isValid(validationMessages) || typeof properties.regularExpression === \"undefined\") {\n          // Update value again triggering handlers\n          self.setValue(self.input.val(), true);\n        }\n      }\n\n    }).keypress(function (e) {\n      e = window.event || e;\n      var keyUnicode = e.charCode || e.keyCode;\n\n      if (e !== undefined) {\n        if (keyUnicode == 13) {\n          $(this).trigger(\"change\");\n        }\n      }\n    });\n    //QA33146 - maxlength does not support in Android Devices. \n    if (bizagi.util.isAndroidDevice() && properties.maxLength > 0) {\n      self.input.bind(\"keyup\", function (e) {\n        var inputLength = $(this).val() && $(this).val().length;\n        if (inputLength >= properties.maxLength) {\n          e.preventDefault();\n          e.target.value = e.target.value.substring(0, properties.maxLength);\n        }\n      });\n    }\n  },\n\n  /**\r\n      * Public method to determine if a value is valid or not\r\n      * @param invalidElements\r\n      * @returns {*}\r\n      */\n  isValid: function isValid(invalidElements) {\n    var self = this;\n    var properties = self.properties;\n    // Call base\n    var bValid = this._super(invalidElements);\n    var value = self.getValue();\n\n    // When the form have big data, block browser executing RegExp. QAF-1418.\n    // Check regular expression\n    if (typeof value == \"string\") {\n      if (properties.regularExpression) {\n        if (properties.editable) {\n          var regex = new RegExp(\"\");\n          try {\n            regex = new RegExp(properties.regularExpression.expression);\n          }\n          catch (e) {\n            if (bizagi.override.showDesignValidations) {\n              bizagi.log(e);\n              invalidElements.push({ xpath: properties.xpath, message: e.message });\n              bValid = false;\n            }\n          }\n\n          if (value && (value.match(new RegExp(\".*?(<|\\\\u003C)(.+?)(>|\\\\u003E)(.?)|eval\\\\(|eval\\\\u0028\", \"g\")) || !value.match(regex) && self.properties && self.properties.xpath === \"userName\")) {\n            var message = properties.regularExpression.message;\n            invalidElements.push({ xpath: properties.xpath, message: message });\n            bValid = false;\n          } else {\n            if (value && (value.match(new RegExp(\".*?(<|\\\\u003C)(.+?)(>|\\\\u003E)(.?)|eval\\\\(|eval\\\\u0028\", \"g\")) || !value.match(regex))) {\n              var message = properties.regularExpression.message;\n              invalidElements.push({ xpath: properties.xpath, message: message });\n              bValid = false;\n            }\n          }\n        }\n      } else {\n        // Strange behavior on IE. When matchs are united on IE have is very slow\n        // solution, divide matchs\n        //.*? means for more information search: \"Lazy matching regexp\"\n        if (value && value.match(new RegExp(\".*?eval\\\\(\", \"g\")) && value.match(new RegExp(\".*?eval\\\\u0028\", \"g\"))) {\n          if (properties.editable) {\n            var message = this.getResource(\"render-text-regular-expression-default-message\");\n\n            invalidElements.push({ xpath: properties.xpath, message: message });\n            bValid = false;\n          }\n        }\n      }\n    }\n\n    return bValid;\n  },\n\n  /**\r\n      * Sets the value in the rendered control\r\n      * @param value\r\n      */\n  setDisplayValue: function setDisplayValue(value) {\n    var self = this;\n    var control = self.getControl();\n    var decodedValue = bizagi.util.decodeURI(value);\n\n    if (!bizagi.util.parseBoolean(self.properties.editable)) {\n      // Render as simple value\n      if (typeof value === \"string\") {\n        // Replace line breaks for html line breaks\n        var valueToDisplay = bizagi.util.encodeHtmlText(self.getDisplayValue());\n\n        control.html(\"<label class='readonly-control'>\" + valueToDisplay + \"</label>\");\n      } else {\n        if (bizagi.util.isNull(value)) {\n          control.html(\"\");\n        }\n      }\n    }\n\n    // Set internal value\n    self.setValue(decodedValue, false);\n  },\n\n  /**\r\n      * Extend setValue to fix all encode data from database\r\n      * @param value\r\n      */\n  setValue: function setValue(value) {\n    this._super(value);\n  },\n\n  /**\r\n      * Helptext tooltip\r\n      * @param {} control\r\n      * @param {} currentValue\r\n      * @param {} currentTitle\r\n      */\n  createTooltip: function createTooltip(control, currentValue, currentTitle) {\n    control.data(\"oldValue\", currentValue);\n    control.val(\"\");\n\n    if (control.data('ui-tooltip')) control.tooltip('destroy');\n\n    control.attr(\"title\", currentTitle);\n    control.tooltip();\n\n    var toolTipZindex = $.getMaxZindex();\n    control.tooltip().on(\"tooltipopen\", function (event, ui) {\n      ui.tooltip.zIndex(toolTipZindex);\n    });\n\n    // Create new tooltip\n    control.tooltip(\"open\");\n\n    var timeOutFocus = setTimeout(function () {\n      control.focus();\n      clearTimeout(timeOutFocus);\n    }, 100);\n  },\n\n\n  //#region No side effects functions\n  /**\r\n   * Gets the string with the correct size\r\n   * @param {string} value String value to validate\r\n   * @param {Integer} maxLength Maximum size of the string\r\n   * @returns {string} String value validated\r\n   */\n  validateValue: function validateValue(value, maxLength) {\n    if (typeof value !== \"string\" || maxLength < 1 || value.length <= maxLength) return value;\n    return value.substr(0, maxLength);\n  }\n  //#endregion No side effects functions\n});","/**\r\n *   Name: Bizagi Render Readonly Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for readonly renders\r\n */\n\n$.Class.extend(\"bizagi.rendering.readonly\", {}, {\n\n  /**\r\n                                                   * Update or init the element data\r\n                                                   * @param data\r\n                                                   */\n  initializeData: function initializeData(data) {\n    // Call base\n    this._super(data);\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @returns {*}\r\n      */\n  renderControl: function renderControl() {\n    var template = this.renderFactory.getTemplate(\"readonly-value\");\n    var value = this.getMode() == 'execution' ?\n    this.getFormattedValue(this.properties.value, this.properties.dataType) :\n    this.getDesignModeValue(this.properties.renderType);\n\n    // Render template\n    var html = $.fasttmpl(template, {\n      id: this.properties.id,\n      value: value });\n\n\n    return html;\n  },\n\n  /**\r\n      * Method to render non editable values\r\n      * @returns {*|jQuery}\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    return this.renderControl();\n  },\n\n  /**\r\n      *  Sets the value in the rendered control\r\n      * @param value\r\n      */\n  setDisplayValue: function setDisplayValue(value) {\n    // DON'T DO ANYTHING\n  },\n\n  /**\r\n      * Sets the internal value\r\n      * @param value\r\n      * @param triggerEvents\r\n      */\n  setValue: function setValue(value, triggerEvents) {\n    // DON'T DO ANYTHING\n  },\n\n  /**\r\n      * Get data value with format\r\n      * @param value\r\n      * @param dataType\r\n      */\n  getFormattedValue: function getFormattedValue(value, dataType) {\n    if (bizagi.util.isEmpty(value)) return \"\";\n\n    // If dataType is integer\n    if ([1, 2, 3, 4, 7].includes(dataType)) return value;\n\n    // If dataType is boolean\n    if ([5, 17].includes(dataType)) return bizagi.util.formatBoolean(value);\n\n    // If dataType is monetary\n    if ([8].includes(dataType)) return bizagi.util.formatMonetaryValue(value);\n\n    // If dataType is real or float\n    if ([6, 10, 11].includes(dataType)) return bizagi.util.formatDecimalValue(value);\n\n    // If dataType is date\n    if ([12, 13].includes(dataType)) return bizagi.util.formatDateValue(value);\n\n    // Otherwise, If dataType is string\n    return bizagi.util.sanitizeHTML(value) || \"\";\n  },\n\n  /***/\n  getDesignModeValue: function getDesignModeValue(renderType) {\n\n    // If dataType is integer\n    if (renderType == 'number') return '123';\n    if (renderType == 'string') return 'abc';\n    if (renderType == 'date') return '1/1/1900';\n    if (renderType == 'boolean') return 'false';\n    if (renderType == 'currency') return '$123';\n\n    return \"\";\n  },\n\n  /** \r\n      * Customizes render background color\r\n      * @param {} color\r\n      * @returns {}\r\n      */\n  changeBackgroundColor: function changeBackgroundColor(color) {\n    if (typeof color === \"undefined\") return this;\n\n    if (color !== \"none\") {\n      this.element.style(\"background\", color, \"important\");\n    } else {\n      this.element.css(\"background\", \"\");\n    }\n\n    return this;\n  },\n\n  /**\r\n      * Gets jQuery Object to stylize\r\n      * @param {jQuery Object} $context jQuery Object\r\n      */\n  getElementsToStylize: function getElementsToStylize($context) {\n    return $(\".bz-input--readonly\", $context);\n  } });","/*\r\n *   Name: BizAgi Render Radio Class\r\n *   Author: Ivan Ricardo Taimal Narvaez\r\n *   Comments:\r\n *   -   This script will define basic stuff for radio renders\r\n */\n\n$.Class.extend(\"bizagi.rendering.checkList\", {}, {\n\n  /*\r\n                                                    *   Update or init the element data\r\n                                                    */\n  initializeData: function initializeData(data) {\n    var self = this;\n    // Call base\n    this._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n    properties.horizontal = bizagi.util.parseBoolean(properties.horizontal) || false;\n    self.setValue(properties.items);\n    self.updateOriginalValue();\n  },\n\n  /*\r\n      *   Template method to implement in each device to customize each render after processed\r\n      */\n  postRender: function postRender() {\n    var self = this;\n    var control = self.getControl();\n\n    // Call base\n    self._super();\n    self.checkListGroup = $(\".ui-bizagi-render-checkList .ui-bizagi-render-checkList-item\", control);\n  },\n\n  /*\r\n      *   Template method to implement in each children to customize each control\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var properties = self.properties;\n    var template = self.renderFactory.getTemplate(self.getTemplateName());\n    var items = self.properties.items || [];\n\n    var html = $.fasttmpl(template, $.extend(self.getTemplateParams(), {\n      id: properties.id,\n      xpath: properties.xpath,\n      unique: bizagi.util.randomNumber(10000, 1000000),\n      idPageCache: properties.idPageCache,\n      items: items }));\n\n    return html;\n  },\n\n  /*\r\n      *   Gets the template used by the combo render\r\n      *   can be overriden in subclasses to reuse logic and just change the template\r\n      */\n  getTemplateName: function getTemplateName() {\n    return \"checkList\";\n  },\n\n  /*\r\n      *   Determines if we need to show the empty node or not\r\n      *   Can be overriden to change behaviour\r\n      */\n  showEmpty: function showEmpty() {\n    return false;\n  },\n\n  /*\r\n      *   Determines if we need to show the current data regardless if it belongs to data or not\r\n      *   Can be overriden to change behaviour\r\n      */\n  showCurrentData: function showCurrentData() {\n    return false;\n  },\n\n  /*\r\n      *   Adds custom parameters to process the template\r\n      */\n  getTemplateParams: function getTemplateParams() {\n    var self = this;\n    var properties = self.properties;\n\n    return {\n      vertical: !properties.horizontal };\n\n  },\n  /*\r\n      * Cleans current data\r\n      */\n  cleanData: function cleanData() {\n\n  },\n\n  setValue: function setValue(value) {;\n    this.value = bizagi.clone(value);\n  },\n\n  getValue: function getValue(data) {;\n    return this.value || [];\n  } });","/**\r\n * Base definition of a range control\r\n *\r\n * @author: Andres Fernando Munoz\r\n */\n\n$.Class.extend(\"bizagi.rendering.range\", {}, {\n  /*\r\n                                                * Constructor\r\n                                                */\n  init: function init(params) {\n    // Call base\n    this._super(params);\n  },\n\n  /*\r\n      * Initialize the control with data provided\r\n      */\n  initializeData: function initializeData(data) {\n    var self = this;\n    // Call base\n    this._super(data);\n  },\n\n\n  /*\r\n      * Template method to implement in each children to customize each control\r\n      */\n  renderControl: function renderControl() {\n    var self = this,\n    properties = self.properties;\n    var template;\n    var html = \"\";\n    // Render template\n    template = self.renderFactory.getTemplate(\"render-range\");\n    html = $.fasttmpl(template, {});\n    return html;\n  },\n  /**\r\n      * Sets the range controls in DOM\r\n      * @param minControl: min range control\r\n      * @param maxControl: max range control\r\n      */\n  setRanageControls: function setRanageControls(minControl, maxControl) {\n    var self = this;\n    self.minControl = minControl || null;\n    self.maxControl = maxControl || null;\n    var control = self.getControl();\n\n    var $maxCanvas = $(\".bz-range-maximum\", control);\n    var $minCanvas = $(\".bz-range-minimum\", control);\n\n    //var $maxCanvas = $('<div>hola</div>');\n    //var $minCanvas = $('<div>hola</div>');\n\n    self.renderRangeControl($minCanvas, minControl);\n    self.renderRangeControl($maxCanvas, maxControl);\n  },\n\n  /*\r\n      *   Returns the internal value\r\n      */\n  getValue: function getValue() {\n    var self = this;\n    var minValue = self.minControl.getValue();\n    var maxValue = self.maxControl.getValue();\n\n    var value = {\n      min: minValue,\n      max: maxValue };\n\n    return value;\n  },\n\n  renderRangeControl: function renderRangeControl($canvas, control) {\n    $.when(control.render(\"render\")).done(function (html) {\n      $canvas.empty().append(html);\n      control.postRenderElement($canvas);\n    });\n  } });","/**\r\n * Base definition of a range date control\r\n *\r\n * @author: Andres Fernando Munoz\r\n */\n\n$.Class.extend(\"bizagi.rendering.rangeDate\", {}, {\n\n  /**\r\n                                                    * Defines de min date an de max date to the range control\r\n                                                    */\n  defineRangeControl: function defineRangeControl(params) {\n    var self = this;\n\n    var dateMin = bizagi.rendering.date.extend({\n      suscribe: function suscribe(control) {\n        this.observer = this.observer || [];\n        this.observer.push(control);\n      },\n\n      notify: function notify(value) {\n        for (var i = this.observer.length - 1; i >= 0; i--) {\n          this.observer[i].changeMinValue(value);\n        }\n      },\n\n      setValue: function setValue(value) {\n        value = value || \"\";\n        this._super(value);\n        this.notify(value);\n      } });\n\n\n    var dateMax = bizagi.rendering.date.extend({\n      suscribe: function suscribe(control) {\n        this.observer = this.observer || [];\n        this.observer.push(control);\n      },\n\n      notify: function notify(value) {\n        for (var i = this.observer.length - 1; i >= 0; i--) {\n          this.observer[i].changeMaxValue(value);\n        }\n      },\n\n      setValue: function setValue(value) {\n        value = value || \"\";\n        this._super(value);\n        this.notify(value);\n      } });\n\n\n\n    var minControl = new dateMin(self.getRenderProperties(\"min\"));\n    var maxControl = new dateMax(self.getRenderProperties(\"max\"));\n\n    minControl.suscribe(maxControl);\n    maxControl.suscribe(minControl);\n\n\n    self.setRanageControls(minControl, maxControl);\n  },\n\n  getRenderProperties: function getRenderProperties(typeRangeControl) {\n    var self = this;\n    var form = self.getFormContainer();\n    var properties = self.properties;\n\n    var renderProperties = {\n      data: {\n        properties: {\n          \"id\": properties.id,\n          \"xpath\": properties.xpath + \"_\" + typeRangeControl,\n          \"displayType\": \"value\" } },\n\n\n      mode: \"execute\",\n      parent: form,\n      renderFactory: self.renderFactory,\n      resources: bizagi.localization,\n      dataService: self.dataService };\n\n\n    if (typeRangeControl === \"min\") {\n      renderProperties.data.properties.displayName = \"From\";\n    } else {\n      renderProperties.data.properties.displayName = \"To\";\n    }\n\n    return renderProperties;\n  } });","/**\r\n * Base definition of a range money control\r\n *\r\n * @author: Andres Fernando Munoz\r\n */\n\n$.Class.extend(\"bizagi.rendering.rangeMoney\", {}, {\n\n  /**\r\n                                                     * Defines de min money an de max money to the range control\r\n                                                     */\n  defineRangeControl: function defineRangeControl() {\n    var self = this;\n\n    var moneyMin = bizagi.rendering.money.extend({\n      suscribe: function suscribe(control) {\n        this.observer = this.observer || [];\n        this.observer.push(control);\n      },\n\n      notify: function notify(value) {\n        for (var i = this.observer.length - 1; i >= 0; i--) {\n          this.observer[i].changeMinValue(value);\n        }\n      },\n\n      setValue: function setValue(value) {\n        value = value || \"\";\n        this._super(value);\n        this.notify(value);\n      } });\n\n\n    var moneyMax = bizagi.rendering.money.extend({\n      suscribe: function suscribe(control) {\n        this.observer = this.observer || [];\n        this.observer.push(control);\n      },\n\n      notify: function notify(value) {\n        for (var i = this.observer.length - 1; i >= 0; i--) {\n          this.observer[i].changeMaxValue(value);\n        }\n      },\n\n      setValue: function setValue(value) {\n        value = value || \"\";\n        this._super(value);\n        this.notify(value);\n      } });\n\n\n    var minControl = new moneyMin(self.getRenderProperties(\"min\"));\n    var maxControl = new moneyMax(self.getRenderProperties(\"max\"));\n\n    minControl.suscribe(maxControl);\n    maxControl.suscribe(minControl);\n\n    self.setRanageControls(minControl, maxControl);\n  },\n\n\n  getRenderProperties: function getRenderProperties(typeRangeControl) {\n    var self = this;\n    var form = self.getFormContainer();\n    var properties = self.properties;\n\n    var renderProperties = {\n      data: {\n        properties: {\n          \"id\": properties.id,\n          \"xpath\": properties.xpath + \"_\" + typeRangeControl,\n          \"displayType\": \"value\" } },\n\n\n      mode: \"execute\",\n      parent: form,\n      renderFactory: self.renderFactory,\n      resources: bizagi.localization,\n      dataService: self.dataService };\n\n    return renderProperties;\n  } });","/**\r\n * Base definition of a range number control\r\n *\r\n * @author: Andres Fernando Munoz\r\n */\n\n$.Class.extend(\"bizagi.rendering.rangeNumber\", {}, {\n\n  /**\r\n                                                     * Defines de min number an de max number to the range control\r\n                                                     */\n  defineRangeControl: function defineRangeControl() {\n    var self = this;\n\n    var numberMin = bizagi.rendering.number.extend({\n      suscribe: function suscribe(control) {\n        this.observer = this.observer || [];\n        this.observer.push(control);\n      },\n\n      notify: function notify(value) {\n        for (var i = this.observer.length - 1; i >= 0; i--) {\n          this.observer[i].changeMinValue(value);\n        }\n      },\n\n      setValue: function setValue(value) {\n        value = value || \"\";\n        this._super(value);\n        this.notify(value);\n      } });\n\n\n    var numberMax = bizagi.rendering.number.extend({\n      suscribe: function suscribe(control) {\n        this.observer = this.observer || [];\n        this.observer.push(control);\n      },\n\n      notify: function notify(value) {\n        for (var i = this.observer.length - 1; i >= 0; i--) {\n          this.observer[i].changeMaxValue(value);\n        }\n      },\n\n      setValue: function setValue(value) {\n        value = value || \"\";\n        this._super(value);\n        this.notify(value);\n      } });\n\n\n    var minControl = new numberMin(self.getRenderProperties(\"min\"));\n    var maxControl = new numberMax(self.getRenderProperties(\"max\"));\n\n    minControl.suscribe(maxControl);\n    maxControl.suscribe(minControl);\n\n    self.setRanageControls(minControl, maxControl);\n  },\n\n\n  getRenderProperties: function getRenderProperties(typeRangeControl) {\n    var self = this;\n    var form = self.getFormContainer();\n    var properties = self.properties;\n\n    var renderProperties = {\n      data: {\n        properties: {\n          \"id\": properties.id,\n          \"xpath\": properties.xpath + \"_\" + typeRangeControl,\n          \"displayType\": \"value\" } },\n\n\n      mode: \"execute\",\n      parent: form,\n      renderFactory: self.renderFactory,\n      resources: bizagi.localization,\n      dataService: self.dataService };\n\n\n    return renderProperties;\n  } });","/**\r\n * Base definition of Action Launcher and Entity template controls\r\n *\r\n * @author: Edward Morales\r\n */\n$.Class.extend(\"bizagi.rendering.actionLauncher\", {}, {\n\n  /*\r\n                                                         * Initialize the control with data provided\r\n                                                         */\n  initializeData: function initializeData(data) {\n    var self = this;\n    // Call base\n    this._super(data);\n    var form = self.getFormContainer();\n    this.typeForm = form.properties.typeForm || \"\";\n    var mode = self.getMode();\n    var properties = self.properties;\n\n    self.deferredActions = new $.Deferred();\n    self.deferredActions.promise();\n\n    if (mode == \"execution\") {\n      self.engine = new bizagi.templateEngine({\n        renderFactory: self.renderFactory,\n        cache: true,\n        autoGenerateData: false,\n        templateGuid: properties.selecttemplate });\n\n    }\n\n    // Data of get process property value\n    self.processPropertyValueArgs = {\n      \"pcaseId\": self.getIdCase(),\n      \"pguidEntity\": self.properties.guidEntity,\n      \"idRender\": self.properties.id,\n      \"xpathContext\": form.properties.xpathContext,\n      \"idPageCache\": form.properties.idPageCache,\n      \"property\": \"data\",\n      \"psurrogatedKey\": self.properties.surrogatedKey,\n      \"ptags\": self.properties.tagslist || [],\n      \"pmaxitems\": self.properties.maxItems,\n      \"pactionXpath\": self.properties.xpathActions };\n\n\n    self.processPropertyValueDataTmplArgs = {\n      \"pactionXpath\": self.properties.xpathActions,\n      \"idRender\": self.properties.id,\n      \"xpathContext\": form.properties.xpathContext,\n      \"idPageCache\": form.properties.idPageCache,\n      \"ptemplateGuid\": properties.selecttemplate,\n      \"property\": \"dataTemplate\",\n      \"xpathActions\": self.properties.xpathActions };\n\n\n    self.properties.valueWidth = 100;\n    self.properties.displayType = \"value\";\n    var defaultAllowActions = data.properties.type === \"entityTemplate\" ? false : true;\n    self.properties.allowactions = typeof data.properties.allowactions == \"undefined\" ?\n    defaultAllowActions : data.properties.allowactions;\n    self.properties.isHorizontal = typeof data.properties.isHorizontal == \"undefined\" ?\n    true : data.properties.isHorizontal;\n    self.properties.allowSearch = typeof data.properties.allowSearch == \"undefined\" ?\n    false : data.properties.allowSearch;\n    self.properties.selecttemplate = typeof data.properties.selecttemplate == \"undefined\" ?\n    \"\" : data.properties.selecttemplate;\n    self.properties.templatetype = typeof properties.templatetype != \"undefined\" ?\n    properties.templatetype : 'none';\n\n    self.properties.sessionId = form.params.data.sessionId;\n\n    if (!self.properties.value) {\n      self.properties.value = self.value = [];\n      self.properties.originalValue = [];\n    } else if (typeof self.properties.value == \"string\") {\n      self.properties.value = self.value = JSON.parse(self.properties.value);\n    }\n  },\n\n  /**\r\n      * Send processpropertyvalue in order to execute an Action\r\n      * This method is used when this control stay in Summary form or Global form\r\n      * @param action\r\n      */\n  executeActionImmediately: function executeActionImmediately(action) {\n    var self = this;\n    //Execute action immediately\n    var form = self.getFormContainer();\n\n    var processPropertyValueExecuteAction = {\n      \"idRender\": self.properties.id,\n      \"xpathContext\": form.properties.xpathContext,\n      \"idPageCache\": form.properties.idPageCache,\n      \"property\": \"executeAction\",\n      \"psurrogatedKey\": self.properties.surrogatedKey,\n      \"pguidAction\": action.guidAction,\n      \"pparameters\": JSON.encode({\n        \"idStartScope\": action.idStartScope,\n        \"pactionXpath\": self.properties.xpathActions,\n        \"idPageCache\": action.idPageCache }) };\n\n\n\n    self.dataService.executeActions(processPropertyValueExecuteAction).done(function (data) {\n      self.notifyExecution(data, action);\n    }).fail(function (error) {\n      // TODO: Create generic mechanism to send notifications\n      self.notifyExecution(\"Error\", action);\n    });\n  },\n\n  /**\r\n      * notify action execution status\r\n      * @param response\r\n      * @param actionName\r\n      */\n  notifyExecution: function notifyExecution(response, actionName) {\n    // To override in each device\n  },\n\n  /**\r\n      * Render control in read only mode: properties.editable = false\r\n      * @return {*}\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    return this.renderControl();\n  },\n\n  /**\r\n      * Make a postrender of readonly control\r\n      */\n  postRenderReadOnly: function postRenderReadOnly() {\n    this.properties.readOnly = true;\n    this.postRender();\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @return {string}\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var properties = self.properties;\n    var mode = self.getMode();\n    var template;\n    var html = \"\";\n\n    // Render template\n    if (mode == \"design\") {\n      template = self.renderFactory.getTemplate(\"render-actionLauncher-design\");\n      var params = {\n        type: properties.type,\n        isHorizontal: properties.isHorizontal,\n        allowSearch: properties.allowSearch,\n        templateDefined: properties.templatetype != 'none',\n        allowactions: properties.allowactions };\n\n      html = $.fasttmpl(template, params);\n    } else if (properties.surrogatedKey) {\n      template = self.renderFactory.getTemplate(\"render-actionLauncher\");\n      html = $.fasttmpl(template, { allowactions: self.properties.allowactions });\n    }\n    return html;\n  },\n\n\n  /**\r\n      * Public method to determine if a value is valid or not\r\n      * @param invalidElements\r\n      * @return {*}\r\n      */\n  isValid: function isValid(invalidElements) {\n    var self = this,\n    properties = self.properties;\n    var value = self.getValue();\n    var bValid = false;\n\n    // Don't check non-editable renders\n    if (bizagi.util.parseBoolean(properties.visible) == false) {\n      return true;\n    }\n    // Don't check non-editable renders\n    if (bizagi.util.parseBoolean(properties.editable) == false) {\n      return true;\n    }\n\n    // Check required\n    if (properties.required) {\n      if (self.value) {\n        if (self.value.length > 0)\n        return true;\n        message = self.getResource(\"render-required-register-action\");\n        invalidElements.push({ xpath: properties.xpath, message: message });\n        return false;\n      }\n    }\n\n    return bValid;\n  },\n\n  /**\r\n      * Sets the value in the rendered control\r\n      * @param value\r\n      */\n  setDisplayValue: function setDisplayValue(value) {\n    var self = this;\n    var control = self.getControl();\n    // TODO: write functionality\n    // Set internal value\n    self.setValue(value, false);\n  },\n\n  /**\r\n      * Process an action\r\n      * @param action\r\n      */\n  actionManager: function actionManager(action) {\n    var self = this;\n    var guidProcess = action.guidProcess || \"\";\n    var def = new $.Deferred();\n\n    action.recordXpath = self.getFormContainer().properties.recordXpath;\n\n    /**\r\n                                                                          * Check if action is a process\r\n                                                                          */\n    switch (action.actionType) {\n      case \"Process\":\n        // Verify if case has startform\n        var params = {\n          guidWFClass: guidProcess };\n\n\n        $.when(self.dataService.hasStartForm(params)).done(function (result) {\n          if (result.hasStartForm) {\n            // Open a dialog with startform and wait for Scope\n            $.when(self.processStartForm({\n              guidprocess: guidProcess,\n              title: action.displayName,\n              recordXpath: action.recordXpath })).\n            done(function (idStartScope) {\n              action.idStartScope = idStartScope;\n              def.resolve(action);\n            });\n          } else {\n            // Just add action to queue to be executed on nextEvent\n            def.resolve(action);\n          }\n        });\n\n        break;\n      case \"Rule\":\n        // Just add action to queue to be executed on nextEvent\n        def.resolve(action);\n        break;\n      case \"Form\":\n        // If it has additional xpath this action is a form of collection\n        if (action.xpathContext) {\n          $.when(self.processActionFormCollection(action)).done(function (idStartScope) {\n            action.idStartScope = idStartScope;\n            def.resolve(action);\n          });\n        } else {\n\n          if (action.actionType === \"Form\") {\n            action.xpathContext = undefined;\n            action.contextType = \"entitytemplate\";\n            action.guidEntity = action.guidEntity || self.properties.guidEntity;\n          }\n\n          $.when(self.processActionForm(action)).done(function (idStartScope) {\n            action.idStartScope = idStartScope;\n            def.resolve(action);\n          });\n        }\n        break;}\n\n\n    return def.promise();\n  },\n\n  /**\r\n      * Add actions within value object\r\n      * @param action\r\n      */\n  addActionToQueue: function addActionToQueue(action) {\n    var self = this;\n    var actionsList = self.getValue();\n    var formParams = self.getFormContainer().getParams();\n\n    action.params = action.params || {};\n\n    var recordXpath = self.properties.xpathContext;\n\n    switch (action.actionType) {\n      case \"Process\":\n        action.params = {\n          idStartScope: action.idStartScope,\n          additionalXpaths: self.properties.additionalXpath.join(\",\"),\n          idParentWorkitem: formParams.idWorkitem || bizagi.context.idWorkItem,\n          recordXpath: recordXpath };\n\n        break;\n      case \"Form\":\n        action.params = {\n          idStartScope: action.idStartScope,\n          additionalXpaths: self.properties.additionalXpath.join(\",\"),\n          entityXpath: self.properties.xpathActions,\n          idParentWorkitem: formParams.idWorkitem || bizagi.context.idWorkItem,\n          idEntity: action.idEntity };\n\n        break;\n      case \"Rule\":\n        action.params = {\n          xpathActions: action.xpathActions || \"\",\n          recordXpath: recordXpath };\n\n        break;}\n\n\n    var newValueActionsList = bizagi.clone(actionsList);\n    newValueActionsList.push(action);\n    self.setValue(newValueActionsList);\n    self.setDisplayValue(newValueActionsList);\n  },\n\n  /**\r\n      * Remove action within value object\r\n      * @param index\r\n      */\n  removeActionToQueue: function removeActionToQueue(index) {\n    var self = this;\n    var newValueActionsList = bizagi.clone(self.getValue());\n    newValueActionsList.splice(index, 1);\n    self.setValue(newValueActionsList);\n    self.setDisplayValue(newValueActionsList);\n  },\n  /**\r\n      * Add the render data to the given collection in order to send data to the server\r\n      * @param renderValues\r\n      */\n  collectData: function collectData(renderValues) {\n    var self = this;\n    if (self.controlValueIsChanged()) {\n      var properties = self.properties;\n      var xpath = properties.xpath;\n      var controlValue = self.getValue();\n      var actions = [];\n      $.each(controlValue, function (index, value) {\n        var action = {};\n        action.params = value.params || {};\n        action.guidAction = value.guidAction;\n\n        actions.push(action);\n      });\n      renderValues[xpath] = actions.length == 0 ? \"\" : JSON.encode(actions);\n    }\n  },\n\n  /**\r\n      * Util to count how many actions are there\r\n      * @param action\r\n      * @return {number}\r\n      */\n  countSameActions: function countSameActions(action) {\n    var self = this;\n    var value = self.getValue();\n    var count = 0;\n    $.each(value, function (key, value) {\n      if (value.guidAction == action.guidAction) {\n        count++;\n      }\n    });\n    return count;\n  },\n\n  /**\r\n     * Normalize action launcher control properties\r\n     * @param actionsLaucher\r\n     * @returns {*}\r\n     */\n  getPropertiesActionLaucher: function getPropertiesActionLaucher(actionsLaucher) {\n    var self = this;\n    var form = self.getFormContainer();\n    /**\r\n                                         * The properties of actionLaucher have to 7 properties mandatory\r\n                                         * 0: guidProcess\r\n                                         * 1: displayName\r\n                                         * 2: title\r\n                                         * 3: actionType\r\n                                         * 4: guidaction\r\n                                         * 5: xpathContext\r\n                                         * 6: readOnlyForm: default: false\r\n                                         */\n    for (var i = 0, length = actionsLaucher.length, j = length; i < j; i += 1) {\n      //some ocassions server return 6 or 7 items\n      //return 6 properties when launch form action from action launcher control.\n      //in this case dont return xpathContext.\n      // So, add item position 5, simulate xpathContext empty.\n      if (actionsLaucher[i].length === 6) {\n        actionsLaucher[i].splice(5, 0, \"\");\n\n        if (actionsLaucher[i][3] == \"Process\" && form.properties.xpathContext) {\n          actionsLaucher[i][5] = form.properties.xpathContext;\n        }\n      }\n    }\n\n    return actionsLaucher;\n  } });","/**\r\n * Base definition of entity template\r\n *\r\n * @author: Andres Fernando Muñoz\r\n * based on action launcher control\r\n */\n$.Class.extend(\"bizagi.rendering.entityTemplate\", {}, {\n  /**\r\n                                                         * Constructor\r\n                                                         */\n  init: function init(params) {\n    // Call base\n    this._super(params);\n  },\n\n  /**\r\n      * Initialize the control with data provided\r\n      */\n  initializeData: function initializeData(data) {\n    var self = this;\n    // Call base\n    this._super(data);\n    var form = self.getFormContainer();\n\n    self.deferredActions = new $.Deferred();\n    self.deferredActions.promise();\n\n    // Data of get process property value\n    self.processPropertyValueArgs = {\n      \"pcaseId\": self.getIdCase(),\n      \"pguidEntity\": self.properties.guidEntity,\n      \"idRender\": self.properties.id,\n      \"xpathContext\": form.properties.xpathContext,\n      \"idPageCache\": form.properties.idPageCache,\n      \"property\": \"data\",\n      \"psurrogatedKey\": self.properties.surrogatedKey };\n\n\n    self.properties.valueWidth = 100;\n    self.properties.displayType = \"value\";\n    self.properties.allowactions = typeof data.properties.allowactions == \"undefined\" ? true : data.properties.allowactions;\n\n    if (!self.properties.value) {\n      self.properties.value = self.value = [];\n    } else if (typeof self.properties.value == \"string\") {\n      self.properties.value = self.value = JSON.parse(self.properties.value);\n    }\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var mode = self.getMode();\n    var template;\n    var html = \"\";\n    // Render template\n    if (mode == \"design\") {\n      template = self.renderFactory.getTemplate(\"render-entityTemplate-design\");\n      html = $.fasttmpl(template, {});\n    } else\n    if (self.properties.surrogatedKey) {\n      template = self.renderFactory.getTemplate(\"render-entityTemplate\");\n      html = $.fasttmpl(template, { allowactions: self.properties.allowactions });\n    }\n    return html;\n  },\n\n  /**\r\n      * Public method to determine if a value is valid or not\r\n      */\n  isValid: function isValid(invalidElements) {\n    var self = this,\n    properties = self.properties;\n    // Call base\n    var bValid = this._super(invalidElements);\n    var value = self.getValue();\n    // TODO: write functionality\n    return bValid;\n  },\n\n  /**\r\n      * Sets the value in the rendered control\r\n      */\n  setDisplayValue: function setDisplayValue(value) {\n    var self = this;\n    var control = self.getControl();\n    // TODO: write functionality\n    // Set internal value\n    self.setValue(value, false);\n  } });","/**\r\n * Base definition of Polymorphic launcher\r\n *\r\n * @author: Edward J Morales\r\n */\n\n$.Class.extend(\"bizagi.rendering.polymorphicLauncher\", {}, {\n  /*\r\n                                                              * Constructor\r\n                                                              */\n  init: function init(params) {\n    // Call base\n    this._super(params);\n  },\n\n  /*\r\n      * Initialize the control with data provided\r\n      */\n  initializeData: function initializeData(data) {\n    var self = this;\n    // Call base\n    this._super(data);\n    var form = self.getFormContainer();\n    this.typeForm = form.properties.typeForm || \"\";\n    var mode = self.getMode();\n\n    self.deferredActions = new $.Deferred();\n    self.deferredActions.promise();\n\n    self.properties.valueWidth = 100;\n    self.properties.displayType = \"value\";\n    self.properties.allowSearch = typeof data.properties.allowSearch == \"undefined\" ? false : data.properties.allowSearch;\n    self.properties.additionalXpath = self.properties.additionalXpath || [];\n\n    if (!self.properties.value) {\n      self.properties.value = self.value = [];\n      self.properties.originalValue = [];\n    } else if (typeof self.properties.value == \"string\") {\n      self.properties.value = self.value = JSON.parse(self.properties.value);\n    }\n\n    // Data of get process property value\n    self.processPropertyValueArgs = {\n      \"pcaseId\": self.getIdCase(),\n      \"pguidEntity\": self.properties.guidEntity,\n      \"idRender\": self.properties.id,\n      \"xpathContext\": form.properties.xpathContext,\n      \"idPageCache\": form.properties.idPageCache,\n      \"property\": \"data\",\n      \"ptags\": self.getTagList(self.properties.tagslist),\n      \"additionalXpaths\": self.properties.additionalXpath };\n\n  },\n\n  /**\r\n      * Send processpropertyvalue in order to execute an Action\r\n      * This method is used when this control stay in Summary form or Global form\r\n      * @param action\r\n      */\n  executeActionImmediately: function executeActionImmediately(action) {\n    var self = this;\n    //Execute action immediately\n    var form = self.getFormContainer();\n\n    var processPropertyValueExecuteConstructor = {\n      \"idRender\": self.properties.id,\n      \"xpathContext\": form.properties.xpathContext,\n      \"idPageCache\": form.properties.idPageCache,\n      \"property\": \"executeConstructor\",\n      \"psurrogatedKey\": self.properties.surrogatedKey,\n      \"pguidConstructor\": action.guidConstructor,\n      \"pparameters\": JSON.encode({\n        \"idStartScope\": action.idStartScope,\n        \"pactionXpath\": self.properties.xpathActions,\n        \"idPageCache\": action.idPageCache }) };\n\n\n\n    self.dataService.executeActions(processPropertyValueExecuteConstructor).done(function (data) {\n      self.notifyExecution(data.response, action);\n    }).fail(function (error) {\n      // TODO: Create generic mechanism to send notifications\n      self.notifyExecution(\"Error\", action);\n    });\n  },\n\n  /**\r\n      * notify action execution status\r\n      * @param response\r\n      */\n  notifyExecution: function notifyExecution(response, actionName) {\n    // To override in each device\n  },\n\n  /**\r\n      * Render control in read only mode: properties.editable = false\r\n      * @return {*}\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    return this.renderControl();\n  },\n\n  /**\r\n      * Make a postrender of readonly control\r\n      */\n  postRenderReadOnly: function postRenderReadOnly() {\n    this.properties.readOnly = true;\n    this.postRender();\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @return {string}\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var properties = self.properties;\n    var mode = self.getMode();\n    var template;\n    var html = \"\";\n\n    // Render template\n    if (mode == \"design\") {\n      template = self.renderFactory.getTemplate(\"render-polymorphicLauncher-design\");\n      var params = {\n        type: properties.type,\n        allowSearch: properties.allowSearch };\n\n      html = $.fasttmpl(template, params);\n    } else if (properties.surrogatedKey) {\n      template = self.renderFactory.getTemplate(\"render-polymorphicLauncher\");\n      html = $.fasttmpl(template);\n    }\n    return html;\n  },\n\n\n  /**\r\n      * Public method to determine if a value is valid or not\r\n      * @param invalidElements\r\n      * @return {*}\r\n      */\n  isValid: function isValid(invalidElements) {\n    var self = this,\n    properties = self.properties;\n    // Call base\n    var bValid = this._super(invalidElements);\n    var value = self.getValue();\n    // TODO: write functionality\n    return bValid;\n  },\n\n  /**\r\n      * Sets the value in the rendered control\r\n      * @param value\r\n      */\n  setDisplayValue: function setDisplayValue(value) {\n    var self = this;\n    // Set internal value\n    self.setValue(value, false);\n  },\n\n  /**\r\n      * Process an action\r\n      * @param action\r\n      */\n  actionManager: function actionManager(action) {\n    var self = this;\n    var guidProcess = action.guidObject || \"\";\n    var def = new $.Deferred();\n\n    action.recordXpath = self.getFormContainer().properties.recordXpath;\n\n    /**\r\n                                                                         /**\r\n                                                                          * Check if action is a process\r\n                                                                          */\n    switch (action.actionType) {\n      case \"Process\":\n        // Verify if case has startform\n        var params = {\n          guidWFClass: guidProcess };\n\n\n        $.when(self.dataService.hasStartForm(params)).done(function (result) {\n          if (result.hasStartForm) {\n            // Open a dialog with startform and wait for Scope\n            $.when(self.processStartForm({\n              guidprocess: guidProcess,\n              title: action.displayNamee,\n              recordXpath: action.recordXpath })).\n            done(function (idStartScope) {\n              action.idStartScope = idStartScope;\n              def.resolve(action);\n            });\n          } else {\n            // Just add action to queue to be executed on nextEvent\n            def.resolve(action);\n          }\n        });\n\n        break;\n      case \"Rule\":\n        // Just add action to queue to be executed on nextEvent\n        def.resolve(action);\n        break;\n      case \"Form\":\n        $.when(self.processActionForm(action)).done(function (idStartScope) {\n          action.idStartScope = idStartScope;\n          def.resolve(action);\n        });\n        break;}\n\n\n    return def.promise();\n  },\n\n  /**\r\n      * Add actions within value object\r\n      * @param action\r\n      */\n  addActionToQueue: function addActionToQueue(action) {\n    var self = this;\n    var actionsList = self.getValue();\n    var formParams = self.getFormContainer().getParams();\n\n    action.params = action.params || {};\n\n    var recordXpath = self.properties.xpathContext;\n\n    switch (action.actionType) {\n      case \"Process\":\n        action.params = {\n          additionalXpaths: self.properties.additionalXpath.join(\",\"),\n          idParentWorkitem: formParams.idWorkitem || bizagi.context.idWorkItem,\n          recordXpath: recordXpath };\n\n        if (typeof action.idStartScope !== \"undefined\") {\n          action.params.idStartScope = action.idStartScope;\n        }\n        break;\n      case \"Form\":\n        action.params = {\n          idStartScope: action.idStartScope,\n          additionalXpaths: self.properties.additionalXpath.join(\",\"),\n          entityXpath: self.properties.xpathActions,\n          idParentWorkitem: formParams.idWorkitem || bizagi.context.idWorkItem,\n          idEntity: action.idEntity,\n          guidEntity: action.guidEntity };\n\n        break;\n      case \"Rule\":\n        //TODO\n        break;}\n\n\n    actionsList.push(action);\n    self.setValue(actionsList);\n    self.setDisplayValue(actionsList);\n  },\n\n  /**\r\n      * Remove action within value object\r\n      * @param index\r\n      */\n  removeActionToQueue: function removeActionToQueue(index) {\n    var self = this;\n    var value = self.getValue();\n    value.splice(index, 1);\n    self.setValue(value);\n    self.setDisplayValue(value);\n  },\n  /**\r\n      * Add the render data to the given collection in order to send data to the server\r\n      * @param renderValues\r\n      */\n  collectData: function collectData(renderValues) {\n    var self = this;\n    if (self.controlValueIsChanged()) {\n      var properties = self.properties;\n      var xpath = properties.xpath;\n      var controlValue = self.getValue();\n      var actions = [];\n      $.each(controlValue, function (index, value) {\n        var action = {};\n        action.params = value.params || {};\n        action.guidAction = value.guidObject || value.guidAction;\n        action.displayName = value.displayName;\n        action.guidConstructor = value.guidConstructor;\n        action.actionType = value.actionType;\n        action.xpathContext = value.xpathContext;\n        action.guidEntity = value.guidEntity;\n        actions.push(action);\n      });\n      renderValues[xpath] = actions.length == 0 ? \"\" : JSON.encode(actions);\n    }\n  },\n\n  /**\r\n      * Util to count how many actions are there\r\n      * @param action\r\n      * @return {number}\r\n      */\n  countSameActions: function countSameActions(action) {\n    var self = this;\n    var value = self.getValue();\n    var count = 0;\n    $.each(value, function (key, value) {\n      if (value.guidAction == action.guidAction) {\n        count++;\n      }\n    });\n    return count;\n  },\n\n  /**\r\n      * Get list of tags\r\n      * @param taglist\r\n      * @return {Array}\r\n      */\n  getTagList: function getTagList(taglist) {\n    taglist = taglist || [];\n    var result = [];\n\n    for (var i = taglist.length; i > 0; i--) {\n      result.push(taglist[i - 1].value);\n    }\n    return result.length > 0 ? result : \"\";\n  } });","/**\r\n *   Name: Bizagi Render Button Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for button renders\r\n */\n\n$.Class.extend(\"bizagi.rendering.button\", {}, {\n\n  /**\r\n                                                 * Update or init the element data\r\n                                                 * @param {} data\r\n                                                 * @returns {}\r\n                                                 */\n  initializeData: function initializeData(data) {\n    // Call base\n    this._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n    properties.caption = properties.caption || \"\";\n\n    // set default value from normal to value\n    properties.displayType = \"value\";\n\n    // A button cannot be required\n    properties.required = false;\n\n    // This flag enable/disable default behaviors of buttons\n    // auto save and execute rule\n    properties.preventDefault = properties.preventDefault || false;\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @returns {}\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var template = self.renderFactory.getTemplate(\"button\");\n\n    // Render template\n    return $.fasttmpl(template, {\n      caption: self.properties.caption,\n      cssClass: self.properties.cssclass || \"\",\n      editable: self.properties.editable });\n\n  },\n\n  /**\r\n      * Method to render non editable values\r\n      * @returns {}\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    // Executes the same template than normal render\n    return this.renderControl();\n  },\n\n  /**\r\n      * Template method to implement in each device to customize each render after processed in read-only mode\r\n      */\n  postRenderReadOnly: function postRenderReadOnly() {\n    // call base\n    this._super();\n\n    this.getLabel().addClass('bz-form-label--hidden');\n  },\n\n  /**\r\n      * Template method to implement in each device to customize the render behaviour after to be processed\r\n      */\n  postRender: function postRender() {\n    // call base\n    this._super();\n\n    this.getLabel().addClass('bz-form-label--hidden');\n  },\n\n  /**\r\n      * Saves the form\r\n      * @returns {}\r\n      */\n  saveForm: function saveForm() {\n    var form = this.getFormContainer();\n    return form.saveForm();\n  },\n\n  /**\r\n      * Executes the button action\r\n      * @returns {}\r\n      */\n  executeButton: function executeButton() {\n    var self = this;\n    var properties = self.properties;\n    var xpathContext = properties.xpathContext || \"\";\n\n    if (properties.submitOnChangexpathContextRow) {\n      xpathContext = xpathContext ? xpathContext + \".\" + properties.submitOnChangexpathContextRow : properties.submitOnChangexpathContextRow;\n    }\n\n    // Set the loading feedback\n    self.getFormContainer().startLoading();\n\n    return self.dataService.multiaction().executeButton({\n      idRender: properties.id,\n      xpath: properties.xpath || \"\",\n      xpathContext: xpathContext || \"\",\n      idPageCache: properties.idPageCache }).\n    always(function () {\n      self.getFormContainer().endLoading();\n      return arguments ? arguments[0] : undefined;\n    });\n  },\n\n  /**\r\n      * Refresh the current form\r\n      * @returns {}\r\n      */\n  refreshForm: function refreshForm() {\n    var form = this.getFormContainer();\n    form.refreshForm(this.properties.id);\n  },\n\n  /**\r\n      * Process the button actions workflow\r\n      * @returns {}\r\n      */\n  processButton: function processButton() {\n    var self = this;\n\n    if (self.properties.editable) {\n      // Save the form prior opening the dialog\n      self.runButtonAction();\n    }\n  },\n\n  /**\r\n      * Triggers the render change event\r\n      * @param {} params\r\n      * @returns {}\r\n      */\n  triggerRenderChange: function triggerRenderChange(params) {\n    var self = this;\n    params = params || {};\n\n    var pressed = params.pressed || false;\n\n    self.triggerHandler(\"renderchange\", { render: self, pressed: pressed });\n  },\n\n  /**\r\n      * Run button actions\r\n      * @returns {}\r\n      */\n  runButtonAction: function runButtonAction() {\n    var self = this;\n\n    // Save the form prior opening the dialog\n    self.getFormContainer().clearValidationMessages();\n\n    self.saveForm().pipe(function () {\n      return self.executeButton();\n    }).done(function (result) {\n\n      var type = result && result.type ? result.type : \"\";\n\n      if (result == null || result == true || result.result === \"success\" || result.type === \"success\") {\n        return self.refreshForm();\n      } else if ([\"validationMessages\", \"alertMessages\"].includes(type)) {\n        try {\n          if (type === \"alertMessages\") {\n            bizagi.modalError && bizagi.modalError.show(result.messages.join(\"\\n\\n\"), 'workportal-general-word-information', false);\n          } else {\n            // Add validation messages\n            self.getFormContainer().addValidationMessage(result.messages);\n          }\n        } catch (e) {\n        }\n      }\n    }).fail(function (error) {\n\n      try {\n        // Add error messages\n        var error_obj = bizagi.util.getErrorFormatted(error);\n        var message = typeof error_obj === \"undefined\" ? {\n          \"message\": bizagi.localization.getResource(\"workportal-general-error\") } :\n        error_obj;\n\n        self.getFormContainer().failHandler(message);\n      } catch (e) {\n      }\n\n    });\n\n  },\n\n  processLayout: function processLayout(isLabelFormat, format) {\n    if (isLabelFormat) {\n      this.changeBackgroundColor(format.background);\n      this._super(!isLabelFormat, format);\n    }\n  },\n\n  changeBackgroundColor: function changeBackgroundColor(color) {\n    if (typeof color === \"undefined\") return this;\n\n    if (color !== \"none\") {\n      this.getElementsToStylize(this.getControl()).style(\"background\", color, \"important\");\n    } else {\n      this.getElementsToStylize(this.getControl()).css(\"background\", \"\");\n    }\n\n    return this;\n  },\n\n  getElementsToStylize: function getElementsToStylize($context) {\n    return $(\"input\", $context);\n  },\n\n  /**\r\n      *  Method to determine if the render value can be sent to the server or not\r\n      * @returns {}\r\n      */\n  canBeSent: function canBeSent() {\n    // This render cannot be sent because it is full ajax\n    return false;\n  } });","/**\r\n *   Name: Bizagi Render Fileprint Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for fileprint renders\r\n */\n\n$.Class.extend(\"bizagi.rendering.fileprint\", {}, {\n\n  /**\r\n                                                    * Update or init the element data\r\n                                                    * @param data\r\n                                                    */\n  initializeData: function initializeData(data) {\n    // Call base\n    this._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n    var caption = $.trim(properties.caption);\n\n    properties.caption = !bizagi.util.isEmpty(caption) ? caption : \"render-fileprint-property-caption\";\n    properties.filesCount = properties.filesCount ? properties.filesCount : 0;\n\n    // set default value from normal to value\n    properties.displayType = \"value\";\n\n    // Calculate layout properties\n    this.calculateInitialLayoutProperties();\n\n    // A button cannot be required\n    properties.required = false;\n  },\n\n  /**\r\n      * Method to implement in each children to customize each control\r\n      * @returns {*|jQuery}\r\n      */\n  renderControl: function renderControl() {\n    var template = this.renderFactory.getTemplate(\"fileprint\");\n\n    return $.fasttmpl(template, {\n      caption: this.properties.caption });\n\n  },\n\n  /**\r\n      * Method to render non editable values\r\n      * @returns {*}\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    // Executes the same template than normal render\n    return this.renderControl();\n  },\n\n  /**\r\n      * Downloads the file and try to open it\r\n      */\n  downloadFile: function downloadFile() {\n    return this.dataService.getFilePrint({\n      idRender: this.properties.id,\n      xpathContext: this.properties.xpathContext || \"\",\n      idPageCache: this.properties.idPageCache,\n      contexttype: this.properties.contexttype,\n      disposition: \"download\" }).\n    then(function (response) {\n      return bizagi.util.handleJSONResponse(response);\n    });\n  } });","/**\r\n *   Name: Bizagi Render Simple Link Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for link renders\r\n */\n\n$.Class.extend(\"bizagi.rendering.link\", {}, {\n\n  /**\r\n                                               * Update or init the element data\r\n                                               * @param {} data\r\n                                               * @returns {}\r\n                                               */\n  initializeData: function initializeData(data) {\n    // Call base\n    this._super(data);\n\n    // Set properties\n    var properties = this.properties;\n    properties.required = false;\n    properties.displayType = \"value\";\n\n    // Calculate layout properties\n    this.calculateInitialLayoutProperties();\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @returns {}\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var template = self.renderFactory.getTemplate(\"link\");\n\n    // Render template\n    return $.fasttmpl(template, {\n      displayName: self.properties.displayName,\n      align: self.properties.valueAlign,\n      editable: self.properties.editable });\n\n  },\n\n  /**\r\n      * Template method to implement in each device to customize each render after processed\r\n      */\n  postRender: function postRender() {\n    this._super();\n    this.getLabel().addClass(\"bz-form-label--hidden\");\n  },\n\n  /**\r\n      * Method to render non editable values\r\n      * @returns {*}\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    // Executes the same template than normal render\n    return this.renderControl();\n  },\n\n  /**\r\n      * Template method to implement in each device to customize each render after processed in read-only mode\r\n      */\n  postRenderReadOnly: function postRenderReadOnly() {\n    this._super();\n    this.getLabel().addClass(\"bz-form-label--hidden\");\n  },\n\n  /**\r\n      * Public method to determine if a value is valid or not\r\n      * @param invalidElements\r\n      */\n  isValid: function isValid(invalidElements) {\n    // Automatically this render is valid, so we can't check a required link\n  },\n\n  /**\r\n      * Sets the value in the rendered control\r\n      * @param value\r\n      */\n  setDisplayValue: function setDisplayValue(value) {\n    // Do nothing\n  },\n\n  /**\r\n      * Method to determine if the render value can be sent to the server or not\r\n      * @returns {boolean}\r\n      */\n  canBeSent: function canBeSent() {\n    return false;\n  } });","/**\r\n *   Name: Bizagi Render Geolocation control\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for geolocation renders\r\n */\n\n$.Class.extend(\"bizagi.rendering.geolocation\", {}, {\n\n  /**\r\n                                                      * Constructor\r\n                                                      * @param {} data\r\n                                                      */\n  init: function init(data) {\n    // Call base\n    this._super(data);\n    this.geolocation = window.navigator.geolocation;\n\n    var properties = this.properties;\n    properties.allowUpdate = bizagi.util.parseBoolean(properties.allowUpdate) === true;\n\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var template = self.renderFactory.getTemplate(\"geolocation\");\n\n    // Render template\n    var html = $.fasttmpl(template, self.properties);\n    return html;\n  },\n\n  /**\r\n      * Public method to determine if a value is valid or not\r\n      * @param {} invalidElements\r\n      */\n  isValid: function isValid(invalidElements) {\n    // Call base\n    return this._super(invalidElements);\n  },\n\n  /**\r\n      * Sets the value in the rendered control\r\n      * @param {} value\r\n      * @returns {}\r\n      */\n  setDisplayValue: function setDisplayValue(value) {\n    // Set internal value\n    this.setValue(value, false);\n  },\n\n  /**\r\n      * Template method to implement in each device to customize the render's behaviour to add handlers\r\n      * @returns {}\r\n      */\n  configureHandlers: function configureHandlers() {\n\n  },\n\n  /**\r\n      * Sets the value in the rendered control\r\n      * @param {} succes_callback\r\n      * @param {} fail_callback\r\n      */\n  getCurrentPosition: function getCurrentPosition(succes_callback, fail_callback) {\n    var self = this;\n\n    if (typeof self.geolocation === \"undefined\") {\n      if (fail_callback)\n      fail_callback(bizagi.localization.getResource(\"render-control-unsuported-by-browser\").replace(\"{0}\", self.properties.type));\n      return;\n    }\n\n    var onSuccess = function onSuccess(position) {\n      if (succes_callback)\n      succes_callback(position);\n    };\n\n    var onError = function onError(error) {\n      var strMessage = self.getErrorMessage(error);\n\n      if (fail_callback)\n      fail_callback(strMessage);\n    };\n\n    return self.geolocation.getCurrentPosition(onSuccess, onError);\n  },\n\n  /**\r\n      * Get message of error\r\n      * @param error\r\n      * @returns {*|string}\r\n      */\n  getErrorMessage: function getErrorMessage(error) {\n    var strMessage = \"\";\n\n    // Check for known errors\n    switch (error.code) {\n      case error.PERMISSION_DENIED:\n      case 1:\n        strMessage = bizagi.localization.getResource(\"render-geolocation-permission-denied\");\n        break;\n      case error.POSITION_UNAVAILABLE:\n      case 2:\n        strMessage = bizagi.localization.getResource(\"render-geolocation-position-unavailable\");\n        break;\n      case error.TIMEOUT:\n      case 3:\n        strMessage = bizagi.localization.getResource(\"render-geolocation-timeout\");\n        break;\n      default:\n        strMessage = \"WD: \" + bizagi.localization.getResource(\"render-geolocation-permission-denied\");\n        break;}\n\n\n    return strMessage;\n  },\n\n  /**\r\n      * Change precision number of coordinates\r\n      * @param data\r\n      * @returns {*}\r\n      */\n  performPrecision: function performPrecision(data) {\n    var geolocation = data.split(\" \") || \"\";\n\n    if (!geolocation) return data;\n\n    try {\n      var latitude = parseFloat(geolocation[0].trim());\n      var longitude = parseFloat(geolocation[1].trim());\n\n      return latitude.toPrecision(10) + \" \" + longitude.toPrecision(10);\n    } catch (e) {\n      return data;\n    }\n  } });","/*\r\n*   Name: BizAgi Render Association Class\r\n*   Author: Edward Morales\r\n*   Comments:\r\n*   -   This script will define basic stuff for association renders\r\n*/\n\n$.Class.extend(\"bizagi.rendering.association\", {}, {\n\n  /*\r\n                                                     *   Update or init the element data\r\n                                                     */\n  initializeData: function initializeData(data) {\n    var self = this;\n\n    // Call base\n    self._super(data);\n\n    var properties = self.properties;\n\n    // Fill default properties\n    properties.property = \"flipped\";\n    properties.idRender = self.properties.id;\n    properties.allowFlip = typeof properties.allowFlip != \"undefined\" ? bizagi.util.parseBoolean(properties.allowFlip) : true;\n    properties.flipped = typeof properties.flipped != \"undefined\" ? bizagi.util.parseBoolean(properties.flipped) : false;\n    properties.flipstate = properties.flipped;\n\n\n    // data of entities (left and right)\n    properties.leftData = properties.leftData || [];\n    properties.rightData = properties.rightData || [];\n\n    if (properties.value) {\n      self.processPropertyValue();\n    }\n  },\n\n\n\n  /*\r\n     *   Template method to implement in each children to customize each control\r\n     */\n  renderControl: function renderControl() {\n    var self = this;\n    var template = self.renderFactory.getTemplate(\"association\");\n    var def = new $.Deferred();\n\n    self.properties.property = \"flipped\";\n    self.properties.idRender = self.properties.id;\n\n    // Define flipped\n    $.when(self.getFlipAssociation()).\n    done(function (flip) {\n\n      // Make json base, create self.properties.formatJson\n      self.makeJsonBase();\n\n      self.properties.flipped = bizagi.util.parseBoolean(flip) || false;\n\n      var html = $.fasttmpl(template, self.properties, {\n        getColumnData: self.getColumnData,\n        getRightAssociation: self.getRightAssociation });\n\n\n      /* by default need set self.properties.formatJson */\n      self.setValue(JSON.encode(self.properties.formatJson));\n\n      def.resolve(html);\n    });\n\n    return def.promise();\n  },\n\n\n  /*\r\n     * Returns the flip state\r\n     */\n  getFlipAssociation: function getFlipAssociation() {\n    var self = this;\n    var mode = self.getMode();\n\n    if (mode == \"execution\")\n    return self.dataService.getFlipAssociation(self.properties);\n\n    return false;\n  },\n\n  /* \r\n     *   Gets the display value of the render\r\n     */\n  getDisplayValue: function getDisplayValue() {\n    var self = this;\n    var value = self.getValue();\n\n    return value;\n  },\n\n  /*\r\n     *   Get the template \r\n     */\n  getTemplateName: function getTemplateName() {\n    return \"association\";\n  },\n\n\n  /**\r\n     * Get Left Data, verify if flipper flags sets true\r\n     * \r\n     * @param column {'0'||'1'}\r\n     */\n  getColumnData: function getColumnData() {\n    var self = this;\n    var properties = self.data;\n    var data = [];\n    var associationData = properties.flipped ? properties.rightData : properties.leftData;\n\n    $.each(associationData, function (key, item) {\n      data.push({ id: item.id, value: item.value });\n    });\n\n    return data;\n  },\n\n  /**\r\n     * Association of right elements\r\n     */\n  getRightAssociation: function getRightAssociation(leftId) {\n    var self = this;\n    var properties = self.data;\n    var association = [];\n\n\n    var isChecked = function isChecked(leftId, idRight) {\n      var checked = false;\n      $.each(properties.formatJson.value, function (key, value) {\n        if (!checked && value.id == leftId && value.value.indexOf(idRight) >= 0) {\n          checked = true;\n        }\n      });\n\n      return checked;\n    };\n\n    // create association and check element\n    if (properties.flipped) {\n      // left element\n      $.each(properties.leftData, function (key, data) {\n        association.push({\n          id: data.id,\n          name: data.value,\n          checked: isChecked(data.id, leftId) });\n\n\n      });\n    } else {\n      $.each(properties.rightData, function (key, data) {\n        association.push({\n          id: data.id,\n          name: data.value,\n          checked: isChecked(leftId, data.id) });\n\n      });\n    }\n\n    return association;\n  },\n\n\n  removeElement: function removeElement(leftId, rightId) {\n    var self = this;\n\n    $.each(self.properties.formatJson.value, function (key, data) {\n      if (self.properties.flipped) {\n        if (data.id == rightId) {\n          // Remove right element from left panel\n          $.each(self.properties.formatJson.value[key][\"value\"], function (removeKey, removeValue) {\n            if (leftId == removeValue) {\n              // Splice from array\n              self.properties.formatJson.value[key][\"value\"].splice(removeKey, 1);\n            }\n          });\n        }\n      } else if (data.id == leftId) {\n        // Remove right element from left panel\n        $.each(self.properties.formatJson.value[key][\"value\"], function (removeKey, removeValue) {\n          if (rightId == removeValue) {\n            // Splice from array\n            self.properties.formatJson.value[key][\"value\"].splice(removeKey, 1);\n          }\n        });\n      }\n    });\n    self.setValue(JSON.encode(self.properties.formatJson));\n  },\n\n\n  addElement: function addElement(leftId, rightId) {\n    var self = this;\n\n    $.each(self.properties.formatJson.value, function (key, data) {\n      if (self.properties.flipped) {\n        if (data.id == rightId) {\n          // Add right element to left panel\n          self.properties.formatJson.value[key][\"value\"].push(leftId);\n        }\n      } else if (data.id == leftId) {\n        // Add right element to left panel\n        self.properties.formatJson.value[key][\"value\"].push(rightId);\n      }\n    });\n    self.setValue(JSON.encode(self.properties.formatJson));\n  },\n\n  makeJsonBase: function makeJsonBase() {\n    var self = this;\n    self.properties.formatJson = self.properties.formatJson || {\n      leftXpath: self.properties.leftXpath,\n      rightXpath: self.properties.rightXpath,\n      leftFactName: self.properties.leftFactName,\n      rightFactName: self.properties.rightFactName,\n      value: self.properties.value };\n\n  },\n\n\n  /*\r\n     *   Check if a render has no value for required validation\r\n     */\n  hasValue: function hasValue() {\n    var self = this;\n\n    if (self.properties.formatJson) {\n      var values = self.properties.formatJson.value;\n    } else {\n      values = self.properties.value;\n    }\n\n\n    for (var i = 0, l = values.length; i < l; i++) {\n      var data = values[i];\n      if (data && data.value.length > 0) {\n        return true;\n      }\n    }\n\n    return false;\n  },\n\n  /*\r\n     * This method process the value.\r\n     * changes the format to send request\r\n     */\n  processPropertyValue: function processPropertyValue() {\n    var self = this;\n    var properties = self.properties;\n    var values = properties.value;\n    var result = [];\n\n    for (var i = 0, l = values.length; i < l; i++) {\n      var value = values[i];\n      result.push({ id: value[0], value: value[1] });\n    }\n\n    properties.value = result;\n  } });","/**\r\n *   Name: Bizagi Render Upload Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for uploads\r\n */\n\n$.Class.extend(\"bizagi.rendering.upload\", {}, {\n  /***\r\n                                                 * Update or init the element data\r\n                                                 * @param data\r\n                                                 */\n  initializeData: function initializeData(data) {\n    var self = this;\n\n    // Call base\n    self._super(data);\n\n    var form = self.getFormContainer();\n\n    // Fill default properties\n    var properties = this.properties;\n\n    var maxFileSizeOfProperty = Number(properties.maxSize) || 0;\n    var maxFileSizeOfUser = typeof BIZAGI_SETTINGS !== \"undefined\" && typeof BIZAGI_SETTINGS.UploadMaxFileSize !== \"undefined\" ? Number(BIZAGI_SETTINGS.UploadMaxFileSize) : 4091904;\n\n    properties.maxSize = maxFileSizeOfProperty || maxFileSizeOfUser;\n    properties.maxfiles = Number(properties.maxfiles) || 999;\n    properties.validExtensions = properties.validExtensions || \"\";\n\n    if (properties.validExtensions.length > 0 && properties.validExtensions.indexOf(\".\") < 0) {\n      var singleExtensions = properties.validExtensions.replace(/\\ /gi, '').split(\";\");\n      var defExtensions = [];\n\n      for (var i = 0; i < singleExtensions.length; i++) {\n        if (singleExtensions[i].length > 0) {\n          defExtensions.push(\"*.\" + singleExtensions[i]);\n        } else {\n          //Removes the empty element\n          var index = singleExtensions.indexOf(singleExtensions[i]);\n          singleExtensions.splice(i, 1);\n        }\n      }\n\n      properties.validExtensions = defExtensions.join(\";\");\n    }\n\n    properties.addUrl = properties.addUrl || self.dataService.getUploadAddUrl();\n    properties.deleteUrl = properties.deleteUrl || undefined;\n    properties.editable = bizagi.util.parseBoolean(properties.editable) || false;\n    properties.allowDelete = bizagi.util.parseBoolean(properties.allowDelete) !== null && properties.editable ? bizagi.util.parseBoolean(properties.allowDelete) : false;\n\n    properties.contexttype = form.params && form.params.data && form.params.data.contextType ? form.params.data.contextType : \"\";\n    properties.allowSendInMail = properties.allowSendInMail || false;\n\n    // Set files property\n    self.files = properties.value || [];\n    self.filesCount = self.files.length;\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @returns {*|jQuery}\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var properties = self.properties;\n    var template = self.renderFactory.getTemplate(\"upload\");\n\n    // Render template\n    var html = $.fasttmpl(template, {\n      xpath: bizagi.util.encodeXpath(self.getUploadXpath()),\n      editable: properties.editable,\n      haveFiles: self.filesCount !== 0,\n      noFiles: self.filesCount === 0,\n      allowSendInMail: properties.allowSendInMail });\n\n\n    // Render current children\n    var items = \"\";\n    for (var i = 0; i < self.filesCount; i++) {\n      var file = { id: self.files[i][0], fileName: self.files[i][1] };\n      var item = self.renderUploadItem(file);\n\n      items += item;\n    }\n\n    html = self.replaceFilesHtml(html, items);\n    return html;\n  },\n\n  /**\r\n      * Method to render non editable values\r\n      * @returns {*|*|jQuery}\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    return this.renderControl();\n  },\n\n  /**\r\n      * Renders a single upload item\r\n      * @param file\r\n      * @returns {jQuery|*}\r\n      */\n  renderUploadItem: function renderUploadItem(file) {\n    var self = this;\n    var mode = self.getMode();\n    var itemTemplate = self.getTemplateItemName();\n    var template = self.renderFactory.getTemplate(itemTemplate);\n    var form = self.getFormContainer();\n    var printVersion = form.params && form.params.printversion;\n\n    // Don't render urls when not running in execution mode\n    var url = !self.isExecutionMode() ? \"\" : self.buildItemUrl(file); // TODO: Review if need it: javascript:void(0);\n\n    var html = $.fasttmpl(template, {\n      id: file.id,\n      mode: mode,\n      url: url,\n      allowDelete: self.properties.allowDelete,\n      filename: bizagi.util.decodeURI(file.fileName),\n      editable: self.properties.editable,\n      printVersion: printVersion || false });\n\n\n    return html;\n  },\n\n  /**\r\n      * Builds the upload item url\r\n      * @param file\r\n      * @returns {*}\r\n      */\n  buildItemUrl: function buildItemUrl(file) {\n    var self = this;\n    var properties = self.properties;\n    var form = self.getFormContainer();\n\n    return self.dataService.getUploadFileUrl({\n      idRender: properties.id,\n      xpath: self.getUploadXpath(),\n      xpathContext: properties.xpathContext,\n      idPageCache: properties.idPageCache,\n      fileId: file.id,\n      sessionId: form.properties.sessionId,\n      contexttype: properties.contexttype });\n\n  },\n\n  /**\r\n      * Replaces a {{files}} tag in the container for the specified \"replace\" element\r\n      * @param html\r\n      * @param replace\r\n      * @returns {*}\r\n      */\n  replaceFilesHtml: function replaceFilesHtml(html, replace) {\n    return html.replace(\"{{files}}\", replace);\n  },\n\n  /**\r\n      * Removes a file from the upload control\r\n      * @param item\r\n      * @param fileId\r\n      * @returns {*} Returns a deferred\r\n      */\n  deleteUploadItem: function deleteUploadItem(item, fileId) {\n    var self = this;\n    var properties = self.properties;\n    var xpath = self.getUploadXpath() + (bizagi.util.isNumeric(fileId) ? \"[id=\" + fileId + \"]\" : \"[id='\" + fileId + \"']\");\n\n    return self.dataService.deleteUploadFile({\n      url: properties.deleteUrl,\n      idRender: properties.id,\n      xpath: xpath,\n      xpathContext: properties.xpathContext,\n      idPageCache: properties.idPageCache,\n      contexttype: properties.contexttype }).\n    pipe(function () {\n\n      // Subtract counter\n      self.filesCount = self.filesCount - 1;\n\n      // Remove from local collection\n      self.files = $.grep(self.files, function (fileItem) {\n        return fileItem[0] != fileId;\n      });\n    });\n  },\n\n  /**\r\n      * Method to determine if the render value can be sent to the server or not\r\n      * @returns {boolean}\r\n      */\n  canBeSent: function canBeSent() {\n    // This render cannot be sent because it is full ajax\n    return false;\n  },\n\n  /**\r\n      * Sets the internal value\r\n      * @param value\r\n      * @param triggerEvents\r\n      */\n  setValue: function setValue(value, triggerEvents) {\n    var self = this;\n\n    // Set files property\n    self.files = value || []; // Dont remove this line\n    self.filesCount = self.files.length;\n\n    // Call base\n    self._super(value, triggerEvents);\n  },\n\n  /**\r\n      * Returns the internal value\r\n      * @returns {*}\r\n      */\n  getValue: function getValue() {\n    return this.files;\n  },\n\n  /**\r\n      * Public method to determine if a value is valid or not\r\n      * @param invalidElements\r\n      * @returns {boolean}\r\n      */\n  isValid: function isValid(invalidElements) {\n    var self = this;\n    var properties = self.properties;\n    var message;\n    var bValid = true;\n\n    // Clear error message\n    self.setValidationMessage(\"\");\n\n    // Check required\n    if (properties.required && properties.editable) {\n      var newRow = self.grid && self.grid.isFromCreatedRow.apply(self);\n\n      if (self.filesCount <= 0 && !newRow) {\n        var inlineEdit = self.grid ? self.grid.properties.inlineEdit : true;\n\n        if (inlineEdit) {\n          message = self.getResource(\"render-required-upload\").replaceAll(\"#label#\", properties.displayName);\n          invalidElements.push({ xpath: properties.xpath, message: message });\n          bValid = false;\n        }\n      }\n    }\n\n    return bValid;\n  },\n\n  /**\r\n      * Build add params to send to the server\r\n      */\n  buildAddParams: function buildAddParams() {\n    var self = this;\n    var properties = self.properties;\n    var form = self.getFormContainer();\n    var data = {};\n    var prefix = self.Class.BA_CONTEXT_PARAMETER_PREFIX;\n\n    data[prefix + \"xpath\"] = self.getUploadXpath();\n    data[prefix + \"idRender\"] = properties.id;\n    data[prefix + \"xpathContext\"] = properties.xpathContext;\n    data[prefix + self.Class.BA_PAGE_CACHE] = properties.idPageCache;\n    data[self.Class.BA_ACTION_PARAMETER_PREFIX + \"sessionId\"] = form.properties.sessionId;\n    data[prefix + \"contexttype\"] = properties.contexttype;\n\n    try {\n      if (typeof BIZAGI_SESSION_NAME !== \"undefined\") {\n        data[BIZAGI_SESSION_NAME] = form.properties.sessionId;\n      } else {\n        data[\"JSESSIONID\"] = form.properties.sessionId;\n      }\n    } catch (e) {\n      data[\"JSESSIONID\"] = form.properties.sessionId;\n    }\n\n    return data;\n  },\n\n  /**\r\n      * Returns the xpath to be used\r\n      * @returns {*}\r\n      */\n  getUploadXpath: function getUploadXpath() {\n    return this.properties.xpath;\n  },\n\n  /**\r\n      * Returns the xpathContext to be used\r\n      * @returns {*}\r\n      */\n  getUploadXpathContext: function getUploadXpathContext() {\n    return this.getXpathContext() || this.properties.xpathContext;\n  },\n\n  checkRequired: function checkRequired(invalidElements) {\n    var self = this;\n    var properties = self.properties;\n\n    if (bizagi.util.parseBoolean(properties.required)) {\n      if (self.grid && self.grid.properties.inlineAdd === true) {\n        if (!self.hasValue() && !self.getControl().parents(\"tr\").data(\"new-row\")) {\n          self.setRenderRequired(invalidElements, properties);\n          return false;\n        }\n      } else {\n        if (!self.hasValue()) {\n          self.setRenderRequired(invalidElements, properties);\n          return false;\n        }\n      }\n    }\n\n    return true;\n  },\n\n  setRenderRequired: function setRenderRequired(invalidElements, properties) {\n    var self = this;\n    var message = self.getResource(\"render-required-text\").replaceAll(\"#label#\", properties.displayName);\n    invalidElements.push({ xpath: properties.xpath, message: message });\n  },\n\n  /**\r\n      * Templates\r\n      */\n  getTemplateItemName: function getTemplateItemName() {\n    return \"uploadItem\";\n  },\n\n  /**\r\n      * Method to perform the format to value\r\n      * @param value\r\n      * @returns {((*)[]|*)[]}\r\n      */\n  formatValue: function formatValue(value) {\n    var validateObjectStructure = function validateObjectStructure(item) {\n      return !!(item.uploadId && item.fileName);\n    };\n    var validateArrayStructure = function validateArrayStructure(item) {\n      return !!(item[0] && item[1]);\n    };\n\n    return (value || []).reduce(function (result, item) {\n      var isFormatValid = false;\n      var validator = bizagi.util.bzValidator(item).\n      add(validateObjectStructure).\n      validate(function (response) {\n        isFormatValid = response.errors && !response.errors.length;\n        if (isFormatValid) {\n          result.push([item.uploadId, item.fileName]);\n        }\n      });\n\n      if (!isFormatValid) {\n        validator.add(validateArrayStructure, \"The value is not in a valid format\").\n        validate(function (response) {\n          if (response.errors && response.errors.length > 0) {\n            console.warn(response.errors);\n          } else {\n            result.push([item]);\n          }\n        });\n      }\n\n      return result;\n    }, []);\n  } });","/**\r\n *   Name: Bizagi Render ECM upload control\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for ECM Control\r\n */\n\n$.Class.extend(\"bizagi.rendering.ecm\", {}, {\n\n  /**\r\n                                              * Update or init the element data\r\n                                              * @param data\r\n                                              */\n  initializeData: function initializeData(data) {\n    var self = this;\n    // Call base\n    this._super(data);\n\n    var self = this;\n    var properties = self.properties;\n\n    properties.maxSize = Number(properties.maxSize) || (typeof BIZAGI_SETTINGS !== \"undefined\" && typeof BIZAGI_SETTINGS.UploadMaxFileSize !== \"undefined\" ? Number(BIZAGI_SETTINGS.UploadMaxFileSize) : properties.maxSize = Number(properties.maxSize) || 4091904);\n    properties.maxFiles = Number(properties.maxfiles) || 999;\n    properties.validExtensions = properties.validExtensions || \"\";\n\n    if (properties.validExtensions.length > 0 && properties.validExtensions.indexOf(\".\") < 0) {\n      var singleExtensions = properties.validExtensions.split(\";\");\n      for (var i = 0; i < singleExtensions.length; i++) {\n        singleExtensions[i] = \"*.\" + singleExtensions[i];\n      }\n      properties.validExtensions = singleExtensions.join(\";\");\n    }\n\n    properties.addUrl = self.dataService.serviceLocator.getUrl(\"render-ecm-upload-url\") + \"?action=uploadECMFile\";\n    properties.editUrl = self.dataService.serviceLocator.getUrl(\"render-ecm-upload-url\") + \"?action=updateECMFileContent\";\n    properties.deleteUrl = properties.deleteUrl || undefined;\n    properties.allowDelete = bizagi.util.parseBoolean(properties.allowDelete) !== null ? bizagi.util.parseBoolean(properties.allowDelete) : true;\n    properties.q_xpath = bizagi.util.encodeXpath(properties.xpath);\n    properties.showMetadata = properties.showMetadata === undefined || properties.showMetadata === null ? true : bizagi.util.parseBoolean(properties.showMetadata);\n\n    var dateFormat = this.getResource(\"dateFormat\");\n    var timeFormat = this.getResource(\"timeFormat\");\n\n    // We will hold here the value to display\n    properties.displayValue = \"\";\n    properties.showTime = properties.showTime !== undefined ? bizagi.util.parseBoolean(properties.showTime) : false;\n    properties.dateFormat = properties.dateFormat || dateFormat;\n    properties.timeFormat = properties.timeFormat || timeFormat;\n    properties.fullFormat = properties.dateFormat;\n\n    // Set files property\n    self.files = properties.value || [];\n    self.filesCount = self.files.length;\n\n    properties.xpathContext = this.parent.properties.xpathContext || properties.xpathContext || \"\";\n\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @param listControl\r\n      * @param fileProperties\r\n      * @returns {*}\r\n      */\n  renderControl: function renderControl(listControl, fileProperties) {\n    var self = this;\n    var properties = self.properties;\n    var template = self.renderFactory.getTemplate(\"ecm\");\n    var mode = self.getMode();\n    var defer = new $.Deferred();\n\n    properties.value = fileProperties ? [[fileProperties.idFileUpload, fileProperties.fileName]] : self.value;\n    var html = $.fasttmpl(template, properties, {\n      getFileExtension: self.getFileExtension,\n      isImage: self.isImage });\n\n\n    if (self.properties.value != undefined) {\n\n      var lengthValues = self.properties.value.length;\n\n      if (lengthValues === 0) {\n        defer.resolve(html);\n      }\n\n      $.each(self.properties.value, function (key, value) {\n        var data = {};\n\n        data.idFileUpload = value[0];\n        data.fileName = value[1];\n        data.idPageCache = self.properties.idPageCache;\n        data.xpathContext = self.getXpathContext();\n        data.xPath = self.properties.xpath;\n        data.editable = self.properties.editable;\n        data.idAttrib = self.properties.idAttrib;\n\n        var form = self.getFormContainer();\n        if (form && form.properties && form.properties.sessionId) {\n          data.sessionId = form.properties.sessionId;\n        }\n\n        if (mode === \"execution\") {\n          $.when(self.renderFileLayout(data, fileProperties)).done(function (item) {\n            lengthValues--;\n\n            if (bizagi.loader.productBuildToAbout && bizagi.loader.productBuildToAbout.indexOf(\"10.4\") === 0) {\n              item = item.replaceAll(\"Handlers/MetadataFile\", \"Handlers/Metadata\");\n            }\n\n            html = self.replaceItemHtml(html, self.properties.id + \"-\" + data.idFileUpload, item);\n            if (lengthValues === 0) {\n              defer.resolve(html);\n            }\n          });\n\n        }\n      });\n    } else {\n      defer.resolve(html);\n    }\n    return defer.promise();\n  },\n\n  replaceItemHtml: function replaceItemHtml(html, id, replace) {\n    return html.replace(\"{{\" + id + \"}}\", replace);\n  },\n\n  renderFileLayout: function renderFileLayout(data, fileProperties) {\n    var self = this;\n    var form = self.getFormContainer();\n    var metadataTemplate = self.renderFactory.getTemplate(\"ecm-metadata\");\n\n    var deferred = $.Deferred();\n\n    $.when(self.dataService.getECMMetadata(data),\n    fileProperties ? [fileProperties] : self.dataService.getFileProperties(data)).\n    done(function (metaData, fileProperties) {\n\n      fileProperties[0].data = data;\n\n      // Make xpath context\n      fileProperties[0].xpathContext = fileProperties[0].xpathContext || form.properties.xpathContext || \"\";\n      fileProperties[0].xpath = self.properties.xpath;\n\n      metaData[0].filename = data.fileName;\n      metaData[0].url = self.buildItemUrl(fileProperties[0]);\n\n      // Define File Properties\n      metaData[0].ecm_ecmStatus = fileProperties[0].ecmStatus;\n      metaData[0].ecm_isVisible = fileProperties[0].isVisible;\n      metaData[0].ecm_allowUpdateMetadata = fileProperties[0].allowUpdateMetadata;\n      metaData[0].ecm_allowDelete = fileProperties[0].allowDelete;\n      metaData[0].ecm_allowUpdateContent = fileProperties[0].allowUpdateContent;\n      metaData[0].ecm_allowView = fileProperties[0].allowView;\n      metaData[0].ecm_allowCheckOut = fileProperties[0].allowCheckOut;\n      metaData[0].ecm_allowCancelCheckOut = fileProperties[0].allowCancelCheckOut;\n      metaData[0].ecm_allowEdit = data.editable && fileProperties[0].allowEdit;\n      metaData[0].ecm_ecmStatus = fileProperties[0].ecmStatus;\n      metaData[0].idFileUploads = fileProperties[0].idFileUpload;\n      metaData[0].xpath = fileProperties[0].xpath;\n      metaData[0].value = bizagi.util.parseBoolean(fileProperties[0].value);\n      metaData[0].deviceType = bizagi.detectDevice();\n\n      var html = $.fasttmpl(metadataTemplate, metaData[0]);\n      deferred.resolve(html);\n    });\n\n    return deferred.promise();\n  },\n\n  isImage: function isImage(file) {\n    var extension = this.getFileExtension(file);\n    var image = [\"JPG\", \"JPEG\", \"GIF\", \"PNG\", \"BMP\"];\n\n    return image.indexOf(extension.toUpperCase()) > -1 ? true : false;\n  },\n\n  replaceFilesHtml: function replaceFilesHtml(html, replace) {\n    return html.replace(\"{{files}}\", replace);\n  },\n\n  /**\r\n      * Method to render non editable values\r\n      * @returns {*}\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    return this.renderControl();\n  },\n\n  /**\r\n      * Method to determine if the render value can be sent to the server or not\r\n      * @returns {boolean}\r\n      */\n  canBeSent: function canBeSent() {\n    // This render cannot be sent because it is full ajax\n    return false;\n  },\n\n  /**\r\n      * Builds the upload item url\r\n      * @param file\r\n      * @returns {*}\r\n      */\n  buildItemUrl: function buildItemUrl(file) {\n    var self = this;\n    var p_sessionId = bizagi.cookie(\"JSESSIONID\");\n\n    if (!file.data) {\n      file.data = { fileName: file.fileName, idAttrib: file.idAttrib };\n    }\n\n    return self.dataService.getECMFileUrl({\n      idFileUpload: file.idFileUpload,\n      xPath: file.xpath || file.xPath,\n      xpathContext: file.xpathContext,\n      idAttrib: file.data.idAttrib,\n      idPageCache: self.properties.idPageCache,\n      fileName: file.data.fileName.replace(/ /g, \"_\"),\n      p_sessionId: p_sessionId,\n      sessionId: file.data.sessionId || \"\" });\n\n  },\n\n  buildAddParams: function buildAddParams() {\n    var self = this;\n    var properties = self.properties;\n    var data = {};\n\n    // data.fileExt = properties.validExtensions;\n    // data.fileDesc = properties.validExtensions ? self.getResource(\"render-upload-allowed-extensions\") + properties.validExtensions : \"\";\n    data.xPath = properties.xpath;\n    data.idAttrib = properties.idAttrib;\n    data.xpathContext = properties.xpathContext;\n    data.metaValues = [];\n    data[self.Class.BA_CONTEXT_PARAMETER_PREFIX + self.Class.BA_PAGE_CACHE] = properties.idPageCache;\n\n    return data;\n  },\n\n  /**\r\n      * Get name of file extension\r\n      * @param fileName\r\n      * @returns {*}\r\n      */\n  getFileExtension: function getFileExtension(fileName) {\n    fileName = fileName || \"\";\n    return fileName.split(\".\").pop();\n  },\n\n  /**\r\n      * Sets the internal value\r\n      * @param value\r\n      * @param triggerEvents\r\n      */\n  setValue: function setValue(value, triggerEvents) {\n    var self = this;\n    var properties = self.properties;\n\n    // Call base\n    self._super(value, triggerEvents);\n\n    // Set files property\n    self.files = properties.value || [];\n    self.filesCount = self.files.length ? self.files.length : properties.value;\n  },\n\n  /**\r\n      * Gets xpath context\r\n      * @returns {*|string}\r\n      */\n  getXpathContext: function getXpathContext() {\n    return this.properties.xpathContext || \"\";\n  },\n\n  /**\r\n      * Returns the xpath to be used\r\n      * @returns {*}\r\n      */\n  getUploadXpath: function getUploadXpath() {\n    return this.properties.xpath;\n  },\n\n  /**\r\n      * Removes a file from the ECM control\r\n      * @param item\r\n      * @param fileId\r\n      * @returns {*} Returns a deferred\r\n      */\n  deleteUploadItem: function deleteUploadItem(item, fileId) {\n    var self = this;\n    var properties = self.properties;\n\n    var params = {\n      idFileUpload: fileId,\n      xPath: properties.xpath,\n      idAttrib: properties.idAttrib,\n      idPageCache: properties.idPageCache,\n      xpathContext: self.getXpathContext() };\n\n\n    return self.dataService.deleteECMFile(params).pipe(function () {\n\n      // Subtract counter\n      self.filesCount = self.filesCount - 1;\n\n      // Remove from local collection\n      self.files = $.grep(self.files, function (fileItem) {\n        return fileItem[0] != fileId;\n      });\n    });\n  },\n\n  /**\r\n      * Lock a file from the ECM control\r\n      * @param item\r\n      * @param fileId\r\n      * @returns {*} Returns a deferred\r\n      */\n  lockUploadItem: function lockUploadItem(fileId) {\n    var self = this;\n    var properties = self.properties;\n\n    var params = {\n      idFileUpload: fileId,\n      xPath: properties.xpath,\n      idAttrib: properties.idAttrib,\n      idPageCache: properties.idPageCache,\n      xpathContext: self.getXpathContext() };\n\n\n    return self.dataService.checkOutFile(params);\n  },\n\n  /**\r\n      * Unlock a file from the ECM control\r\n      * @param item\r\n      * @param fileId\r\n      * @returns {*} Returns a deferred\r\n      */\n  unlockUploadItem: function unlockUploadItem(fileId) {\n    var self = this;\n    var properties = self.properties;\n\n    var params = {\n      idFileUpload: fileId,\n      xPath: properties.xpath,\n      idAttrib: properties.idAttrib,\n      idPageCache: properties.idPageCache,\n      xpathContext: self.getXpathContext() };\n\n\n    return self.dataService.cancelCheckOut(params);\n  } });","/**\r\n *   Name: Bizagi Render Yes-no Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for yes-no renders\r\n */\n\n$.Class.extend(\"bizagi.rendering.yesno\", {}, {\n\n  /**\r\n                                                * Update or init the element data\r\n                                                * @param {} data\r\n                                                */\n  initializeData: function initializeData(data) {\n    // Call base\n    this._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n    properties.value = typeof properties.value != \"undefined\" ? bizagi.util.parseBoolean(properties.value) : null;\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      */\n  renderControl: function renderControl() {\n    var template = this.renderFactory.getTemplate(\"yesno\");\n    var randomId = bizagi.util.randomNumber(100, 10000000);\n\n    // Render template\n    var html = $.fasttmpl(template, {\n      id: randomId,\n      editable: this.properties.editable });\n\n\n    return html;\n  },\n\n  /**\r\n      * Gets the display value of the render\r\n      */\n  getDisplayValue: function getDisplayValue() {\n    var value = this.getValue();\n\n    if (bizagi.util.parseBoolean(value) === true) {\n      return this.getResource(\"render-boolean-yes\");\n    } else if (bizagi.util.parseBoolean(value) === false) {\n      return this.getResource(\"render-boolean-no\");\n    } else {\n      return \"\";\n    }\n  },\n\n  /**\r\n      * Check if a render has no value for required validation\r\n      * @returns {boolean}\r\n      */\n  hasValue: function hasValue() {\n    var value = this.getValue();\n\n    if (bizagi.util.isEmptyValue(value)) return false;\n    return bizagi.util.parseBoolean(value) !== null;\n  } });","/**\r\n *   Name: Bizagi Render Letter Class\r\n*   Author: Diego Parra\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for letter renders\r\n */\n\n$.Class.extend(\"bizagi.rendering.letter\", {}, {\n\n  /**\r\n                                                 * Update or init the element data\r\n                                                 * @param {} data\r\n                                                 */\n  initializeData: function initializeData(data) {\n    // Call base\n    this._super(data);\n\n    // Create a variable to check if the letter has been opened when editable\n    this.letterOpened = false;\n  },\n\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @returns {}\r\n      */\n  renderControl: function renderControl() {\n    var template = this.renderFactory.getTemplate(\"letter\");\n\n    // Render template\n    return $.fasttmpl(template);\n  },\n\n\n  /**\r\n      * Method to render non editable values\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    var template = this.renderFactory.getTemplate(\"letter.readonly\");\n\n    // Render template\n    return $.fasttmpl(template);\n  },\n\n  /**\r\n      * Returns the letter content from the server\r\n      */\n  getLetterContent: function getLetterContent() {\n    // Set flag to true\n    this.letterOpened = true;\n\n    return this.dataService.getLetterContent({\n      url: this.properties.getUrl,\n      idRender: this.properties.id,\n      xpath: this.getXpath(),\n      xpathContext: this.getContextXpath(),\n      idPageCache: this.properties.idPageCache });\n\n  },\n\n  /**\r\n      * Sends the content to the server in order to save\r\n      * @param {} content\r\n      */\n  saveLetterContent: function saveLetterContent(content) {\n    return this.dataService.saveLetterContent({\n      url: this.properties.saveUrl,\n      idRender: this.properties.id,\n      xpath: this.getXpath(),\n      xpathContext: this.getContextXpath(),\n      idPageCache: this.properties.idPageCache,\n      content: content });\n\n  },\n\n  /**\r\n      * Returns the letter content from the server\r\n      */\n  getCanGenerateLetter: function getCanGenerateLetter() {\n    return this.dataService.getCanGenerateLetter({\n      idRender: this.properties.id,\n      xpath: this.getXpath(),\n      xpathContext: this.getContextXpath(),\n      idPageCache: this.properties.idPageCache });\n\n  },\n\n  /**\r\n      * Saves the form\r\n      */\n  saveForm: function saveForm() {\n    var self = this;\n    var form = self.getFormContainer();\n    return form.saveForm();\n  },\n\n  isValid: function isValid(invalidElements) {\n    var self = this;\n    var properties = self.properties;\n    var message;\n\n    // Don't check non-editable renders\n    if (bizagi.util.parseBoolean(properties.visible) == false) return true;\n\n    // Don't check non-editable renders\n    if (bizagi.util.parseBoolean(properties.editable) == false) return true;\n\n    // Clear error message\n    self.setValidationMessage(\"\");\n\n    // Check required\n    if (properties.required) {\n      if (self.letterOpened == false) {\n        message = self.getResource(\"render-letter-required-text\").replaceAll(\"#label#\", properties.displayName);\n        invalidElements.push({ xpath: properties.xpath, message: message });\n        return false;\n      }\n    }\n\n    return true;\n  },\n\n  /**\r\n      * Returns the current xpath\r\n      */\n  getXpath: function getXpath() {\n    return this.properties.xpath;\n  },\n\n  /**\r\n      * Returns the current context xpath\r\n      */\n  getContextXpath: function getContextXpath() {\n    return this.properties.xpathContext;\n  } });","/**\r\n *   Name: Bizagi Render Form Link Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for form link renders\r\n */\n\n$.Class.extend(\"bizagi.rendering.formLink\", {}, {\n\n  /**\r\n                                                   * Update or init the element data\r\n                                                   * @param data\r\n                                                   */\n  initializeData: function initializeData(data) {\n    // Call base\n    this._super(data);\n\n    // Set properties\n    var properties = this.properties;\n\n    properties.displayType = \"value\";\n    properties.maximized = bizagi.util.parseBoolean(this.properties.maximized) != null ? bizagi.util.parseBoolean(this.properties.maximized) : false;\n\n    // Calculate layout properties\n    this.calculateInitialLayoutProperties();\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @returns {*|jQuery}\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var properties = self.properties;\n    var template = self.renderFactory.getTemplate(\"formLink\");\n\n    // Render template\n    return $.fasttmpl(template, {\n      id: properties.id,\n      align: properties.valueAlign,\n      displayName: properties.displayName,\n      value: properties.value,\n      editable: properties.editable,\n      likeButton: bizagi.util.parseBoolean(properties.likeButton) || false });\n\n  },\n\n  /**\r\n      * Method to render non editable values\r\n      * @returns {*|*|jQuery}\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    // Executes the same template than normal render\n    return this.renderControl();\n\n  },\n\n  /**\r\n      * Method to customize each render after processed\r\n      */\n  postRender: function postRender() {\n    this._super();\n    this.getLabel().addClass(\"bz-form-label--hidden\");\n  },\n\n  /**\r\n      * Method to customize each render after processed in read-only mode\r\n      */\n  postRenderReadOnly: function postRenderReadOnly() {\n    this._super();\n    this.getLabel().addClass(\"bz-form-label--hidden\");\n  },\n\n  /**\r\n      * Submits a edit request for a link display form\r\n      * @returns {*} Returns a deferred\r\n      */\n  submitEditRequest: function submitEditRequest() {\n    var self = this;\n    var properties = self.properties;\n\n    // Don't send request when the link is not editable\n    if (!properties.editable && !properties.value) return null;\n\n    return self.dataService.editLinkForm({\n      url: properties.editUrl,\n      idRender: properties.id,\n      xpath: self.getFormLinkXpath(),\n      xpathContext: properties.xpathContext,\n      idPageCache: properties.idPageCache });\n\n  },\n\n  /**\r\n      * Submits a link save request for the displayed form\r\n      * @param data\r\n      * @returns {*} Returns a deferred\r\n      */\n  submitSaveRequest: function submitSaveRequest(data) {\n    var self = this;\n    var properties = self.properties;\n\n    // Don't send request when the link is not editable\n    if (!properties.editable && !properties.value) return null;\n\n    var xpath = self.getFormLinkXpath();\n    var xpathContext = xpath;\n\n    if (typeof properties.xpathContext !== \"undefined\" && properties.xpathContext !== \"\") {\n      xpathContext = xpath ? properties.xpathContext + \".\" + xpath : properties.xpathContext;\n    }\n\n    return self.dataService.saveLinkForm({\n      url: properties.saveUrl,\n      idRender: properties.id,\n      xpathContext: xpathContext,\n      submitData: data }).\n    done(function (response) {\n      var executeSubmitOnChange = true;\n\n      if (response && response.type === \"validationMessages\")\n      executeSubmitOnChange = false;\n\n      if (executeSubmitOnChange)\n      self.submitOnChange({});\n    });\n  },\n\n  /**\r\n      * Sends all the data to the server then refreshes the form\r\n      * @param data\r\n      * @returns {*} Returns a promise\r\n      */\n  saveFormLinkData: function saveFormLinkData(data) {\n    var self = this;\n    var properties = self.properties;\n\n    var xpath = self.getFormLinkXpath();\n    var xpathContext = xpath;\n\n    if (typeof properties.xpathContext !== \"undefined\" && properties.xpathContext !== \"\") {\n      xpathContext = xpath ? properties.xpathContext + \".\" + xpath : properties.xpathContext;\n    }\n\n    var submitData = $.extend({}, data);\n    delete submitData.idPageCache;\n\n    return $.when(!bizagi.util.isEmpty(submitData) ? self.dataService.multiaction().submitData({\n      action: \"SAVE\",\n      data: submitData,\n      idPageCache: data.idPageCache,\n      xpathContext: xpathContext }) :\n    undefined);\n  },\n\n  /**\r\n      * Submits a rollback request\r\n      * @param params\r\n      * @returns {*} Returns a deferred when done\r\n      */\n  submitRollbackRequest: function submitRollbackRequest(params) {\n    var self = this;\n    var properties = self.properties;\n\n    return $.when(function () {\n      // Don't send request when the link is not editable\n      if (!properties.editable && !properties.value) {\n        return null;\n      } else {\n        return self.dataService.rollbackLinkForm({\n          url: properties.rollbackUrl,\n          idRender: properties.id,\n          xpath: self.getFormLinkXpath(),\n          xpathContext: properties.xpathContext,\n          idPageCache: params ? params.idPageCache : properties.idPageCache });\n\n      }\n    }());\n  },\n\n  /**\r\n      * Submits a commit request\r\n      * @returns {*} Returns a deferred when done\r\n      */\n  submitCommitRequest: function submitCommitRequest() {\n    var self = this;\n    var properties = self.properties;\n\n    return $.when(function () {\n      // Don't send request when the link is not editable\n      if (!properties.editable && !properties.value) {\n        return null;\n      } else {\n        return self.dataService.commitLinkForm({\n          url: properties.commitUrl,\n          idRender: properties.id,\n          xpath: self.getFormLinkXpath(),\n          xpathContext: properties.xpathContext,\n          idPageCache: properties.idPageCache });\n\n      }\n    }());\n  },\n\n  /**\r\n      * Submits a checkpoint request\r\n      * @returns {*} Returns a deferred when done\r\n      */\n  submitCheckpointRequest: function submitCheckpointRequest() {\n    var self = this;\n    var properties = self.properties;\n\n    return $.when(function () {\n      // Don't send request when the link is not editable\n      if (!properties.editable && !properties.value) {\n        return null;\n      } else {\n        return self.dataService.sendCheckpoint({\n          url: properties.checkpointUrl,\n          idRender: properties.id,\n          xpath: self.getFormLinkXpath(),\n          xpathContext: properties.xpathContext,\n          idPageCache: properties.idPageCache });\n\n      }\n    }());\n  },\n\n  /**\r\n      * Submits a submitData request\r\n      * @returns {*} Returns a deferred when done\r\n      */\n  submitDataRequest: function submitDataRequest() {\n    var self = this;\n    var properties = self.properties;\n\n    return $.when(function () {\n      // Don't send request when the link is not editable\n      if (!properties.editable && !properties.value) {\n        return null;\n      } else {\n        return self.dataService.submitData({\n          url: properties.checkpointUrl,\n          action: \"SUBMITDATA\",\n          idRender: properties.id,\n          xpath: self.getFormLinkXpath(),\n          xpathContext: properties.xpathContext,\n          idPageCache: properties.idPageCache });\n\n      }\n    }());\n  },\n\n  /**\r\n      * Public method to determine if a value is valid or not\r\n      * @param invalidElements\r\n      */\n  isValid: function isValid(invalidElements) {\n    // Automatically this render is valid, so we can't check a required link\n  },\n\n  /**\r\n      * Get Form Link xpath to use\r\n      * @returns {*}\r\n      */\n  getFormLinkXpath: function getFormLinkXpath() {\n    return this.properties.xpath;\n  },\n\n  /**\r\n      * Method to determine if the render value can be sent to the server or not\r\n      * @returns {boolean}\r\n      */\n  canBeSent: function canBeSent() {\n    return false;\n  },\n\n  /**\r\n      * Sets the value in the rendered control\r\n      * @param value\r\n      */\n  setDisplayValue: function setDisplayValue(value) {\n    // Don't do anything\n  },\n\n  /*\r\n     * Cleans current value\r\n     */\n  cleanData: function cleanData() {\n    // Don't do anything\n  } });","/*\r\n*   Name: Bizagi Render Cascading Combo Class\r\n*   Author: Diego Parra\r\n*   Comments:\r\n*   -   This script will define basic stuff for cascading combo renders\r\n*/\n\n$.Class.extend(\"bizagi.rendering.cascadingCombo\", {\n  // Statics\n  BA_ACTION_PARAMETER_PREFIX: bizagi.render.services.service.BA_ACTION_PARAMETER_PREFIX,\n  BA_CONTEXT_PARAMETER_PREFIX: bizagi.render.services.service.BA_CONTEXT_PARAMETER_PREFIX },\n{\n\n  /*\r\n  *   Constructor\r\n  */\n  init: function init(params) {\n    var self = this;\n\n    // Call base\n    self._super(params);\n\n    // Create dependency collection\n    self.dependants = [];\n    self.isDependant = false;\n  },\n\n  /*\r\n     *   Update or init the element data\r\n     */\n  initializeData: function initializeData(data) {\n    var self = this;\n\n    // Call base\n    self._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n    properties.hasLocalData = bizagi.util.isEmpty(properties.parentCombo) ? properties.hasLocalData : false;\n\n    if (properties.value && properties.value.id === undefined)\n    properties.value = null;\n\n    self.value = properties.value;\n\n    // Add empty node if configured\n    if (properties.hasLocalData)\n    properties.data = self.complementData(properties.data);\n  },\n\n  /*\r\n     *   Template method to implement in each children to customize each control\r\n     */\n  renderControl: function renderControl() {\n    var self = this;\n    var mode = self.getMode();\n\n    // Check if this is a dependant combo\n    var parentCombo = self.parentCombo = self.getParentCombo();\n    if (parentCombo != null) {\n      var renderType = bizagi.util.normalizeType(parentCombo.properties.type);\n\n      if (/^cascadingcombo$/i.test(renderType)) {\n        self.isDependant = true;\n      }\n    }\n\n    // Apply element plugin, set a flag to avoid dependant combo ajax requests\n    self.initializingCascadingCombo = true;\n\n    // Call base\n    var result = this._super();\n\n    if (mode !== \"execution\") {\n      self.initializingCascadingCombo = false;\n    }\n\n    return result;\n  },\n\n  /*\r\n     *   Template method to implement in each device to customize the render's behaviour to add handlers\r\n     */\n  configureHandlers: function configureHandlers() {\n    var self = this;\n    self.initializingCascadingCombo = false;\n\n    // Bind with parent combo\n    if (self.isDependant) {\n      self.parentCombo.bindDependantCombo(self);\n    }\n  },\n\n  configureHandlersReadOnly: function configureHandlersReadOnly() {\n    var self = this;\n    self.initializingCascadingCombo = false;\n\n    // Bind with parent combo\n    if (self.isDependant) {\n      self.parentCombo.bindDependantCombo(self);\n    }\n  },\n  /*\r\n     *   Refresh the combo, after it has been painted\r\n     */\n  refresh: function refresh(params, isInitialValue) {\n    var self = this;\n\n    // Wait until current element is rendered\n    $.when(self.isRendered()).done(function () {\n\n      // Unbind previous handler\n      // self.parentCombo.unbindDependantCombo(self);\n\n      // Clear current control\n      var control = self.getControl();\n      var mode = self.getMode();\n      control.empty();\n\n      // Render combo again\n      $.when(self.renderCombo(params)).then(function (html) {\n        // Append new element\n        control.html(html);\n\n        // Post-render method\n        self.postRender();\n\n        if (mode == \"execution\") {\n          self.configureHandlers();\n        }\n\n        // Set current value\n        if (self.getValue() !== undefined) {\n          self.setDisplayValue(self.getValue());\n        }\n\n        if (self.deferredVisible) {\n          self.deferredVisible.resolve();\n        }\n\n        self.trigger(\"select\", [self.value, isInitialValue]);\n\n      });\n    });\n  },\n\n  /*\r\n     *   Fetch the data into a deferred\r\n     */\n  getData: function getData(params) {\n    var self = this;\n    var mode = self.getMode();\n\n    // Just execute ajax calls when rendering in execution mode\n    if (mode != \"execution\") return self.getDummyData();\n\n    // Do not load dependant combos when there are no parent id\n    if (self.isDependant) {\n      if (self.parentCombo && params) {\n        self.properties.remoteDataLoaded = false;\n      }\n\n      // Return an empty array when there are no parent defined when the combo is dependant\n\n      var parentValue = self.parentCombo.selectedValue ? self.parentCombo.selectedValue.id : '';\n\n      if (parentValue != '') {\n        params = params || {};\n        if (!params[self.Class.BA_ACTION_PARAMETER_PREFIX + \"parent\"]) {\n          params[self.Class.BA_ACTION_PARAMETER_PREFIX + \"parent\"] = parentValue;\n        }\n        return this._super(params);\n      } else {\n        return [];\n      }\n    }\n\n    return this._super(params);\n  },\n\n\n  /* \r\n     *   Bind the combos to create the cascading feature\r\n     */\n  bindDependantCombo: function bindDependantCombo(dependantCombo) {\n    var self = this;\n    var renderType = bizagi.util.normalizeType(dependantCombo.properties.type);\n\n    // Check it is a cascading combo\n    if (/^cascadingcombo$/i.test(renderType)) {\n\n      // Append to dependant combos\n      self.dependants.push(dependantCombo);\n\n      // When this combo is selected we need to make the other combo to auto fill with an extra filter\n      dependantCombo.onChangeFunction = function (event, item, isInitialValue) {\n        // Fill items for next combo\n        self.refreshDependantCombo(dependantCombo, item.id, self.focusDependant, isInitialValue);\n\n        //if initial value is true, it prevents deleting the next combo\n        if (!isInitialValue) {\n          // Clean next inputs\n          dependantCombo.cleanInput();\n        }\n      };\n\n      if (!self.isEventBinded(\"select\")) {\n        self.bind(\"select\", dependantCombo.onChangeFunction);\n      }\n\n      // After the event binding has been made, we need to fill the new dependant render if this instance (the parent) has a value\n      if (!bizagi.util.isEmpty(self.getValue())) {\n\n        // Auto fill dependant items with current value\n        if (self.properties.hasLocalData) {\n          self.refreshDependantCombo(dependantCombo, self.getValue().id);\n        }\n\n      }\n    }\n  },\n  isEventBinded: function isEventBinded(event) {\n    if (typeof $._data(this.observableElement.get(0), \"events\") === \"undefined\") {\n      return false;\n    } else {\n      if (typeof $._data(this.observableElement.get(0), \"events\")[event] === \"undefined\") {\n        return false;\n      } else {\n        return true;\n      }\n    }\n  },\n\n\n  /* \r\n     *   Unbind the combos that are being redrawn\r\n     */\n  unbindDependantCombo: function unbindDependantCombo(dependantCombo) {\n    // When this combo is selected we need to make the other combo to auto fill with an extra filter\n    this.unbind(\"select\", dependantCombo.onChangeFunction);\n  },\n\n  /*\r\n     *   Fills the next dependant combo based on the given value\r\n     */\n  refreshDependantCombo: function refreshDependantCombo(dependant, parentValue, focus, isInitialValue) {\n    var self = this;\n    var params = {};\n    params[self.Class.BA_ACTION_PARAMETER_PREFIX + \"parent\"] = parentValue;\n\n    dependant.deferredVisible = $.Deferred();\n\n    if (!isInitialValue) {\n      // Clear dependant value\n      dependant.setValue(\"\", false);\n    }\n\n    dependant.refresh(params, isInitialValue);\n\n    if (focus) {\n      $.when(dependant.deferredVisible.promise()).done(function () {\n        dependant.inputCombo.trigger(\"click\");\n      });\n    }\n  },\n\n  /*\r\n     *   Empty html when render from action\r\n      */\n\n  emptyControlByChangeEditability: function emptyControlByChangeEditability() {\n    var control = this.getControl();\n    control.empty();\n  },\n\n  /* \r\n     *   Cleans the combo value\r\n     */\n  cleanInput: function cleanInput() {\n    this.triggerHandler(\"select\", { id: 0 });\n  },\n\n  /*\r\n     *   Search for the other cascading combo refering this one, by idRender\r\n     */\n  getParentCombo: function getParentCombo() {\n    var self = this;\n    var properties = self.properties;\n\n    // Check if parentCombo is defined\n    if (properties.parentCombo === undefined)\n    return null;\n\n    // Get form reference\n    var form = self.getFormContainer();\n    var renderType = bizagi.util.normalizeType(self.properties.type);\n    var controls = /^cascadingcombo$/i.test(renderType) ? form.getRenderByType(properties.type) : [];\n\n    var i = 0;\n    var j = 0;\n    var parents = [];\n\n    var control = null;\n\n    for (; i < controls.length; i++) {\n      if (properties.parentCombo === controls[i].properties.id) {\n        parents.push({ control: controls[i], index: i });\n      }\n    }\n\n    if (parents.length > 1) {\n      var parentLength, parent, xpathParent, parentArray;\n\n      for (; j < parents.length; j++) {\n        parent = parents[j].control;\n        xpathParent = parent.properties.xpath;\n        parentArray = xpathParent.split(\".\");\n        parentLength = parentArray.length;\n        xpathParent = parentArray.slice(0, parentLength - 1).join(\".\");\n\n        if (xpathParent === properties.xpath) {\n          control = controls[parents[j].index];\n          break;\n        }\n      }\n    } else {\n      control = form.getRenderById(properties.parentCombo);\n    }\n\n    // Return parent combo\n    return control;\n  },\n\n  /* \r\n     *  Method to determine if the render value can be sent to the server or not\r\n     */\n  canBeSent: function canBeSent() {\n    var self = this;\n\n    // If the render has dependants we can't send to the server\n    return self._super() && bizagi.util.isMapEmpty(self.dependants);\n  },\n\n  /*\r\n     *   Determines if we need to show the current data regardless if it belongs to data or not\r\n     *   Can be overriden to change behaviour\r\n     */\n  showCurrentData: function showCurrentData() {\n    var mode = this.getMode();\n\n    if (mode != \"execution\") return true;\n    return false;\n  },\n\n  /*\r\n     *   Enables submit on change feature for the current render\r\n     */\n  configureSubmitOnChange: function configureSubmitOnChange() {\n    var self = this;\n\n    if (!self.configured) {\n      // Call super\n      self._super();\n      self.configured = true;\n    }\n  },\n\n  internalSubmitOnChange: function internalSubmitOnChange(data, bRefreshForm) {\n    var self = this;\n    var defer = new $.Deferred();\n\n    if (self.isDependant && self.canBeSent() && self.itemSelected !== undefined)\n    return self._super(data, bRefreshForm);\n    return defer.resolve();\n  },\n  /*\r\n     *   Sets the initial value for the renders\r\n     */\n  internalSetInitialValue: function internalSetInitialValue() {\n    var self = this;\n    // Call original method\n    self._super();\n\n    if (self.value && self.isDependant == false) {\n      self.internalSetInitialValueFlag = true;\n      self.trigger(\"select\", [self.value, true]);\n    }\n\n    self.internalSetInitialValueFlag = false;\n  } });","/*\r\n*   Name: Bizagi Render List Class\r\n*   Author: Diego Parra\r\n*   Comments:\r\n*   -   This script will define basic stuff for list renders\r\n*/\n\n$.Class.extend(\"bizagi.rendering.list\", {}, {\n\n  /**\r\n                                               * Update or init the element data\r\n                                               * @param {} data \r\n                                               * @returns {} \r\n                                               */\n  initializeData: function initializeData(data) {\n    // Call base\n    this._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n    properties.listSize = properties.listSize || 0;\n  },\n\n  /**\r\n      * Gets the template used by the combo render can be overriden in subclasses\r\n      * to reuse logic and just change the template\r\n      * @returns {} \r\n      */\n  getTemplateName: function getTemplateName() {\n    return \"list\";\n  },\n\n  /**\r\n      * Determines if we need to show the current data regardless if it belongs\r\n      * to data or not Can be overriden to change behaviour    \r\n      * @returns {} \r\n      */\n  showCurrentData: function showCurrentData() {\n    return false;\n  } });","/**\r\n *   Name: Bizagi Render MultiSelect Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for multiselect renders\r\n */\n\n$.Class.extend(\"bizagi.rendering.multiSelect\", {}, {\n\n  /**\r\n                                                      * Update or init the element data\r\n                                                      * @param data\r\n                                                      */\n  initializeData: function initializeData(data) {\n    // Call base\n    this._super(data);\n\n    if (Array.isArray(this.value)) {\n      this.value = this.properties.value = JSON.encode({ \"value\": this.value });\n      this.properties.originalValue = this.properties.previousValue = this.value;\n    }\n\n    // Fill default properties\n    var properties = this.properties;\n    properties.editable = bizagi.util.parseBoolean(properties.editable) !== null ? bizagi.util.parseBoolean(properties.editable) : true;\n    properties.enableTyping = bizagi.util.parseBoolean(properties.enableTyping) !== null ? bizagi.util.parseBoolean(properties.enableTyping) : true;\n    properties.maxRecords = Number(properties.maxRecords) || 20;\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @returns {*|jQuery}\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var properties = self.properties;\n    var template = self.renderFactory.getTemplate(\"list-multiselect\");\n\n    return $.fasttmpl(template, {\n      id: properties.id,\n      xpath: properties.xpath,\n      editable: properties.editable,\n      align: properties.valueAlign },\n    {\n      formatItem: self.formatItem });\n\n  },\n\n  /**\r\n      * Method to render non editable values\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    var self = this;\n    var properties = self.properties;\n    var template = self.renderFactory.getTemplate(\"list-multiselect\");\n\n    return $.fasttmpl(template, {\n      id: properties.id,\n      xpath: properties.xpath,\n      editable: properties.editable,\n      align: properties.valueAlign },\n    {\n      formatItem: self.formatItem });\n\n  },\n\n  /**\r\n      * Fetch the data into a deferred\r\n      * @returns {*[]}\r\n      */\n  getData: function getData() {\n    var self = this;\n    var defer = new $.Deferred();\n    var properties = this.properties;\n\n    // Go to server\n    self.dataService.multiaction().getData({\n      url: properties.dataUrl,\n      xpath: properties.xpath,\n      idRender: properties.id,\n      xpathContext: properties.xpathContext,\n      contexttype: properties.contexttype || null,\n      idPageCache: properties.idPageCache }).\n    done(function (data) {\n      properties.data = self.normalizeData(data);\n\n      defer.resolve(properties.data);\n\n    }).fail(function (data) {\n      var allowActions = true;\n      var form = self.getFormContainer();\n\n      if (bizagi.util.isNativeMobileDevice() && typeof form !== \"undefined\") {\n        allowActions = form.allowOnlineActions();\n      }\n\n      if (data.type === \"not-processed\" && allowActions) return;\n\n      defer.reject(data);\n    });\n\n    return defer.promise();\n  },\n\n  /**\r\n      * Sets the internal value\r\n      * @param value\r\n      * @param triggerEvents\r\n      */\n  setValue: function setValue(value, triggerEvents) {\n    triggerEvents = triggerEvents !== undefined ? triggerEvents : true;\n\n    if (Array.isArray(value)) {\n      value = JSON.encode({ \"value\": value });\n    }\n\n    this._super(value, triggerEvents);\n  },\n\n  /**\r\n      * Sets the value in the rendered control\r\n      * @param value\r\n      */\n  setDisplayValue: function setDisplayValue(value) {\n    var self = this;\n\n    // Set internal value\n    self.setValue(value, false);\n  },\n\n  /**\r\n      * Method to determine if the render value can be sent to the server or not\r\n      * @returns {boolean}\r\n      */\n  canBeSent: function canBeSent() {\n    return true;\n  },\n\n  /**\r\n      * Returns the internal value\r\n      * @returns {*|Array}\r\n      */\n  getValue: function getValue() {\n    return this.value || [];\n  },\n\n  /**\r\n      * Get list of data\r\n      * @returns {*|Array}\r\n      */\n  getDataValue: function getDataValue() {\n    var list;\n\n    try {\n      list = JSON.parse(this.value);\n\n      return list.value || [];\n    } catch (e) {\n      return [];\n    }\n  },\n\n  /**\r\n      * Check if a render has no value for required validation\r\n      * @returns {*|Array|boolean}\r\n      */\n  hasValue: function hasValue() {\n    var values = this.getDataValue();\n\n    return values && values.length > 0;\n  },\n\n  getElementsToStylize: function getElementsToStylize(context) {\n    return $(\".bz-multiselect .bz-multiselect__tag:not(.bz-multiselect__plus)\", context);\n  },\n\n  /**\r\n      * Add elements to global value\r\n      * @param value\r\n      */\n  addElement: function addElement(value) {\n    var newValue = this.getDataValue();\n\n    newValue.push(value);\n\n    this.setValue(newValue);\n  },\n\n  /**\r\n      * Remove elements to global value\r\n      * @param value\r\n      */\n  removeElement: function removeElement(value) {\n    var idToRemove = value.id;\n    var newValue = this.getDataValue().\n    filter(function (item) {\n      return item.id !== idToRemove;\n    });\n\n    this.setValue(newValue);\n  },\n\n  /**\r\n      * Submit the selected data to the server in order to be saved\r\n      */\n  submitData: function submitData() {\n    var data = {};\n\n    // Add current data\n    data[this.properties.xpath] = this.getValue();\n\n    // Executes submit on change\n    this.submitOnChange(data);\n  },\n\n  /**\r\n      * Mark a item how checked\r\n      * @param id\r\n      * @returns {*}\r\n      */\n  markAsChecked: function markAsChecked(id) {\n    var self = this;\n\n    return self.selected.some(function (item, index) {\n      var found = item.id === id;\n\n      if (found) self.selected.splice(index, 1);\n      return found;\n    });\n  },\n\n  isChecked: function isChecked(values, id) {\n    return values.some(function (item) {\n      return item.id == id;\n    });\n  },\n\n  /**\r\n      * Method to verify if can add more items\r\n      * @param $tagsContainer\r\n      * @returns {boolean}\r\n      */\n  canAddMoreItems: function canAddMoreItems($tagsContainer) {\n    var self = this;\n    var containerWidth = parseInt($tagsContainer.css(\"width\"));\n    var $children = $tagsContainer.children();\n\n    var childrenWidth = $children.\n    toArray().\n    reduce(function (acc, child) {\n      acc += self.getElementWidth(child);\n      return acc;\n    }, 0);\n\n    return containerWidth > childrenWidth + self.Class.MORE_OPTION_WIDTH;\n\n  },\n\n  /**\r\n      * getElementWidth\r\n      * @param element\r\n      * @returns {*}\r\n      */\n  getElementWidth: function getElementWidth(element) {\n    var styles = window.getComputedStyle(element);\n    var outerWidth = $(element).outerWidth();\n    return outerWidth + [\n    \"padding-left\",\n    \"padding-right\",\n    \"margin-left\",\n    \"margin-right\"].\n    reduce(function (acc, property) {\n      acc += parseInt(styles[property]);\n      return acc;\n    }, 0);\n  },\n\n  /**\r\n      * Filtering list of elements\r\n      * @param query\r\n      * @param $container\r\n      */\n  filterList: function filterList(query, $container) {\n\n    $container.filter(function () {\n      var stringContainer = $(this).text().toUpperCase();\n      var stringToSearch = query.toUpperCase();\n\n      if (stringContainer.indexOf(stringToSearch) >= 0) {\n        return $(this);\n      } else {\n        $(this).hide();\n      }\n    }).show();\n\n  },\n\n  /**\r\n      * addSelectedElements\r\n      */\n  addSelectedElements: function addSelectedElements() {\n  },\n\n  /**\r\n      * Find item by id\r\n      * @param id\r\n      * @returns {[]}\r\n      */\n  findItemById: function findItemById(id) {\n    return (this.properties.data || []).find(function (item) {\n      return item.id == id;\n    });\n  },\n\n  /**\r\n      * Formats value of each item\r\n      * @param {string, boolean or array} value\r\n      * @example\r\n      * value = \"string\" => \"string\"\r\n      * value = true => \"yes\" or \"si\", the localized value\r\n      * value = false => \"no\", the localized value\r\n      * value = [\"string 1\", \"string 2\"] => \"string 1 - string 2\"\r\n      * @returns {string}\r\n      */\n  formatItem: function formatItem(value) {\n    return bizagi.util.formatItem(value);\n  },\n\n  /**\r\n      * Complement data from server before control implementation\r\n      * @param data\r\n      */\n  normalizeData: function normalizeData(data) {\n    (data || []).forEach(function (item) {\n      item.value = typeof item.value !== \"undefined\" && item.value !== null ? item.value : \"\";\n    });\n\n    return data;\n  } });","/*\r\n*   Name: Bizagi Render Search List Control\r\n*   Author: UI Forms Team\r\n*/\n\n$.Class.extend(\"bizagi.rendering.searchList\", {}, {\n\n  /**\r\n                                                     * Update or init the element data\r\n                                                     * @param {} data \r\n                                                     * @returns {} \r\n                                                     */\n  initializeData: function initializeData(data) {\n    var self = this;\n\n    // Call base\n    self._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n    properties.maxRecords = Number(properties.maxRecords) || 20;\n    properties.editable = bizagi.util.parseBoolean(properties.editable) !== null ? bizagi.util.parseBoolean(properties.editable) : true;\n\n    // Set value\n    self.setValue(properties.value);\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @returns {} \r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var properties = self.properties;\n    var template = self.renderFactory.getTemplate(\"searchList\");\n\n    return $.fasttmpl(template, {\n      id: properties.id,\n      xpath: properties.xpath,\n      value: properties.value,\n      allowTyping: properties.allowTyping,\n      items: properties.value,\n      hasSearchForm: properties.searchForms ? true : false,\n      editable: properties.editable },\n    {\n      formatItem: self.formatItem });\n\n  },\n\n  /**\r\n      * Method to render non editable values\r\n      * @returns {} \r\n      */\n  renderReadOnly: function renderReadOnly() {\n    return this.renderControl();\n  },\n\n  /**\r\n      * Sets the internal value\r\n      * @param {} value \r\n      * @returns {} \r\n      */\n  setValue: function setValue(value) {\n    this.value = JSON.encode({ \"value\": value });\n    this.triggerRenderChange();\n  },\n\n  /**\r\n      * Add elements to global value\r\n      * @param value = { id:integer,value:[string || array] }\r\n      * @returns {} \r\n      */\n  addElement: function addElement(value) {\n    var list = JSON.parse(this.value);\n\n    list.value.push(value);\n\n    this.setValue(list.value);\n  },\n\n  /**\r\n      * Remove elements to global value\r\n      * @param value = { id:integer }\r\n      * @returns {} \r\n      */\n  removeElement: function removeElement(value) {\n    var list = JSON.parse(this.value);\n    var result = [];\n\n    $.each(list.value, function (key, val) {\n      if (val.id != value.id) {\n        result.push({ id: val.id, value: val.value });\n      }\n    });\n\n    this.setValue(result);\n  },\n\n  /**\r\n      * Remove last element to global value\r\n      * @returns {} \r\n      */\n  removeLastElement: function removeLastElement() {\n    var list = JSON.parse(this.value);\n\n    if (list.value.length > 0) {\n      list.value.pop();\n      this.setValue(list.value);\n    }\n  },\n\n  /**\r\n      * Fetch the data into a deferred\r\n      * @param {} params \r\n      * @returns {} \r\n      */\n  getData: function getData(params) {\n    var self = this;\n    var properties = self.properties;\n    var defer = new $.Deferred();\n\n    // Resolve with remote data\n    self.dataService.getSearchData({\n      url: properties.dataUrl,\n      xpath: properties.xpath,\n      idRender: properties.id,\n      xpathContext: properties.xpathContext,\n      idPageCache: properties.idPageCache,\n      term: properties.term,\n      extra: params }).\n    done(function (data) {\n      // Resolve with fetched data\n      properties.data = data;\n      defer.resolve(properties.data);\n    }).fail(function (data) {\n      var hideStatus = data.hideStatus || false;\n\n      defer.resolve({});\n\n      if (!hideStatus) {\n        self.trigger(\"onSearchError\", data);\n      }\n    });\n\n    return defer.promise();\n  },\n\n  /**\r\n      * Submits the selected data to the server in order to be saved\r\n      * @returns {} \r\n      */\n  submitData: function submitData() {\n    var data = {};\n\n    // Add current data\n    data[this.properties.xpath] = this.getValue();\n\n    // Executes submit on change\n    this.submitOnChange(data);\n  },\n\n  /**\r\n      * Method to determine if the render value can be sent to the server or not\r\n      * @returns {} \r\n      */\n  canBeSent: function canBeSent() {\n    return true;\n  },\n\n  /**\r\n      * Check if the control has value\r\n      * @returns {} \r\n      */\n  hasValue: function hasValue() {\n    var list = this.getListItems();\n\n    return list.length > 0;\n  },\n\n  getListItems: function getListItems() {\n    var value = this.getValue();\n    var finalValue = typeof value === \"string\" ? JSON.parse(value).value : value.value;\n\n    return finalValue || [];\n  },\n\n  /**\r\n      * Formats value of each item\r\n      * @param {string, boolean or array} value\r\n      * @example\r\n      * value = \"string\" => \"string\"\r\n      * value = true => \"yes\" or \"si\", the localized value\r\n      * value = false => \"no\", the localized value\r\n      * value = [\"string 1\", \"string 2\"] => \"string 1 - string 2\"\r\n      * @returns {string}\r\n      */\n  formatItem: function formatItem(value) {\n    return bizagi.util.formatItem(value);\n  } });","/**\r\n *   Name: Bizagi Render Money Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for money numbers\r\n */\n\n$.Class.extend(\"bizagi.rendering.money\", {}, {\n\n  /**\r\n                                                * Update or init the element data\r\n                                                * @param {} data\r\n                                                * @returns {}\r\n                                                */\n  initializeData: function initializeData(data) {\n    var self = this;\n\n    // Call base\n    self._super(data);\n\n    // Fill default properties\n    var properties = self.properties;\n    var format = this.getResource(\"numericFormat\");\n\n    // Configures symbol\n    properties.showsymbol = typeof properties.showsymbol !== \"undefined\" ? properties.showsymbol : true;\n\n    if (properties.showsymbol) {\n      var symbol = typeof BIZAGI_DEFAULT_CURRENCY_INFO !== \"undefined\" ? BIZAGI_DEFAULT_CURRENCY_INFO.symbol : format.symbol;\n      properties.symbol = properties.currencySymbol ? properties.currencySymbol : symbol;\n    } else {\n      properties.symbol = \"\";\n    }\n\n    properties.groupDigits = true;\n  } });","/**\r\n *   Name: Bizagi Render Radio Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for radio renders\r\n */\n\n$.Class.extend(\"bizagi.rendering.radio\", {}, {\n\n  /**\r\n                                                * Update or init the element data\r\n                                                * @param data\r\n                                                */\n  initializeData: function initializeData(data) {\n    var self = this;\n    // Call base\n    this._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n    properties.horizontal = bizagi.util.parseBoolean(properties.horizontal) || false;\n\n    // Set a random identifier to fix a problem when using radio buttons inside grids and the plugin mismatch the elements because all of them have the same name\n    properties.unique = bizagi.util.randomNumber(1000, 1000000);\n  },\n\n  /**\r\n      * Gets the template used by the combo render\r\n      * Can be overridden in subclasses to reuse logic and just change the template\r\n      * @returns {string}\r\n      */\n  getTemplateName: function getTemplateName() {\n    return \"radio\";\n  },\n\n  /**\r\n      * Determines if we need to show the empty node or not\r\n      * Can be overridden to change behaviour\r\n      * @returns {boolean}\r\n      */\n  showEmpty: function showEmpty() {\n    return false;\n  },\n\n  /**\r\n      * Determines if we need to show the current data regardless if it belongs to data or not\r\n      * Can be overridden to change behaviour\r\n      * @returns {boolean}\r\n      */\n  showCurrentData: function showCurrentData() {\n    return false;\n  },\n\n  /**\r\n      * Adds custom parameters to process the template\r\n      * @returns {{vertical: boolean}}\r\n      */\n  getTemplateParams: function getTemplateParams() {\n    var self = this;\n    var properties = self.properties;\n\n    return {\n      vertical: !properties.horizontal,\n      horizontal: properties.horizontal };\n\n  },\n\n  /**\r\n      * Cleans current data\r\n      */\n  cleanData: function cleanData() {\n    var self = this;\n    var value = { id: \"\", label: \"\" };\n    var selectedItem = self.element.find(\".ui-radio-state-checked\");\n\n    selectedItem.removeClass(\"ui-radio-state-checked\");\n    self.setDisplayValue(value);\n    self.setValue(value, false);\n    self.clearDisplayValue();\n  },\n\n  /**\r\n      * Check value of control is changed\r\n      * @returns {boolean}\r\n      */\n  controlValueIsChanged: function controlValueIsChanged() {\n    var self = this;\n    var properties = self.properties;\n\n    var value = self.getValue();\n    var compareValue = properties.originalValue;\n    var baseValue = properties.defaultValue;\n\n    var result = true;\n\n    if (value && value.length !== undefined) {\n      value = value[0];\n    }\n    if (compareValue && compareValue.length !== undefined) {\n      compareValue = compareValue[0];\n    }\n    if (baseValue && baseValue.length !== undefined) {\n      baseValue = baseValue[0];\n    }\n\n    value = value && value.id !== undefined ? value.id : value;\n    compareValue = compareValue && compareValue.id !== undefined ? compareValue.id : compareValue;\n    baseValue = baseValue && baseValue.id !== undefined ? baseValue.id : baseValue;\n\n    if (baseValue !== undefined) {\n      if (baseValue == value && value == compareValue) {\n        result = false;\n      } else {\n        if ((value === null || value === \"\") && (compareValue === null || compareValue === \"\")) {\n          result = false;\n        } else {\n          result = compareValue == value ? false : true;\n        }\n      }\n    } else {\n      if ((value === null || value === \"\") && (compareValue === null || compareValue === \"\")) {\n        result = false;\n      } else {\n        result = compareValue == value ? false : true;\n      }\n    }\n\n    return result;\n  },\n  /**\r\n      * Clean html because some scenarios render twice\r\n      */\n  emptyControlByAsyncRenderDeferred: function emptyControlByAsyncRenderDeferred() {\n    var control = this.getControl();\n    control.empty();\n  } });","/**\r\n *   Name: Bizagi Render Image Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for image control\r\n */\n\n$.Class.extend(\"bizagi.rendering.image\", {\n  // Statics\n  BA_ACTION_PARAMETER_PREFIX: bizagi.render.services.service.BA_ACTION_PARAMETER_PREFIX,\n  BA_CONTEXT_PARAMETER_PREFIX: bizagi.render.services.service.BA_CONTEXT_PARAMETER_PREFIX,\n  BA_PAGE_CACHE: bizagi.render.services.service.BA_PAGE_CACHE },\n{\n\n  BASE_IMAGE: \"data:image/png;base64,\",\n\n  /**\r\n                                         * Update or init the element data\r\n                                         * @param data\r\n                                         */\n  initializeData: function initializeData(data) {\n    var self = this;\n\n    // Call base\n    self._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n    var maxSize = 4091904;\n\n    if (properties.maxSize) {\n      maxSize = Number(properties.maxSize);\n    } else if (typeof BIZAGI_SETTINGS !== \"undefined\" && typeof BIZAGI_SETTINGS.UploadMaxFileSize !== \"undefined\") {\n      maxSize = Number(BIZAGI_SETTINGS.UploadMaxFileSize);\n    }\n\n    properties.maxSize = maxSize;\n    properties.editable = bizagi.util.parseBoolean(properties.editable) === true;\n    properties.validExtensions = properties.validExtensions || \"\";\n    properties.isChanged = false;\n\n    if (properties.validExtensions.length > 0 && properties.validExtensions.indexOf(\".\") < 0) {\n      var singleExtensions = properties.validExtensions.replace(/\\ /gi, '').split(\";\");\n\n      for (var i = 0; i < singleExtensions.length; i++) {\n        if (singleExtensions[i].length != 0) {\n          singleExtensions[i] = \"*.\" + singleExtensions[i].replaceAll(\" \", \"\");\n        } else {\n          //Removes the empty element\n          var index = singleExtensions.indexOf(singleExtensions[i]);\n          singleExtensions.splice(i, 1);\n        }\n      }\n\n      properties.validExtensions = singleExtensions.join(\";\");\n    }\n\n    properties.addUrl = properties.addUrl || self.dataService.getUploadAddFileUrl(properties.isUserPreference);\n    properties.allowDelete = bizagi.util.parseBoolean(properties.allowDelete) !== null;\n    self.initializeWidthAndHeight();\n\n  },\n\n  /**\r\n      * Update or init the element data\r\n      * @param data\r\n      */\n  initializeWidthAndHeight: function initializeWidthAndHeight() {\n    var properties = this.properties;\n\n    properties.isAutoWidth = false;\n    properties.isAutoHeight = false;\n\n    if (properties.width === -1) {\n      properties.width = \"100%\";\n      properties.isAutoWidth = true;\n    } else {\n      properties.width = properties.width + \"px\";\n    }\n\n    if (properties.height === -1) {\n      properties.height = \"auto\";\n      properties.isAutoHeight = true;\n    } else {\n      properties.height = properties.height + \"px\";\n    }\n  },\n\n  setData: function setData(value) {\n    var self = this;\n    var previousValue = self.getData();\n    if (bizagi.util.isEmpty(value)) {\n      this.properties.binaryValue = null;\n    } else {\n      this.properties.binaryValue = value instanceof Blob ? value : bizagi.util.b64toBlob(value, \"image/png\");\n    }\n\n    if (previousValue != this.properties.binaryValue) {\n\n      if (self.properties.required && self.isExecutionMode()) {\n        var isValidField = !self.checkRequired([]);\n        self.changeRequiredLabel(isValidField);\n      }\n\n      if (this.properties.isChanged) {\n        self.triggerRenderChange();\n        self.triggerRenderValidate();\n      }\n    }\n  },\n\n  getData: function getData() {\n    return this.properties.binaryValue || [];\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @returns {*}\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var template = self.renderFactory.getTemplate(\"image\");\n    var form = self.getFormContainer();\n\n    return self.buildItemUrl().\n    then(function (dataUrl) {\n      if (!self.isDisposed()) {\n        self.properties.url = dataUrl !== \"\" ? dataUrl : \"\";\n\n        if (!bizagi.util.isEmpty(self.properties.url)) {\n          if (form.properties.compatibilityVersion < 2)\n          self.properties.value = [[0, \"uploaded\"]];\n        } else {\n          self.properties.value = [];\n        }\n\n        self.setValue(self.properties.value);\n\n        var html = $.fasttmpl(template, { url: self.properties.url });\n        return html;\n      }\n    });\n  },\n\n  /**\r\n      * Method to render non editable values\r\n      * @returns {*}\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    var template = this.renderFactory.getTemplate(\"image-readonly\");\n    var html = $.fasttmpl(template);\n\n    return html;\n  },\n\n  /**\r\n      * This method return the name of template of items, please make a override in each device\r\n      * @returns {*}\r\n      */\n  getTemplateItem: function getTemplateItem() {\n    return this.renderFactory.getTemplate(\"image-item\");\n  },\n\n  /**\r\n      * Renders a single upload item\r\n      * @param file\r\n      * @returns {*}\r\n      */\n  renderUploadItem: function renderUploadItem() {\n    var self = this;\n    var mode = self.getMode();\n    var template = self.getTemplateItem();\n\n    return self.buildItemUrl().\n    then(function (dataUrl) {\n      var url = dataUrl || \"\";\n\n      var html = $.fasttmpl(template, {\n        url: url,\n        allowDelete: self.properties.allowDelete,\n        editable: self.properties.editable,\n        mode: mode });\n\n\n      self.properties.url = url;\n\n      return html;\n    });\n  },\n\n  /**\r\n      * Builds the upload item url\r\n      * @param params\r\n      * @returns {*}\r\n      */\n  buildItemUrl: function buildItemUrl(params) {\n    var self = this;\n    var form = self.getFormContainer();\n    var properties = self.properties;\n    var isVersion2OrSuperior = form.properties.compatibilityVersion >= 2;\n    var url = \"\";\n\n    if (!this.isExecutionMode()) return $.Deferred().resolve(\"\").promise();\n\n    var parameters = {\n      url: properties.dataUrl,\n      xpath: properties.xpath,\n      idRender: properties.id,\n      xpathContext: properties.xpathContext,\n      idPageCache: properties.idPageCache,\n      contexttype: properties.contexttype,\n      property: params && params.property ? params.property : \"fileContent\",\n      dataType: \"text\" };\n\n\n    if (properties.isUserPreference) {\n      self.currentUser = bizagi.currentUser.idUser;\n      parameters.xpathContext = \"@Context.Users[id == \" + self.currentUser + \"]\";\n      parameters.contexttype = \"entity\";\n      parameters.surrogatekey = self.currentUser;\n    }\n\n    if (isVersion2OrSuperior) {\n      if (bizagi.util.isEmpty(self.properties.value) && !self.hasValue()) return $.Deferred().resolve(\"\").promise();\n\n      // forceBase64 - Allow to get the thumbnail image on desktop devices\n      if (!self.properties.forceBase64) {\n        parameters.sessionId = form.properties.sessionId;\n        parameters.property = \"fileBinaryContent\";\n        return self.dataService.downloadFile(parameters).\n        then(function (blob) {\n          self.setData(blob);\n          if (blob == null || window.Blob && blob instanceof Blob && blob.size === 0) return null;\n          return bizagi.util.blobTob64(blob, false);\n        }).\n        then(function (base64) {\n          return bizagi.util.getDataUrl(base64, properties.url);\n        });\n      }\n    }\n\n    return self.dataService.multiaction().getPropertyData(parameters, \"text\").\n    then(function (data) {\n      if (data.charAt(0) === \"\\\"\") data = data.slice(1, -1);\n      if (data !== \"\") url = self.BASE_IMAGE + data;\n      self.setData(bizagi.util.b64toBlob(data));\n      return url;\n    });\n  },\n\n  buildItemUrlOffline: function buildItemUrlOffline() {\n    var self = this;\n    var properties = self.properties;\n    var formParams = self.getFormParams();\n    var loadImageFromForm = !properties.isChanged;\n    var id = self.buildOfflineImageId();\n\n    var parameters = {\n      idCase: formParams.idCase,\n      idWorkitem: formParams.idWorkitem,\n      id: id,\n      offlineType: formParams.offlineType,\n      loadImageFromForm: loadImageFromForm };\n\n\n    return $.when(self.dataService.getOfflineImage(parameters, bizagi.util.db.AttachmentType.Blob)).\n    then(function (blob) {\n      self.setData(blob);\n      if (blob == null || window.Blob && blob instanceof Blob && blob.size === 0) return null;\n      return bizagi.util.blobTob64(blob, false);\n    }).\n    then(function (base64) {\n      return bizagi.util.getDataUrl(base64, properties.url);\n    });\n  },\n\n  /**\r\n      * Create an image offline\r\n      * @param path File in Browser or Path in Mobile Devices\r\n      * @param promise Promise to be resolved when save is completed\r\n      */\n  saveImageOffline: function saveImageOffline(path) {\n    var self = this;\n    var id = self.buildOfflineImageId();\n    var fileName = self.fileProperties !== undefined ? self.fileProperties.name : path.name;\n\n    return self.dataService.getFileService().resolveBlobFromPath(path, fileName).\n    then(function (blobImage) {\n      // Save the image as attachment\n      var formParams = self.getFormParams();\n      var parameters = {\n        idCase: formParams.idCase,\n        idWorkitem: formParams.idWorkitem,\n        id: id,\n        operationType: \"edition\",\n        offlineType: formParams.offlineType };\n\n\n      return self.dataService.saveOfflineImage(parameters, blobImage);\n    });\n  },\n\n  /**\r\n      * Builds the upload item url in real size\r\n      * @returns {*}\r\n      */\n  buildFullItemUrl: function buildFullItemUrl() {\n    return this.buildItemUrl({ \"property\": \"fileFullContent\" });\n  },\n\n  /**\r\n      * Method to determine if the render value can be sent to the server or not\r\n      * @returns {boolean}\r\n      */\n  canBeSent: function canBeSent() {\n    return this.properties.isChanged;\n  },\n\n  /**\r\n      * Returns the internal value\r\n      * @returns {*|Array}\r\n      */\n  getValue: function getValue() {\n    return this.properties.value || [];\n  },\n\n  /**\r\n      * Check if control is valid or not\r\n      * @param invalidElements\r\n      * @returns {boolean}\r\n      */\n  isValid: function isValid(invalidElements) {\n    var self = this;\n\n    // Don't check non-editable renders\n    if (bizagi.util.parseBoolean(self.properties.visible) === false) {\n      return true;\n    }\n\n    // Don't check non-editable renders\n    if (bizagi.util.parseBoolean(self.properties.editable) === false) {\n      return true;\n    }\n\n    // Clear error message\n    self.setValidationMessage(\"\");\n\n    // Check required\n    if (self.properties.required) {\n      var newRow = self.grid && self.grid.isFromCreatedRow.apply(self);\n\n      if (!newRow) {\n        var value = self.getValue();\n\n        if (value.length === 0) {\n          var message = self.getResource(\"render-required-text\").replaceAll(\"#label#\", self.properties.displayName);\n          invalidElements.push({ xpath: self.properties.xpath, message: message });\n          return false;\n        }\n      }\n    }\n\n    return true;\n  },\n\n  /**\r\n      * Build add params to send to the server\r\n      */\n  buildAddParams: function buildAddParams() {\n    var self = this;\n    var properties = self.properties;\n    var form = self.getFormContainer();\n    var data = {};\n\n    data[self.Class.BA_CONTEXT_PARAMETER_PREFIX + \"xpath\"] = self.getUploadXpath();\n    data[self.Class.BA_CONTEXT_PARAMETER_PREFIX + \"idRender\"] = properties.id;\n    data[self.Class.BA_CONTEXT_PARAMETER_PREFIX + \"xpathContext\"] = properties.xpathContext;\n    data[self.Class.BA_CONTEXT_PARAMETER_PREFIX + self.Class.BA_PAGE_CACHE] = properties.idPageCache;\n    data[self.Class.BA_ACTION_PARAMETER_PREFIX + \"sessionId\"] = form.properties.sessionId;\n    data[self.Class.BA_CONTEXT_PARAMETER_PREFIX + \"action\"] = 'savefile';\n\n    if (properties.contexttype) {\n      data[self.Class.BA_CONTEXT_PARAMETER_PREFIX + \"contexttype\"] = properties.contexttype;\n    }\n\n    try {\n      if (typeof BIZAGI_SESSION_NAME !== \"undefined\") {\n        data[BIZAGI_SESSION_NAME] = form.properties.sessionId;\n      } else {\n        data[\"JSESSIONID\"] = form.properties.sessionId;\n      }\n    } catch (e) {\n      data[\"JSESSIONID\"] = form.properties.sessionId;\n    }\n\n    return data;\n  },\n\n  /**\r\n      * Returns the xpath to be used\r\n      * @returns {*}\r\n      */\n  getUploadXpath: function getUploadXpath() {\n    return this.properties.xpath;\n  },\n\n  /**\r\n      * Clean html because some scenarios render twice\r\n      */\n  emptyControlByAsyncRenderDeferred: function emptyControlByAsyncRenderDeferred() {\n    var $control = this.getControl();\n    $control.empty();\n  },\n\n  buildOfflineImageId: function buildOfflineImageId() {\n    var self = this;\n    var form = self.getFormContainer();\n    var isVersion2OrSuperior = form.properties.compatibilityVersion >= 2;\n\n    return self.dataService.fileService.buildOfflineImageId(self.properties.value, self.properties.xpathContext, self.properties.xpath, isVersion2OrSuperior);\n  } });","/*\r\n*   Name: BizAgi User field render\r\n*   Author: Diego Parra\r\n*   Comments:\r\n*   -   This script will define the basic behavior for userfields\r\n*/\n$.Class.extend(\"bizagi.rendering.userfieldDefinition\", {}, {\n\n  /*************************************************************/\n  /* Private section of the userfield                          */\n  /*************************************************************/\n\n  /*\r\n                                                                  *   Method to be overriden by userfields in order to ensure that custom files are loaded before the execution\r\n                                                                  */\n  getFileDependencies: function getFileDependencies() {\n    return null;\n  },\n\n  postRender: function postRender() {\n    var self = this;\n\n    // Call base\n    self._super();\n\n    var defer = $.Deferred();\n    var fileDependencies = self.getFileDependencies();\n    if (fileDependencies && fileDependencies.length > 0) {\n      bizagi.loader.loadFile(fileDependencies).\n      then(function () {\n        // After all dependencies has been resolved\n        self.internalRenderControl();\n        defer.resolve();\n      });\n\n    } else {\n      $.when(self.renderUserfieldControl()).done(function () {\n        defer.resolve();\n      });\n    }\n\n    return defer.promise();\n  },\n\n  renderUserfieldControl: function renderUserfieldControl() {\n    var self = this;\n    var control = self.getControl();\n    var properties = self.properties;\n    var def = new $.Deferred();\n\n    if (properties.extendedData && properties.extendedData.length > 0) {\n      self.extendedData = bizagi.services.ajax.parseJSON(properties.extendedData);\n    } else {\n      self.extendedData = {};\n    }\n\n\n    var loadUserfield = function loadUserfield() {\n      var userEditableControl = self.getEditableControl();\n      if (userEditableControl) {\n        self.input = control.html(userEditableControl);\n      }\n      self.renderComplex();\n      def.resolve();\n    };\n\n\n    loadUserfield();\n\n\n    return def.promise();\n  },\n\n  postRenderReadOnly: function postRenderReadOnly() {\n    var self = this;\n    var control = self.getControl();\n    var properties = self.properties;\n\n    if (properties.extendedData && properties.extendedData.length > 0) {\n      self.extendedData = bizagi.services.ajax.parseJSON(properties.extendedData);\n    } else {\n      self.extendedData = {};\n    }\n\n    var loadUserfieldReadOnly = function loadUserfieldReadOnly() {\n      try {\n        var userReadOnlyControl = self.getReadonlyControl();\n        if (userReadOnlyControl) {\n          self.input = control.html(userReadOnlyControl);\n        }\n        self.renderComplex();\n\n      } catch (error) {\n        var displayName = self.properties.displayName || \"Widget\";\n        control.html(\"<h6>\" + displayName + \"</h6>\");\n      }\n\n    };\n\n    if (self.ready) {\n      self.ready().done(function () {\n        loadUserfieldReadOnly();\n      });\n    } else {\n      loadUserfieldReadOnly();\n    }\n  },\n\n  getDisplayValue: function getDisplayValue() {\n    var self = this;\n    return self.getReadonlyValue();\n  },\n\n  /*\r\n     *   Sets the value in the rendered control \r\n     */\n  setDisplayValue: function setDisplayValue(value) {\n    var self = this;\n\n    // Call base\n    self.setValue(value);\n\n    // Set editable value in control\n    self.setEditableValue(value);\n  },\n\n  getValue: function getValue() {\n    var self = this;\n    return self.getEditableValue();\n  },\n\n  getPropertyValue: function getPropertyValue(propertyName, params) {\n    var self = this;\n    var properties = self.properties;\n    var defer = new $.Deferred();\n    var form = self.getFormContainer();\n\n    form.useOrSetLoaderDeferred();\n    form.appendWaitForLoader({ promise: defer.promise() });\n\n    self.dataService.multiaction().getPropertyData({\n      url: properties.dataUrl,\n      xpath: properties.xpath,\n      idRender: properties.id,\n      xpathContext: properties.xpathContext,\n      idPageCache: properties.idPageCache,\n      property: propertyName,\n      extra: params,\n      dataType: params ? params.dataType : null }).\n    done(function (data) {\n      if (data.type == \"error\") {\n        // Workflow engine error, we gotta show it with error\n        self.getFormContainer().addErrorMessage(data.message);\n        defer.reject(data);\n      } else {\n        defer.resolve(data);\n      }\n    }).fail(function (jqXHR, textStatus, errorThrown) {\n      defer.reject(jqXHR, textStatus, errorThrown);\n    });\n\n    return defer.promise();\n  },\n\n  /*\r\n     *   Saves the form\r\n     */\n  saveForm: function saveForm() {\n    var self = this;\n    var form = self.getFormContainer();\n    return form.saveForm();\n  },\n\n  /**\r\n     * Returns all the elements that match the given xpath\r\n     */\n  getRenderElements: function getRenderElements(xpath) {\n    var self = this;\n    var result = $();\n    var controls = self.getFormContainer().getRenders(xpath);\n    $.each(controls, function (i, item) {\n      result = result.add($(item.element));\n    });\n\n    return result;\n  },\n\n  getServerResourceURL: function getServerResourceURL(resource) {\n    var self = this;\n    var url = \"Rest/Userfields/{0}/resource/{1}/{2}\";\n    url = url.replace(\"{0}\", self.properties.userfieldGuid);\n    resource = resource.replace(\"\\\\\", \"__\").replace(\"/\", \"__\");\n    var device = bizagi.util.detectDevice();\n    url = url.replace(\"{1}\", device);\n    url = url.replace(\"{2}\", resource);\n    //Rest/Userfields/{0}/resource/desktop/{1}\n    return url;\n  },\n\n  /**\r\n     * Returns all the elements that match the given xpath\r\n     */\n  getRenderValue: function getRenderValue(xpath) {\n    var self = this;\n    var controls = self.getFormContainer().getRenders(xpath);\n    var control;\n    $.each(controls, function (index, item) {\n      if (!control || item.properties.editable) {\n        control = item;\n      }\n    });\n    if (control) {\n      return control.getValue();\n    } else {\n      return null;\n    }\n  },\n\n  /*\r\n     *   Refresh the current form\r\n     */\n  refreshForm: function refreshForm() {\n    var self = this;\n    var properties = self.properties;\n\n    var form = self.getFormContainer();\n    form.refreshForm(properties.id);\n  },\n\n  /*\r\n     * Shows a jquery dialog\r\n     */\n  showDialog: function showDialog(url, params) {\n    bizagi.util.mustImplement(\"Must implement the showDialog method\");\n  },\n\n  /*\r\n     *   Shows a browser popup\r\n     */\n  showPopup: function showPopup(url, params) {\n    bizagi.util.mustImplement(\"Must implement the showPopup method\");\n  },\n\n  updateOriginalValue: function updateOriginalValue() {\n    var self = this;\n    self.properties.originalValue = self.value = self.properties.value;\n  } });\n\n\n\n\n\n$.Class.extend(\"bizagi.rendering.basicUserField\", {}, {\n\n  /*************************************************************/\n  /* methods to be overriden by the implementations            */\n  /*************************************************************/\n  getEditableControl: function getEditableControl() {\n  },\n\n  renderComplex: function renderComplex() {\n  },\n\n  // Returns the value of the control\n  getEditableValue: function getEditableValue() {\n    return bizagi.rendering.render.prototype.getValue.apply(this, arguments);\n  },\n\n  // \n  setEditableValue: function setEditableValue(value) {\n    return bizagi.rendering.render.prototype.setValue.apply(this, arguments);\n  },\n\n  getReadonlyControl: function getReadonlyControl() {\n  },\n\n  getReadonlyValue: function getReadonlyValue() {\n    // if the method is not overriden then call the parent method \n    return bizagi.rendering.render.prototype.getDisplayValue.apply(this, arguments);\n  },\n\n  dispose: function dispose() {\n    var self = this;\n\n    // Call base\n    self._super();\n  } });\n\n\n\n/*\r\n        *   This control will wrap any userfield in order to load the code remotely, \r\n        *   when executing renderControl, which is an async method\r\n        */\n$.Class.extend(\"bizagi.rendering.userfieldWrapper\", {}, {\n\n  /*\r\n                                                          *   Constructor\r\n                                                          */\n  init: function init(params) {\n    var self = this;\n\n    // Call base\n    self._super(params);\n    // Save userfield guid and name\n    self.initialParams = params;\n    self.userfieldGuid = this.properties.userfieldGuid;\n    self.userfieldName = this.properties.control;\n  },\n\n  /*\r\n     *   Starts waiting signal for async stuff\r\n     */\n  startUserfieldLoading: function startUserfieldLoading() {\n  },\n\n  /*\r\n     *   Ends waiting for async stuff\r\n     */\n  endUserfieldLoading: function endUserfieldLoading() {\n  },\n\n  /*\r\n     *   Returns the in-memory processed element\r\n     */\n  internalPostRender: function internalPostRender() {\n    var self = this;\n    self.startUserfieldLoading();\n    $.when(self.getUserfieldControl()).\n    done(function (control) {\n      control.element = self.element;\n\n      // Add grid and surrogatekey properties if the userfield is a column userfield\n      if (self.column) {\n        control.isColumn = true;\n        control.grid = self.grid;\n        control.surrogateKey = self.surrogateKey;\n        control.properties.xpathContext = self.getControlXpathContext(control);\n        control.getControl = self.column.getControl;\n      }\n\n      return control.internalPostRender();\n    }).\n    always(function () {\n      self.endUserfieldLoading();\n    });\n  },\n\n  /*\r\n     *   Helper for userfields to fetch the xpathContext\r\n     */\n  getControlXpathContext: function getControlXpathContext(control) {\n    var self = this;\n    var properties = control.properties;\n\n    if (control.isColumn) {\n      return properties.xpathContext.length > 0 ? properties.xpathContext + \".\" + control.grid.properties.xpath + \"[id=\" + control.surrogateKey + \"]\" : control.grid.properties.xpath + \"[id=\" + control.surrogateKey + \"]\";\n    }\n\n    return properties.xpathContext;\n  },\n\n\n  getUserFieldInstance: function getUserFieldInstance(params) {\n    console.log(\"not implemented\");\n  },\n\n  /*\r\n     *   Replicate all userfield methods to this instance in order to create a proxy\r\n     */\n  replicateUserfieldMethods: function replicateUserfieldMethods(control) {\n    var self = this;\n    for (var key in control.Class.prototype) {\n      // Omit the folowing methods\n      if (key == \"init\" || key == \"constructor\" || key == \"Class\" || key == \"subscribe\" || key == \"unsubscribe\" ||\n      key == \"publish\" || key == \"render\" || key == \"triggerHandler\" || key == \"dispose\") continue;\n\n      // Replicate instance methods\n      self[key] = eval('var tmp = function(){ if (this.userfieldInstance) return this.userfieldInstance.' + key + '.apply(this.userfieldInstance, arguments); return null;};tmp');\n    }\n\n    // Replicate properties and value\n    control.properties = self.properties;\n    control.value = self.value;\n  },\n\n  dispose: function dispose() {\n    var self = this;\n\n    var timeOutUserField = setTimeout(function () {\n      if (self.userfieldInstance) {\n        self.userfieldInstance.unbind(\"renderchange\");\n        self.userfieldInstance.dispose();\n      }\n      clearTimeout(timeOutUserField);\n    }, bizagi.override.disposeTime || 50);\n\n    // Call base\n    self._super();\n  } });","/**\r\n *   Name: Bizagi Render Document Generator\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for document generator render\r\n */\n\n$.Class.extend(\"bizagi.rendering.document\", {}, {\n\n  /**\r\n                                                   * Update or init the element data\r\n                                                   * @param data\r\n                                                   */\n  initializeData: function initializeData(data) {\n    // Call base\n    this._super(data);\n\n    var properties = this.properties;\n\n    properties.validate = bizagi.util.parseBoolean(properties.validate) != null ? bizagi.util.parseBoolean(properties.validate) : false;\n    properties.downloadalldocuments = properties.downloadalldocuments ? properties.downloadalldocuments : false;\n    properties.allowGenerate = properties.allowGenerate !== undefined ? properties.allowGenerate : true;\n    properties.append = properties.append ? properties.append : false;\n\n    if (properties.caption) {\n      properties.caption = $.trim(properties.caption);\n\n      if (properties.caption.length === 0) {\n        properties.caption = this.getResource(\"render-documentgenerator-button-label\");\n      }\n    } else {\n      properties.caption = this.getResource(\"render-documentgenerator-button-label\");\n    }\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @returns {*}\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n\n    self.preRenderControl();\n\n    var properties = self.properties;\n    var mode = self.getMode();\n    var downloadAllDocuments = properties.downloadalldocuments;\n    var allowGenerate = properties.allowGenerate;\n    var template = self.renderFactory.getTemplate(self.getTemplate());\n    var documents = properties.value || [];\n    var noFiles = documents ? documents.length === 0 : true;\n\n    // Render template\n    var html = self.getControlHtml(template, mode, downloadAllDocuments, allowGenerate, properties, noFiles);\n\n    // Render current children\n    var items = this.renderDocumentsHtml(documents);\n    items += this.renderActionsHtml(documents, noFiles, downloadAllDocuments);\n\n    html = self.replaceFilesHtml(html, items);\n    return html;\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @param template\r\n      * @param mode\r\n      * @param downloadAllDocuments\r\n      * @param allowGenerate\r\n      * @param properties\r\n      * @param noFiles\r\n      * @returns {*|jQuery}\r\n      */\n  getControlHtml: function getControlHtml(template, mode, downloadAllDocuments, allowGenerate, properties, noFiles) {\n    var self = this;\n\n    return $.fasttmpl(template, {\n      noActivateButton: false,\n      editable: mode !== \"execution\",\n      mode: mode,\n      downloadalldocuments: downloadAllDocuments,\n      required: properties.required,\n      allowgenerate: allowGenerate,\n      xpath: self.getXpath(properties.xpath),\n      append: properties.append,\n      caption: properties.caption,\n      noFiles: noFiles,\n      allowSendInMail: properties.allowSendInMail });\n\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @param xpath\r\n      * @returns {*}\r\n      */\n  getXpath: function getXpath(xpath) {\n    return xpath;\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      */\n  preRenderControl: function preRenderControl() {\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @returns {boolean}\r\n      */\n  activateButton: function activateButton() {\n    return true;\n  },\n\n  /**\r\n      * Returns the xpath to be used\r\n      * @param xpath\r\n      * @returns {*}\r\n      */\n  getDocumentXpath: function getDocumentXpath(xpath) {\n    return xpath;\n  },\n\n  /**\r\n      * Returns the xpath to be used\r\n      * @returns {*}\r\n      */\n  getContextXpath: function getContextXpath() {\n    return this.properties.xpathContext;\n  },\n\n  /**\r\n      * Renders a single document item\r\n      * @param file\r\n      * @returns {*|jQuery}\r\n      */\n  renderDocumentItem: function renderDocumentItem(file) {\n    var self = this;\n    var mode = self.getMode();\n    var template = self.renderFactory.getTemplate(self.getTemplateItem());\n    var url = self.buildItemUrl(file);\n\n    // Don't render urls when not running in execution mode\n    if (mode !== \"execution\") url = \"javascript:void(0);\";\n\n    var html = $.fasttmpl(template, {\n      url: url,\n      allowDelete: self.properties.allowDelete,\n      filename: file.fileName,\n      id: file.id,\n      mode: mode,\n      editable: self.properties.editable,\n      joined: false });\n\n\n    return html;\n  },\n\n  /**\r\n      * Builds the upload item url\r\n      * @param file\r\n      * @returns {*}\r\n      */\n  buildItemUrl: function buildItemUrl(file) {\n    var self = this;\n    var properties = self.properties;\n\n    return self.dataService.getUploadFileUrl({\n      idRender: properties.id,\n      xpath: self.getDocumentXpath(properties.xpath),\n      xpathContext: self.getContextXpath(),\n      idPageCache: properties.idPageCache,\n      fileId: file.id,\n      sessionId: self.getSessionId() });\n\n  },\n\n  /**\r\n      * Builds the download all items item url\r\n      * @returns {*}\r\n      */\n  buildAllDocumentsUrl: function buildAllDocumentsUrl() {\n    var self = this;\n    var properties = self.properties;\n\n    return self.dataService.getAllDocumentsDownloadUrl({\n      xpath: self.getDocumentXpath(properties.xpath),\n      xpathContext: self.getContextXpath(),\n      idPageCache: properties.idPageCache,\n      idCase: properties.caseId,\n      idWorkItem: properties.workitemId,\n      sessionId: self.getSessionId() });\n\n  },\n\n  /**\r\n      * Template method to implement in each device to customize each render after processed (Virtual method)\r\n      * @returns {string}\r\n      */\n  postRender: function postRender() {\n    // Call base\n    this._super();\n\n    return \"<div></div>\";\n  },\n\n  /**\r\n      * Template method to implement in each device to customize each render after processed in read-only mode\r\n      */\n  postRenderReadOnly: function postRenderReadOnly() {\n    var self = this;\n    var mode = self.getMode();\n\n    if (mode !== \"design\") {\n      var control = self.getControl();\n      var htmlControl = self.renderControl();\n\n      control.append(htmlControl);\n\n      self.updateControlForPrintMode(control);\n\n      // Execute the same as post-render\n      self.postRender();\n    }\n  },\n\n  /**\r\n      * Saves the form before the document generation\r\n      * @returns {*}\r\n      */\n  validateContainer: function validateContainer() {\n    // Check if the form is valid, then generate\n    var form = this.getFormContainer();\n    return form.validateForm();\n  },\n\n  /**\r\n      * Saves the form before the document generation\r\n      * @returns {*}\r\n      */\n  save: function save() {\n    var form = this.getFormContainer();\n\n    return form.saveForm();\n  },\n\n  /**\r\n      * Replaces a {{files}} tag in the container for the specified \"replace\" element\r\n      * @param html\r\n      * @param replace\r\n      * @returns {*}\r\n      */\n  replaceFilesHtml: function replaceFilesHtml(html, replace) {\n    return html.replace(\"{{files}}\", replace);\n  },\n\n  /**\r\n      * Replaces a {{actions}} tag in the container for the specified \"replace\" element\r\n      * @param html\r\n      * @param replace\r\n      * @returns {*}\r\n      */\n  replaceActionsHtml: function replaceActionsHtml(html, replace) {\n    return html.replace(\"{{actions}}\", replace);\n  },\n\n  /**\r\n      * Method to determine if the render value can be sent to the server or not\r\n      * @returns {boolean}\r\n      */\n  canBeSent: function canBeSent() {\n    // This render cannot be sent because it is full ajax\n    return false;\n  },\n\n  /**\r\n      * Method to determine if the render value can be sent to the server or not\r\n      * @param invalidElements\r\n      * @returns {boolean}\r\n      */\n  isValid: function isValid(invalidElements) {\n    var self = this;\n    var properties = self.properties;\n    var message;\n\n    // Don't check non-editable renders\n    if (bizagi.util.parseBoolean(properties.visible) === false) return true;\n\n    // Don't check non-editable renders\n    if (bizagi.util.parseBoolean(properties.editable) === false) return true;\n\n    // Clear error message\n    self.setValidationMessage(\"\");\n\n    // Check required\n    if (properties.required && !properties.buttonExecuted) {\n      if (self.value) {\n        if (self.value.length > 0) return true;\n        message = self.getResource(\"render-document-required-text\");\n        invalidElements.push({ xpath: properties.xpath, message: message });\n        return false;\n      }\n    }\n\n    return true;\n  },\n\n  /**\r\n      * Template method to implement in each device to customize the render's behaviour to add handlers\r\n      */\n  configureHandlers: function configureHandlers() {\n    var self = this;\n\n    // Call base\n    self._super();\n\n    // Attach handler\n    var $generateLink = $(\".ui-bizagi-button-documentgenerator\", self.getControl());\n\n    if (self.isExecutionMode()) {\n      $generateLink.click(function (e) {\n        if (e.isPropagationStopped()) return;\n        e.stopPropagation();\n\n        self.properties.buttonExecuted = true;\n\n        if (self.properties.validate) {\n          // Check if the form is valid, then generate\n          var isValid = self.validateContainer();\n          if (isValid) {\n            self.documentTemplateGenerate();\n          }\n        } else {\n          // Just generate the form\n          self.documentTemplateGenerate();\n        }\n\n        self.properties.buttonExecuted = false;\n      });\n\n      // Configure basic handlers\n      self.attachEvents();\n    }\n  },\n\n  /**\r\n      * Method to customize the render's behaviour to add handlers when the control is readonly\r\n      */\n  configureHandlersReadOnly: function configureHandlersReadOnly() {\n    if (this.isExecutionMode()) {\n      this.attachEvents();\n    }\n  },\n\n  /**\r\n      *  Configure event handlers\r\n      */\n  attachEvents: function attachEvents() {\n    var self = this;\n    var $control = self.getControl();\n\n    // Configure download handler for document item\n    $(\".ui-bizagi-document-upload-item a > span\", $control).click(function (e) {\n      if (e.isPropagationStopped()) return;\n      e.stopPropagation();\n\n      var $item = $(this).closest(\".ui-bizagi-document-upload-item\");\n      var file = $item.data();\n\n      if (!file.joined) {\n        self.downloadFile(file);\n      } else {\n        self.downloadAllFiles({ filename: \"TemplatesConcatFilesToPDF.pdf\" });\n      }\n    });\n\n    // Configure preview handler\n    $(\".ui-bizagi-container-documents-item-delete\", $control).click(function (e) {\n      if (e.isPropagationStopped()) return;\n      e.stopPropagation();\n\n      self.deleteDocumentTemplate($(this).data(\"filename\"));\n    });\n  },\n\n  /**\r\n      * Creates the event of generation of templates.\r\n      * @param filename\r\n      */\n  deleteDocumentTemplate: function deleteDocumentTemplate(filename) {\n    var self = this;\n    var params = {\n      xpath: self.properties.xpath + \"[fileName='\" + filename + \"']\",\n      idRender: self.properties.id,\n      xpathContext: self.getContextXpath(),\n      idPageCache: self.properties.idPageCache };\n\n\n    self.startLoading();\n\n    $.when(self.dataService.deleteUploadFile(params)).\n    done(function () {\n      $.when(self.dataService.multiaction().getPropertyData({\n        xpath: self.properties.xpath,\n        idRender: self.properties.id,\n        xpathContext: self.getContextXpath(),\n        idPageCache: self.properties.idPageCache,\n        property: \"value\" })).\n      done(function (documents) {\n        self.resolveDeleteDocumentTemplate(documents, false, self.properties.downloadalldocuments);\n\n        // Finish loading\n        self.endLoading();\n      });\n    });\n  },\n\n  /**\r\n      * Creates the event of generation of templates.\r\n      */\n  documentTemplateGenerate: function documentTemplateGenerate() {\n    var self = this;\n    var properties = self.properties;\n\n    self.startLoading();\n\n    //Get the context xPath\n    properties.xpathcontext = self.getContextXpath();\n    properties.xpath = self.getDocumentXpath(properties.xpath);\n\n    self.save().done(function () {\n\n      bizagi.showErrorAlertDialog = false;\n\n      $.when(self.dataService.generateDocumentTemplate(properties)).\n      done(function () {\n\n        // Fetch again the value property\n        $.when(self.dataService.multiaction().getPropertyData({\n          xpath: properties.xpath,\n          idRender: properties.id,\n          xpathContext: self.getContextXpath(),\n          idPageCache: properties.idPageCache,\n          property: \"value\" })).\n        done(function (documents) {\n          self.resolveDocumentTemplateGenerate(documents, false, properties.downloadalldocuments);\n\n          // Finish loading\n          self.endLoading();\n        });\n\n      }).fail(function (error) {\n        self.endLoading();\n\n        // Add error messages\n        self.showErrorMessage(error);\n      });\n    }).fail(function (message) {\n      self.endLoading();\n\n      // Add error messages\n      self.showErrorMessage(message);\n    });\n  },\n\n  /**\r\n      * Show the error message when something went wrong with the service.\r\n      * @param error\r\n      */\n  showErrorMessage: function showErrorMessage(error) {\n    var self = this;\n    var form = self.getFormContainer();\n    var messageText = self.resources.getResource('render-upload-alert-maxsize').replace(\"{0}\", BIZAGI_SETTINGS.UploadMaxFileSize);\n\n    try {\n      messageText = error && typeof error.responseText !== \"undefined\" ? JSON.parse(error.responseText).message : error;\n    } catch (e) {\n    }\n\n    form.addErrorMessage(messageText);\n    form.endLoading();\n  },\n\n  /**\r\n      * Shows the document if the flag is set. (virtual Function)\r\n      */\n  autoOpenDocuments: function autoOpenDocuments() {\n  },\n\n  /**\r\n      * Template method to implement in each device to customize each render after processed (Virtual method)\r\n      * @param url\r\n      * @param filename\r\n      */\n  showDocumentPreview: function showDocumentPreview(url, filename) {\n  },\n\n  /**\r\n      * Identifies the extension of the file in a simpler way that ECM does\r\n      * @param file\r\n      * @returns {string}\r\n      */\n  returnCssTypeFile: function returnCssTypeFile(file) {\n\n    if (file == undefined || file.lenght === 0) {\n      return \"ui-bizagi-document-upload-item-generic-file\";\n    }\n\n    var extension = file.substr(file.lastIndexOf('.') + 1);\n\n    switch (extension) {\n      case 'docx':\n        return \"ui-bizagi-document-upload-item-doc\";\n      case 'pdf':\n        return \"ui-bizagi-document-upload-item-pdf\";\n      case 'xlsx':\n        return \"ui-bizagi-document-upload-item-xls\";\n      default:\n        return \"ui-bizagi-document-upload-item-generic-file\";}\n\n  },\n\n  /**\r\n      * Redraw documents when needed\r\n      * @param documents\r\n      * @param noFiles\r\n      * @param downloadAllDocuments\r\n      */\n  redrawDocuments: function redrawDocuments(documents, noFiles, downloadAllDocuments) {\n    var self = this;\n    var control = self.getControl();\n    var html = \"\";\n    var documentContainer = $(\"[data-component='files']\", control);\n\n    // Clear current links\n    documentContainer.empty();\n\n    // Draw links again\n    html += this.renderDocumentsHtml(documents);\n\n    // Check if there are documents and the flag to download all are available to show the link.\n    html += this.renderActionsHtml(documents, noFiles, downloadAllDocuments);\n\n    documentContainer.append(html);\n\n    //Set value\n    self.setValue(documents);\n  },\n\n  /**\r\n      * This method must be implemented by the specific class of each device. (Virtual method)\r\n      * @param file\r\n      * @returns {*|*|*}\r\n      */\n  renderAllDocumentDownload: function renderAllDocumentDownload(file) {\n    var self = this;\n    var properties = self.properties;\n    var mode = self.getMode();\n\n    var template = self.renderFactory.getTemplate(self.getTemplateItem());\n    var url = self.buildAllDocumentsUrl();\n\n    // Don't render urls when not running in execution mode\n    if (mode !== \"execution\") url = \"javascript:void(0);\";\n\n    var html = $.fasttmpl(template, {\n      url: url,\n      allowDelete: properties.allowDelete,\n      filename: file.fileName,\n      mode: mode,\n      joined: true });\n\n\n    return self.removeDeleteButton(html);\n  },\n\n  /**\r\n      * removeDeleteButton\r\n      * @param html\r\n      * @returns {*}\r\n      */\n  removeDeleteButton: function removeDeleteButton(html) {\n    var startIndex = html.indexOf(\"<span class=\\\"ui-bizagi-container-documents-item-delete\");\n\n    if (startIndex > 0) {\n      var restOfWord = html.substring(startIndex);\n      var finishIndex = restOfWord.indexOf(\"</span>\") + 7;\n\n      return html.substring(0, startIndex) + restOfWord.substring(finishIndex);\n    } else {\n      return html;\n    }\n  },\n\n  /**\r\n      * Process request of DeleteDocumentTemplate action\r\n      * @param documents\r\n      * @param noFiles\r\n      * @param downloadAllDocuments\r\n      */\n  resolveDocumentTemplateGenerate: function resolveDocumentTemplateGenerate(documents, noFiles, downloadAllDocuments) {\n    // Redraw documents\n    this.redrawDocuments(documents, noFiles, downloadAllDocuments);\n    this.value = documents;\n\n    // This does not apply for mobile.\n    this.autoOpenDocuments();\n    this.configureHandlers();\n  },\n\n  /**\r\n      * Process request of DocumentTemplateGenerate action\r\n      * @param documents\r\n      * @param noFiles\r\n      * @param downloadAllDocuments\r\n      */\n  resolveDeleteDocumentTemplate: function resolveDeleteDocumentTemplate(documents, noFiles, downloadAllDocuments) {\n    // Redraw documents\n    this.redrawDocuments(documents, noFiles, downloadAllDocuments);\n    this.value = documents;\n\n    // This does not apply for mobile.\n    this.configureHandlers();\n  },\n\n  /**\r\n      * Method to renders the documents\r\n      * @param documents\r\n      * @returns {string}\r\n      */\n  renderDocumentsHtml: function renderDocumentsHtml(documents) {\n    var items = \"\";\n\n    for (var i = 0; i < documents.length; i++) {\n      var document = { id: documents[i][0], fileName: documents[i][1] };\n      var item = this.renderDocumentItem(document);\n\n      items += item;\n    }\n\n    return items;\n  },\n\n  /**\r\n      * Methos to renders action of document\r\n      * @param documents\r\n      * @param noFiles\r\n      * @param downloadAllDocuments\r\n      * @returns {string}\r\n      */\n  renderActionsHtml: function renderActionsHtml(documents, noFiles, downloadAllDocuments) {\n    var actions = \"\";\n\n    if (downloadAllDocuments && !noFiles && documents.length > 0) {\n      var downloadAllDocumentsLink = { fileName: this.getResource(\"render-document-downloadalldocuments\") };\n      var action = this.renderAllDocumentDownload(downloadAllDocumentsLink);\n\n      actions += action;\n    }\n\n    return actions;\n  },\n\n  getTemplate: function getTemplate() {\n    return \"document\";\n  },\n\n  getTemplateItem: function getTemplateItem() {\n    return \"document-item\";\n  },\n\n  getErrorTemplate: function getErrorTemplate() {\n    return \"form-error\";\n  },\n\n  getTemplateDownload: function getTemplateDownload() {\n    return \"document-download\";\n  },\n\n  getTemplateReadonly: function getTemplateReadonly() {\n    return \"document-readonly\";\n  },\n\n  /**\r\n      * Get blob file\r\n      * @param file\r\n      * @returns {*}\r\n      */\n  getDocumentFile: function getDocumentFile(file) {\n    var self = this;\n    var properties = self.properties;\n\n    return self.dataService.getFile({\n      idRender: properties.id,\n      xpath: self.getDocumentXpath(properties.xpath),\n      xpathContext: self.getContextXpath(),\n      idPageCache: properties.idPageCache,\n      fileId: file.id,\n      contexttype: properties.contexttype }).\n    then(function (response) {\n      return bizagi.util.handleJSONResponse(response);\n    });\n  },\n\n  /**\r\n      * Get the download all items item\r\n      * @returns {*}\r\n      */\n  getAllDocumentFiles: function getAllDocumentFiles() {\n    return this.dataService.getAllDocuments({\n      xpath: this.getDocumentXpath(this.properties.xpath),\n      xpathContext: this.getContextXpath(),\n      idPageCache: this.properties.idPageCache,\n      idCase: this.properties.caseId,\n      idWorkItem: this.properties.workitemId }).\n    then(function (response) {\n      return bizagi.util.handleJSONResponse(response);\n    });\n  },\n\n  /**\r\n      * Download file\r\n      * @param file\r\n      */\n  downloadFile: function downloadFile(file) {\n    var self = this;\n\n    this.getDocumentFile(file).then(function (blobFile) {\n      bizagi.util.downloadBlobFile(blobFile, file.filename);\n    }).fail(function (error) {\n      var form = self.getFormContainer();\n      form && form.failHandler(error);\n    });\n  },\n\n  /**\r\n      * Download file\r\n      * @param file\r\n      */\n  downloadAllFiles: function downloadAllFiles(file) {\n    var self = this;\n\n    this.getAllDocumentFiles().then(function (blobFile) {\n      bizagi.util.downloadBlobFile(blobFile, file.filename);\n    }).fail(function (error) {\n      var form = self.getFormContainer();\n      form && form.failHandler(error);\n    });\n  } });","/**\r\n *   Name: Bizagi Render Column ReadOnly Decorator Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for readonly-columns\r\n */\n\n// Extends itself\n$.Class.extend(\"bizagi.rendering.columns.readonly\", {}, {\n\n  /*\r\n                                                          *   Constructor\r\n                                                          */\n  init: function init(params) {\n    // Call base\n    this._super(params);\n\n    // Set base column styles\n    var properties = this.properties;\n\n    // Define the column as readonly\n    properties.editable = required = false;\n  },\n\n  /**\r\n      * Return true if the column is read-only, so we can make a quick render\r\n      */\n  isReadonly: function isReadonly() {\n    return true;\n  },\n\n  /**\r\n      * Method to check if a value is valid or not in this render\r\n      */\n  isValueValid: function isValueValid() {\n    // It is always valid because the column is readonly\n    return true;\n  } });","/*\r\n*   Name: BizAgi Render Combo Column Decorator Class\r\n*   Author: Diego Parra\r\n*   Comments:\r\n*   -   This script will define basic stuff for Combo Columns\r\n*/\n\n$.Class.extend(\"bizagi.rendering.columns.combo\", {}, {\n\n  /*\r\n                                                       *   Constructor\r\n                                                       */\n  init: function init(params) {\n    // Call base\n    this._super(params);\n\n    // Set base column styles\n    var properties = this.properties;\n    properties.recalculate = bizagi.util.parseBoolean(properties.recalculate) || false;\n\n    if (bizagi.util.isOfflineForm({ context: this })) {\n      properties.recalculate = false;\n    }\n  },\n\n\n  /*\r\n     *   Apply custom overrides to each decorated instance\r\n     */\n  applyOverrides: function applyOverrides(decorated) {\n    var properties = this.properties;\n\n    this._super(decorated);\n\n    if (!properties.recalculate) {\n      decorated.originalGetData = decorated.getData;\n      decorated.getData = this.getDataForAllCells;\n      decorated.findDataById = this.findDataById;\n    }\n  },\n\n  findDataById: function findDataById(id) {\n    var self = this;\n    var result = {};\n    if (this.column && this.column.comboData) {\n      $.each(this.column.comboData, function (key, value) {\n        if (value.id == id) {\n          result = value;\n        }\n      });\n    }\n\n    return result;\n  },\n\n  /*\r\n     *   Single data fetch for all the cells\r\n     */\n  getDataForAllCells: function getDataForAllCells(params) {\n    var column = this.column;\n    if (column.comboData) return column.comboData;\n    if (column.fetchingData) return column.dataPromise;\n\n    // Start fetching\n    column.fetchingData = true;\n    column.dataPromise = $.when(this.originalGetData(params)).\n    pipe(function (result) {\n      column.comboData = result;\n      column.fetchingData = false;\n      return result;\n    });\n\n    return column.dataPromise;\n  },\n\n  /*\r\n     *   Sets the internal value\r\n     */\n  setValue: function setValue(surrogateKey, value) {\n    var self = this;\n    var decorated = self.getDecorated(surrogateKey);\n    if (decorated === null) {\n      return;\n    }\n\n    // Perform default set value when rendering summary row\n    if (surrogateKey == \"summary\") return self._super(surrogateKey, value);\n\n    if (value && bizagi.util.isString(value)) {\n      self._super(surrogateKey, value);\n    } else if (value && value.length > 0) {\n      // Create the value property\n      var newValue = {\n        id: value[0][0],\n        value: value[0].length > 2 ? $.grep(value[0], function (item, i) {return i != 0;}) : value[0][1] };\n\n      // Call base\n      self._super(surrogateKey, newValue);\n      decorated.selectedValue = newValue.value;\n    } else if (value && value.id && value.value) {\n      self._super(surrogateKey, value);\n      decorated.selectedValue = value.value;\n    } else if (self.properties.type == \"columnRadio\") {\n      self._super(surrogateKey, null);\n      decorated.selectedValue = value;\n    } else if (value && typeof value == \"number\") {\n      self._super(surrogateKey, value);\n    } else {\n      // Set null values when the entry array is null\n      self._super(surrogateKey, null);\n      decorated.selectedValue = \"\";\n    }\n  },\n\n  /*\r\n     * Set the cell default value and make this action as a change to send it to server\r\n     */\n  setDefaultValue: function setDefaultValue(surrogateKey, decorated) {\n    var self = this;\n    var value = self.properties.defaultValue[0];\n\n    decorated.grid.changes[surrogateKey] = decorated.grid.changes[surrogateKey] || {};\n    decorated.grid.changes[surrogateKey][self.properties.xpath] = value.id;\n\n    return value;\n  },\n\n  /*\r\n     *   Gets the internal value\r\n     */\n  getCompositeValue: function getCompositeValue(surrogateKey) {\n    var self = this;\n    var decorated = self.getDecorated(surrogateKey);\n    var value = decorated.getValue();\n    var label = decorated.getSelectedValue();\n\n    // Build value for grid data\n    var valueForGrid = [];\n    if (value && (value.id > 0 || bizagi.util.isString(value.id))) {\n      valueForGrid.push([]);\n      valueForGrid[0].push(value.id);\n      valueForGrid[0].push(label);\n    } else {\n      valueForGrid.push([]);\n    }\n\n    return valueForGrid;\n  },\n\n  /*\r\n     *   Gets the internal value\r\n     */\n  getValue: function getValue(surrogateKey) {\n    var self = this;\n    var decorated = self.getDecorated(surrogateKey);\n    var value = decorated.getValue();\n    if (value) return value.id;\n    return value;\n  },\n\n  /*\r\n     *   Returns the in-memory processed element \r\n     *   so the caller could append it to any place\r\n     */\n  render: function render(surrogateKey, value, tableCell) {\n    var self = this;\n    var decorated = self.getDecorated(surrogateKey);\n    var properties = self.properties;\n\n    // If the control needs to recalculate data, reset it on the decorated render\n    if (properties.recalculate) {\n      decorated.resetData();\n    }\n\n    // Change the xpath context\n    var xpathContext = properties.xpathContext.length > 0 ? properties.xpathContext + \".\" + self.grid.properties.xpath + \"[id=\" + surrogateKey + \"]\" : self.grid.properties.xpath + \"[id=\" + surrogateKey + \"]\";\n    decorated.properties.xpathContext = xpathContext;\n\n    // Render the control\n    var result = this._super(surrogateKey, value, tableCell);\n\n    return result;\n  },\n\n  renderReadOnly: function renderReadOnly(key, value) {\n    var self = this;\n    var decorated = self.getDecorated(key);\n    var properties = self.properties;\n\n    // Change the xpath context\n    var xpathContext = properties.xpathContext.length > 0 ? properties.xpathContext + \".\" + self.grid.properties.xpath + \"[id=\" + key + \"]\" : self.grid.properties.xpath + \"[id=\" + key + \"]\";\n    decorated.properties.xpathContext = xpathContext;\n\n    // Render the control\n    var result = this._super(key, value);\n\n    return result;\n  } });","/**\r\n*   Name: Bizagi Render Date Column Decorator Class\r\n*   Author: UI Forms Team\r\n*   Comments:\r\n*   -   This script will define basic stuff for Date Columns\r\n*/\n\n\n$.Class.extend(\"bizagi.rendering.columns.date\", {}, {\n\n  /*\r\n                                                      *   Sets the internal value\r\n                                                      */\n  setValue: function setValue(surrogateKey, value) {\n    var self = this;\n    var decorated = self.getDecorated(surrogateKey);\n    if (decorated === null) return;\n\n    self._super(surrogateKey, value);\n    if ((value === null || value === undefined) && self.properties.defaultvalue !== undefined) {\n      value = self.setDefaultValue(surrogateKey, decorated);\n    }\n\n    // Perform default set value when rendering summary row\n    if (surrogateKey === \"summary\") return self._super(surrogateKey, value);\n\n    if (value == null) {\n      decorated.setValue(value, false);\n      decorated.properties.displayValue = \"\";\n    }\n\n    var date = bizagi.util.dateFormatter.getDateFromInvariant(value, decorated.properties.showTime);\n\n    if (date === 0) {\n      // force another attempt in order to check invariant format for the value with time or without time (reverse option)\n      date = bizagi.util.dateFormatter.getDateFromInvariant(value, !decorated.properties.showTime);\n    }\n    // Format date to current format\n    if (date !== 0) {\n      var datePickerRegional = bizagi.localization.getResource(\"datePickerRegional\");\n      var formattedDate = bizagi.util.dateFormatter.formatDate(date, decorated.properties.fullFormat, datePickerRegional);\n\n      // Set formatted value in display value property\n      decorated.properties.displayValue = formattedDate;\n\n      // Send original value to decorated control, because it must be with invariant format\n      decorated.setValue(value, false);\n    }\n  },\n\n  /*\r\n     * Set the cell default value and make this action as a change to send it to server\r\n     */\n  setDefaultValue: function setDefaultValue(surrogateKey, decorated) {\n    var self = this;\n    var value = self.properties.defaultvalue;\n\n    decorated.grid.changes[surrogateKey] = decorated.grid.changes[surrogateKey] || {};\n\n    value = bizagi.util.dateFormatter.getDateFromInvariant(value, decorated.properties.showTime || false);\n\n    value = bizagi.util.dateFormatter.formatInvariant(value, true);\n    decorated.grid.changes[surrogateKey][self.properties.xpath] = value;\n\n    return value;\n  } });","/**\r\n *   Name: BizAgi Render Combo Column Decorator Class\r\n *   Author: Diego Parra\r\n *   Comments:\r\n *   -   This script will define basic stuff for Combo Columns\r\n */\n\n$.Class.extend(\"bizagi.rendering.columns.search\", {}, {\n  /*\r\n                                                        *   Constructor\r\n                                                        */\n  init: function init(params) {\n    // Call base\n    this._super(params);\n\n    // Set base column styles\n    var properties = this.properties;\n\n    if (properties.advancedSearch && this.getMode() === \"execution\") {\n      properties.submitOnChange = bizagi.util.parseBoolean(properties.submitOnChange) || false;\n      properties.submitOnChange = (properties.submitVersion || 1) > 1 ? properties.submitOnChange : true;\n    }\n  },\n\n  /**\r\n      * Apply custom overrides to each decorated instance\r\n      * @param decorated\r\n      */\n  applyOverrides: function applyOverrides(decorated) {\n    this._super(decorated);\n\n    // Change the xpath context\n    var xpathContext;\n\n    if (this.properties.xpathContext.length > 0) {\n      xpathContext = this.properties.xpathContext + \".\" + this.grid.properties.xpath + \"[id=\" + decorated.surrogateKey + \"]\";\n    } else {\n      xpathContext = this.grid.properties.xpath + \"[id=\" + decorated.surrogateKey + \"]\";\n    }\n\n    decorated.properties.xpathContext = xpathContext;\n  },\n\n  /*\r\n     *   Returns the in-memory processed element\r\n     *   so the caller could append it to any place\r\n     */\n  render: function render(surrogateKey, value, tableCell) {\n    var self = this;\n    var decorated = self.getDecorated(surrogateKey);\n    var properties = self.properties;\n\n    // If the control needs to recalculate data, reset it on the decorated render\n    if (properties.recalculate) {\n      decorated.resetData();\n    }\n\n    // Render the control\n    var result = this._super(surrogateKey, value, tableCell);\n\n    return result;\n  },\n\n  /*\r\n     *   Gets the internal value\r\n     */\n  getValue: function getValue(surrogateKey) {\n    var self = this;\n    var decorated = self.getDecorated(surrogateKey);\n    var value = decorated.getValue();\n    return value;\n  },\n\n  setValue: function setValue(surrogateKey, value) {\n    var self = this;\n    var decorated = self.getDecorated(surrogateKey);\n    if (decorated === null) {\n      return;\n    }\n\n    // Perform default set value when rendering summary row\n    if (surrogateKey == \"summary\") return self._super(surrogateKey, value);\n\n    var compositeValue = self.getCompositeValue(surrogateKey);\n    if (!!compositeValue && typeof compositeValue.id !== \"undefined\" && compositeValue.id == value) {\n      value = compositeValue;\n    }\n\n    if (value && value.length > 0) {\n      // Create the value property\n      var newValue = {\n        id: value[0][0],\n        value: value[0].length > 2 ? $.grep(value[0], function (item, i) {\n          return i != 0;\n        }) : value[0][1] };\n\n      // Call base\n      self._super(surrogateKey, newValue);\n      decorated.selectedValue = newValue.value;\n    } else if (value && value.id && value.value) {\n      self._super(surrogateKey, value);\n      decorated.selectedValue = value.value;\n    } else if (value && value.id && value.label) {\n      self._super(surrogateKey, value);\n      decorated.selectedValue = value.label;\n    } else {\n      self._super(surrogateKey, value);\n      decorated.selectedValue = \"\";\n    }\n  } });","/**\r\n *   Name: Bizgi Render Hidden Column Decorator Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for hidden-columns\r\n */\n\n$.Class.extend(\"bizagi.rendering.columns.hidden\", {}, {\n\n  /**\r\n                                                         * Method to determine if the render value can be sent to the server or not\r\n                                                         * @returns {}\r\n                                                         */\n  canBeSent: function canBeSent() {\n    return true;\n  } });","/*\r\n *   Name: Bizagi Base Render Factory\r\n *   Author: Diego Parra\r\n *   Comments:\r\n *   -   This script will define an abstract render factory in order to do common stuff for all device factories\r\n */\n\n$.Class.extend(\"bizagi.rendering.base.factory\", {}, {\n  /* \r\n                                                      *   Constructor\r\n                                                      */\n  init: function init(dataService) {\n    this.templates = {};\n    this.dataService = dataService;\n  },\n\n  /**\r\n     * Load client resources in order to override a default behavior\r\n     */\n  loadOverrides: function loadOverrides() {\n  },\n  /*\r\n     *   This function will load asynchronous stuff needed in the module\r\n     */\n  initAsyncStuff: function initAsyncStuff() {\n    return $.when.apply($, [this.loadOverrides(), this.loadTemplates()]);\n  },\n  /*\r\n     *   Load all the templates used for rendering\r\n     */\n  loadTemplates: function loadTemplates() {\n  },\n  /*\r\n     *   Load one template and save it internally\r\n     */\n  loadTemplate: function loadTemplate(template, templateDestination) {\n    var self = this;\n\n    // Go fetch the template\n    return bizagi.templateService.getTemplate(templateDestination, template).\n    done(function (resolvedTemplate) {\n      self.templates[template] = resolvedTemplate;\n    });\n  },\n  /*\r\n     * Returns a common  used template for the framework\r\n     */\n  getCommonTemplate: function getCommonTemplate(template) {\n    return this.templates[template];\n  },\n  /*\r\n     *   Returns the appropiate container based on the container type\r\n     */\n  getContainer: function getContainer(params) {\n    // TODO: REMOVE IMPLEMENTATION\n\n    var type = params.type;\n    var data = params.data;\n    var containerParams = $.extend(params, {\n      renderFactory: this,\n      dataService: params.dataService || this.dataService });\n\n\n    if (type == \"form\") {\n      return new bizagi.rendering.form(containerParams);\n    }\n\n    if (type == \"mobileform\") {\n      return new bizagi.rendering.mobileform(containerParams);\n    }\n\n    if (type == \"template\") {\n      return new bizagi.rendering.formTemplate(containerParams);\n    }\n\n    if (type == \"queryForm\") {\n      return new bizagi.rendering.queryForm(containerParams);\n    }\n\n    if (type == \"layout\") {\n      return new bizagi.rendering.layout(containerParams);\n    }\n\n    if (type == \"usersForm\") {\n      return new bizagi.rendering.usersForm(containerParams);\n    }\n\n    if (type == \"panel\") {\n      return new bizagi.rendering.panel(containerParams);\n    }\n\n    if (type == \"section\") {\n      return new bizagi.rendering.section(containerParams);\n    }\n\n    if (type == \"contentPanel\" || type == \"contentpanel\") {\n      return new bizagi.rendering.contentPanel(containerParams);\n    }\n\n    if (type.toLowerCase() == \"nestedform\") {\n      return new bizagi.rendering.nestedForm(containerParams);\n    }\n\n    if (type == \"tab\") {\n      return new bizagi.rendering.tab(containerParams);\n    }\n\n    if (type == \"tabItem\" || type == \"tabitem\") {\n      return new bizagi.rendering.tabItem(containerParams);\n    }\n\n    if (type == \"horizontal\") {\n      return new bizagi.rendering.horizontal(containerParams);\n    }\n\n    if (type == \"accordion\") {\n      return new bizagi.rendering.accordion(containerParams);\n    }\n\n    if (type == \"accordionItem\") {\n      return new bizagi.rendering.accordionItem(containerParams);\n    }\n\n    if (type == \"group\") {\n      return new bizagi.rendering.group(containerParams);\n    }\n\n    if (type == \"mobilegroup\") {\n      return new bizagi.rendering.mobilegroup(containerParams);\n    }\n\n    if (type == \"searchForm\") {\n      containerParams.context = \"search\";\n      containerParams.contexttype = \"metadata\";\n      return new bizagi.rendering.searchForm(containerParams);\n    }\n\n    // No type supported\n    bizagi.log(type + \" not supported in render factory\", data, \"error\");\n    return null;\n  },\n  /*\r\n     *   Returns the appropiate render based on the render type\r\n     */\n  getRender: function getRender(params) {\n\n    // TODO: REMOVE IMPLEMENTATION\n    var type = params.type;\n    var data = params.data;\n    var renderParams = $.extend(params, {\n      renderFactory: this,\n      dataService: params.dataService || this.dataService });\n\n\n    if (!type)\n    type = \"label\";\n\n    if (type == \"text\") {\n      var isExtended = bizagi.util.parseBoolean(data.properties.isExtended) || false;\n\n      if (isExtended) {\n        // Creates one extended render\n        return new bizagi.rendering.extendedText(renderParams);\n      }\n\n      // Creates one normal text render\n      return new bizagi.rendering.text(renderParams);\n    }\n    if (type == \"mobiletext\") {\n      return new bizagi.rendering.mobiletext(renderParams);\n    }\n\n    if (type == \"association\") {\n      return new bizagi.rendering.association(renderParams);\n    }\n\n    if (type == \"label\") {\n      return new bizagi.rendering.label(renderParams);\n    }\n\n    if (type == \"hidden\") {\n      return new bizagi.rendering.hidden(renderParams);\n    }\n\n    if (type == \"number\") {\n      return new bizagi.rendering.number(renderParams);\n    }\n\n    if (type == \"money\") {\n      return new bizagi.rendering.money(renderParams);\n    }\n\n    if (type == \"date\") {\n      return new bizagi.rendering.date(renderParams);\n    }\n\n    if (type == \"boolean\") {\n      var display = data.properties.display || \"option\";\n\n      if (display == \"check\") {\n        // Creates one check render\n        return new bizagi.rendering.check(renderParams);\n      }\n\n      // Creates one yes-no render\n      return new bizagi.rendering.yesno(renderParams);\n    }\n\n    if (type == \"combo\") {\n      return new bizagi.rendering.combo(renderParams);\n    }\n\n    if (/^cascadingcombo$/i.test(type)) {\n      return new bizagi.rendering.cascadingCombo(renderParams);\n    }\n\n    if (type == \"list\") {\n      return new bizagi.rendering.list(renderParams);\n    }\n\n    if (type == \"multiSelect\") {\n      return new bizagi.rendering.multiSelect(renderParams);\n    }\n\n    if (type == \"radio\") {\n      return new bizagi.rendering.radio(renderParams);\n    }\n\n    if (type == \"image\") {\n      // Override for test purposes\n      return new bizagi.rendering.image(renderParams);\n    }\n    if (type == \"uploadecm\") {\n      // Check if its ECM file            \n      return new bizagi.rendering.ecm(renderParams);\n    }\n\n    if (type == \"upload\") {\n      return new bizagi.rendering.upload(renderParams);\n    }\n    if (type == \"grid\") {\n      return new bizagi.rendering.grid(renderParams);\n    }\n\n    if (type == \"groupedgrid\") {\n      return new bizagi.rendering.grid(renderParams);\n    }\n\n    if (type == \"search\") {\n      return new bizagi.rendering.search(renderParams);\n    }\n\n    if (type == \"suggest\") {\n      renderParams.data.properties.enableQuerySuggestBehavior = true;\n      return new bizagi.rendering.search(renderParams);\n    }\n\n    if (type == \"searchList\") {\n      return new bizagi.rendering.searchList(renderParams);\n    }\n\n    if (type == \"letter\") {\n      return new bizagi.rendering.letter(renderParams);\n    }\n\n    if (type == \"button\") {\n      return new bizagi.rendering.button(renderParams);\n    }\n\n    if (type == \"formLink\") {\n      return new bizagi.rendering.formLink(renderParams);\n    }\n\n    if (type == \"link\") {\n      return new bizagi.rendering.link(renderParams);\n    }\n\n    if (type == \"layoutImage\") {\n      return new bizagi.rendering.layoutImage(renderParams);\n    }\n\n    if (type == \"layoutLink\") {\n      return new bizagi.rendering.layoutLink(renderParams);\n    }\n\n    if (type == \"layoutLabel\") {\n      return new bizagi.rendering.layoutLabel(renderParams);\n    }\n\n    if (type == \"layoutText\") {\n      return new bizagi.rendering.layoutText(renderParams);\n    }\n\n    if (type == \"layoutDateTime\") {\n      return new bizagi.rendering.layoutDateTime(renderParams);\n    }\n\n    if (type == \"layoutNumber\") {\n      return new bizagi.rendering.layoutNumber(renderParams);\n    }\n\n    if (type == \"layoutMoney\") {\n      return new bizagi.rendering.layoutMoney(renderParams);\n    }\n\n    if (type == \"layoutPlaceholder\") {\n      return new bizagi.rendering.layoutPlaceholder(renderParams);\n    }\n\n    if (type == \"actionLauncher\") {\n      return new bizagi.rendering.actionLauncher(renderParams);\n    }\n\n    if (type == \"layoutBoolean\") {\n      return new bizagi.rendering.layoutBoolean(renderParams);\n    }\n\n    if (type == \"layoutUpload\") {\n      return new bizagi.rendering.layoutUpload(renderParams);\n    }\n\n    if (type == \"entityTemplate\") {\n      return new bizagi.rendering.entityTemplate(renderParams);\n    }\n\n    if (type == \"polymorphicLauncher\") {\n      return new bizagi.rendering.polymorphicLauncher(renderParams);\n    }\n\n    if (type == \"userfield\") {\n      return new bizagi.rendering.userfieldWrapper(renderParams);\n    }\n\n    // Check search renders (starts with \"search\")\n    if (type.indexOf(\"search\") == 0) {\n      return this.getSearchRender(params);\n    }\n\n    if (type.indexOf(\"query\") == 0) {\n      return this.getQueryRender(params);\n    }\n\n    if (type == \"document\") {\n      return new bizagi.rendering.document(renderParams);\n    }\n\n    if (type == \"image\") {\n      return new bizagi.rendering.image(renderParams);\n    }\n    if (type == \"fileprint\") {\n      return new bizagi.rendering.fileprint(renderParams);\n    }\n    if (type == \"geolocation\") {\n      return new bizagi.rendering.geolocation(renderParams);\n    }\n\n    if (type == \"collectionnavigator\") {\n      return new bizagi.rendering.collectionnavigator(renderParams);\n    }\n\n    if (type == \"getUser\") {\n      return new bizagi.rendering.getUser(renderParams);\n    }\n\n    if (type == \"rangeDate\") {\n      return new bizagi.rendering.rangeDate(renderParams);\n    }\n\n    if (type == \"rangeMoney\") {\n      return new bizagi.rendering.rangeMoney(renderParams);\n    }\n\n    if (type == \"rangeNumber\") {\n      return new bizagi.rendering.rangeNumber(renderParams);\n    }\n\n    if (type == \"activityCheckList\") {\n      return new bizagi.rendering.activityCheckList(renderParams);\n    }\n\n    // No type supported\n    bizagi.log(type + \" not supported in render factory\", data, \"error\");\n    return null;\n  },\n  /*\r\n     *   Returns the appropiate column based on the render type\r\n     */\n  getColumn: function getColumn(params) {\n    var type = params.type;\n    var data = params.data;\n    var columnParams = $.extend(params, {\n      renderFactory: this,\n      dataService: params.dataService || this.dataService,\n      singleInstance: bizagi.util.isEmpty(params.singleInstance) ? true : params.singleInstance });\n\n\n    if (type == \"columnText\") {\n      var isExtended = bizagi.util.parseBoolean(data.properties.isExtended) || false;\n\n      if (isExtended) {\n        // Creates one extended render\n        columnParams.decorated = bizagi.rendering.extendedText;\n      } else {\n        // Creates one normal text render\n        columnParams.decorated = bizagi.rendering.text;\n      }\n      return new bizagi.rendering.columns.text(columnParams);\n    }\n\n    if (type == \"columnSearchList\") {\n      columnParams.decorated = bizagi.rendering.searchList;\n      return new bizagi.rendering.columns.searchList(columnParams);\n    }\n\n    if (type == \"columnNumber\") {\n      columnParams.decorated = bizagi.rendering.number;\n      return new bizagi.rendering.columns.number(columnParams);\n    }\n\n    if (type == \"columnMoney\") {\n      columnParams.decorated = bizagi.rendering.money;\n      return new bizagi.rendering.columns.number(columnParams);\n    }\n\n    if (type == \"columnDate\") {\n      columnParams.decorated = bizagi.rendering.date;\n      return new bizagi.rendering.columns.date(columnParams);\n    }\n\n    if (type == \"columnBoolean\") {\n      var display = data.properties.display || \"option\";\n\n      if (display == \"check\") {\n        // Creates one check render\n        columnParams.decorated = bizagi.rendering.check;\n        if (params.data.properties.isExclusive) {\n          return new bizagi.rendering.columns.exclusiveCheck(columnParams);\n        }\n      } else {\n        // Creates one yes-no render\n        columnParams.decorated = bizagi.rendering.yesno;\n      }\n      return new bizagi.rendering.columns.column(columnParams);\n    }\n\n    if (type == \"columnCombo\") {\n      columnParams.decorated = bizagi.rendering.combo;\n      return new bizagi.rendering.columns.combo(columnParams);\n    }\n\n    if (type == \"columnRadio\") {\n      columnParams.decorated = bizagi.rendering.radio;\n      return new bizagi.rendering.columns.radio(columnParams);\n    }\n\n    if (type == \"columnList\") {\n      columnParams.decorated = bizagi.rendering.list;\n      return new bizagi.rendering.columns.list(columnParams);\n    }\n\n    if (type == \"columnHidden\") {\n      columnParams.decorated = bizagi.rendering.hidden;\n      return new bizagi.rendering.columns.column(columnParams);\n    }\n\n    if (type == \"columnUpload\") {\n      columnParams.decorated = bizagi.rendering.upload;\n      return new bizagi.rendering.columns.upload(columnParams);\n    }\n\n    if (type == \"columnImage\") {\n      columnParams.decorated = bizagi.rendering.image;\n      return new bizagi.rendering.columns.image(columnParams);\n    }\n\n    if (type == \"columnUploadEcm\") {\n      columnParams.decorated = bizagi.rendering.ecm;\n      return new bizagi.rendering.columns.uploadecm(columnParams);\n    }\n    if (type == \"columnLink\") {\n      columnParams.decorated = bizagi.rendering.link;\n      return new bizagi.rendering.columns.link(columnParams);\n    }\n\n    if (type == \"columnFormLink\") {\n      columnParams.decorated = bizagi.rendering.formLink;\n      return new bizagi.rendering.columns.link(columnParams);\n    }\n\n    if (type == \"columnUserfield\") {\n      columnParams.decorated = bizagi.rendering.userfieldWrapper;\n      return new bizagi.rendering.columns.column(columnParams);\n    }\n\n    if (type == \"columnSearch\") {\n      columnParams.decorated = bizagi.rendering.search;\n      return new bizagi.rendering.columns.search(columnParams);\n    }\n\n    if (type == \"columnLabel\") {\n      columnParams.decorated = bizagi.rendering.label;\n      return new bizagi.rendering.columns.column(columnParams);\n    }\n\n    if (type == \"columnReadonly\") {\n      columnParams.decorated = bizagi.rendering.label;\n      return new bizagi.rendering.columns.readonly(columnParams);\n    }\n\n    if (type == \"columnDocument\") {\n      columnParams.decorated = bizagi.rendering.document;\n      return new bizagi.rendering.columns.document(columnParams);\n    }\n\n    if (type == \"columnLetter\") {\n      columnParams.decorated = bizagi.rendering.letter;\n      return new bizagi.rendering.columns.letter(columnParams);\n    }\n\n    if (type == \"columnButton\") {\n      columnParams.decorated = bizagi.rendering.button;\n      return new bizagi.rendering.columns.button(columnParams);\n    }\n\n    // No type supported\n    bizagi.log(type + \" not supported in render factory\", data, \"error\");\n    return null;\n  },\n  /*\r\n     *   Returns the appropiate search render based on the type\r\n     */\n  getSearchRender: function getSearchRender(params) {\n    var type = params.type;\n    var data = params.data;\n    var searchParams = $.extend(params, {\n      renderFactory: this,\n      dataService: params.dataService || this.dataService });\n\n\n    if (type == \"searchText\") {\n      var isExtended = bizagi.util.parseBoolean(data.properties.isExtended) || false;\n\n      if (isExtended) {\n        // Creates one extended render\n        return new bizagi.rendering.extendedText(searchParams);\n      }\n\n      // Creates one normal text render\n      return new bizagi.rendering.text(searchParams);\n    }\n\n    if (type == \"searchBoolean\") {\n      var display = data.properties.display || \"option\";\n\n      if (display == \"check\") {\n        // Creates one check render\n        return new bizagi.rendering.check(searchParams);\n      }\n\n      // Creates one yes-no render\n      return new bizagi.rendering.yesno(searchParams);\n    }\n\n    if (type == \"searchNumber\") {\n      if (data.properties.dataType == 29) {\n        //Creates a Scientific Notation render\n        return new bizagi.rendering.numberScientificNotation(searchParams);\n      }\n      return new bizagi.rendering.number(searchParams);\n    }\n\n    if (type == \"searchMoney\") {\n      return new bizagi.rendering.money(searchParams);\n    }\n\n    if (type == \"searchDate\") {\n      return new bizagi.rendering.date(searchParams);\n    }\n\n    if (type == \"searchCombo\") {\n      return new bizagi.rendering.combo(searchParams);\n    }\n\n    if (type == \"searchSuggest\") {\n      return new bizagi.rendering.search(searchParams);\n    }\n\n    if (type == \"searchLabel\") {\n      return new bizagi.rendering.label(searchParams);\n    }\n\n    // No type supported\n    bizagi.log(type + \" not supported in render factory\", data, \"error\");\n    return null;\n  },\n  /*\r\n     *   Returns the appropiate search render based on the type\r\n     */\n  getQueryRender: function getQueryRender(params) {\n    var type = params.type;\n    var data = params.data;\n    var searchParams = $.extend(params, {\n      renderFactory: this,\n      dataService: params.dataService || this.dataService });\n\n\n    if (type == \"queryText\") {\n      var isExtended = bizagi.util.parseBoolean(data.properties.isExtended) || false;\n\n      if (isExtended) {\n        // Creates one extended render\n        return new bizagi.rendering.queryExtendedText(searchParams);\n      }\n\n      // Creates one normal text render\n      return new bizagi.rendering.queryText(searchParams);\n    }\n\n    if (type == \"queryBoolean\") {\n      var display = data.properties.display || \"option\";\n\n      if (display == \"check\") {\n        // Creates one check render\n        return new bizagi.rendering.queryCheck(searchParams);\n      }\n\n      // Creates one yes-no render\n      return new bizagi.rendering.queryYesNo(searchParams);\n    }\n\n    if (type == \"queryNumber\") {\n\n      return new bizagi.rendering.queryNumber(searchParams);\n    }\n\n    if (type == \"queryMoney\") {\n      return new bizagi.rendering.queryMoney(searchParams);\n    }\n\n    if (type == \"queryDate\") {\n      return new bizagi.rendering.queryDate(searchParams);\n    }\n\n    if (type == \"queryCombo\") {\n      return new bizagi.rendering.queryCombo(searchParams);\n    }\n\n    if (type == \"queryCascadingCombo\") {\n      return new bizagi.rendering.queryCascadingCombo(searchParams);\n    }\n\n    if (type == \"querySuggest\") {\n      return new bizagi.rendering.querySuggest(searchParams);\n    }\n\n    if (type == \"queryLabel\") {\n      return new bizagi.rendering.queryLabel(searchParams);\n    }\n\n    if (type == \"queryList\") {\n      return new bizagi.rendering.queryList(searchParams);\n    }\n\n    if (type == \"queryMultiSelect\") {\n      return new bizagi.rendering.queryMultiSelect(searchParams);\n    }\n\n    if (type == \"querySearch\") {\n      return new bizagi.rendering.querySearch(searchParams);\n    }\n\n    if (type == \"queryRadio\") {\n      return new bizagi.rendering.queryRadio(searchParams);\n    }\n\n    if (type == \"queryState\") {\n      return new bizagi.rendering.queryState(searchParams);\n    }\n\n    if (type == \"queryCaseState\") {\n      return new bizagi.rendering.queryCaseState(searchParams);\n    }\n\n    if (type == \"queryProcess\") {\n      return new bizagi.rendering.queryProcess(searchParams);\n    }\n\n    if (type == \"querySearchUser\") {\n      return new bizagi.rendering.querySearchUser(searchParams);\n    }\n\n    if (type == \"queryHidden\") {\n      return new bizagi.rendering.hidden(searchParams);\n    }\n\n    // No type supported\n    bizagi.log(type + \" not supported in render factory\", data, \"error\");\n    return null;\n  },\n  /*\r\n     *   Method to fetch templates from a private dictionary\r\n     */\n  getTemplate: function getTemplate(template) {\n    var self = this;\n    return self.templates[template];\n  } });","/*\r\n*   Name: Bizagi Device Render Factory\r\n*   Author: UI Forms Team\r\n*   Comments:\r\n*   -   This script will detect the current device and then will load the appropriate factory on demand\r\n*/\n\n$.Class.extend(\"bizagi.rendering.device.factory\", {}, {\n\n  /**\r\n                                                         * Constructor, detects the device\r\n                                                         * @param params\r\n                                                         */\n  init: function init(params) {\n    this.execution_device = bizagi.util.detectDevice();\n    this.cachedFactory = {};\n  },\n\n  /**\r\n      * Returns the appropriate render factory based on the device detection\r\n      * Because it loads the scripts on demand it must return a promise\r\n      * @param dataService\r\n      * @param device\r\n      * @returns {*}\r\n      */\n  getRenderFactory: function getRenderFactory(dataService, device) {\n    var self = this;\n    device = device || \"desktop\";\n    var defer = new $.Deferred();\n\n    if (typeof self.cachedFactory[device] !== \"undefined\") {\n      // Reset print version value\n      self.cachedFactory[device].printVersion = false;\n      // Resolve with cached factory                \n      defer.resolve(self.cachedFactory[device]);\n    } else {\n      // If factory is not cached then build it\n      if (device === \"print\") {\n\n        // Load print version references\n        self.cachedFactory[device] = new bizagi.rendering.print.factory(dataService);\n\n        // Wait for async loading\n        self.cachedFactory[device].initAsyncStuff().\n        done(function () {\n          // Resolve operation\n          defer.resolve(self.cachedFactory[device]);\n        });\n\n      } else if (device === \"desktop\") {\n\n        // Load desktop references\n        self.cachedFactory[device] = new bizagi.rendering.desktop.factory(dataService);\n\n        // Wait for async loading\n        self.cachedFactory[device].initAsyncStuff().\n        done(function () {\n          // Resolve operation\n          defer.resolve(self.cachedFactory[device]);\n        });\n\n      } else if (bizagi.util.isTabletDevice(device)) {\n\n        // Load tablet references\n        self.cachedFactory[device] = new bizagi.rendering.tablet.factory(dataService);\n\n        // Wait for async loading\n        self.cachedFactory[device].initAsyncStuff().\n        done(function () {\n          // Resolve operation\n          defer.resolve(self.cachedFactory[device]);\n        });\n      } else if (bizagi.util.isSmartphoneDevice(device)) {\n\n        // Load tablet references\n        self.cachedFactory[device] = new bizagi.rendering.smartphone.factory(dataService);\n\n        // Wait for async loading\n        self.cachedFactory[device].initAsyncStuff().\n        done(function () {\n\n          // Resolve operation\n          defer.resolve(self.cachedFactory[device]);\n        });\n      } else {\n        // if no device suuported\n        bizagi.showMessageBox(\"Not supported device: \" + device);\n        defer.reject(\"Not supported device: \" + device);\n      }\n    }\n\n    return defer.promise();\n  },\n\n  /**\r\n      * Returns the current data service being used\r\n      * @returns {*}\r\n      */\n  getDataService: function getDataService() {\n    return this.dataService;\n  } });"]}