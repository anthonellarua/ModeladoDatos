{"version":3,"sources":["jquery/common/bizagi.mobiscroll/js/mobiscroll.min.js","jquery/rendering/js/base/render/bizagi.rendering.render.js","jquery/rendering/js/base/container/bizagi.rendering.form.js","jquery/rendering/js/base/render/bizagi.rendering.combo.js","jquery/rendering/js/base/render/bizagi.rendering.date.js","jquery/rendering/js/base/render/bizagi.rendering.extendedText.js","jquery/rendering/js/base/render/bizagi.rendering.grid.js","jquery/rendering/js/base/render/bizagi.rendering.label.js","jquery/rendering/js/base/render/bizagi.rendering.search.js","jquery/rendering/js/base/render/bizagi.rendering.handSignature.js","jquery/rendering/js/base/render/column/bizagi.rendering.columns.column.js","jquery/rendering/js/bizagi.rendering.facade.js","jquery/common/bizagi.tabs/js/jquery.material.tab.js","jquery/common/bizagi.mfb/js/bizagi.mfb.js","jquery/common/bizagi.ripple/js/jquery.ripple.js","jquery/common/bizagi.grid/js/tablet/bizagi.grid.tablet.js","jquery/common/base/js/lib/mobile/jquery.tabs.js","jquery/common/bizagi.mobiscroll/js/mobiscroll.modules.js","jquery/rendering/js/base/bizagi.rendering.element.js","jquery/rendering/js/base/container/bizagi.rendering.container.js","jquery/rendering/js/base/render/bizagi.rendering.render.base.js","jquery/rendering/js/base/container/bizagi.rendering.formTemplate.js","jquery/rendering/js/base/container/bizagi.rendering.layout.js","jquery/rendering/js/base/container/bizagi.rendering.accordion.js","jquery/rendering/js/base/container/bizagi.rendering.accordionItem.js","jquery/rendering/js/base/render/bizagi.rendering.collectionnavigator.js","jquery/rendering/js/base/container/bizagi.rendering.group.js","jquery/rendering/js/base/container/bizagi.rendering.section.js","jquery/rendering/js/base/container/bizagi.rendering.horizontal.js","jquery/rendering/js/base/container/bizagi.rendering.panel.js","jquery/rendering/js/base/container/bizagi.rendering.contentPanel.js","jquery/rendering/js/base/container/bizagi.rendering.searchForm.js","jquery/rendering/js/base/container/bizagi.rendering.tab.js","jquery/rendering/js/base/container/bizagi.rendering.tabItem.js","jquery/rendering/js/base/container/bizagi.rendering.nestedForm.js","jquery/rendering/js/base/render/bizagi.rendering.check.js","jquery/rendering/js/base/render/bizagi.rendering.number.js","jquery/rendering/js/base/render/bizagi.rendering.numberScientificNotation.js","jquery/rendering/js/base/render/bizagi.rendering.hidden.js","jquery/rendering/js/base/render/bizagi.rendering.text.js","jquery/rendering/js/base/render/bizagi.rendering.readonly.js","jquery/rendering/js/base/render/bizagi.rendering.button.js","jquery/rendering/js/base/render/bizagi.rendering.fileprint.js","jquery/rendering/js/base/render/bizagi.rendering.link.js","jquery/rendering/js/base/render/bizagi.rendering.geolocation.js","jquery/rendering/js/base/render/bizagi.rendering.association.js","jquery/rendering/js/base/render/bizagi.rendering.upload.js","jquery/rendering/js/base/render/bizagi.rendering.ecm.js","jquery/rendering/js/base/render/bizagi.rendering.yesno.js","jquery/rendering/js/base/render/bizagi.rendering.letter.js","jquery/rendering/js/base/render/bizagi.rendering.formLink.js","jquery/rendering/js/base/render/bizagi.rendering.cascadingCombo.js","jquery/rendering/js/base/render/bizagi.rendering.list.js","jquery/rendering/js/base/render/bizagi.rendering.multiSelect.js","jquery/rendering/js/base/render/bizagi.rendering.searchList.js","jquery/rendering/js/base/render/bizagi.rendering.money.js","jquery/rendering/js/base/render/bizagi.rendering.radio.js","jquery/rendering/js/base/render/bizagi.rendering.image.js","jquery/rendering/js/base/render/bizagi.rendering.userfield.js","jquery/rendering/js/base/render/bizagi.rendering.document.js","jquery/rendering/js/base/render/bizagi.rendering.range.js","jquery/rendering/js/base/render/bizagi.rendering.rangeDate.js","jquery/rendering/js/base/render/bizagi.rendering.rangeMoney.js","jquery/rendering/js/base/render/bizagi.rendering.rangeNumber.js","jquery/rendering/js/base/render/bizagi.rendering.checkList.js","jquery/rendering/js/base/render/bizagi.rendering.actionLauncher.js","jquery/rendering/js/base/render/bizagi.rendering.entityTemplate.js","jquery/rendering/js/base/render/bizagi.rendering.polymorphicLauncher.js","jquery/rendering/js/base/render/column/bizagi.rendering.columns.readonly.js","jquery/rendering/js/base/render/column/bizagi.rendering.columns.combo.js","jquery/rendering/js/base/render/column/bizagi.rendering.columns.date.js","jquery/rendering/js/base/render/column/bizagi.rendering.columns.search.js","jquery/rendering/js/base/render/column/bizagi.rendering.columns.hidden.js","jquery/rendering/js/base/bizagi.rendering.base.factory.js","jquery/rendering/js/bizagi.rendering.device.factory.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","$","updateIndicatorState","tabs","active_tab","direction","tabs_meta","getTabsMetaInfo","tabs_info","tabsMetaInfo","tab_info","tabMetaInfo","left","tmp_left","scrollLeftNormalized","clientWidth","scrollWidth","scrollLeft","width","tabs_meta_info","r","getBoundingClientRect","getNormalizedScrollLeft","right","tab_meta_info","a","n","window","document","body","e","createElement","appendChild","createTextNode","dir","style","fontSize","height","position","top","overflow","type","removeChild","getScrollType","Number","NaN","fn","material_bizagi_tabs","options","params","opts","extend","defaults","base","index","$el","undefined","$active","$active_content","init","el","$ind","self","this","$tabs","$content_tabs","updatePositions","active","$indicator","info","get","css","scroll_info","scrollSelectedIntoView","trigger","active_index_tab","each","element","addClass","data","hide","push","on","stopPropagation","prepend","find","removeClass","reference","show","preventDefault","getActiveTab","tab","contantTab","moveToNextTab","length","click","refreshPositions","refreshTab","id","el_id","indexOf","console","error","mfb","overlay","opened","buttons","activePrincipalButton","placement","efect","clickHoverOpt","toggleMethod","menuState","menuStateValue","isOpen","isClosed","mainButtonClass","restingIcon","activeIcon","children","remove","target","currentState","attachEvt","elems","evt","handler","i","len","addEventListener","configureBlur","blur","siblings","closest","html","kendo","template","useWithBlock","append","toggle","getAttribute","parentNode","button","principal","appendTo","bind","setAttribute","jQuery","bz_navigation_buttons","isDesign","buttonSelected","lastActionExecuted","allowAddButtons","$element","empty","$container","result","caption","properties","$elementButton","replace","handlerOnClickButton","targetElement","offset","offsetWidth","setTimeout","$addButton","htmlButtons","heightAddButton","heightWrapper","heightButtons","$rightNavigationButton","rightNavigationButtonIsLocated","insertAfter","leftNavigationButtonIsLocated","$leftNavigationButton","ev","maxScrollLeft","detach","prependTo","processButtons","transparent","$temp","rippleEffect","eventPageX","eventPageY","inkX","inkY","maxDiameter","rippleColor","$inkSpan","$inkparent","$thisElement","eventType","getRippleColorFromTraverse","inkColor","fallBackColor","backgroundOrInhreitedBackGround","hex","luma","returnLumintion","fallback","getBgColor","$elementToCheckForBg","is","parent","getBackgroundColorForInk","colorToHex","getLuminationValue","getColorLuminance","getInkColor","inkDefaultColor","appendInkTo","inkClass","inkContainerClass","Math","max","outerWidth","outerHeight","idToUse","background-color","pageX","pageY","touch","originalEvent","touches","changedTouches","hexcolor","substring","rgb","parseInt","lum","String","c","resultHex","substr","round","min","toString","color","match","slice","widget","ui","bizagi_grid","_init","_super","isOfflineForm","bizagi","util","parseBoolean","attachHandlers","_getComponent","pageNumber","attr","changePage","selectDynamicPager","columnIndex","sortBy","totalizer","processAction","unselectRow","isiOSDevice","_resizeListener","$context","parents","hasClass","businessKey","onRemoveNewRow","key","selectRow","_addColumnActions","totalData","onRowSelected","apply","arguments","_showRowButtons","onRowUnselected","_hideRowButtons","getCell","xpath","cell","row","_canShowButtons","actions","drawRow","rowData","isNewRow","columnKeyIndex","newRow","rnd","floor","random","fasttmpl","cells","drawCell","_canShowRowButtons","drawSpecialCell","columns","_replaceElement","drawPager","pages","total","number","page","pagination","renderPages","totalPages","currentPage","pager","subType","selectedRow","tr","floatingButtons","getNewRowKeys","rows","map","action","onSaveAddedRows","onCancelEdition","isNewRecord","addInlineRow","_triggerHandler","createAddRowData","postRenderRow","ceil","onAddRow","add","inlineAdd","savedRows","keys","newRowKeys","isValid","value","hideHeaderButtons","items","details","name","localization","getResource","edit","overflowMenu","cancelNewRow","newRows","RegExp","randomNumber","prevWidth","tableComp","intersectionObserver","IntersectionObserver","args","forEach","entry","isIntersecting","_fixHorizontalScroll","off","POLL_INTERVAL","observe","webkitOverflowScrolling","overflow-x","bztabs","activeTab","tabNumber","activate","popUp","beforeActivate","tabCountPopup","tabHeader","tabCountReal","widthRow","item","textContent","tabCurrent","eq","widthTabSelected","updateTabSize","first","origin","changeTab","dataRef","currentTarget","tabChildren","tempTabs","moveAtTheEnd","reorderTabs","domIncluded","when","done","event","headerWidth","innerWidth","totalWidth","j","pop","last","t","mobiscroll","s","I","component","W","instances","Array","call","o","parseFloat","l","d","se","m","targetTouches","f","h","b","p","v","y","g","settings","tap","Date","abs","mbscClick","createEvent","initMouseEvent","screenX","screenY","clientX","clientY","isMbscTap","isIonicTap","ne","mbscChange","dispatchEvent","u","nodeName","getHours","setHours","me","ge","charAt","getDay","dayNamesShort","dayNames","getTime","getFullYear","getMonth","monthNamesShort","monthNames","getYear","getMinutes","getSeconds","pmText","amText","toUpperCase","D","defaultValue","shortYearCutoff","x","toLowerCase","T","getDate","_","w","tz","M","moment","returnFormat","getMilliseconds","isoParts","toDate","trim","be","exec","he","C","k","xe","V","ie","removeAttr","Y","getComputedStyle","split","A","ke","backgroundColor","E","keyCode","addRipple","clearInterval","removeRipple","setInterval","start","stop","destroy","F","scrollTop","te","innerHTML","Ee","childNodes","runOutsideAngular","N","H","L","hasOwnProperty","O","z","q","R","X","U","J","B","G","navigator","userAgent","Q","platform","Z","maxTouchPoints","K","test","ee","requestAnimationFrame","ae","cancelAnimationFrame","clearTimeout","uid","oe","re","le","ce","de","ue","xsmall","small","medium","large","xlarge","getCoord","preventClick","vibrate","version","autoTheme","themes","form","frame","scroller","listview","navigation","progress","card","majorVersion","minorVersion","i18n","classes","setDefaults","customTheme","baseTheme","fe","responsive","breakpoint","_destroy","_processSettings","_checkResp","_responsive","_getRespCont","context","getVal","_hasDef","_defaults","_hasTheme","theme","_class","_hasLang","lang","_presets","preset","setVal","option","getInst","__ready","pe","ve","dayNamesMin","getMaxDayOfMonth","getWeekNumber","setDate","datetime","formatDate","parseDate","ye","Te","Me","De","Ce","S","animation","transition","webkit","messageHandlers","touchAction","Se","Ve","Ye","Ae","Fe","Ne","He","Pe","Le","We","$e","Oe","qe","activeInstance","shiftKey","cancel","select","_activeElm","focus","focusOnClose","_markupRemove","mbscModals","scrollLock","mbscLock","mbscIOSLock","mbscScrollLeft","mbscScrollTop","P","visibility","offsetHeight","nodeType","contains","_hasContent","_markupInserted","closeOnOverlayTap","stopProp","focusTrap","filter","handlers","_attachEvents","_checkSize","zone","valueText","_tempValue","_isVisible","_fillValue","_value","_isFullScreen","display","_position","_isLiquid","maxPopupWidth","white-space","popup","hasTabs","oldWidth","oldHeight","windowWidth","windowHeight","anchor","scrollHeight","scroll","attachShow","prop","showOnFocus","showOnTap","readOnly","lbl","clear","_clearValue","live","enable","disabled","disable","_readValue","animate","activeElement","cssClass","compClass","showOverlay","rtl","headerText","_generateContent","btnReverse","parentClass","btnWidth","btnClass","icon","text","_markup","markup","_markupReady","_isValid","_detachEvents","isVisible","__processSettings","__init","__destroy","_updateHeader","touchUi","set","setText","setIcon","cancelText","cancelIcon","close","closeText","closeIcon","clearText","clearIcon","_isInput","layout","skipShow","_preventChange","val","selectedText","Frame","showLabel","selectedLineBorder","weekDays","checkIcon","btnPlusClass","btnMinusClass","btnCalPrevClass","btnCalNextClass","Re","Xe","domEvent","prevDef","readonly","lock","scrolled","thresholdY","thresholdX","momentum","speedUnit","deltaY","wheelDelta","detail","deltaX","deltaMode","posX","posY","originX","originY","snap2","snap1","time","timeUnit","destinationX","destinationY","duration","transitionTiming","sync","refresh","contSize","maxScroll","minScroll","snap","offsetTop","offsetLeft","maxSnapScroll","easing","elastic","initialPos","axis","moveElement","scrollbar","mousewheel","Ue","Je","CSS","je","supports","Be","_tempSelected","multiple","selected","_disabled","_$markup","_index","tapSelect","setOnTap","_offset","_array","_map","getIndex","circular","_length","isFunction","isPlainObject","delay","isArray","_batch","label","_nr","_current","_first","_last","_margin","_refresh","_scroller","invalid","validate","values","valid","_tempWheelArray","_$active","_$scroller","formatValue","_hasValue","_wheelArray","Object","_selected","change","_setVal","parseValue","_getVal","setArrayVal","getArrayVal","changeWheel","_$3d","getValidValue","wheels","maxWidth","minWidth","onStart","onGestureStart","onGestureEnd","onAnimationStart","onAnimationEnd","onMove","onBtnTap","multiline","showScrollArrows","scroll3d","_getItemValue","join","Scroller","Ge","separator","dateFormat","dateDisplay","timeFormat","dayText","monthText","yearText","hourText","minuteText","ampmText","secText","nowText","todayText","Qe","end","isNaN","dd","tt","yearSuffix","getUTCFullYear","getUTCMonth","getUTCDate","unshift","dateOrder","format","calendarSystem","dateWheels","timeWheels","steps","hour","stepHour","minute","stepMinute","second","stepSecond","zeroBased","_e","we","monthSuffix","daySuffix","_format","_order","now","nowIcon","bootstrap","ios","material","windows","Ze","controls","firstDay","maxMonthWidth","breakPointMd","months","pageBuffer","weeks","highlight","outerMonthChange","quickNav","yearChange","todayClass","dateText","timeText","fromText","toText","moreEventsText","prevMonthText","nextMonthText","prevYearText","nextYearText","Ke","_onSelectShow","ct","Ie","mt","background","marked","_getDayProps","lt","ot","_id","it","nt","_onGenMonth","labels","events","colors","_labels","moreEventsPluralText","_days","xt","ut","year","month","st","$scroller","yt","ht","ariaLabel","dt","dayClass","pos","rt","ft","_isSetDate","at","queue","_onSetDate","gt","pt","vt","et","date","_selectDay","buffer","genPage","getFirst","callback","load","changing","shift","onAfterChange","onBeforeChange","size","_scrollers","_onRefresh","ze","_multiple","altKey","bt","Tt","weekCounter","calendarScroll","calendarWidth","disabledClass","selectedTabClass","selectedClass","calendarHeight","calendar","search","redraw","navigate","_showDayPicker","_prepareObj","__selectDay","onMarkupReady","multiLabel","showEventCount","showOuterDays","calendarClass","before","tabLink","onShow","onHide","onValidated","control","onPosition","selectType","firstSelectDay","setOnDayTap","onClear","onBeforeShow","counter","selectedPluralText","onCancel","hijri","defaulti18n","calendarText","eventText","eventsText","wholeText","fractionText","unitText","delimiter","decimalSeparator","thousandsSeparator","labelsShort","startText","stopText","resetText","lapText","hideText","offText","onText","backText","undoText","setI18nMobiscroll","language","languages","bizagiLang","BIZAGI_LANGUAGE","baseLanguageTag","currentLanguage","dateRegional","currentText","isRTL","nextText","prevText","allDayText","noEventsText","es","fr","zh","nl","ja","cs","ru","ar","ko","ua","observableElement","Class","ELEMENT_TYPE_CONTAINER","ELEMENT_TYPE_RENDER","ELEMENT_TYPE_COLUMN","renderFactory","dataService","resources","disposed","initializeData","subscribers","xpathContext","getXpathContext","idPageCache","getPageCache","visualChanges","getXpath","getFormContainer","getElementType","resize","required","isScrolledIntoView","effect","triggerGlobalHandler","triggerHandler","unbind","one","getRenderedElement","getMode","getParams","getFormType","ready","isReadyToSave","getCustomHandlers","dispose","timeOutDispose","override","disposeTime","isDisposed","processFailMessage","message","errorType","validationController","clearValidationMessages","showErrorMessage","container","idCase","JSON","parse","code","responseText","showAlertMessage","startLoading","endLoading","beforeToRefresh","afterToRefresh","getResourceByKey","resource","restoreAppearance","command","changeColor","changeBackgroundColor","changeRequired","changeEditability","changeVisibility","changeMinValue","changeMaxValue","getOrientation","orientation","rendering","TYPE_QUERY_FORM","uniqueId","editable","visible","originalProperties","encode","childrenHash","elements","render","createRenderElement","createContainerElement","createFormElement","originalElement","retype","clone","getRender","mode","processDuplicateRender","registerRender","getContainer","getElement","getElementsByType","child","clonedElement","displayName","isClone","cloneRender","internalRender","applyContainerDefaults","tag","requestedForm","renderContainerHtml","postRenderContainer","renderingDeferred","Deferred","renderContainer","isRendered","promise","isEmpty","alert","argument","replaceTag","replaceSelector","replaceChildrenTag","replaceChildrenHtml","replaceFirstWithoutPatterns","resolve","executeChildrenPostRender","configureHandlers","applyPlaceHolderPolyfill","configureDesignView","configureLayoutView","config","placeHolderConfig","forceApply","Placeholders","childrenElements","childElement","postRenderElement","renderChildrenHtml","temp","renderElement","collectRenderValues","renderValues","canBeSent","collectData","hasChanged","collectRenderValuesQueryForm","canBeSentQueryForm","collectDataQueryForm","firstChild","getRenders","renders","getRendersByXpath","invalidElements","hasValidGrids","grid","childrenPromises","getFocus","getCustomHandler","customHandlers","timeOutChildrenDispose","refreshContainer","multiaction","refreshControl","idRender","contexttype","idForm","saveChildrenVisualChanges","unregisterChildren","removeActions","currentContainer","replaceWith","refreshActions","triggerChildrenActions","restoreChildrenVisualChanges","restoreAppearanceAfterRefresh","restoreContainerAppearance","fail","always","refreshDesignContainer","messageValidation","triggerRenderChange","changed","registerActions","actionController","buildActions","unregisterRender","replaceChild","splice","getChildById","restoreElementAppearance","childrenVisualChanges","postRenderTimeout","maxRendersPerScreen","rendersExecuted","renderOptimization","startOptimization","stopOptimization","included","includedInResult","renderType","normalizeType","submitOnChange","maxLength","helpText","textFormat","valueFormat","isHidden","editabilityEnabled","contextType","labelAlign","valueAlign","originalValue","previousValue","calculateInitialLayoutProperties","displayType","getDefaultLabelAlign","getDefaultValueAlign","getRTLAlign","renderWidth","calculateRenderWidth","labelWidth","valueWidth","layoutType","includes","renderTemplateName","renderTemplate","getTemplate","encodeString","isFullRender","detectDevice","isTabletDevice","isExtendedText","isExtended","displayOptionClass","getDisplayOptionClass","labelAlignClass","getAlignClass","valueAlignClass","flexAlignClass","mapAlignClassName","columnAlign","stringLabelWidth","stringValueWidth","printVersion","printversion","cssclass","showFullRender","internalRenderControl","state","replaceControlHtml","resolveResult","asyncRenderDeferred","renderControl","renderReadOnly","configureSubmitOnChange","isLabelFormat","executePostRender","_element","timeOutRender","internalPostRender","getControl","emptyControlByAsyncRenderDeferred","processLayout","postRenderPrintVersion","postRender","postRenderReadOnly","performExecutionModeMethods","performDesignModeMethods","configureHandlersQueryForm","configureHandlersReadOnly","internalSetInitialValue","log","internalSetInitialValueFlag","setDisplayValue","setValidationMessage","hasValue","isQueryForm","replaceAll","messageData","isQuery","getValue","columnEditable","getColumn","isNumeric","controlValueIsChanged","bold","changeFontBold","italic","changeFontItalic","underline","changeFontUnderline","strikethru","changeFontStrikethru","changeFontSize","changeCellVisibility","setValue","triggerEvents","identicalObjects","checkRequired","changeRequiredLabel","triggerRenderValidate","validateInputRetype","enableCheck","displayValue","getDisplayValue","sanitizeHTML","getLabel","mustImplement","getControlFiller","validationMessage","readOnlyValue","isObject","isString","encodeHtmlText","changeDisplayOption","changeLabelAlign","alignType","changeValueAlign","customizeRenderWidth","setProperty","getElementsToStylize","originalColor","currentStyle","getFormattingLabel","compareValue","baseValue","isStartForm","forceCollectData","showTime","getNormalizedDate","fullFormat","compareValueObj","_findAction","guid","targetObj","guidAction","objectValue","valuestrikethru","valueunderline","newFontSize","emptyControlByChangeEditability","changeEditabilityCellControl","renderColumn","decorated","getDecorated","internalRenderCellControl","readyDeferred","onCellChange","labelElement","controlElement","pipe","saveGridChildrenVisualChanges","controlFiller","currentElement","restoreGridChildrenVisualChanges","restoreGridAppearance","refreshDesignControl","cleanData","clearDisplayValue","input","updateOriginalValue","getRenderId","tryCatch","queryValue","searchType","typeSearch","rangeQuery","newParameter","orderType","renderId","displayXpath","force","displayOnly","defaultControl","innerControl","isIE","autoScrollBottom","timeOutEffect","align","dependencies","conditions","expressions","simple","submitOnChangexpathContext","operator","argumentType","commands","elseCommands","containerId","addSubmitAction","bRefreshForm","notCollect","defer","BA_CONTEXT_PARAMETER_PREFIX","internalSubmitOnChange","reject","getCacheIdCase","cache","idCaseObject","parameters","percent2Number","getIdCase","getIdWorkitem","idWorkitem","getidTask","idTask","getSessionId","sessionId","changeCellColor","changeCellBackgroundColor","backgroundImage","needBGPaint","background-image","changeCellRequired","startActionExecution","actionExecutionDeferred","endActionExecution","readyActionExecution","isFromCreatedRow","submitInvalidatePageCacheRequest","pageCacheToInvalidate","invalidatePageCache","isDesignMode","isExecutionMode","preventDefaultForAnchorTag","isSharepointContext","isWebpartContext","getMainForm","currentForm","fromRender","setInterceptionObserver","callbackFn","pluginInitialized","disconnect","setResizeObserver","resizeObserver","ResizeObserver","indexes","getIndexes","column","decorateRenders","restoreCellAppearance","gridChildrenVisualChanges","surrogateKey","processLabelLayout","processControlLayout","warm","$label","changeFontColor","changeTextDecoration","$control","$elements","textDecoration","getCellBackgroundFunction","true","columnDate","changeInputBackgroundColor","false","default","device","rendersById","rendersByXpath","rendersByXpathId","rendersByType","pageCacheId","displayAsReadOnly","userConfirmationMessage","hasRule","paramsRender","processPath","breadCrumb","validations","allowValidateAndSaveAction","enableActionValidateAndSave","enableExecuteQuickActions","isFeatureEnabled","allowExecuteQuickActions","useQuickActions","hasQuickActions","initializeButtons","transitions","originalProcessButton","processButton","isRoutingDisabled","applicationParent","isOfflineFormsV2Supported","isMobileDevice","ordinal","next","nextWithoutValidations","submitData","back","createnewcase","save","quickAction","routing","executeRule","buildButtonStyle","setParam","property","xpathId","md5","stringify","listRendesByType","getRenderByType","listRendesByTypeLength","renderKey","listRender","getRenderById","getGridByColumn","grids","columnsIds","helptext","queryForm","summaryForm","globalForm","allowQuickActions","complexGatewayContainer","activeTransitions","mainForm","$canvas","getValidationsContainer","controllers","validation","checkboxLabel","transitionId","strStyle","getContextType","getEndPointAction","formtype","getButtons","stopImmediatePropagation","buttonProperties","btn","lastActionButton","routingDisabled","propagateExternalEvents","timeOutButton","processDefer","documentElement","preProcessButton","postProcessButton","responses","setLoaderDeferred","loaderDeferred","deleteLoaderDeferred","isLoaderDeferredSet","useOrSetLoaderDeferred","getLoaderPromise","appendWaitForLoader","create","then","getResolveOrReject","deferred","chrono","initAndStart","getAllTabs","getAllTabsLength","innerTabsLoading","loadingDeferred","performValidations","confirmationStatus","getConfirmationStatus","hasConfirmation","showConfirmationBox","submitForm","expandNotificationBox","customHandler","validateForm","saveForm","isNativeMobileDevice","allowOnlineActions","collectRenderValuesForSubmit","deferredsToWait","deferreds","saveParams","offlineType","removeCaseSyncError","removeSyncErrorOnSubmit","removeStartCaseSyncError","removeTaskCaseSyncError","internalSubmitFormOffline","internalSubmitForm","checkWidgetsData","isComplexGatewayPainted","getLastActionButton","executeButtonAction","loading","executeButton","prepare","countProps","showMessageBox","waitingDeferreds","isSaveForDraft","online","syncDeferred","syncParams","offlineAction","buttonPropertiesAction","radNumber","showToastOnSuccessSync","showMobileToast","IdCase","caseNumber","CaseNumber","isOfflineRefreshWithEdition","shouldRefresh","refreshForm","showNotification","recreateNativeButtons","bHasValidations","alertMessage","response","propertiesToDisplayMessages","validationToDisplayMessages","messages","modalError","failHandler","partialSubmitFormOffline","submitDataAction","performAction","checkpointAction","commitAction","prepareCheckpointAction","prepareCommitAction","getButtonAction","forcePlanCompletion","surrogatekey","flowControlDeferred","execute","sendRollbackAction","jqxhrList","abortAll","res","res2","messageType","addValidationMessage","itemAdditionalClass","autofocus","showValidationMessage","addErrorMessage","errorMessage","selectedTabs","getSelectedTabs","selectedSection","getSelectedSection","isRefresh","idStartScope","isEdited","tabContainers","tabContainer","processInternalSubmitAction","waitingTemplate","waitingOverlay","waitingMessage","tmpl","isSharePoint","canvas","getSize","getOffset","min-height","min-width","getFocusedElement","setFocusedElement","errorJson","setSize","isEmptyObject","executeSubmitData","isRefreshingAfterSync","rule","clearOnlyServer","executeInterface","interface","executeSAPConnector","guidsap","executeConnector","guidConnector","executePipeline","pipeline","tryToExecuteFunction","unbindActions","cancelPreviousRequest","focusIdentifier","IdScope","objMessage","strMessage","multiactionConnection","connection","abort","showErrorAlertDialog","buttonId","sendCheckpoint","url","checkpointUrl","commitLinkForm","commitUrl","rollbackLinkForm","rollbackUrl","timeOutController","getButton","getFloatingButton","isConnected","configureNetworkHandlers","BIZAGI_ENVIRONMENT","handleConnectionChange","handleOfflineSyncEvent","formParams","hasSyncError","offlineFormId","paramsId","database","validateLocalDataForTaskExists","dataResult","applySyncLoader","tasks","warn","isStart","isSyncLoaderRunning","loaderIndex","processQuickButton","isEnable","some","formProperties","hasButtonsConfirmation","needsUserConfirmation","buttonConfirmationMsg","hasFormConfirmation","formConfirmationMsg","saveWorkInProgress","formType","contextEvent","processTemplate","processedTemplate","g1","g2","string","layoutCollection","getCss","layoutGuid","layoutguid","loadStyle","getContextEvent","stripslashes","desktop","allowAdd","withAddForm","allowEdit","withEditForm","allowDetail","inlineEdit","allowDelete","getKeys","pointer","totalRows","inlineAddRecords","showPreview","drawControls","drawActions","drawControl","drawForms","drawPreview","templateItem","hasData","getTotalRows","getRow","getNextRow","getPreviousRow","getFirstRow","getLastRow","setPointer","isTherePendingInlineRow","addKey","newId","removeKey","navigationform","getParameters","recordXpath","recordXPath","submitAddRequest","addGridRecord","addUrl","idEntity","submitEditRequest","editGridRecord","editUrl","submitDeleteRequest","deleteGridRecord","deleteUrl","submitSaveRequest","saveGridRecord","saveUrl","dataFail","submitRollbackRequest","rollbackGridAction","getRemoteData","dataUrl","getData","content","validateControls","collapse","expandedIcon","getExpandedIcon","collapsedIcon","getCollapsedIcon","expandedClassIcon","toogleContainer","bImmediate","displayAs","sectionContent","renderSectionContent","getBreadcrumb","getParentDisplayName","getSectionParent","originalParams","getSectionOrientationRTL","panel","renderResult","performSearch","searchParams","submitSearch","refreshResults","collectSearchValues","isMapEmpty","maxRecords","maxRows","idSearchForm","allowFullSearch","criteria","records","deviceMaxRecordsExceeded","onSearchFinished","errorObject","submitArray","operation","getCriteriaOperation","criteriaData","dataType","parseAdditionalProperties","tabItems","tooltip","tabOrientation","loadOnDemand","containsFocusedElement","setActiveTab","selectedTab","renderTabContent","hasLocalData","enableTyping","complementData","isDependant","getParentCombo","valueControl","BA_ACTION_PARAMETER_PREFIX","renderCombo","renderComboTemplate","dataPromise","getTemplateName","emptyValue","emptyLabelForCombo","getTemplateParams","unique","formatItem","showEmpty","showCurrentData","getDummyData","remoteDataLoaded","extra","recalculate","allowActions","msgObj","auxMsg","parseJSON","resetData","combo","getSelectedValue","currentValue","parseAdditionalValues","newItem","hidden","bCurrentDataFound","emptyFound","dataValue","comboData","isExtraItem","escapeValue","mapValue","fromAction","validateValue","translated","findDataValueById","showLetters","randomId","allowDecimals","getDefaultAllowDecimals","numDecimals","BIZAGI_DEFAULT_CURRENCY_INFO","decimalDigits","symbol","positiveFormat","negativeFormat","decimalSymbol","digitGroupSymbol","groupSeparator","groupDigits","setGroupDigits","colorize","colorizeOnNegative","dataTypeMinValue","calculateMinValue","dataTypeMaxValue","calculateMaxValue","toFixed","isMobile","isAndroidDevice","numericInput","numeric","attachRetypeDouble","attachFormatCurrency","removeValidations","formatNumericInput","$input","digitGroupSeparator","minValue","getMinValue","maxValue","getMaxValue","percentage","inputValue","inputLength","xPath","oldVal","isInvalidFormat","tempValue","asNumber","messageToShow","isValidRender","isValidRenderMessage","executeFormatCurrencyPlugin","formatCurrency","regions","tmpData","isIE11","clipboardData","totalVal","eval","keydown","keyUnicode","charCode","formatTimeout","floatPart","selectionStart","selectionEnd","currentPosition","keyup","keypress","character","fromCharCode","roundToDecimalPlace","removeTrailingZeros","positive","regExp","bValid","validMessage","getDefaultGroupDigits","thousands","performMinValue","newValue","performMaxValue","createTooltip","currentTitle","toolTipZindex","getMaxZindex","zIndex","timeOutFocus","numericSN","ud","dateFormatter","getDateFromInvariant","datePickerRegional","getDateFormat","indexDateTimeSeparation","lastIndexOf","datePickerFormat","timePickerFormat","uppercaseDatePlaceholder","intHandler","isNow","dateControl","getDateControl","timeControl","getTimeControl","onChangeHandler","updatingTime","formatInvariant","getNormalizeDate","setMilliseconds","getTimeFormat","setValueFromCalendarButtons","hasMaxLines","maxLines","regularExpressionExpression","regularExpressionMessage","regularExpression","expression","isEmptyField","textarea","validationMessages","regEx","decodedValue","decodeURI","valueToDisplay","areThereEditableColumns","areThereTotalizedColumns","initProperties","enabledChecks","exclusiveChanges","originalEnabledChecks","columnProperties","groupBy","allowGrouping","isExclusive","hasExclusiveCheck","columnRender","singleInstance","totalize","reverse","showSummary","rowsPerPage","initEditabilityProperties","initAddAndDeleteProperties","isSortable","keyColumn","skipInitialLoad","allowMore","allowFilter","groupSummary","groupText","groupCollapsed","groupOrder","formShowMode","floatingHeader","sort","sortOrder","order","addLabel","editLabel","deleteLabel","exportOptionsLabel","detailLabel","tableCssClass","alreadySaved","overrideGetRemoteData","changes","cellOverrides","changeOrderData","rowKey","reverseDataRows","removeRemainingColumns","numColumns","remainingColumns","getColumnType","getGridTemplate","applyTemplate","columnInitializers","initialize","encodeXpath","sortType","searchFilter","getGridData","spliceRowData","spliceIndex","spliceRowDataVisible","spliceRowDataEditable","rowTemplate","buildCellXpathFilter","disableServerGridValidations","dataResp","collectGridChange","isPressed","pressed","configureColumnSubmitOnChange","keysToDelete","columnExclusiveChanges","columnEnabledChecks","columnXpath","canColumnBeSent","checkedObject","cellOverride","getCellOverride","getCellValue","getCellCurrentValue","getControlCell","setError","changeCellEditability","changeCellProperties","changeCellMaxValue","changeCellMinValue","changeColumnEditability","changeColumnVisibility","changeColumnRequired","cleanCellData","saveGrid","tmpEditable","changeColumnsEditability","saveInlineAddedRows","saveRows","refreshCell","refreshGridCell","typeRender","getDepthData","isBoolean","cellValue","updateAffectedCellManually","canBeExported","rowDeleted","hasErrors","getDataNewRows","merge","uniqueMessages","isValueValid","messagesLength","gridValidationMessage","columnVisible","setCellOverrides","len_v","newRecords","getGridExportFile","disposition","exportType","handleJSONResponse","submitForGridChange","timeOutColumn","getEnabledChecks","xpathfilter","getGridDataExclusivesSelected","cleanNewRecords","setRowAsSaved","hasColorHeader","headerFormat","isRTLOrientation","canBeExport","getExclusiveChangeByRow","idRow","isCurrentGridCell","columnId","getIndexForCurrentCell","findIndex","isSummaryOrGlobalForm","typeForm","allowDinamiclabel","bindingValue","configureHelpText","performLabelLineBreak","advancedSearch","submitVersion","searchForms","allowSuggest","allowTyping","allowClear","searchLength","enableLocalStorage","expireCache","h_contexttype","enableQuerySuggestBehavior","term","regexC","getSearchData","hideStatus","selectedValue","mask","regex","showDesignValidations","isNull","getFormattedValue","getDesignModeValue","formatBoolean","formatMonetaryValue","formatDecimalValue","formatDateValue","submitOnChangexpathContextRow","runButtonAction","error_obj","getErrorFormatted","filesCount","downloadFile","getFilePrint","geolocation","allowUpdate","getCurrentPosition","succes_callback","fail_callback","getErrorMessage","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","performPrecision","latitude","longitude","toPrecision","allowFlip","flipped","flipstate","leftData","rightData","processPropertyValue","def","getFlipAssociation","flip","makeJsonBase","getColumnData","getRightAssociation","formatJson","associationData","leftId","association","isChecked","idRight","checked","removeElement","rightId","removeValue","addElement","leftXpath","rightXpath","leftFactName","rightFactName","maxFileSizeOfProperty","maxSize","maxFileSizeOfUser","BIZAGI_SETTINGS","UploadMaxFileSize","maxfiles","validExtensions","singleExtensions","defExtensions","getUploadAddUrl","allowSendInMail","files","getUploadXpath","haveFiles","noFiles","file","fileName","renderUploadItem","replaceFilesHtml","itemTemplate","getTemplateItemName","buildItemUrl","filename","getUploadFileUrl","fileId","deleteUploadItem","deleteUploadFile","grep","fileItem","buildAddParams","prefix","BA_PAGE_CACHE","BIZAGI_SESSION_NAME","getUploadXpathContext","setRenderRequired","validateObjectStructure","uploadId","validateArrayStructure","reduce","isFormatValid","validator","bzValidator","errors","maxFiles","serviceLocator","getUrl","q_xpath","showMetadata","listControl","fileProperties","idFileUpload","getFileExtension","isImage","lengthValues","idAttrib","renderFileLayout","loader","productBuildToAbout","replaceItemHtml","metadataTemplate","getECMMetadata","getFileProperties","metaData","ecm_ecmStatus","ecmStatus","ecm_isVisible","ecm_allowUpdateMetadata","allowUpdateMetadata","ecm_allowDelete","ecm_allowUpdateContent","allowUpdateContent","ecm_allowView","allowView","ecm_allowCheckOut","allowCheckOut","ecm_allowCancelCheckOut","allowCancelCheckOut","ecm_allowEdit","idFileUploads","deviceType","extension","p_sessionId","cookie","getECMFileUrl","metaValues","deleteECMFile","lockUploadItem","checkOutFile","unlockUploadItem","cancelCheckOut","isEmptyValue","letterOpened","getLetterContent","getContextXpath","saveLetterContent","getCanGenerateLetter","maximized","likeButton","editLinkForm","getFormLinkXpath","saveLinkForm","executeSubmitOnChange","saveFormLinkData","submitCommitRequest","submitCheckpointRequest","submitDataRequest","services","service","dependants","parentCombo","initializingCascadingCombo","bindDependantCombo","isInitialValue","deferredVisible","parentValue","dependantCombo","onChangeFunction","refreshDependantCombo","focusDependant","cleanInput","isEventBinded","_data","unbindDependantCombo","dependant","inputCombo","parentLength","parentArray","configured","itemSelected","listSize","normalizeData","getDataValue","idToRemove","markAsChecked","found","canAddMoreItems","$tagsContainer","toArray","acc","getElementWidth","MORE_OPTION_WIDTH","styles","filterList","query","stringContainer","stringToSearch","addSelectedElements","findItemById","hasSearchForm","list","removeLastElement","getListItems","BASE_IMAGE","EMPTY_IMAGE","EMPTY_VALUE","DELAY_TO_SAVE","RESOURCES_FALLBACK","DONE_BUTTON","EDIT_BUTTON","CLEAR_BUTTON","UPLOAD_SUCCESS","UPLOAD_ERROR","TITLE_DONE","TITLE_DRAW","TITLE_EDIT","STATE_TYPE","draw","success","saveDeferred","saveTimestamp","isChanged","render_signature_action_edit","render_signature_action_done","render_signature_action_clear","getSignatureContainer","initialized","renderSignature","setState","BzjSignature","setData","binaryValue","Blob","b64toBlob","isValidField","getBase64","base64","processUploadFile","dataFile","formData","buildAddFileParams","FormData","isVersion2OrSuperior","compatibilityVersion","blob","blobTob64","getDataUrl","getPropertyData","executeFormFailHandler","assign","saveSignature","dataImage","postSignature","executePartialSaveForm","collectDataToSave","deleteImage","signature","postSignatureOnline","getDataFileFromSignature","saveImageOffline","path","buildOfflineImageId","blobImage","getFormParams","operationType","saveOfflineImage","offlineId","fileService","getOfflineImageName","isSignature","tmpTimeStamp","buildItemUrlOffline","imageId","loadImageFromForm","getOfflineImage","db","AttachmentType","$actions","setActions","isTaskForm","buildOfflineFileLoadingKey","binary","atob","array","stringToByteArray","Uint8Array","setSignature","err","initialWidth","entries","contentRect","selectorClass","contextClass","getSignatureContext","showsymbol","currencySymbol","horizontal","vertical","getUploadAddFileUrl","isUserPreference","initializeWidthAndHeight","isAutoWidth","isAutoHeight","getTemplateItem","currentUser","idUser","forceBase64","getFileService","resolveBlobFromPath","buildFullItemUrl","getFileDependencies","fileDependencies","loadFile","renderUserfieldControl","extendedData","ajax","userEditableControl","getEditableControl","renderComplex","loadUserfieldReadOnly","userReadOnlyControl","getReadonlyControl","getReadonlyValue","setEditableValue","getEditableValue","getPropertyValue","propertyName","jqXHR","textStatus","errorThrown","getRenderElements","getServerResourceURL","userfieldGuid","getRenderValue","showDialog","showPopup","initialParams","userfieldName","startUserfieldLoading","endUserfieldLoading","getUserfieldControl","isColumn","getControlXpathContext","getUserFieldInstance","replicateUserfieldMethods","timeOutUserField","userfieldInstance","downloadalldocuments","allowGenerate","preRenderControl","downloadAllDocuments","documents","getControlHtml","renderDocumentsHtml","renderActionsHtml","noActivateButton","allowgenerate","activateButton","getDocumentXpath","renderDocumentItem","joined","buildAllDocumentsUrl","getAllDocumentsDownloadUrl","caseId","idWorkItem","workitemId","htmlControl","updateControlForPrintMode","validateContainer","replaceActionsHtml","buttonExecuted","$generateLink","isPropagationStopped","documentTemplateGenerate","attachEvents","downloadAllFiles","deleteDocumentTemplate","resolveDeleteDocumentTemplate","xpathcontext","generateDocumentTemplate","resolveDocumentTemplateGenerate","messageText","autoOpenDocuments","showDocumentPreview","returnCssTypeFile","lenght","redrawDocuments","documentContainer","renderAllDocumentDownload","removeDeleteButton","startIndex","restOfWord","finishIndex","downloadAllDocumentsLink","getErrorTemplate","getTemplateDownload","getTemplateReadonly","getDocumentFile","getFile","getAllDocumentFiles","getAllDocuments","blobFile","downloadBlobFile","setRanageControls","minControl","maxControl","$maxCanvas","$minCanvas","renderRangeControl","defineRangeControl","dateMin","suscribe","observer","notify","dateMax","getRenderProperties","typeRangeControl","renderProperties","moneyMin","money","moneyMax","numberMin","numberMax","checkListGroup","deferredActions","engine","templateEngine","autoGenerateData","templateGuid","selecttemplate","processPropertyValueArgs","pcaseId","pguidEntity","guidEntity","psurrogatedKey","surrogatedKey","ptags","tagslist","pmaxitems","maxItems","pactionXpath","xpathActions","processPropertyValueDataTmplArgs","ptemplateGuid","defaultAllowActions","allowactions","isHorizontal","allowSearch","templatetype","executeActionImmediately","processPropertyValueExecuteAction","pguidAction","pparameters","executeActions","notifyExecution","actionName","templateDefined","actionManager","guidProcess","actionType","guidWFClass","hasStartForm","processStartForm","guidprocess","title","processActionFormCollection","processActionForm","addActionToQueue","actionsList","additionalXpaths","additionalXpath","idParentWorkitem","entityXpath","newValueActionsList","removeActionToQueue","controlValue","countSameActions","count","getPropertiesActionLaucher","actionsLaucher","getTagList","processPropertyValueExecuteConstructor","pguidConstructor","guidConstructor","guidObject","displayNamee","taglist","decoratedClass","showColumn","isReadonly","instanceDecoratedClass","applyOverrides","propertyOverrides","invalidElement","overrideDecoratedRenderProperties","renderSummary","postRenderSummary","setSurrogateKey","defaultvalue","setDefaultValue","getCompositeValue","overrideProperties","getSortName","getAnyDecoratedInstance","getSortColumn","timeOutDecorated","arrayEach","originalGetData","getDataForAllCells","findDataById","fetchingData","valueForGrid","tableCell","formattedDate","compositeValue","templates","loadOverrides","initAsyncStuff","loadTemplates","loadTemplate","templateDestination","templateService","resolvedTemplate","getCommonTemplate","containerParams","mobileform","formTemplate","usersForm","section","contentPanel","nestedForm","tabItem","accordion","accordionItem","group","mobilegroup","searchForm","renderParams","extendedText","mobiletext","check","yesno","cascadingCombo","multiSelect","radio","image","ecm","upload","searchList","letter","formLink","link","layoutImage","layoutLink","layoutLabel","layoutText","layoutDateTime","layoutNumber","layoutMoney","layoutPlaceholder","actionLauncher","layoutBoolean","layoutUpload","entityTemplate","polymorphicLauncher","userfieldWrapper","getSearchRender","getQueryRender","fileprint","collectionnavigator","getUser","rangeDate","rangeMoney","rangeNumber","activityCheckList","columnParams","exclusiveCheck","uploadecm","numberScientificNotation","queryExtendedText","queryText","queryCheck","queryYesNo","queryNumber","queryMoney","queryDate","queryCombo","queryCascadingCombo","querySuggest","queryLabel","queryList","queryMultiSelect","querySearch","queryRadio","queryState","queryCaseState","queryProcess","querySearchUser","execution_device","cachedFactory","getRenderFactory","print","factory","tablet","isSmartphoneDevice","smartphone","getDataService","executionDeferred","deviceFactory","getFactory","subscribe","unsubscribe","publish","update","doc","ownerDocument","location","queryString","getQueryString","sendExecutingPostMessageWebparts","process","refreshing","pathProcess","insertBefore","lastWidth","lastHeight","timeoutResize","resizeInPopUpHTML","configureOpenForm","configureRefresh","configureRouting","configureRenderError","configureResize","configureGlobalHandlers","stopAndLog","enableE2EInterface","errorTemplate","getFormData","transformGridControl","processForm","getFailDeferred","jsonErrorMessage","refreshParams","fastEmpty","canvasParent","timeoutTrigger","resizeTimeout","forceResize","triggerParams","heightActivitiFormContainer","renderForm","buttonContainer","heightButtonContainer","renderBehavior","postMessageSocket","heightCanvas","innerHeight","iframeCommunicator"],"mappings":"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","sourcesContent":["function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /**\r\n                                                                                                                                                                                                                                                                                                                                                                                * Mobiscroll version 4.8.5\r\n                                                                                                                                                                                                                                                                                                                                                                                * 10-Feb-2020\r\n                                                                                                                                                                                                                                                                                                                                                                                */\n/* eslint-disable */\n!function (e, t) {\n  e.mobiscroll = t(e.jQuery);\n}(this, function (e) {\n  \"use strict\";\n  function t(e, t, a) {\n    var s = e;\n    return \"object\" === (\"undefined\" == typeof t ? \"undefined\" : I(t)) ? e.each(function () {\n      new t.component(this, t);\n    }) : (\"string\" == typeof t && e.each(function () {\n      var e,n = W.instances[this.id];\n      if (n && n[t] && (e = n[t].apply(this, Array.prototype.slice.call(a, 1)),\n      void 0 !== e))\n      return s = e,\n      !1;\n    }),\n    s);\n  }\n  function a(e, a, s) {\n    q[e] = function (n) {\n      return t(this, z(n, {\n        component: a,\n        preset: s === !1 ? void 0 : e }),\n      arguments);\n    };\n  }\n  function s() {}\n  function n(e) {\n    var t,a = [];\n    for (t in e) {\n      a.push(e[t]);}\n    return a;\n  }\n  function o(e) {\n    return e - parseFloat(e) >= 0;\n  }\n  function i(e) {\n    return \"string\" == typeof e;\n  }\n  function r(e, t, a) {\n    return Math.max(t, Math.min(e, a));\n  }\n  function l(e, t) {\n    for (e += \"\",\n    t = t || 2; e.length < t;) {\n      e = \"0\" + e;}\n    return e;\n  }\n  function c(e) {\n    \"vibrate\" in navigator && navigator.vibrate(e || 50);\n  }\n  function d() {\n    se++,\n    setTimeout(function () {\n      se--;\n    }, 500);\n  }\n  function u(e, t) {\n    if (!t.mbscClick) {\n      var a = (e.originalEvent || e).changedTouches[0],\n      s = document.createEvent(\"MouseEvents\");\n      s.initMouseEvent(\"click\", !0, !0, window, 1, a.screenX, a.screenY, a.clientX, a.clientY, !1, !1, !1, !1, 0, null),\n      s.isMbscTap = !0,\n      s.isIonicTap = !0,\n      ne = !0,\n      t.mbscChange = !0,\n      t.mbscClick = !0,\n      t.dispatchEvent(s),\n      ne = !1,\n      d(),\n      setTimeout(function () {\n        delete t.mbscClick;\n      });\n    }\n  }\n  function m(e, t, a) {\n    var s = e.originalEvent || e,\n    n = (a ? \"page\" : \"client\") + t;\n    return s.targetTouches && s.targetTouches[0] ? s.targetTouches[0][n] : s.changedTouches && s.changedTouches[0] ? s.changedTouches[0][n] : e[n];\n  }\n  function f(e, t, a, s, n, o) {\n    function i(e) {\n      b || (s && e.preventDefault(),\n      b = this,\n      f = m(e, \"X\"),\n      h = m(e, \"Y\"),\n      p = !1,\n      v = new Date());\n    }\n    function r(e) {\n      b && !p && (Math.abs(m(e, \"X\") - f) > n || Math.abs(m(e, \"Y\") - h) > n) && (p = !0);\n    }\n    function l(e) {\n      b && (o && new Date() - v < 100 || !p ? u(e, e.target) : d(),\n      b = !1);\n    }\n    function c() {\n      b = !1;\n    }\n    var f,h,b,p,v,g = W.$,y = g(t);\n    n = n || 9,\n    e.settings.tap && y.on(\"touchstart.mbsc\", i).on(\"touchcancel.mbsc\", c).on(\"touchmove.mbsc\", r).on(\"touchend.mbsc\", l),\n    y.on(\"click.mbsc\", function (t) {\n      s && t.preventDefault(),\n      a.call(this, t, e);\n    });\n  }\n  function h(e) {\n    if (se && !ne && !e.isMbscTap && (\"TEXTAREA\" != e.target.nodeName || \"mousedown\" != e.type))\n    return e.stopPropagation(),\n    e.preventDefault(),\n    !1;\n  }\n  function b(e) {\n    return e[0].innerWidth || e.innerWidth();\n  }\n  function p(e, t, a, s, n, o, i) {\n    var r = new Date(e, t, a, s || 0, n || 0, o || 0, i || 0);\n    return 23 == r.getHours() && 0 === (s || 0) && r.setHours(r.getHours() + 2),\n    r;\n  }\n  function v(e, t, a) {\n    if (!t)\n    return null;\n    var s,n,o = me({}, ge, a),i = function i(t) {\n      for (var a = 0; s + 1 < e.length && e.charAt(s + 1) == t;) {\n        a++,\n        s++;}\n      return a;\n    },r = function r(e, t, a) {\n      var s = \"\" + t;\n      if (i(e))\n      for (; s.length < a;) {\n        s = \"0\" + s;}\n      return s;\n    },l = function l(e, t, a, s) {\n      return i(e) ? s[t] : a[t];\n    },c = \"\",d = !1;\n    for (s = 0; s < e.length; s++) {\n      if (d)\n      \"'\" != e.charAt(s) || i(\"'\") ? c += e.charAt(s) : d = !1;else\n\n      switch (e.charAt(s)) {\n        case \"d\":\n          c += r(\"d\", o.getDay(t), 2);\n          break;\n        case \"D\":\n          c += l(\"D\", t.getDay(), o.dayNamesShort, o.dayNames);\n          break;\n        case \"o\":\n          c += r(\"o\", (t.getTime() - new Date(t.getFullYear(), 0, 0).getTime()) / 864e5, 3);\n          break;\n        case \"m\":\n          c += r(\"m\", o.getMonth(t) + 1, 2);\n          break;\n        case \"M\":\n          c += l(\"M\", o.getMonth(t), o.monthNamesShort, o.monthNames);\n          break;\n        case \"y\":\n          n = o.getYear(t),\n          c += i(\"y\") ? n : (n % 100 < 10 ? \"0\" : \"\") + n % 100;\n          break;\n        case \"h\":\n          var u = t.getHours();\n          c += r(\"h\", u > 12 ? u - 12 : 0 === u ? 12 : u, 2);\n          break;\n        case \"H\":\n          c += r(\"H\", t.getHours(), 2);\n          break;\n        case \"i\":\n          c += r(\"i\", t.getMinutes(), 2);\n          break;\n        case \"s\":\n          c += r(\"s\", t.getSeconds(), 2);\n          break;\n        case \"a\":\n          c += t.getHours() > 11 ? o.pmText : o.amText;\n          break;\n        case \"A\":\n          c += t.getHours() > 11 ? o.pmText.toUpperCase() : o.amText.toUpperCase();\n          break;\n        case \"'\":\n          i(\"'\") ? c += \"'\" : d = !0;\n          break;\n        default:\n          c += e.charAt(s);}}\n\n    return c;\n  }\n  function g(e, t, a) {\n    var s = me({}, ge, a),\n    n = D(s.defaultValue || new Date());\n    if (!e || !t)\n    return n;\n    if (t.getTime)\n    return t;\n    t = \"object\" == (\"undefined\" == typeof t ? \"undefined\" : I(t)) ? t.toString() : t + \"\";\n    var o,i = s.shortYearCutoff,r = s.getYear(n),l = s.getMonth(n) + 1,c = s.getDay(n),d = -1,u = n.getHours(),m = n.getMinutes(),f = 0,h = -1,b = !1,p = function p(t) {\n      var a = o + 1 < e.length && e.charAt(o + 1) == t;\n      return a && o++,\n      a;\n    },v = function v(e) {\n      p(e);\n      var a = \"@\" == e ? 14 : \"!\" == e ? 20 : \"y\" == e ? 4 : \"o\" == e ? 3 : 2,\n      s = new RegExp(\"^\\\\d{1,\" + a + \"}\"),\n      n = t.substr(x).match(s);\n      return n ? (x += n[0].length,\n      parseInt(n[0], 10)) : 0;\n    },g = function g(e, a, s) {\n      var n,o = p(e) ? s : a;\n      for (n = 0; n < o.length; n++) {\n        if (t.substr(x, o[n].length).toLowerCase() == o[n].toLowerCase())\n        return x += o[n].length,\n        n + 1;}\n      return 0;\n    },y = function y() {\n      x++;\n    },x = 0;\n    for (o = 0; o < e.length; o++) {\n      if (b)\n      \"'\" != e.charAt(o) || p(\"'\") ? y() : b = !1;else\n\n      switch (e.charAt(o)) {\n        case \"d\":\n          c = v(\"d\");\n          break;\n        case \"D\":\n          g(\"D\", s.dayNamesShort, s.dayNames);\n          break;\n        case \"o\":\n          d = v(\"o\");\n          break;\n        case \"m\":\n          l = v(\"m\");\n          break;\n        case \"M\":\n          l = g(\"M\", s.monthNamesShort, s.monthNames);\n          break;\n        case \"y\":\n          r = v(\"y\");\n          break;\n        case \"H\":\n          u = v(\"H\");\n          break;\n        case \"h\":\n          u = v(\"h\");\n          break;\n        case \"i\":\n          m = v(\"i\");\n          break;\n        case \"s\":\n          f = v(\"s\");\n          break;\n        case \"a\":\n          h = g(\"a\", [s.amText, s.pmText], [s.amText, s.pmText]) - 1;\n          break;\n        case \"A\":\n          h = g(\"A\", [s.amText, s.pmText], [s.amText, s.pmText]) - 1;\n          break;\n        case \"'\":\n          p(\"'\") ? y() : b = !0;\n          break;\n        default:\n          y();}}\n\n    if (r < 100 && (r += new Date().getFullYear() - new Date().getFullYear() % 100 + (r <= (\"string\" != typeof i ? i : new Date().getFullYear() % 100 + parseInt(i, 10)) ? 0 : -100)),\n    d > -1) {\n      l = 1,\n      c = d;\n      do {\n        var T = 32 - new Date(r, l - 1, 32, 12).getDate();\n        c > T && (l++,\n        c -= T);\n      } while (c > T);\n    }\n    u = h == -1 ? u : h && u < 12 ? u + 12 : h || 12 != u ? u : 0;\n    var _ = s.getDate(r, l - 1, c, u, m, f);\n    return s.getYear(_) != r || s.getMonth(_) + 1 != l || s.getDay(_) != c ? n : _;\n  }\n  function y(e, t) {\n    return Math.round((t - e) / 864e5);\n  }\n  function x(e) {\n    return p(e.getFullYear(), e.getMonth(), e.getDate());\n  }\n  function T(e) {\n    return e.getFullYear() + \"-\" + (e.getMonth() + 1) + \"-\" + e.getDate();\n  }\n  function _(e, t) {\n    var a = \"\",\n    s = \"\";\n    return e && (t.h && (s += l(e.getHours()) + \":\" + l(e.getMinutes()),\n    t.s && (s += \":\" + l(e.getSeconds())),\n    t.u && (s += \".\" + l(e.getMilliseconds(), 3)),\n    t.tz && (s += t.tz)),\n    t.y ? (a += e.getFullYear(),\n    t.m && (a += \"-\" + l(e.getMonth() + 1),\n    t.d && (a += \"-\" + l(e.getDate())),\n    t.h && (a += \"T\" + s))) : t.h && (a = s)),\n    a;\n  }\n  function w(e, t, a) {\n    var s,n,o = {\n      y: 1,\n      m: 2,\n      d: 3,\n      h: 4,\n      i: 5,\n      s: 6,\n      u: 7,\n      tz: 8 };\n\n    if (a)\n    for (s in o) {\n      n = e[o[s] - t],\n      n && (a[s] = \"tz\" == s ? n : 1);}\n  }\n  function M(e, t, a) {\n    var s = window.moment || t.moment,\n    n = t.returnFormat;\n    if (e) {\n      if (\"moment\" == n && s)\n      return s(e);\n      if (\"locale\" == n)\n      return v(a, e, t);\n      if (\"iso8601\" == n)\n      return _(e, t.isoParts);\n    }\n    return e;\n  }\n  function D(e, t, a, s) {\n    var n;\n    return e ? e.getTime ? e : e.toDate ? e.toDate() : (\"string\" == typeof e && (e = e.trim()),\n    (n = be.exec(e)) ? (w(n, 2, s),\n    new Date(1970, 0, 1, n[2] ? +n[2] : 0, n[3] ? +n[3] : 0, n[4] ? +n[4] : 0, n[5] ? +n[5] : 0)) : (n || (n = he.exec(e)),\n    n ? (w(n, 0, s),\n    new Date(n[1] ? +n[1] : 1970, n[2] ? n[2] - 1 : 0, n[3] ? +n[3] : 1, n[4] ? +n[4] : 0, n[5] ? +n[5] : 0, n[6] ? +n[6] : 0, n[7] ? +n[7] : 0)) : g(t, e, a))) : null;\n  }\n  function C(e, t) {\n    return e.getFullYear() == t.getFullYear() && e.getMonth() == t.getMonth() && e.getDate() == t.getDate();\n  }\n  function k(e) {\n    var t;\n    for (t in e) {\n      if (void 0 !== xe[e[t]])\n      return !0;}\n    return !1;\n  }\n  function S() {\n    var e,t = [\"Webkit\", \"Moz\", \"O\", \"ms\"];\n    for (e in t) {\n      if (k([t[e] + \"Transform\"]))\n      return \"-\" + t[e].toLowerCase() + \"-\";}\n    return \"\";\n  }\n  function V(e, t) {\n    if (\"touchstart\" == e.type)\n    ie(t).attr(\"data-touch\", \"1\");else\n    if (ie(t).attr(\"data-touch\"))\n    return ie(t).removeAttr(\"data-touch\"),\n    !1;\n    return !0;\n  }\n  function Y(e, t) {\n    var a,s,n = getComputedStyle(e[0]);\n    return ie.each([\"t\", \"webkitT\", \"MozT\", \"OT\", \"msT\"], function (e, t) {\n      if (void 0 !== n[t + \"ransform\"])\n      return a = n[t + \"ransform\"],\n      !1;\n    }),\n    a = a.split(\")\")[0].split(\", \"),\n    s = t ? a[13] || a[5] : a[12] || a[4];\n  }\n  function A(e) {\n    if (e) {\n      if (ke[e])\n      return ke[e];\n      var t = ie('<div style=\"background-color:' + e + ';\"></div>').appendTo(\"body\"),\n      a = getComputedStyle(t[0]),\n      s = a.backgroundColor.replace(/rgb|rgba|\\(|\\)|\\s/g, \"\").split(\",\"),\n      n = .299 * s[0] + .587 * s[1] + .114 * s[2],\n      o = n < 130 ? \"#fff\" : \"#000\";\n      return t.remove(),\n      ke[e] = o,\n      o;\n    }\n  }\n  function E(e, t, a, n, o, i) {\n    function r(e) {\n      var t;\n      b = ie(this),\n      _ = +b.attr(\"data-step\"),\n      v = +b.attr(\"data-index\"),\n      p = !0,\n      o && e.stopPropagation(),\n      \"touchstart\" == e.type && b.closest(\".mbsc-no-touch\").removeClass(\"mbsc-no-touch\"),\n      \"mousedown\" == e.type && e.preventDefault(),\n      \"keydown\" != e.type ? (x = m(e, \"X\"),\n      T = m(e, \"Y\"),\n      t = V(e, this)) : t = 32 === e.keyCode,\n      g || !t || b.hasClass(\"mbsc-disabled\") || (u(v, _, e) && (b.addClass(\"mbsc-active\"),\n      i && i.addRipple(b.find(\".mbsc-segmented-content\"), e)),\n      \"mousedown\" == e.type && ie(document).on(\"mousemove\", l).on(\"mouseup\", c));\n    }\n    function l(e) {\n      (Math.abs(x - m(e, \"X\")) > 7 || Math.abs(T - m(e, \"Y\")) > 7) && (p = !0,\n      d());\n    }\n    function c(e) {\n      \"touchend\" == e.type && e.preventDefault(),\n      d(),\n      \"mouseup\" == e.type && ie(document).off(\"mousemove\", l).off(\"mouseup\", c);\n    }\n    function d() {\n      g = !1,\n      clearInterval(w),\n      b && (b.removeClass(\"mbsc-active\"),\n      i && setTimeout(function () {\n        i.removeRipple();\n      }, 100));\n    }\n    function u(e, t, a) {\n      return g || M(e) || (v = e,\n      _ = t,\n      y = a,\n      g = !0,\n      p = !1,\n      setTimeout(f, 100)),\n      g;\n    }\n    function f() {\n      return b && b.hasClass(\"mbsc-disabled\") ? void d() : (!g && p || (p = !0,\n      t(v, _, y, f)),\n      void (g && a && (clearInterval(w),\n      w = setInterval(function () {\n        t(v, _, y);\n      }, a))));\n    }\n    function h() {\n      e.off(\"touchstart mousedown keydown\", r).off(\"touchmove\", l).off(\"touchend touchcancel keyup\", c);\n    }\n    var b,p,v,g,y,x,T,_,w,M = n || s;\n    return e.on(\"touchstart mousedown keydown\", r).on(\"touchmove\", l).on(\"touchend touchcancel keyup\", c),\n    {\n      start: u,\n      stop: d,\n      destroy: h };\n\n  }\n  function F(e, t, a) {\n    function s() {\n      l.style.width = \"100000px\",\n      l.style.height = \"100000px\",\n      r.scrollLeft = 1e5,\n      r.scrollTop = 1e5,\n      u.scrollLeft = 1e5,\n      u.scrollTop = 1e5;\n    }\n    function n() {\n      var e = new Date();\n      c = 0,\n      m || (e - f > 200 && !r.scrollTop && !r.scrollLeft && (f = e,\n      s()),\n      c || (c = te(n)));\n    }\n    function o() {\n      d || (d = te(i));\n    }\n    function i() {\n      d = 0,\n      s(),\n      t();\n    }\n    var r = void 0,\n    l = void 0,\n    c = void 0,\n    d = void 0,\n    u = void 0,\n    m = void 0,\n    f = 0,\n    h = document.createElement(\"div\");\n    return h.innerHTML = Ee,\n    h.dir = \"ltr\",\n    u = h.childNodes[1],\n    r = h.childNodes[0],\n    l = r.childNodes[0],\n    e.appendChild(h),\n    r.addEventListener(\"scroll\", o),\n    u.addEventListener(\"scroll\", o),\n    a ? a.runOutsideAngular(function () {\n      te(n);\n    }) : te(n),\n    {\n      detach: function detach() {\n        e.removeChild(h),\n        m = !0;\n      } };\n\n  }\n  function N(e) {\n    return (e + \"\").replace('\"', \"___\");\n  }\n  function H(e) {\n    return e < -1e-7 ? Math.ceil(e - 1e-7) : Math.floor(e + 1e-7);\n  }\n  function P(e, t, a) {\n    e = parseInt(e),\n    t = parseInt(t),\n    a = parseInt(a);\n    var s,n,o,i,r,l,c = new Array(3);\n    return s = H((11 * e + 3) / 30) + 354 * e + 30 * t - H((t - 1) / 2) + a + 1948440 - 385,\n    s > 2299160 ? (n = s + 68569,\n    i = H(4 * n / 146097),\n    n -= H((146097 * i + 3) / 4),\n    r = H(4e3 * (n + 1) / 1461001),\n    n = n - H(1461 * r / 4) + 31,\n    o = H(80 * n / 2447),\n    a = n - H(2447 * o / 80),\n    n = H(o / 11),\n    t = o + 2 - 12 * n,\n    e = 100 * (i - 49) + r + n) : (o = s + 1402,\n    l = H((o - 1) / 1461),\n    n = o - 1461 * l,\n    i = H((n - 1) / 365) - H(n / 1461),\n    r = n - 365 * i + 30,\n    o = H(80 * r / 2447),\n    a = r - H(2447 * o / 80),\n    r = H(o / 11),\n    t = o + 2 - 12 * r,\n    e = 4 * l + i + r - 4716),\n    c[2] = a,\n    c[1] = t,\n    c[0] = e,\n    c;\n  }\n  function L(e, t, a) {\n    e = parseInt(e),\n    t = parseInt(t),\n    a = parseInt(a);\n    var s,n,o,i,r = new Array(0, 0, 0);\n    return s = e > 1582 || 1582 == e && t > 10 || 1582 == e && 10 == t && a > 14 ? H(1461 * (e + 4800 + H((t - 14) / 12)) / 4) + H(367 * (t - 2 - 12 * H((t - 14) / 12)) / 12) - H(3 * H((e + 4900 + H((t - 14) / 12)) / 100) / 4) + a - 32075 : 367 * e - H(7 * (e + 5001 + H((t - 9) / 7)) / 4) + H(275 * t / 9) + a + 1729777,\n    n = s - 1948440 + 10632,\n    i = H((n - 1) / 10631),\n    n = n - 10631 * i + 354,\n    o = H((10985 - n) / 5316) * H(50 * n / 17719) + H(n / 5670) * H(43 * n / 15238),\n    n = n - H((30 - o) / 15) * H(17719 * o / 50) - H(o / 16) * H(15238 * o / 43) + 29,\n    t = H(24 * n / 709),\n    a = n - H(709 * t / 24),\n    e = 30 * i + o - 30,\n    r[2] = a,\n    r[1] = t,\n    r[0] = e,\n    r;\n  }\n  e = e && e.hasOwnProperty(\"default\") ? e[\"default\"] : e;\n  var W = W || {},\n  $ = {},\n  O = {},\n  I = \"function\" == typeof Symbol && \"symbol\" == _typeof(Symbol.iterator) ? function (e) {\n    return _typeof(e);\n  } :\n  function (e) {\n    return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : _typeof(e);\n  },\n  z = e.extend,\n  q = {};\n  W.$ = e,\n  e.mobiscroll = W,\n  e.fn.mobiscroll = function (e) {\n    return z(this, q),\n    t(this, e, arguments);\n  };\n\n  var R,X,U,J,j = [],B = \"undefined\" != typeof window,G = B ? navigator.userAgent : \"\",Q = B ? navigator.platform : \"\",Z = B ? navigator.maxTouchPoints : 0,K = /Safari/.test(G),ee = G.match(/Android|iPhone|iPad|iPod|Windows Phone|Windows|MSIE/i),te = B && window.requestAnimationFrame || function (e) {\n    return setTimeout(e, 20);\n  },\n  ae = B && window.cancelAnimationFrame || function (e) {\n    clearTimeout(e);\n  };\n\n  /Android/i.test(ee) ? (R = \"android\",\n  X = G.match(/Android\\s+([\\d\\.]+)/i),\n  X && (j = X[0].replace(\"Android \", \"\").split(\".\"))) : /iPhone|iPad|iPod/i.test(ee) || /iPhone|iPad|iPod/i.test(Q) || \"MacIntel\" === Q && Z > 1 ? (R = \"ios\",\n  X = G.match(/OS\\s+([\\d\\_]+)/i),\n  X && (j = X[0].replace(/_/g, \".\").replace(\"OS \", \"\").split(\".\"))) : /Windows Phone/i.test(ee) ? R = \"wp\" : /Windows|MSIE/i.test(ee) && (R = \"windows\"),\n  U = j[0],\n  J = j[1];\n  var se = 0,\n  ne = void 0;\n  B && ([\"mouseover\", \"mousedown\", \"mouseup\", \"click\"].forEach(function (e) {\n    document.addEventListener(e, h, !0);\n  }),\n  \"android\" == R && U < 5 && document.addEventListener(\"change\", function (e) {\n    se && \"checkbox\" == e.target.type && !e.target.mbscChange && (e.stopPropagation(),\n    e.preventDefault()),\n    delete e.target.mbscChange;\n  }, !0)),\n  W.uid = \"11fd4721\";\n  var oe,ie = W.$,re = +new Date(),le = {},ce = {},de = {},ue = {\n    xsmall: 0,\n    small: 576,\n    medium: 768,\n    large: 992,\n    xlarge: 1200 },\n  me = ie.extend;\n  me($, {\n    getCoord: m,\n    preventClick: d,\n    vibrate: c }),\n\n  oe = me(W, {\n    $: ie,\n    version: \"4.8.5\",\n    autoTheme: \"mobiscroll\",\n    themes: {\n      form: {},\n      page: {},\n      frame: {},\n      scroller: {},\n      listview: {},\n      navigation: {},\n      progress: {},\n      card: {} },\n\n    platform: {\n      name: R,\n      majorVersion: U,\n      minorVersion: J },\n\n    i18n: {},\n    instances: le,\n    classes: ce,\n    util: $,\n    settings: {},\n    setDefaults: function setDefaults(e) {\n      me(this.settings, e);\n    },\n    customTheme: function customTheme(e, t) {\n      var a,s = W.themes,n = [\"frame\", \"scroller\", \"listview\", \"navigation\", \"form\", \"page\", \"progress\", \"card\"];\n      for (a = 0; a < n.length; a++) {\n        s[n[a]][e] = me({}, s[n[a]][t], {\n          baseTheme: t });}\n\n    } });\n\n  var fe = function fe(e, t) {\n    function a(e) {\n      var t,a = de;\n      return c.responsive && (t = e || b(o),\n      ie.each(c.responsive, function (e, s) {\n        t >= (s.breakpoint || ue[e]) && (a = s);\n      })),\n      a;\n    }\n    function n() {\n      ie(e).addClass(\"mbsc-comp\"),\n      e.id ? le[e.id] && le[e.id].destroy() : e.id = \"mobiscroll\" + ++re,\n      le[e.id] = p,\n      p.__ready = !0;\n    }\n    var o,i,r,l,c,d,u,m,h,p = this;\n    p.settings = {},\n    p.element = e,\n    p._init = s,\n    p._destroy = s,\n    p._processSettings = s,\n    p._checkResp = function (e) {\n      if (p && p._responsive) {\n        var t = a(e);\n        if (l !== t)\n        return l = t,\n        p.init({}),\n        !0;\n      }\n    },\n\n    p._getRespCont = function () {\n      return ie(c.context)[0];\n    },\n\n    p.init = function (s, n) {\n      var f, b;\n      s && p.getVal && (b = p.getVal());\n      for (f in p.settings) {\n        delete p.settings[f];}\n      c = p.settings,\n      me(t, s),\n      p._hasDef && (h = oe.settings),\n      me(c, p._defaults, h, t),\n      p._hasTheme && (u = c.theme,\n      \"auto\" != u && u || (u = oe.autoTheme),\n      \"default\" == u && (u = \"mobiscroll\"),\n      t.theme = u,\n      d = oe.themes[p._class] ? oe.themes[p._class][u] : {}),\n      p._hasLang && (i = oe.i18n[c.lang]),\n      me(c, d, i, h, t),\n      o = p._getRespCont(),\n      p._responsive && (l || (l = a()),\n      me(c, l)),\n      p._processSettings(l || {}),\n      p._presets && (r = p._presets[c.preset],\n      r && (r = r.call(e, p, t),\n      me(c, r, t, l))),\n      p._init(s),\n      s && p.setVal && p.setVal(void 0 === n ? b : n, !0),\n      m(\"onInit\");\n    },\n\n    p.destroy = function () {\n      p && (p._destroy(),\n      m(\"onDestroy\"),\n      delete le[e.id],\n      p = null);\n    },\n\n    p.tap = function (e, t, a, s, n) {\n      f(p, e, t, a, s, n);\n    },\n\n    p.trigger = function (a, s) {\n      var n,o,i,l = [h, d, r, t];\n      for (o = 0; o < 4; o++) {\n        i = l[o],\n        i && i[a] && (n = i[a].call(e, s || {}, p));}\n      return n;\n    },\n\n    p.option = function (e, a, s) {\n      var n = {},\n      o = [\"data\", \"invalid\", \"valid\", \"readonly\"];\n      /calendar|eventcalendar|range/.test(c.preset) && o.push(\"marked\", \"labels\", \"colors\"),\n      \"object\" === (\"undefined\" == typeof e ? \"undefined\" : I(e)) ? n = e : n[e] = a,\n      o.forEach(function (e) {\n        t[e] = c[e];\n      }),\n      p.init(n, s);\n    },\n\n    p.getInst = function () {\n      return p;\n    },\n\n    t = t || {},\n    m = p.trigger,\n    p.__ready || n();\n  },\n  he = /^(\\d{4}|[+\\-]\\d{6})(?:-(\\d{2})(?:-(\\d{2}))?)?(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:\\.(\\d{3}))?)?((Z)|([+\\-])(\\d{2})(?::(\\d{2}))?)?)?$/,\n  be = /^((\\d{2}):(\\d{2})(?::(\\d{2})(?:\\.(\\d{3}))?)?(?:(Z)|([+\\-])(\\d{2})(?::(\\d{2}))?)?)?$/,\n  pe = /^\\d{1,2}(\\/\\d{1,2})?$/,\n  ve = /^w\\d$/i,\n  ge = {\n    shortYearCutoff: \"+10\",\n    monthNames: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n    monthNamesShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n    dayNames: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n    dayNamesShort: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n    dayNamesMin: [\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\n    amText: \"am\",\n    pmText: \"pm\",\n    getYear: function getYear(e) {\n      return e.getFullYear();\n    },\n    getMonth: function getMonth(e) {\n      return e.getMonth();\n    },\n    getDay: function getDay(e) {\n      return e.getDate();\n    },\n    getDate: p,\n    getMaxDayOfMonth: function getMaxDayOfMonth(e, t) {\n      return 32 - new Date(e, t, 32, 12).getDate();\n    },\n    getWeekNumber: function getWeekNumber(e) {\n      e = new Date(e),\n      e.setHours(0, 0, 0),\n      e.setDate(e.getDate() + 4 - (e.getDay() || 7));\n      var t = new Date(e.getFullYear(), 0, 1);\n      return Math.ceil(((e - t) / 864e5 + 1) / 7);\n    } };\n\n  $.datetime = {\n    formatDate: v,\n    parseDate: g };\n\n  var ye,xe,Te,_e,we,Me,De,Ce,ke = {};\n  B && (xe = document.createElement(\"modernizr\").style,\n  Te = S(),\n  Ce = Te.replace(/^\\-/, \"\").replace(/\\-$/, \"\").replace(\"moz\", \"Moz\"),\n  ye = void 0 !== xe.animation ? \"animationend\" : \"webkitAnimationEnd\",\n  we = void 0 !== xe.transition,\n  Me = \"ios\" === R && !K,\n  De = Me && window.webkit && window.webkit.messageHandlers,\n  _e = void 0 === xe.touchAction || Me && !De);\n  var Se,Ve,Ye = \"position:absolute;left:0;top:0;\",Ae = Ye + \"right:0;bottom:0;overflow:hidden;z-index:-1;\",Ee = '<div style=\"' + Ae + '\"><div style=\"' + Ye + '\"></div></div><div style=\"' + Ae + '\"><div style=\"' + Ye + 'width:200%;height:200%;\"></div></div>',Fe = W.themes,Ne = /(iphone|ipod)/i.test(G) && U >= 7,He = \"android\" == R,Pe = \"ios\" == R,Le = Pe && 8 == U,We = Pe && U > 7,$e = function $e(e) {\n    e.preventDefault();\n  },Oe = \"input,select,textarea,button\",Ie = 'textarea,button,input[type=\"button\"],input[type=\"submit\"]',ze = Oe + ',[tabindex=\"0\"]',qe = function qe(e, t, a) {\n    function n(e) {\n      Y && Y.removeClass(\"mbsc-active\"),\n      Y = ie(this),\n      Y.hasClass(\"mbsc-disabled\") || Y.hasClass(\"mbsc-fr-btn-nhl\") || Y.addClass(\"mbsc-active\"),\n      \"mousedown\" === e.type ? ie(document).on(\"mouseup\", o) : \"pointerdown\" === e.type && ie(document).on(\"pointerup\", o);\n    }\n    function o(e) {\n      Y && (Y.removeClass(\"mbsc-active\"),\n      Y = null),\n      \"mouseup\" === e.type ? ie(document).off(\"mouseup\", o) : \"pointerup\" === e.type && ie(document).off(\"pointerup\", o);\n    }\n    function l(e) {\n      W.activeInstance == te && (13 != e.keyCode || ie(e.target).is(Ie) && !e.shiftKey ? 27 == e.keyCode && te.cancel() : te.select());\n    }\n    function c(e) {\n      e || He || !te._activeElm || (ne = new Date(),\n      te._activeElm.focus());\n    }\n    function u(e) {\n      var t = Se,\n      a = B.focusOnClose;\n      te._markupRemove(),\n      w.remove(),\n      H && (A.mbscModals--,\n      B.scrollLock && A.mbscLock--,\n      A.mbscLock || _.removeClass(\"mbsc-fr-lock\"),\n      q && (A.mbscIOSLock--,\n      A.mbscIOSLock || (_.removeClass(\"mbsc-fr-lock-ios\"),\n      x.css({\n        top: \"\",\n        left: \"\" }),\n\n      k.scrollLeft(A.mbscScrollLeft),\n      k.scrollTop(A.mbscScrollTop))),\n      A.mbscModals || _.removeClass(\"mbsc-fr-lock-ctx\"),\n      A.mbscModals && !j || e || (t || (t = ae),\n      setTimeout(function () {\n        void 0 === a || a === !0 ? (Ve = !0,\n        t[0].focus()) : a && ie(a)[0].focus();\n      }, 200))),\n      j = void 0,\n      P = !1,\n      Z(\"onHide\");\n    }\n    function f() {\n      clearTimeout(J),\n      J = setTimeout(function () {\n        te.position(!0) && (U.style.visibility = \"hidden\",\n        U.offsetHeight,\n        U.style.visibility = \"\");\n      }, 200);\n    }\n    function h(e) {\n      W.activeInstance == te && e.target.nodeType && !X.contains(e.target) && new Date() - ne > 100 && (ne = new Date(),\n      te._activeElm.focus());\n    }\n    function b(e, t) {\n      function a() {\n        w.off(ye, a).removeClass(\"mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-\" + E).find(\".mbsc-fr-popup\").removeClass(\"mbsc-anim-\" + E),\n        c(t);\n      }\n      if (H)\n      w.appendTo(x);else\n      if (ae.is(\"div\") && !te._hasContent)\n      ae.empty().append(w);else\n      if (ae.hasClass(\"mbsc-control\")) {\n        var s = ae.closest(\".mbsc-control-w\");\n        w.insertAfter(s),\n        s.hasClass(\"mbsc-select\") && s.addClass(\"mbsc-select-inline\");\n      } else\n      w.insertAfter(ae);\n      if (P = !0,\n      te._markupInserted(w),\n      Z(\"onMarkupInserted\", {\n        target: $ }),\n\n      H && B.closeOnOverlayTap) {\n        var r, l, u, h;\n        M.on(\"touchstart mousedown\", function (e) {\n          l || e.target != X || (l = !0,\n          r = !1,\n          u = m(e, \"X\"),\n          h = m(e, \"Y\"));\n        }).on(\"touchmove mousemove\", function (e) {\n          l && !r && (Math.abs(m(e, \"X\") - u) > 9 || Math.abs(m(e, \"Y\") - h) > 9) && (r = !0);\n        }).on(\"touchcancel\", function () {\n          l = !1;\n        }).on(\"touchend click\", function (e) {\n          l && !r && (te.cancel(),\n          \"touchend\" == e.type && d()),\n          l = !1;\n        });\n      }\n      w.on(\"mousedown\", \".mbsc-btn-e,.mbsc-fr-btn-e\", $e).on(\"touchstart mousedown\", function (e) {\n        B.stopProp && e.stopPropagation();\n      }).on(\"keydown\", \".mbsc-fr-btn-e\", function (e) {\n        32 == e.keyCode && (e.preventDefault(),\n        e.stopPropagation(),\n        this.click());\n      }).on(\"keydown\", function (e) {\n        if (32 != e.keyCode || ie(e.target).is(Oe)) {\n          if (9 == e.keyCode && H && B.focusTrap) {\n            var t = w.find(ze).filter(function () {\n              return this.offsetWidth > 0 || this.offsetHeight > 0;\n            }),\n            a = t.index(ie(\":focus\", w)),\n            s = t.length - 1,\n            n = 0;\n            e.shiftKey && (s = 0,\n            n = -1),\n            a === s && (t.eq(n)[0].focus(),\n            e.preventDefault());\n          }\n        } else\n        e.preventDefault();\n      }).on(\"touchstart mousedown pointerdown\", \".mbsc-fr-btn-e\", n).on(\"touchend\", \".mbsc-fr-btn-e\", o),\n      $.addEventListener(\"touchstart\", function () {\n        Q || (Q = !0,\n        x.find(\".mbsc-no-touch\").removeClass(\"mbsc-no-touch\"));\n      }, !0),\n      ie.each(V, function (e, t) {\n        te.tap(ie(\".mbsc-fr-btn\" + e, w), function (e) {\n          t = i(t) ? te.buttons[t] : t,\n          (i(t.handler) ? te.handlers[t.handler] : t.handler).call(this, e, te);\n        }, !0);\n      }),\n      te._attachEvents(w),\n      te.position() !== !1 && ((H || te._checkSize) && (R = F($, f, B.zone)),\n      H && (w.removeClass(\"mbsc-fr-pos\"),\n      E && !e ? w.addClass(\"mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-\" + E).on(ye, a).find(\".mbsc-fr-popup\").addClass(\"mbsc-anim-\" + E) : c(t)),\n      Z(\"onShow\", {\n        target: $,\n        valueText: te._tempValue }));\n\n    }\n    function p(e, t) {\n      te._isVisible || (e && e(),\n      te.show() !== !1 && (Se = t));\n    }\n    function v() {\n      te._fillValue(),\n      Z(\"onSet\", {\n        valueText: te._value });\n\n    }\n    function g() {\n      Z(\"onCancel\", {\n        valueText: te._value });\n\n    }\n    function y() {\n      te.setVal(null, !0);\n    }\n    var x,T,_,w,M,D,C,k,S,V,Y,A,E,N,H,P,L,$,O,I,z,q,R,X,U,J,j,B,G,Q,Z,K,ee,te = this,ae = ie(e),se = [],ne = new Date();\n    fe.call(this, e, t, !0),\n    te.position = function (e) {\n      var t,a,s,n,o,i,l,c,d,u,m,f,h,b,p,v,g,y,T,_ = {},M = 0,V = 0,Y = 0,E = 0;\n      if (!P)\n      return !1;\n      if (v = K,\n      p = ee,\n      h = $.offsetHeight,\n      b = $.offsetWidth,\n      b && h && (K !== b || ee !== h || !e)) {\n        if (te._checkResp(b))\n        return !1;\n        if (K = b,\n        ee = h,\n        te._isFullScreen || /top|bottom/.test(B.display) ? C.width(b) : H && S.width(\"\"),\n        te._position(w),\n        !te._isFullScreen && /center|bubble/.test(B.display) && (ie(\".mbsc-w-p\", w).each(function () {\n          g = this.getBoundingClientRect().width,\n          E += g,\n          Y = g > Y ? g : Y;\n        }),\n        f = E > b - 16 || B.tabs === !0,\n        S.css({\n          width: te._isLiquid ? Math.min(B.maxPopupWidth, b - 16) : Math.ceil(f ? Y : E),\n          \"white-space\": f ? \"\" : \"nowrap\" })),\n\n        Z(\"onPosition\", {\n          target: $,\n          popup: U,\n          hasTabs: f,\n          oldWidth: v,\n          oldHeight: p,\n          windowWidth: b,\n          windowHeight: h }) !==\n        !1 && H)\n        return z && (M = k.scrollLeft(),\n        V = k.scrollTop(),\n        K && D.css({\n          width: \"\",\n          height: \"\" })),\n\n        O = U.offsetWidth,\n        I = U.offsetHeight,\n        G = I <= h && O <= b,\n        \"center\" == B.display ? (T = Math.max(0, M + (b - O) / 2),\n        y = Math.max(0, V + (h - I) / 2)) : \"bubble\" == B.display ? (t = void 0 === B.anchor ? ae : ie(B.anchor),\n        l = ie(\".mbsc-fr-arr-i\", w)[0],\n        n = t.offset(),\n        o = n.top + (N ? V - x.offset().top : 0),\n        i = n.left + (N ? M - x.offset().left : 0),\n        a = t[0].offsetWidth,\n        s = t[0].offsetHeight,\n        c = l.offsetWidth,\n        d = l.offsetHeight,\n        T = r(i - (O - a) / 2, M + 3, M + b - O - 3),\n        y = o + s + d / 2,\n        y + I + 8 > V + h && o - I - d / 2 > V ? (C.removeClass(\"mbsc-fr-bubble-bottom\").addClass(\"mbsc-fr-bubble-top\"),\n        y = o - I - d / 2) : C.removeClass(\"mbsc-fr-bubble-top\").addClass(\"mbsc-fr-bubble-bottom\"),\n        ie(\".mbsc-fr-arr\", w).css({\n          left: r(i + a / 2 - (T + (O - c) / 2), 0, c) }),\n\n        G = y > V && T > M && y + I <= V + h && T + O <= M + b) : (T = M,\n        y = \"top\" == B.display ? V : Math.max(0, V + h - I)),\n        z && (u = Math.max(y + I, N ? A.scrollHeight : ie(document).height()),\n        m = Math.max(T + O, N ? A.scrollWidth : ie(document).width()),\n        D.css({\n          width: m,\n          height: u }),\n\n        B.scroll && \"bubble\" == B.display && (y + I + 8 > V + h || o > V + h || o + s < V) && k.scrollTop(Math.min(o, y + I - h + 8, u - h))),\n        _.top = Math.floor(y),\n        _.left = Math.floor(T),\n        C.css(_),\n        !0;\n      }\n    },\n\n    te.attachShow = function (e, t) {\n      var a,s = ie(e).off(\".mbsc\"),n = s.prop(\"readonly\");\n      \"inline\" !== B.display && ((B.showOnFocus || B.showOnTap) && s.is(\"input,select\") && (s.prop(\"readonly\", !0).on(\"mousedown.mbsc\", function (e) {\n        e.preventDefault();\n      }).on(\"focus.mbsc\", function () {\n        te._isVisible && this.blur();\n      }),\n      a = ie('label[for=\"' + s.attr(\"id\") + '\"]'),\n      a.length || (a = s.closest(\"label\"))),\n      s.is(\"select\") || (B.showOnFocus && s.on(\"focus.mbsc\", function () {\n        Ve ? Ve = !1 : p(t, s);\n      }),\n      B.showOnTap && (s.on(\"keydown.mbsc\", function (e) {\n        32 != e.keyCode && 13 != e.keyCode || (e.preventDefault(),\n        e.stopPropagation(),\n        p(t, s));\n      }),\n      te.tap(s, function (e) {\n        e.isMbscTap && (Q = !0),\n        p(t, s);\n      }),\n      a && a.length && te.tap(a, function (e) {\n        e.preventDefault(),\n        e.target !== s[0] && p(t, s);\n      }))),\n      se.push({\n        readOnly: n,\n        el: s,\n        lbl: a }));\n\n    },\n\n    te.select = function () {\n      H ? te.hide(!1, \"set\", !1, v) : v();\n    },\n\n    te.cancel = function () {\n      H ? te.hide(!1, \"cancel\", !1, g) : g();\n    },\n\n    te.clear = function () {\n      te._clearValue(),\n      Z(\"onClear\"),\n      H && te._isVisible && !te.live ? te.hide(!1, \"clear\", !1, y) : y();\n    },\n\n    te.enable = function () {\n      B.disabled = !1,\n      ie.each(se, function (e, t) {\n        t.el.is(\"input,select\") && (t.el[0].disabled = !1);\n      });\n    },\n\n    te.disable = function () {\n      B.disabled = !0,\n      ie.each(se, function (e, t) {\n        t.el.is(\"input,select\") && (t.el[0].disabled = !0);\n      });\n    },\n\n    te.show = function (e, t) {\n      var a, s, n, o;\n      if (!B.disabled && !te._isVisible) {\n        if (te._readValue(),\n        Z(\"onBeforeShow\") === !1)\n        return !1;\n        if (Se = null,\n        E = B.animate,\n        V = B.buttons || [],\n        z = N || \"bubble\" == B.display,\n        q = Ne && !z && B.scrollLock,\n        a = V.length > 0,\n        E !== !1 && (\"top\" == B.display ? E = E || \"slidedown\" : \"bottom\" == B.display ? E = E || \"slideup\" : \"center\" != B.display && \"bubble\" != B.display || (E = E || \"pop\")),\n        H && (K = 0,\n        ee = 0,\n        q && !_.hasClass(\"mbsc-fr-lock-ios\") && (A.mbscScrollTop = o = Math.max(0, k.scrollTop()),\n        A.mbscScrollLeft = n = Math.max(0, k.scrollLeft()),\n        x.css({\n          top: -o + \"px\",\n          left: -n + \"px\" })),\n\n        _.addClass((B.scrollLock ? \"mbsc-fr-lock\" : \"\") + (q ? \" mbsc-fr-lock-ios\" : \"\") + (N ? \" mbsc-fr-lock-ctx\" : \"\")),\n        ie(document.activeElement).is(\"input,textarea\") && document.activeElement.blur(),\n        j = W.activeInstance,\n        W.activeInstance = te,\n        A.mbscModals = (A.mbscModals || 0) + 1,\n        q && (A.mbscIOSLock = (A.mbscIOSLock || 0) + 1),\n        B.scrollLock && (A.mbscLock = (A.mbscLock || 0) + 1)),\n        s = '<div lang=\"' + B.lang + '\" class=\"mbsc-fr mbsc-' + B.theme + (B.baseTheme ? \" mbsc-\" + B.baseTheme : \"\") + \" mbsc-fr-\" + B.display + \" \" + (B.cssClass || \"\") + \" \" + (B.compClass || \"\") + (te._isLiquid ? \" mbsc-fr-liq\" : \"\") + (H ? \" mbsc-fr-pos\" + (B.showOverlay ? \"\" : \" mbsc-fr-no-overlay\") : \"\") + (L ? \" mbsc-fr-pointer\" : \"\") + (We ? \" mbsc-fr-hb\" : \"\") + (Q ? \"\" : \" mbsc-no-touch\") + (q ? \" mbsc-platform-ios\" : \"\") + (a ? V.length >= 3 ? \" mbsc-fr-btn-block \" : \"\" : \" mbsc-fr-nobtn\") + '\">' + (H ? '<div class=\"mbsc-fr-persp\">' + (B.showOverlay ? '<div class=\"mbsc-fr-overlay\"></div>' : \"\") + '<div role=\"dialog\" class=\"mbsc-fr-scroll\">' : \"\") + '<div class=\"mbsc-fr-popup' + (B.rtl ? \" mbsc-rtl\" : \" mbsc-ltr\") + (B.headerText ? \" mbsc-fr-has-hdr\" : \"\") + '\">' + (\"bubble\" === B.display ? '<div class=\"mbsc-fr-arr-w\"><div class=\"mbsc-fr-arr-i\"><div class=\"mbsc-fr-arr\"></div></div></div>' : \"\") + (H ? '<div class=\"mbsc-fr-focus\" tabindex=\"-1\"></div>' : \"\") + '<div class=\"mbsc-fr-w\">' + (B.headerText ? '<div class=\"mbsc-fr-hdr\">' + (i(B.headerText) ? B.headerText : \"\") + \"</div>\" : \"\") + '<div class=\"mbsc-fr-c\">',\n        s += te._generateContent(),\n        s += \"</div>\",\n        a) {\n          var r,c,d,u = V.length;\n          for (s += '<div class=\"mbsc-fr-btn-cont\">',\n          c = 0; c < V.length; c++) {\n            d = B.btnReverse ? u - c - 1 : c,\n            r = V[d],\n            r = i(r) ? te.buttons[r] : r,\n            \"set\" === r.handler && (r.parentClass = \"mbsc-fr-btn-s\"),\n            \"cancel\" === r.handler && (r.parentClass = \"mbsc-fr-btn-c\"),\n            s += \"<div\" + (B.btnWidth ? ' style=\"width:' + 100 / V.length + '%\"' : \"\") + ' class=\"mbsc-fr-btn-w ' + (r.parentClass || \"\") + '\"><div tabindex=\"0\" role=\"button\" class=\"mbsc-fr-btn' + d + \" mbsc-fr-btn-e \" + (void 0 === r.cssClass ? B.btnClass : r.cssClass) + (r.icon ? \" mbsc-ic mbsc-ic-\" + r.icon : \"\") + '\">' + (r.text || \"\") + \"</div></div>\";}\n          s += \"</div>\";\n        }\n        s += \"</div></div></div></div>\" + (H ? \"</div></div>\" : \"\"),\n        w = ie(s),\n        D = ie(\".mbsc-fr-persp\", w),\n        M = ie(\".mbsc-fr-scroll\", w),\n        S = ie(\".mbsc-fr-w\", w),\n        C = ie(\".mbsc-fr-popup\", w),\n        T = ie(\".mbsc-fr-hdr\", w),\n        $ = w[0],\n        X = M[0],\n        U = C[0],\n        te._activeElm = ie(\".mbsc-fr-focus\", w)[0],\n        te._markup = w,\n        te._isVisible = !0,\n        te.markup = $,\n        te._markupReady(w),\n        Z(\"onMarkupReady\", {\n          target: $ }),\n\n        H && (ie(window).on(\"keydown\", l),\n        B.scrollLock && w.on(\"touchmove mousewheel wheel\", function (e) {\n          G && e.preventDefault();\n        }),\n        B.focusTrap && k.on(\"focusin\", h)),\n        H ? setTimeout(function () {\n          b(e, t);\n        }, q ? 100 : 0) : b(e, t);\n      }\n    },\n\n    te.hide = function (e, t, a, s) {\n      function n() {\n        w.off(ye, n),\n        u(e);\n      }\n      return !(!te._isVisible || !a && !te._isValid && \"set\" == t || !a && Z(\"onBeforeClose\", {\n        valueText: te._tempValue,\n        button: t }) ===\n      !1) && (te._isVisible = !1,\n      R && (R.detach(),\n      R = null),\n      H && (ie(document.activeElement).is(\"input,textarea\") && U.contains(document.activeElement) && document.activeElement.blur(),\n      W.activeInstance == te && (W.activeInstance = j),\n      ie(window).off(\"keydown\", l),\n      k.off(\"focusin\", h)),\n      w && (H && E && !e ? w.addClass(\"mbsc-anim-out mbsc-anim-trans mbsc-anim-trans-\" + E).on(ye, n).find(\".mbsc-fr-popup\").addClass(\"mbsc-anim-\" + E) : u(e),\n      te._detachEvents(w)),\n      s && s(),\n      ae.trigger(\"blur\"),\n      void Z(\"onClose\", {\n        valueText: te._value }));\n\n    },\n\n    te.isVisible = function () {\n      return te._isVisible;\n    },\n\n    te.setVal = s,\n    te.getVal = s,\n    te._generateContent = s,\n    te._attachEvents = s,\n    te._detachEvents = s,\n    te._readValue = s,\n    te._clearValue = s,\n    te._fillValue = s,\n    te._markupReady = s,\n    te._markupInserted = s,\n    te._markupRemove = s,\n    te._position = s,\n    te.__processSettings = s,\n    te.__init = s,\n    te.__destroy = s,\n    te._destroy = function () {\n      te.hide(!0, !1, !0),\n      ae.off(\".mbsc\"),\n      ie.each(se, function (e, t) {\n        t.el.off(\".mbsc\").prop(\"readonly\", t.readOnly),\n        t.lbl && t.lbl.off(\".mbsc\");\n      }),\n      te.__destroy();\n    },\n\n    te._updateHeader = function () {\n      var t = B.headerText,\n      a = t ? \"function\" == typeof t ? t.call(e, te._tempValue) : t.replace(/\\{value\\}/i, te._tempValue) : \"\";\n      T.html(a || \"&nbsp;\");\n    },\n\n    te._getRespCont = function () {\n      return N = \"body\" != B.context,\n      k = ie(N ? B.context : window),\n      \"inline\" == B.display ? ae.is(\"div\") ? ae : ae.parent() : k;\n    },\n\n    te._processSettings = function (e) {\n      var a, s;\n      for (te.__processSettings(e),\n      L = !B.touchUi,\n      L && (B.display = e.display || t.display || \"bubble\",\n      B.buttons = e.buttons || t.buttons || [],\n      B.showOverlay = e.showOverlay || t.showOverlay || !1),\n      B.buttons = B.buttons || (\"inline\" !== B.display ? [\"cancel\", \"set\"] : []),\n      B.headerText = void 0 === B.headerText ? \"inline\" !== B.display && \"{value}\" : B.headerText,\n      V = B.buttons || [],\n      H = \"inline\" !== B.display,\n      x = ie(B.context),\n      _ = N ? x : ie(\"body,html\"),\n      A = x[0],\n      te.live = !0,\n      s = 0; s < V.length; s++) {\n        a = V[s],\n        \"ok\" != a && \"set\" != a && \"set\" != a.handler || (te.live = !1);}\n      te.buttons.set = {\n        text: B.setText,\n        icon: B.setIcon,\n        handler: \"set\" },\n\n      te.buttons.cancel = {\n        text: B.cancelText,\n        icon: B.cancelIcon,\n        handler: \"cancel\" },\n\n      te.buttons.close = {\n        text: B.closeText,\n        icon: B.closeIcon,\n        handler: \"cancel\" },\n\n      te.buttons.clear = {\n        text: B.clearText,\n        icon: B.clearIcon,\n        handler: \"clear\" },\n\n      te._isInput = ae.is(\"input\");\n    },\n\n    te._init = function (e) {\n      var t = te._isVisible,\n      a = t && !w.hasClass(\"mbsc-fr-pos\");\n      t && te.hide(!0, !1, !0),\n      ae.off(\".mbsc\"),\n      te.__init(e),\n      te._isLiquid = \"liquid\" == B.layout,\n      H ? (te._readValue(),\n      te._hasContent || B.skipShow || te.attachShow(ae),\n      t && te.show(a)) : te.show(),\n      ae.removeClass(\"mbsc-cloak\").filter(\"input, select, textarea\").on(\"change.mbsc\", function () {\n        te._preventChange || te.setVal(ae.val(), !0, !1),\n        te._preventChange = !1;\n      });\n    },\n\n    te.buttons = {},\n    te.handlers = {\n      set: te.select,\n      cancel: te.cancel,\n      clear: te.clear },\n\n    te._value = null,\n    te._isValid = !0,\n    te._isVisible = !1,\n    B = te.settings,\n    Z = te.trigger,\n    a || te.init();\n  };\n  qe.prototype._defaults = {\n    lang: \"en\",\n    setText: \"Set\",\n    selectedText: \"{count} selected\",\n    closeText: \"Close\",\n    cancelText: \"Cancel\",\n    clearText: \"Clear\",\n    context: \"body\",\n    maxPopupWidth: 600,\n    disabled: !1,\n    closeOnOverlayTap: !0,\n    showOnFocus: He || Pe,\n    showOnTap: !0,\n    display: \"center\",\n    scroll: !0,\n    scrollLock: !0,\n    showOverlay: !0,\n    tap: !0,\n    touchUi: !0,\n    btnClass: \"mbsc-fr-btn\",\n    btnWidth: !0,\n    focusTrap: !0,\n    focusOnClose: !Le },\n\n  ce.Frame = qe,\n  Fe.frame.mobiscroll = {\n    headerText: !1,\n    btnWidth: !1 },\n\n  Fe.scroller.mobiscroll = me({}, Fe.frame.mobiscroll, {\n    rows: 5,\n    showLabel: !1,\n    selectedLineBorder: 1,\n    weekDays: \"min\",\n    checkIcon: \"ion-ios7-checkmark-empty\",\n    btnPlusClass: \"mbsc-ic mbsc-ic-arrow-down5\",\n    btnMinusClass: \"mbsc-ic mbsc-ic-arrow-up5\",\n    btnCalPrevClass: \"mbsc-ic mbsc-ic-arrow-left5\",\n    btnCalNextClass: \"mbsc-ic mbsc-ic-arrow-right5\" }),\n\n  B && ie(window).on(\"focus\", function () {\n    Se && (Ve = !0);\n  });\n  /* eslint-disable no-unused-vars */\n  var Re = \"ios\" == R,\n  Xe = function Xe(e, t, a) {\n    function s(e) {\n      me(\"onStart\", {\n        domEvent: e }),\n\n      ye.stopProp && e.stopPropagation(),\n      ye.prevDef && e.preventDefault(),\n      ye.readonly || ye.lock && I || V(e, this) && !O && (y && y.removeClass(\"mbsc-active\"),\n      H = !1,\n      I || (y = ie(e.target).closest(\".mbsc-btn-e\", this),\n      y.length && !y.hasClass(\"mbsc-disabled\") && (H = !0,\n      _ = setTimeout(function () {\n        y.addClass(\"mbsc-active\");\n      }, 100))),\n      O = !0,\n      B = !1,\n      z = !1,\n      pe.scrolled = I,\n      oe = m(e, \"X\"),\n      re = m(e, \"Y\"),\n      E = oe,\n      M = 0,\n      D = 0,\n      C = 0,\n      ne = new Date(),\n      se = +Y(ce, he) || 0,\n      I && g(se, Re ? 0 : 1),\n      \"mousedown\" === e.type && ie(document).on(\"mousemove\", n).on(\"mouseup\", c));\n    }\n    function n(e) {\n      O && (ye.stopProp && e.stopPropagation(),\n      E = m(e, \"X\"),\n      F = m(e, \"Y\"),\n      M = E - oe,\n      D = F - re,\n      C = he ? D : M,\n      H && (Math.abs(D) > ye.thresholdY || Math.abs(M) > ye.thresholdX) && (clearTimeout(_),\n      y.removeClass(\"mbsc-active\"),\n      H = !1),\n      (pe.scrolled || !z && Math.abs(C) > ue) && (B || me(\"onGestureStart\", N),\n      pe.scrolled = B = !0,\n      R || (R = !0,\n      q = te(l))),\n      he || ye.scrollLock ? e.preventDefault() : pe.scrolled ? e.preventDefault() : Math.abs(D) > 7 && (z = !0,\n      pe.scrolled = !0,\n      c()));\n    }\n    function l() {\n      W && (C = r(C, -K * W, K * W)),\n      g(r(se + C, $ - A, L + A)),\n      R = !1;\n    }\n    function c(e) {\n      if (O) {\n        var t,a = new Date() - ne;\n        ye.stopProp && e && e.stopPropagation(),\n        ae(q),\n        R = !1,\n        !z && pe.scrolled && (ye.momentum && a < 300 && (t = C / a,\n        C = Math.max(Math.abs(C), t * t / ye.speedUnit) * (C < 0 ? -1 : 1)),\n        v(C)),\n        H && (clearTimeout(_),\n        y.addClass(\"mbsc-active\"),\n        setTimeout(function () {\n          y.removeClass(\"mbsc-active\");\n        }, 100),\n        z || pe.scrolled || me(\"onBtnTap\", {\n          target: y[0],\n          domEvent: e })),\n\n        e && \"mouseup\" == e.type && ie(document).off(\"mousemove\", n).off(\"mouseup\", c),\n        O = !1;\n      }\n    }\n    function d(e) {\n      if (e = e.originalEvent || e,\n      C = he ? void 0 == e.deltaY ? e.wheelDelta || e.detail : e.deltaY : e.deltaX,\n      me(\"onStart\", {\n        domEvent: e }),\n\n      ye.stopProp && e.stopPropagation(),\n      C) {\n        if (e.preventDefault(),\n        e.deltaMode && 1 == e.deltaMode && (C *= 15),\n        C = r(-C, -Q, Q),\n        se = be,\n        ye.readonly)\n        return;\n        if (B || p(),\n        se + C < $ && (se = $,\n        C = 0),\n        se + C > L && (se = L,\n        C = 0),\n        R || (R = !0,\n        q = te(l)),\n        !C && B)\n        return;\n        B = !0,\n        clearTimeout(G),\n        G = setTimeout(function () {\n          ae(q),\n          R = !1,\n          B = !1,\n          v(C);\n        }, 200);\n      }\n    }\n    function u(e) {\n      me(\"onStart\", {\n        domEvent: e }),\n\n      ye.readonly || (e.stopPropagation(),\n      se = be,\n      B = !1,\n      e.target == X ? (re = m(e, \"Y\", !0),\n      ie(document).on(\"mousemove\", f).on(\"mouseup\", h)) : (re = x.offset().top,\n      f(e),\n      h()));\n    }\n    function f(e) {\n      var t = (m(e, \"Y\", !0) - re) / w;\n      P ? (C = -(W * K * 2 + w) * t,\n      C = r(C, -K * W, K * W)) : C = ($ - L - w) * t,\n      B || p(),\n      B = !0,\n      g(r(se + C, $ - A, L + A));\n    }\n    function h() {\n      se = be,\n      v(0),\n      ie(document).off(\"mousemove\", f).off(\"mouseup\", h);\n    }\n    function b(e) {\n      e.stopPropagation();\n    }\n    function p() {\n      N = {\n        posX: he ? 0 : be,\n        posY: he ? be : 0,\n        originX: he ? 0 : se,\n        originY: he ? se : 0,\n        direction: C > 0 ? he ? 270 : 360 : he ? 90 : 180 },\n\n      me(\"onGestureStart\", N);\n    }\n    function v(e) {\n      var t, a, s;\n      if (W && (e = r(e, -K * W, K * W)),\n      s = r(Math.round((se + e) / K) * K, $, L),\n      ee) {\n        if (e < 0) {\n          for (t = ee.length - 1; t >= 0; t--) {\n            if (Math.abs(s) + w >= ee[t].breakpoint) {\n              ve = t,\n              ge = 2,\n              s = ee[t].snap2;\n              break;\n            }}\n        } else if (e >= 0)\n        for (t = 0; t < ee.length; t++) {\n          if (Math.abs(s) <= ee[t].breakpoint) {\n            ve = t,\n            ge = 1,\n            s = ee[t].snap1;\n            break;\n          }}\n        s = r(s, $, L);\n      }\n      a = ye.time || (be < $ || be > L ? 1e3 : Math.max(1e3, Math.abs(s - be) * ye.timeUnit)),\n      N.destinationX = he ? 0 : s,\n      N.destinationY = he ? s : 0,\n      N.duration = a,\n      N.transitionTiming = S,\n      me(\"onGestureEnd\", N),\n      pe.scroll(s, a);\n    }\n    function g(e, t, a, s) {\n      var n,o = e != be,i = t > 1,r = t ? Te + \"transform \" + Math.round(t) + \"ms \" + S : \"\",l = function l() {\n        clearInterval(Z),\n        clearTimeout(de),\n        I = !1,\n        be = e,\n        N.posX = he ? 0 : e,\n        N.posY = he ? e : 0,\n        o && me(\"onMove\", N),\n        i && me(\"onAnimationEnd\", N),\n        s && s();\n      };\n      N = {\n        posX: he ? 0 : be,\n        posY: he ? be : 0,\n        originX: he ? 0 : se,\n        originY: he ? se : 0,\n        direction: e - be > 0 ? he ? 270 : 360 : he ? 90 : 180 },\n\n      be = e,\n      i && (N.destinationX = he ? 0 : e,\n      N.destinationY = he ? e : 0,\n      N.duration = t,\n      N.transitionTiming = S,\n      me(\"onAnimationStart\", N)),\n      le[Ce + \"Transition\"] = r,\n      le[Ce + \"Transform\"] = \"translate3d(\" + (he ? \"0,\" + e + \"px,\" : e + \"px,0,\") + \"0)\",\n      X && U && (n = P ? (J - e) / (W * K * 2) : (e - L) / ($ - L),\n      X.style[Ce + \"Transition\"] = r,\n      X.style[Ce + \"Transform\"] = \"translate3d(0,\" + Math.max(0, Math.min((w - U) * n, w - U)) + \"px,0)\"),\n      !o && !I || !t || t <= 1 ? l() : t && (I = !a,\n      clearInterval(Z),\n      Z = setInterval(function () {\n        var t = +Y(ce, he) || 0;\n        N.posX = he ? 0 : t,\n        N.posY = he ? t : 0,\n        me(\"onMove\", N),\n        Math.abs(t - e) < 2 && l();\n      }, 100),\n      clearTimeout(de),\n      de = setTimeout(function () {\n        l();\n      }, t)),\n      ye.sync && ye.sync(e, t, S);\n    }\n    var y,x,T,_,w,M,D,C,k,S,A,E,F,N,H,P,L,W,$,O,I,z,q,R,X,U,J,j,B,G,Q,Z,K,ee,se,ne,oe,re,le,ce,de,ue,me,he,be,pe = this,ve = 0,ge = 1,ye = t,xe = ie(e);\n    fe.call(this, e, t, !0),\n    pe.scrolled = !1,\n    pe.scroll = function (t, a, s, n) {\n      t = o(t) ? Math.round(t / K) * K : Math.ceil((ie(t, e).length ? Math.round(ce.offset()[k] - ie(t, e).offset()[k]) : be) / K) * K,\n      t = r(t, $, L),\n      ve = Math.round(t / K),\n      se = be,\n      J = W * K + t,\n      g(t, a, s, n);\n    },\n\n    pe.refresh = function (e) {\n      var t;\n      for (w = (void 0 === ye.contSize ? he ? xe.height() : xe.width() : ye.contSize) || 0,\n      L = (void 0 === ye.maxScroll ? 0 : ye.maxScroll) || 0,\n      $ = Math.min(L, void 0 === ye.minScroll ? Math.min(0, he ? w - ce.height() : w - ce.width()) : ye.minScroll) || 0,\n      ee = null,\n      !he && ye.rtl && (t = L,\n      L = -$,\n      $ = -t),\n      i(ye.snap) && (ee = [],\n      ce.find(ye.snap).each(function () {\n        var e = he ? this.offsetTop : this.offsetLeft,\n        t = he ? this.offsetHeight : this.offsetWidth;\n        ee.push({\n          breakpoint: e + t / 2,\n          snap1: -e,\n          snap2: w - e - t });\n\n      })),\n      K = o(ye.snap) ? ye.snap : 1,\n      W = ye.snap ? ye.maxSnapScroll : 0,\n      S = ye.easing,\n      A = ye.elastic ? o(ye.snap) ? K : o(ye.elastic) ? ye.elastic : 0 : 0,\n      Q = K; Q > 44;) {\n        Q /= 2;}\n      Q = Math.round(44 / Q) * Q,\n      X && (P = $ == -(1 / 0) || L == 1 / 0,\n      U = $ < L ? Math.max(20, w * w / (L - $ + w)) : 0,\n      X.style.height = U + \"px\",\n      j.style.height = U ? \"\" : 0),\n      void 0 === be && (be = ye.initialPos,\n      ve = Math.round(be / K)),\n      e || pe.scroll(ye.snap ? ee ? ee[ve][\"snap\" + ge] : ve * K : be);\n    },\n\n    pe._processSettings = function () {\n      he = \"Y\" == ye.axis,\n      k = he ? \"top\" : \"left\",\n      ce = ye.moveElement || xe.children().eq(0),\n      le = ce[0].style,\n      ue = he ? ye.thresholdY : ye.thresholdX,\n      ye.scrollbar && (T = ye.scrollbar,\n      x = T.find(\".mbsc-sc-bar\"),\n      X = x[0],\n      j = T[0]);\n    },\n\n    pe._init = function () {\n      pe.refresh(),\n      xe.on(\"touchstart mousedown\", s).on(\"touchmove\", n).on(\"touchend touchcancel\", c),\n      ye.mousewheel && xe.on(\"wheel mousewheel\", d),\n      X && T.on(\"mousedown\", u).on(\"click\", b),\n      e.addEventListener(\"click\", function (e) {\n        pe.scrolled && (pe.scrolled = !1,\n        e.stopPropagation(),\n        e.preventDefault());\n      }, !0);\n    },\n\n    pe._destroy = function () {\n      clearInterval(Z),\n      xe.off(\"touchstart mousedown\", s).off(\"touchmove\", n).off(\"touchend touchcancel\", c).off(\"wheel mousewheel\", d),\n      X && T.off(\"mousedown\", u).off(\"click\", b);\n    },\n\n    ye = pe.settings,\n    me = pe.trigger,\n    a || pe.init();\n  };\n  Xe.prototype = {\n    _defaults: {\n      speedUnit: .0022,\n      timeUnit: 3,\n      initialPos: 0,\n      axis: \"Y\",\n      thresholdX: 10,\n      thresholdY: 5,\n      easing: \"cubic-bezier(0.190, 1.000, 0.220, 1.000)\",\n      stopProp: !0,\n      momentum: !0,\n      mousewheel: !0,\n      elastic: !0 } };\n\n\n  /* eslint-disable no-unused-vars */\n  var Ue = {},\n  Je = B ? window.CSS : null,\n  je = Je && Je.supports && Je.supports(\"(transform-style: preserve-3d)\"),\n  Be = function Be(e, t, a) {\n    function s(e) {\n      var t,a,s = +ie(this).attr(\"data-index\");\n      38 == e.keyCode ? (t = !0,\n      a = -1) : 40 == e.keyCode ? (t = !0,\n      a = 1) : 32 == e.keyCode && (t = !0,\n      r(s, ie(e.target))),\n      t && (e.stopPropagation(),\n      e.preventDefault(),\n      a && A.start(s, a, e));\n    }\n    function i() {\n      A.stop();\n    }\n    function r(e, t) {\n      var a = z[e],\n      s = +t.attr(\"data-index\"),\n      i = b(a, s),\n      r = U._tempSelected[e],\n      l = o(a.multiple) ? a.multiple : 1 / 0;\n      O(\"onItemTap\", {\n        target: t[0],\n        index: e,\n        value: i,\n        selected: t.hasClass(\"mbsc-sc-itm-sel\") }) !==\n      !1 && (a.multiple && !a._disabled[i] && (void 0 !== r[i] ? (t.removeClass(V).removeAttr(\"aria-selected\"),\n      delete r[i]) : (1 == l && (U._tempSelected[e] = r = {},\n      a._$markup.find(\".mbsc-sc-itm-sel\").removeClass(V).removeAttr(\"aria-selected\")),\n      n(r).length < l && (t.addClass(V).attr(\"aria-selected\", \"true\"),\n      r[i] = i))),\n      w(a, e, s, X, a._index < s ? 1 : 2, !0, a.multiple),\n      U.live && (!a.multiple || 1 === a.multiple && $.tapSelect) && ($.setOnTap === !0 || $.setOnTap[e]) && setTimeout(function () {\n        U.select();\n      }, $.tapSelect ? 0 : 200));\n    }\n    function l(e, t) {\n      var a = z[e];\n      return a && (!a.multiple || 1 !== a.multiple && t && ($.setOnTap === !0 || $.setOnTap[e]));\n    }\n    function c(e) {\n      return -(e.max - e._offset - (e.multiple && !S ? Math.floor($.rows / 2) : 0)) * H;\n    }\n    function d(e) {\n      return -(e.min - e._offset + (e.multiple && !S ? Math.floor($.rows / 2) : 0)) * H;\n    }\n    function u(e, t) {\n      return (e._array ? e._map[t] : +e.getIndex(t, U)) || 0;\n    }\n    function m(e, t) {\n      var a = e.data;\n      if (t >= e.min && t <= e.max)\n      return e._array ? e.circular ? ie(a).get(t % e._length) : a[t] : ie.isFunction(a) ? a(t, U) : \"\";\n    }\n    function f(e) {\n      return ie.isPlainObject(e) ? void 0 !== e.value ? e.value : e.display : e;\n    }\n    function h(e) {\n      var t = ie.isPlainObject(e) ? e.display : e;\n      return void 0 === t ? \"\" : t;\n    }\n    function b(e, t) {\n      return f(m(e, t));\n    }\n    function p(e, t, a) {\n      var s = z[e];\n      w(s, e, s._index + t, $.delay + 100, 1 == t ? 1 : 2, !1, !1, \"keydown\" == a.type);\n    }\n    function v(e) {\n      return ie.isArray($.readonly) ? $.readonly[e] : $.readonly;\n    }\n    function g(e, t, a) {\n      var s = e._index - e._batch;\n      return e.data = e.data || [],\n      e.key = void 0 !== e.key ? e.key : t,\n      e.label = void 0 !== e.label ? e.label : t,\n      e._map = {},\n      e._array = ie.isArray(e.data),\n      e._array && (e._length = e.data.length,\n      ie.each(e.data, function (t, a) {\n        e._map[f(a)] = t;\n      })),\n      e.circular = void 0 === $.circular ? void 0 === e.circular ? e._array && e._length > $.rows : e.circular : ie.isArray($.circular) ? $.circular[t] : $.circular,\n      e.min = e._array ? e.circular ? -(1 / 0) : 0 : void 0 === e.min ? -(1 / 0) : e.min,\n      e.max = e._array ? e.circular ? 1 / 0 : e._length - 1 : void 0 === e.max ? 1 / 0 : e.max,\n      e._nr = t,\n      e._index = u(e, F[t]),\n      e._disabled = {},\n      e._batch = 0,\n      e._current = e._index,\n      e._first = e._index - R,\n      e._last = e._index + R,\n      e._offset = e._first,\n      a ? (e._offset -= e._margin / H + (e._index - s),\n      e._margin += (e._index - s) * H) : e._margin = 0,\n      e._refresh = function (t) {\n        me(e._scroller.settings, {\n          minScroll: c(e),\n          maxScroll: d(e) }),\n\n        e._scroller.refresh(t);\n      },\n\n      q[e.key] = e,\n      e;\n    }\n    function y(e, t, a, s, n) {\n      var o,i,r,l,c,d,u,b,p = \"\",v = U._tempSelected[t],g = e._disabled || {};\n      for (o = a; o <= s; o++) {\n        r = m(e, o),\n        c = h(r),\n        l = f(r),\n        i = r && void 0 !== r.cssClass ? r.cssClass : \"\",\n        d = r && void 0 !== r.label ? r.label : \"\",\n        u = r && r.invalid,\n        b = void 0 !== l && l == F[t] && !e.multiple,\n        p += '<div role=\"option\" tabindex=\"-1\" aria-selected=\"' + !!v[l] + '\" class=\"mbsc-sc-itm ' + (n ? \"mbsc-sc-itm-3d \" : \"\") + i + \" \" + (b ? \"mbsc-sc-itm-sel \" : \"\") + (v[l] ? V : \"\") + (void 0 === l ? \" mbsc-sc-itm-ph\" : \" mbsc-btn-e\") + (u ? \" mbsc-sc-itm-inv-h mbsc-disabled\" : \"\") + (g[l] ? \" mbsc-sc-itm-inv mbsc-disabled\" : \"\") + '\" data-index=\"' + o + '\" data-val=\"' + N(l) + '\"' + (d ? ' aria-label=\"' + d + '\"' : \"\") + (b ? ' aria-selected=\"true\"' : \"\") + ' style=\"height:' + H + \"px;line-height:\" + H + \"px;\" + (n ? Te + \"transform:rotateX(\" + (e._offset - o) * k % 360 + \"deg) translateZ(\" + H * $.rows / 2 + \"px);\" : \"\") + '\">' + (I > 1 ? '<div class=\"mbsc-sc-itm-ml\" style=\"line-height:' + Math.round(H / I) + \"px;font-size:\" + Math.round(H / I * .8) + 'px;\">' : \"\") + c + (I > 1 ? \"</div>\" : \"\") + \"</div>\";}\n      return p;\n    }\n    function x(e, t, a) {\n      var s = Math.round(-a / H) + e._offset,\n      n = s - e._current,\n      o = e._first,\n      i = e._last,\n      r = o + R - C + 1,\n      l = i - R + C;\n      n && (e._first += n,\n      e._last += n,\n      e._current = s,\n      n > 0 ? (e._$scroller.append(y(e, t, Math.max(i + 1, o + n), i + n)),\n      ie(\".mbsc-sc-itm\", e._$scroller).slice(0, Math.min(n, i - o + 1)).remove(),\n      S && (e._$3d.append(y(e, t, Math.max(l + 1, r + n), l + n, !0)),\n      ie(\".mbsc-sc-itm\", e._$3d).slice(0, Math.min(n, l - r + 1)).attr(\"class\", \"mbsc-sc-itm-del\"))) : n < 0 && (e._$scroller.prepend(y(e, t, o + n, Math.min(o - 1, i + n))),\n      ie(\".mbsc-sc-itm\", e._$scroller).slice(Math.max(n, o - i - 1)).remove(),\n      S && (e._$3d.prepend(y(e, t, r + n, Math.min(r - 1, l + n), !0)),\n      ie(\".mbsc-sc-itm\", e._$3d).slice(Math.max(n, r - l - 1)).attr(\"class\", \"mbsc-sc-itm-del\"))),\n      e._margin += n * H,\n      e._$scroller.css(\"margin-top\", e._margin + \"px\"));\n    }\n    function T(e, t, a, s) {\n      var n,o = z[e],i = s || o._disabled,r = u(o, t),l = b(o, r),c = l,d = l,m = 0,f = 0;\n      if (i[l] === !0) {\n        for (n = 0; r - m >= o.min && i[c] && n < 100;) {\n          n++,\n          m++,\n          c = b(o, r - m);}\n        for (n = 0; r + f < o.max && i[d] && n < 100;) {\n          n++,\n          f++,\n          d = b(o, r + f);}\n        l = (f < m && f && 2 !== a || !m || r - m < 0 || 1 == a) && !i[d] ? d : c;\n      }\n      return l;\n    }\n    function _(t, a, s, n, o, i, r) {\n      var c,d,m,f,h = U._isVisible;\n      W = !0,\n      f = $.validate.call(e, {\n        values: F.slice(0),\n        index: a,\n        direction: s },\n      U) || {},\n      W = !1,\n      f.valid && (U._tempWheelArray = F = f.valid.slice(0)),\n      i || ie.each(z, function (e, n) {\n        if (h && n._$markup.find(\".mbsc-sc-itm-inv\").removeClass(\"mbsc-sc-itm-inv mbsc-disabled\"),\n        n._disabled = {},\n        f.disabled && f.disabled[e] && ie.each(f.disabled[e], function (e, t) {\n          n._disabled[t] = !0,\n          h && n._$markup.find('.mbsc-sc-itm[data-val=\"' + N(t) + '\"]').addClass(\"mbsc-sc-itm-inv mbsc-disabled\");\n        }),\n        F[e] = n.multiple ? F[e] : T(e, F[e], s),\n        h) {\n          if (n.multiple && void 0 !== a || n._$markup.find(\".mbsc-sc-itm-sel\").removeClass(V).removeAttr(\"aria-selected\"),\n          d = u(n, F[e]),\n          c = d - n._index + n._batch,\n          Math.abs(c) > 2 * R + 1 && (m = c + (2 * R + 1) * (c > 0 ? -1 : 1),\n          n._offset += m,\n          n._margin -= m * H,\n          n._refresh()),\n          n._index = d + n._batch,\n          n.multiple) {\n            if (void 0 === a)\n            for (var i in U._tempSelected[e]) {\n              n._$markup.find('.mbsc-sc-itm[data-val=\"' + N(i) + '\"]').addClass(V).attr(\"aria-selected\", \"true\");}\n          } else\n          n._$markup.find('.mbsc-sc-itm[data-val=\"' + N(F[e]) + '\"]').addClass(\"mbsc-sc-itm-sel\").attr(\"aria-selected\", \"true\");\n          n._$active && n._$active.attr(\"tabindex\", -1),\n          n._$active = n._$markup.find('.mbsc-sc-itm[data-index=\"' + n._index + '\"]').eq(S && n.multiple ? 1 : 0).attr(\"tabindex\", 0),\n          r && a === e && n._$active.length && (n._$active[0].focus(),\n          n._$scroller.parent().scrollTop(0)),\n          n._scroller.scroll(-(d - n._offset + n._batch) * H, a === e || void 0 === a ? t : X, o);\n        }\n      }),\n      O(\"onValidated\", {\n        index: a,\n        time: t }),\n\n      U._tempValue = $.formatValue.call(e, F, U),\n      h && U._updateHeader(),\n      U.live && l(a, i) && (U._hasValue = n || U._hasValue,\n      M(n, n, 0, !0),\n      n && O(\"onSet\", {\n        valueText: U._value })),\n\n      n && O(\"onChange\", {\n        index: a,\n        valueText: U._tempValue });\n\n    }\n    function w(e, t, a, s, n, o, i, r) {\n      var l = b(e, a);\n      void 0 !== l && (F[t] = l,\n      e._batch = e._array ? Math.floor(a / e._length) * e._length : 0,\n      e._index = a,\n      setTimeout(function () {\n        _(s, t, n, !0, o, i, r);\n      }, 10));\n    }\n    function M(t, a, s, n, o) {\n      if (n ? U._tempValue = $.formatValue.call(e, U._tempWheelArray, U) : _(s),\n      !o) {\n        U._wheelArray = [];\n        for (var i = 0; i < F.length; i++) {\n          U._wheelArray[i] = z[i] && z[i].multiple ? Object.keys(U._tempSelected[i] || {})[0] : F[i];}\n        U._value = U._hasValue ? U._tempValue : null,\n        U._selected = me(!0, {}, U._tempSelected);\n      }\n      t && (U._isInput && J.val(U._hasValue ? U._tempValue : \"\"),\n      O(\"onFill\", {\n        valueText: U._hasValue ? U._tempValue : \"\",\n        change: a }),\n\n      a && (U._preventChange = !0,\n      J.trigger(\"change\")));\n    }\n    var D,C,k,S,V,Y,A,F,H,P,L,W,$,O,I,z,q,R = 40,X = 1e3,U = this,J = ie(e);\n    qe.call(this, e, t, !0),\n    U.setVal = U._setVal = function (t, a, s, n, o) {\n      U._hasValue = null !== t && void 0 !== t,\n      U._tempWheelArray = F = ie.isArray(t) ? t.slice(0) : $.parseValue.call(e, t, U) || [],\n      M(a, void 0 === s ? a : s, o, !1, n);\n    },\n\n    U.getVal = U._getVal = function (e) {\n      var t = U._hasValue || e ? U[e ? \"_tempValue\" : \"_value\"] : null;\n      return o(t) ? +t : t;\n    },\n\n    U.setArrayVal = U.setVal,\n    U.getArrayVal = function (e) {\n      return e ? U._tempWheelArray : U._wheelArray;\n    },\n\n    U.changeWheel = function (e, t, a) {\n      var s, n;\n      ie.each(e, function (e, t) {\n        n = q[e],\n        n && (s = n._nr,\n        me(n, t),\n        g(n, s, !0),\n        U._isVisible && (S && n._$3d.html(y(n, s, n._first + R - C + 1, n._last - R + C, !0)),\n        n._$scroller.html(y(n, s, n._first, n._last)).css(\"margin-top\", n._margin + \"px\"),\n        n._refresh(W)));\n      }),\n      !U._isVisible || U._isLiquid || W || U.position(),\n      W || _(t, void 0, void 0, a);\n    },\n\n    U.getValidValue = T,\n    U._generateContent = function () {\n      var e,t = 0,a = \"\",s = S ? Te + \"transform: translateZ(\" + (H * $.rows / 2 + 3) + \"px);\" : \"\",n = '<div class=\"mbsc-sc-whl-l\" style=\"' + s + \"height:\" + H + \"px;margin-top:-\" + (H / 2 + ($.selectedLineBorder || 0)) + 'px;\"></div>',o = 0;\n      return ie.each($.wheels, function (i, r) {\n        a += '<div class=\"mbsc-w-p mbsc-sc-whl-gr-c' + (S ? \" mbsc-sc-whl-gr-3d-c\" : \"\") + ($.showLabel ? \" mbsc-sc-lbl-v\" : \"\") + '\">' + n + '<div class=\"mbsc-sc-whl-gr' + (S ? \" mbsc-sc-whl-gr-3d\" : \"\") + (Y ? \" mbsc-sc-cp\" : \"\") + ($.width || $.maxWidth ? '\"' : '\" style=\"max-width:' + $.maxPopupWidth + 'px;\"') + \">\",\n        ie.each(r, function (i, r) {\n          U._tempSelected[o] = me({}, U._selected[o]),\n          z[o] = g(r, o),\n          t += $.maxWidth ? $.maxWidth[o] || $.maxWidth : $.width ? $.width[o] || $.width : 0,\n          e = void 0 !== r.label ? r.label : i,\n          a += '<div class=\"mbsc-sc-whl-w ' + (r.cssClass || \"\") + (r.multiple ? \" mbsc-sc-whl-multi\" : \"\") + '\" style=\"' + ($.width ? \"width:\" + ($.width[o] || $.width) + \"px;\" : ($.minWidth ? \"min-width:\" + ($.minWidth[o] || $.minWidth) + \"px;\" : \"\") + ($.maxWidth ? \"max-width:\" + ($.maxWidth[o] || $.maxWidth) + \"px;\" : \"\")) + '\">' + (L ? '<div class=\"mbsc-sc-bar-c\"><div class=\"mbsc-sc-bar\"></div></div>' : \"\") + '<div class=\"mbsc-sc-whl-o\" style=\"' + s + '\"></div>' + n + '<div aria-live=\"off\" aria-label=\"' + e + '\"' + (r.multiple ? ' aria-multiselectable=\"true\"' : \"\") + ' role=\"listbox\" data-index=\"' + o + '\" class=\"mbsc-sc-whl\" style=\"height:' + $.rows * H * (S ? 1.1 : 1) + 'px;\">' + (Y ? '<div data-index=\"' + o + '\" data-step=\"1\" class=\"mbsc-sc-btn mbsc-sc-btn-plus ' + ($.btnPlusClass || \"\") + '\"></div><div data-index=\"' + o + '\" data-step=\"-1\" class=\"mbsc-sc-btn mbsc-sc-btn-minus ' + ($.btnMinusClass || \"\") + '\"></div>' : \"\") + '<div class=\"mbsc-sc-lbl\">' + e + '</div><div class=\"mbsc-sc-whl-c\" style=\"height:' + P + \"px;margin-top:-\" + (P / 2 + 1) + \"px;\" + s + '\"><div class=\"mbsc-sc-whl-sc\" style=\"top:' + (P - H) / 2 + 'px;\">',\n          a += y(r, o, r._first, r._last) + \"</div></div>\",\n          S && (a += '<div class=\"mbsc-sc-whl-3d\" style=\"height:' + H + \"px;margin-top:-\" + H / 2 + 'px;\">',\n          a += y(r, o, r._first + R - C + 1, r._last - R + C, !0),\n          a += \"</div>\"),\n          a += \"</div></div>\",\n          o++;\n        }),\n        a += \"</div></div>\";\n      }),\n      t && ($.maxPopupWidth = t),\n      a;\n    },\n\n    U._attachEvents = function (e) {\n      A = E(ie(\".mbsc-sc-btn\", e), p, $.delay, v, !0),\n      ie(\".mbsc-sc-whl\", e).on(\"keydown\", s).on(\"keyup\", i);\n    },\n\n    U._detachEvents = function () {\n      A.stop();\n      for (var e = 0; e < z.length; e++) {\n        z[e]._scroller.destroy();}\n    },\n\n    U._markupReady = function (e) {\n      D = e,\n      ie(\".mbsc-sc-whl-w\", D).each(function (e) {\n        var t,a = ie(this),s = z[e];\n        s._$markup = a,\n        s._$scroller = ie(\".mbsc-sc-whl-sc\", this),\n        s._$3d = ie(\".mbsc-sc-whl-3d\", this),\n        s._scroller = new Xe(this, {\n          mousewheel: $.mousewheel,\n          moveElement: s._$scroller,\n          scrollbar: ie(\".mbsc-sc-bar-c\", this),\n          initialPos: (s._first - s._index) * H,\n          contSize: $.rows * H,\n          snap: H,\n          minScroll: c(s),\n          maxScroll: d(s),\n          maxSnapScroll: R,\n          prevDef: !0,\n          stopProp: !0,\n          timeUnit: 3,\n          easing: \"cubic-bezier(0.190, 1.000, 0.220, 1.000)\",\n          sync: function sync(e, t, a) {\n            var n = t ? Te + \"transform \" + Math.round(t) + \"ms \" + a : \"\";\n            S && (s._$3d[0].style[Ce + \"Transition\"] = n,\n            s._$3d[0].style[Ce + \"Transform\"] = \"rotateX(\" + -e / H * k + \"deg)\");\n          },\n          onStart: function onStart(t, a) {\n            a.settings.readonly = v(e);\n          },\n          onGestureStart: function onGestureStart() {\n            a.addClass(\"mbsc-sc-whl-a mbsc-sc-whl-anim\"),\n            O(\"onWheelGestureStart\", {\n              index: e });\n\n          },\n          onGestureEnd: function onGestureEnd(a) {\n            var n = 90 == a.direction ? 1 : 2,\n            o = a.duration,\n            i = a.destinationY;\n            t = Math.round(-i / H) + s._offset,\n            w(s, e, t, o, n);\n          },\n          onAnimationStart: function onAnimationStart() {\n            a.addClass(\"mbsc-sc-whl-anim\");\n          },\n          onAnimationEnd: function onAnimationEnd() {\n            a.removeClass(\"mbsc-sc-whl-a mbsc-sc-whl-anim\"),\n            O(\"onWheelAnimationEnd\", {\n              index: e }),\n\n            s._$3d.find(\".mbsc-sc-itm-del\").remove();\n          },\n          onMove: function onMove(t) {\n            x(s, e, t.posY);\n          },\n          onBtnTap: function onBtnTap(t) {\n            r(e, ie(t.target));\n          } });\n\n      }),\n      _();\n    },\n\n    U._fillValue = function () {\n      U._hasValue = !0,\n      M(!0, !0, 0, !0);\n    },\n\n    U._clearValue = function () {\n      ie(\".mbsc-sc-whl-multi .mbsc-sc-itm-sel\", D).removeClass(V).removeAttr(\"aria-selected\");\n    },\n\n    U._readValue = function () {\n      var t = J.val() || \"\",\n      a = 0;\n      \"\" !== t && (U._hasValue = !0),\n      U._tempWheelArray = F = U._hasValue && U._wheelArray ? U._wheelArray.slice(0) : $.parseValue.call(e, t, U) || [],\n      U._tempSelected = me(!0, {}, U._selected),\n      ie.each($.wheels, function (e, t) {\n        ie.each(t, function (e, t) {\n          z[a] = g(t, a),\n          a++;\n        });\n      }),\n      M(!1, !1, 0, !0),\n      O(\"onRead\");\n    },\n\n    U.__processSettings = function (e) {\n      $ = U.settings,\n      O = U.trigger,\n      I = $.multiline,\n      V = \"mbsc-sc-itm-sel mbsc-ic mbsc-ic-\" + $.checkIcon,\n      L = !$.touchUi,\n      L && ($.tapSelect = !0,\n      $.circular = !1,\n      $.rows = e.rows || t.rows || 7);\n    },\n\n    U.__init = function (e) {\n      e && (U._wheelArray = null),\n      z = [],\n      q = {},\n      Y = $.showScrollArrows,\n      S = $.scroll3d && je && !Y && !L && (\"ios\" == $.theme || \"ios\" == $.baseTheme),\n      H = $.height,\n      P = S ? 2 * Math.round((H - .03 * (H * $.rows / 2 + 3)) / 2) : H,\n      C = Math.round(1.8 * $.rows),\n      k = 360 / (2 * C),\n      Y && ($.rows = Math.max(3, $.rows));\n    },\n\n    U._getItemValue = f,\n    U._tempSelected = {},\n    U._selected = {},\n    a || U.init();\n  };\n  Be.prototype = {\n    _hasDef: !0,\n    _hasTheme: !0,\n    _hasLang: !0,\n    _responsive: !0,\n    _class: \"scroller\",\n    _presets: Ue,\n    _defaults: me({}, qe.prototype._defaults, {\n      minWidth: 80,\n      height: 40,\n      rows: 3,\n      multiline: 1,\n      delay: 200,\n      readonly: !1,\n      showLabel: !0,\n      setOnTap: !1,\n      wheels: [],\n      preset: \"\",\n      speedUnit: .0012,\n      timeUnit: .08,\n      checkIcon: \"checkmark\",\n      compClass: \"mbsc-sc\",\n      validate: function validate() {},\n      formatValue: function formatValue(e) {\n        return e.join(\" \");\n      },\n      parseValue: function parseValue(e, t) {\n        var a,s,n = [],o = [],i = 0;\n        return null !== e && void 0 !== e && (n = (e + \"\").split(\" \")),\n        ie.each(t.settings.wheels, function (e, r) {\n          ie.each(r, function (e, r) {\n            s = r.data,\n            a = t._getItemValue(s[0]),\n            ie.each(s, function (e, s) {\n              if (n[i] == t._getItemValue(s))\n              return a = t._getItemValue(s),\n              !1;\n            }),\n            o.push(a),\n            i++;\n          });\n        }),\n        o;\n      } }) },\n\n\n  ce.Scroller = Be;\n  var Ge = {\n    separator: \" \",\n    dateFormat: \"mm/dd/yy\",\n    dateDisplay: \"MMddyy\",\n    timeFormat: \"h:ii A\",\n    dayText: \"Day\",\n    monthText: \"Month\",\n    yearText: \"Year\",\n    hourText: \"Hours\",\n    minuteText: \"Minutes\",\n    ampmText: \"&nbsp;\",\n    secText: \"Seconds\",\n    nowText: \"Now\",\n    todayText: \"Today\" },\n\n  Qe = function Qe(e) {\n    function t(e) {\n      var t,a,s,n,o = [];\n      if (e) {\n        for (t = 0; t < e.length; t++) {\n          if (a = e[t],\n          a.start && a.end && !be.test(a.start))\n          for (s = new Date(D(a.start, G, J)),\n          n = new Date(D(a.end, G, J)); s <= n;) {\n            o.push(p(s.getFullYear(), s.getMonth(), s.getDate())),\n            s.setDate(s.getDate() + 1);} else\n\n          o.push(a);}\n        return o;\n      }\n      return e;\n    }\n    function a(e, t, a, s) {\n      return Math.min(s, Math.floor(e / t) * t + a);\n    }\n    function s(e, t, a) {\n      return Math.floor((a - t) / e) * e + t;\n    }\n    function n(e) {\n      return J.getYear(e);\n    }\n    function o(e) {\n      return J.getMonth(e);\n    }\n    function i(e) {\n      return J.getDay(e);\n    }\n    function r(e) {\n      var t = e.getHours();\n      return t = le && t >= 12 ? t - 12 : t,\n      a(t, ue, xe, we);\n    }\n    function c(e) {\n      return a(e.getMinutes(), fe, Te, Me);\n    }\n    function d(e) {\n      return a(e.getSeconds(), he, _e, De);\n    }\n    function u(e) {\n      return e.getMilliseconds();\n    }\n    function m(e) {\n      return e.getHours() > 11 ? 1 : 0;\n    }\n    function f(e) {\n      return e.getFullYear() + \"-\" + l(e.getMonth() + 1) + \"-\" + l(e.getDate());\n    }\n    function h(e) {\n      return a(Math.round((e.getTime() - new Date(e).setHours(0, 0, 0, 0)) / 1e3), P || 1, 0, 86400);\n    }\n    function b(e, t, a, s) {\n      var n;\n      return void 0 === $[t] || (n = +e[$[t]],\n      isNaN(n)) ? a ? Ye[t](a) : void 0 !== I[t] ? I[t] : Ye[t](s) : n;\n    }\n    function y(e) {\n      var t,a = new Date(new Date().setHours(0, 0, 0, 0));\n      if (null === e)\n      return e;\n      void 0 !== $.dd && (t = e[$.dd].split(\"-\"),\n      t = new Date(t[0], t[1] - 1, t[2])),\n      void 0 !== $.tt && (t = t || a,\n      t = new Date(t.getTime() + e[$.tt] % 86400 * 1e3));\n      var s = b(e, \"y\", t, a),\n      n = b(e, \"m\", t, a),\n      o = Math.min(b(e, \"d\", t, a), J.getMaxDayOfMonth(s, n)),\n      i = b(e, \"h\", t, a);\n      return J.getDate(s, n, o, le && b(e, \"a\", t, a) ? i + 12 : i, b(e, \"i\", t, a), b(e, \"s\", t, a), b(e, \"u\", t, a));\n    }\n    function x(e, t) {\n      var a,s,n = [\"y\", \"m\", \"d\", \"a\", \"h\", \"i\", \"s\", \"u\", \"dd\", \"tt\"],o = [];\n      if (null === e || void 0 === e)\n      return e;\n      for (a = 0; a < n.length; a++) {\n        s = n[a],\n        void 0 !== $[s] && (o[$[s]] = Ye[s](e)),\n        t && (I[s] = Ye[s](e));}\n      return o;\n    }\n    function T(e, t) {\n      return t ? Math.floor(new Date(e) / 864e5) : e.getMonth() + 12 * (e.getFullYear() - 1970);\n    }\n    function _(e) {\n      return {\n        value: e,\n        display: (/yy/i.test(K) ? e : (e + \"\").substr(2, 2)) + (J.yearSuffix || \"\") };\n\n    }\n    function w(e) {\n      return e;\n    }\n    function C(e) {\n      var t = /d/i.test(e);\n      return {\n        label: \"\",\n        cssClass: \"mbsc-dt-whl-date\",\n        min: ne ? T(f(ne), t) : void 0,\n        max: oe ? T(f(oe), t) : void 0,\n        data: function data(a) {\n          var s = new Date(new Date().setHours(0, 0, 0, 0)),\n          n = t ? new Date(864e5 * a) : new Date(1970, a, 1);\n          return t && (n = new Date(n.getUTCFullYear(), n.getUTCMonth(), n.getUTCDate())),\n          {\n            invalid: t && !E(n, !0),\n            value: f(n),\n            display: s.getTime() == n.getTime() ? J.todayText : v(e, n, J) };\n\n        },\n        getIndex: function getIndex(e) {\n          return T(e, t);\n        } };\n\n    }\n    function k(e) {\n      var t,a,s,n = [];\n      for (/s/i.test(e) ? a = he : /i/i.test(e) ? a = 60 * fe : /h/i.test(e) && (a = 3600 * ue),\n      P = Se.tt = a,\n      t = 0; t < 86400; t += a) {\n        s = new Date(new Date().setHours(0, 0, 0, 0) + 1e3 * t),\n        n.push({\n          value: t,\n          display: v(e, s, J) });}\n\n      return {\n        label: \"\",\n        cssClass: \"mbsc-dt-whl-time\",\n        data: n };\n\n    }\n    function S() {\n      var e,t,a,s,n,o,i,r,c = 0,d = [],u = [],m = [];\n      if (/date/i.test(j)) {\n        for (e = Q.split(/\\|/.test(Q) ? \"|\" : \"\"),\n        s = 0; s < e.length; s++) {\n          if (a = e[s],\n          o = 0,\n          a.length)\n          if (/y/i.test(a) && (z.y = 1,\n          o++),\n          /m/i.test(a) && (z.y = 1,\n          z.m = 1,\n          o++),\n          /d/i.test(a) && (z.y = 1,\n          z.m = 1,\n          z.d = 1,\n          o++),\n          o > 1 && void 0 === $.dd)\n          $.dd = c,\n          c++,\n          u.push(C(a)),\n          m = u,\n          L = !0;else\n          if (/y/i.test(a) && void 0 === $.y)\n          $.y = c,\n          c++,\n          u.push({\n            cssClass: \"mbsc-dt-whl-y\",\n            label: J.yearText,\n            min: ne ? J.getYear(ne) : void 0,\n            max: oe ? J.getYear(oe) : void 0,\n            data: _,\n            getIndex: w });else\n\n          if (/m/i.test(a) && void 0 === $.m) {\n            for ($.m = c,\n            i = [],\n            c++,\n            n = 0; n < 12; n++) {\n              r = K.replace(/[dy|]/gi, \"\").replace(/mm/, l(n + 1) + (J.monthSuffix || \"\")).replace(/m/, n + 1 + (J.monthSuffix || \"\")),\n              i.push({\n                value: n,\n                display: /MM/.test(r) ? r.replace(/MM/, '<span class=\"mbsc-dt-month\">' + J.monthNames[n] + \"</span>\") : r.replace(/M/, '<span class=\"mbsc-dt-month\">' + J.monthNamesShort[n] + \"</span>\") });}\n\n            u.push({\n              cssClass: \"mbsc-dt-whl-m\",\n              label: J.monthText,\n              data: i });\n\n          } else if (/d/i.test(a) && void 0 === $.d) {\n            for ($.d = c,\n            i = [],\n            c++,\n            n = 1; n < 32; n++) {\n              i.push({\n                value: n,\n                display: (/dd/i.test(K) ? l(n) : n) + (J.daySuffix || \"\") });}\n\n            u.push({\n              cssClass: \"mbsc-dt-whl-d\",\n              label: J.dayText,\n              data: i });\n\n          }}\n        d.push(u);\n      }\n      if (/time/i.test(j)) {\n        for (t = Z.split(/\\|/.test(Z) ? \"|\" : \"\"),\n        s = 0; s < t.length; s++) {\n          if (a = t[s],\n          o = 0,\n          a.length && (/h/i.test(a) && (z.h = 1,\n          o++),\n          /i/i.test(a) && (z.i = 1,\n          o++),\n          /s/i.test(a) && (z.s = 1,\n          o++),\n          /a/i.test(a) && o++),\n          o > 1 && void 0 === $.tt)\n          $.tt = c,\n          c++,\n          m.push(k(a));else\n          if (/h/i.test(a) && void 0 === $.h) {\n            for (i = [],\n            $.h = c,\n            z.h = 1,\n            c++,\n            n = xe; n < (le ? 12 : 24); n += ue) {\n              i.push({\n                value: n,\n                display: le && 0 === n ? 12 : /hh/i.test(ee) ? l(n) : n });}\n\n            m.push({\n              cssClass: \"mbsc-dt-whl-h\",\n              label: J.hourText,\n              data: i });\n\n          } else if (/i/i.test(a) && void 0 === $.i) {\n            for (i = [],\n            $.i = c,\n            z.i = 1,\n            c++,\n            n = Te; n < 60; n += fe) {\n              i.push({\n                value: n,\n                display: /ii/i.test(ee) ? l(n) : n });}\n\n            m.push({\n              cssClass: \"mbsc-dt-whl-i\",\n              label: J.minuteText,\n              data: i });\n\n          } else if (/s/i.test(a) && void 0 === $.s) {\n            for (i = [],\n            $.s = c,\n            z.s = 1,\n            c++,\n            n = _e; n < 60; n += he) {\n              i.push({\n                value: n,\n                display: /ss/i.test(ee) ? l(n) : n });}\n\n            m.push({\n              cssClass: \"mbsc-dt-whl-s\",\n              label: J.secText,\n              data: i });\n\n          } else\n          /a/i.test(a) && void 0 === $.a && ($.a = c,\n          c++,\n          m.push({\n            cssClass: \"mbsc-dt-whl-a\",\n            label: J.ampmText,\n            data: /A/.test(a) ? [{\n              value: 0,\n              display: J.amText.toUpperCase() },\n            {\n              value: 1,\n              display: J.pmText.toUpperCase() }] :\n            [{\n              value: 0,\n              display: J.amText },\n            {\n              value: 1,\n              display: J.pmText }] }));}\n\n\n        m != u && d.push(m);\n      }\n      return d;\n    }\n    function V(e) {\n      var t,a,s,n = {};\n      if (e.is(\"input\")) {\n        switch (e.attr(\"type\")) {\n          case \"date\":\n            t = \"yy-mm-dd\";\n            break;\n          case \"datetime\":\n            t = \"yy-mm-ddTHH:ii:ssZ\";\n            break;\n          case \"datetime-local\":\n            t = \"yy-mm-ddTHH:ii:ss\";\n            break;\n          case \"month\":\n            t = \"yy-mm\",\n            n.dateOrder = \"mmyy\";\n            break;\n          case \"time\":\n            t = \"HH:ii:ss\";}\n\n        n.format = t,\n        a = e.attr(\"min\"),\n        s = e.attr(\"max\"),\n        a && \"undefined\" != a && (n.min = g(t, a)),\n        s && \"undefined\" != s && (n.max = g(t, s));\n      }\n      return n;\n    }\n    function Y(e, t) {\n      var a,s,n = !1,o = !1,i = 0,r = 0,l = ne ? y(x(ne)) : -(1 / 0),c = oe ? y(x(oe)) : 1 / 0;\n      if (E(e))\n      return e;\n      if (e < l && (e = l),\n      e > c && (e = c),\n      a = e,\n      s = e,\n      2 !== t)\n      for (n = E(a, !0); !n && a < c && i < 100;) {\n        a = new Date(a.getTime() + 864e5),\n        n = E(a, !0),\n        i++;}\n      if (1 !== t)\n      for (o = E(s, !0); !o && s > l && r < 100;) {\n        s = new Date(s.getTime() - 864e5),\n        o = E(s, !0),\n        r++;}\n      return 1 === t && n ? a : 2 === t && o ? s : A(e, a) ? a : A(e, s) ? s : r <= i && o ? s : a;\n    }\n    function A(e, t) {\n      return J.getYear(e) === J.getYear(t) && J.getMonth(e) === J.getMonth(t);\n    }\n    function E(e, t) {\n      return !(!t && e < ne) && !(!t && e > oe) && (!!F(e, se) || !F(e, ae));\n    }\n    function F(e, t) {\n      var a, s, n;\n      if (t)\n      for (s = 0; s < t.length; s++) {\n        if (a = t[s],\n        n = a + \"\",\n        !a.start)\n        if (ve.test(n)) {\n          if (n = +n.replace(\"w\", \"\"),\n          n == e.getDay())\n          return !0;\n        } else if (pe.test(n)) {\n          if (n = n.split(\"/\"),\n          n[1]) {\n            if (n[0] - 1 == e.getMonth() && n[1] == e.getDate())\n            return !0;\n          } else if (n[0] == e.getDate())\n          return !0;\n        } else if (a = D(a, G, J),\n        e.getFullYear() == a.getFullYear() && e.getMonth() == a.getMonth() && e.getDate() == a.getDate())\n        return !0;}\n      return !1;\n    }\n    function N(e, t, a, s, n, o, i) {\n      var r, l, c, d;\n      if (e)\n      for (l = 0; l < e.length; l++) {\n        if (r = e[l],\n        d = r + \"\",\n        !r.start)\n        if (ve.test(d))\n        for (d = +d.replace(\"w\", \"\"),\n        c = d - s; c < n; c += 7) {\n          c >= 0 && (o[c + 1] = i);} else\n\n        pe.test(d) ? (d = d.split(\"/\"),\n        d[1] ? d[0] - 1 == a && (o[d[1]] = i) : o[d[0]] = i) : (r = D(r, G, J),\n        J.getYear(r) == t && J.getMonth(r) == a && (o[J.getDay(r)] = i));}\n    }\n    function H(e, t, s, n, o, i, r, l) {\n      var c,d,u,m,f,h,b,p,v,g,y,x,T,_,w,M,D,C,k,S,V = {},Y = J.getDate(n, o, i),A = [\"a\", \"h\", \"i\", \"s\"];\n      if (e) {\n        for (b = 0; b < e.length; b++) {\n          y = e[b],\n          y.start && (y.apply = !1,\n          u = y.d,\n          D = u + \"\",\n          C = D.split(\"/\"),\n          u && (u.getTime && n == J.getYear(u) && o == J.getMonth(u) && i == J.getDay(u) || !ve.test(D) && (C[1] && i == C[1] && o == C[0] - 1 || !C[1] && i == C[0]) || ve.test(D) && Y.getDay() == +D.replace(\"w\", \"\")) && (y.apply = !0,\n          V[Y] = !0));}\n        for (b = 0; b < e.length; b++) {\n          if (y = e[b],\n          c = 0,\n          M = 0,\n          p = Ce[s],\n          v = ke[s],\n          _ = !0,\n          w = !0,\n          d = !1,\n          y.start && (y.apply || !y.d && !V[Y])) {\n            for (x = y.start.split(\":\"),\n            T = y.end.split(\":\"),\n            g = 0; g < 3; g++) {\n              void 0 === x[g] && (x[g] = 0),\n              void 0 === T[g] && (T[g] = 59),\n              x[g] = +x[g],\n              T[g] = +T[g];}\n            if (\"tt\" == s)\n            p = a(Math.round((new Date(Y).setHours(x[0], x[1], x[2]) - new Date(Y).setHours(0, 0, 0, 0)) / 1e3), P, 0, 86400),\n            v = a(Math.round((new Date(Y).setHours(T[0], T[1], T[2]) - new Date(Y).setHours(0, 0, 0, 0)) / 1e3), P, 0, 86400);else\n            {\n              for (x.unshift(x[0] > 11 ? 1 : 0),\n              T.unshift(T[0] > 11 ? 1 : 0),\n              le && (x[1] >= 12 && (x[1] = x[1] - 12),\n              T[1] >= 12 && (T[1] = T[1] - 12)),\n              g = 0; g < t; g++) {\n                void 0 !== q[g] && (k = a(x[g], Se[A[g]], Ce[A[g]], ke[A[g]]),\n                S = a(T[g], Se[A[g]], Ce[A[g]], ke[A[g]]),\n                m = 0,\n                f = 0,\n                h = 0,\n                le && 1 == g && (m = x[0] ? 12 : 0,\n                f = T[0] ? 12 : 0,\n                h = q[0] ? 12 : 0),\n                _ || (k = 0),\n                w || (S = ke[A[g]]),\n                (_ || w) && k + m < q[g] + h && q[g] + h < S + f && (d = !0),\n                q[g] != k && (_ = !1),\n                q[g] != S && (w = !1));}\n              if (!l)\n              for (g = t + 1; g < 4; g++) {\n                x[g] > 0 && (c = Se[s]),\n                T[g] < ke[A[g]] && (M = Se[s]);}\n              d || (k = a(x[t], Se[s], Ce[s], ke[s]) + c,\n              S = a(T[t], Se[s], Ce[s], ke[s]) - M,\n              _ && (p = k),\n              w && (v = S));\n            }\n            if (_ || w || d)\n            for (g = p; g <= v; g += Se[s]) {\n              r[g] = !l;}\n          }}\n      }\n    }\n    var P,L,W,$ = {},I = {},z = {},q = [],R = V(ie(this)),X = me({}, e.settings),U = O[X.calendarSystem],J = me(e.settings, ge, U, Ge, R, X),j = J.preset,B = \"datetime\" == j ? J.dateFormat + J.separator + J.timeFormat : \"time\" == j ? J.timeFormat : J.dateFormat,G = R.format || B,Q = J.dateWheels || J.dateFormat,Z = J.timeWheels || J.timeFormat,K = J.dateWheels || J.dateDisplay,ee = Z,te = J.baseTheme || J.theme,ae = t(J.invalid),se = t(J.valid),ne = D(J.min, G, J),oe = D(J.max, G, J),re = /time/i.test(j),le = /h/.test(ee),ce = /D/.test(K),de = J.steps || {},ue = de.hour || J.stepHour || 1,fe = de.minute || J.stepMinute || 1,he = de.second || J.stepSecond || 1,ye = de.zeroBased,xe = ye || !ne ? 0 : ne.getHours() % ue,Te = ye || !ne ? 0 : ne.getMinutes() % fe,_e = ye || !ne ? 0 : ne.getSeconds() % he,we = s(ue, xe, le ? 11 : 23),Me = s(fe, Te, 59),De = s(fe, Te, 59),Ce = {\n      y: ne ? ne.getFullYear() : -(1 / 0),\n      m: 0,\n      d: 1,\n      h: xe,\n      i: Te,\n      s: _e,\n      a: 0,\n      tt: 0 },\n    ke = {\n      y: oe ? oe.getFullYear() : 1 / 0,\n      m: 11,\n      d: 31,\n      h: we,\n      i: Me,\n      s: De,\n      a: 1,\n      tt: 86400 },\n    Se = {\n      y: 1,\n      m: 1,\n      d: 1,\n      h: ue,\n      i: fe,\n      s: he,\n      a: 1,\n      tt: 1 },\n    Ve = {\n      bootstrap: 46,\n      ios: 50,\n      material: 46,\n      mobiscroll: 46,\n      windows: 50 },\n    Ye = {\n      y: n,\n      m: o,\n      d: i,\n      h: r,\n      i: c,\n      s: d,\n      u: u,\n      a: m,\n      dd: f,\n      tt: h };\n\n    return e.getVal = function (t) {\n      return e._hasValue || t ? M(y(e.getArrayVal(t)), J, G) : null;\n    },\n\n    e.getDate = function (t) {\n      return e._hasValue || t ? y(e.getArrayVal(t)) : null;\n    },\n\n    e.setDate = function (t, a, s, n, o) {\n      e.setArrayVal(x(t, !0), a, o, n, s);\n    },\n\n    W = S(),\n    J.isoParts = z,\n    e._format = B,\n    e._order = $,\n    e.handlers.now = function () {\n      e.setDate(new Date(), e.live, 1e3, !0, !0);\n    },\n\n    e.buttons.now = {\n      text: J.nowText,\n      icon: J.nowIcon,\n      handler: \"now\" },\n\n    {\n      minWidth: L && re ? Ve[te] : void 0,\n      compClass: \"mbsc-dt mbsc-sc\",\n      wheels: W,\n      headerText: !!J.headerText && function () {\n        return v(B, y(e.getArrayVal(!0)), J);\n      },\n\n      formatValue: function formatValue(e) {\n        return v(G, y(e), J);\n      },\n      parseValue: function parseValue(t) {\n        return t || (I = {},\n        e._hasValue = !1),\n        x(D(t || J.defaultValue || new Date(), G, J, z), !!t);\n      },\n      validate: function validate(t) {\n        var a,s,n,o,i = t.values,r = t.index,l = t.direction,c = J.wheels[0][$.d],d = Y(y(i), l),u = x(d),m = [],f = {},h = Ye.y(d),b = Ye.m(d),p = J.getMaxDayOfMonth(h, b),v = !0,g = !0;\n        if (ie.each([\"dd\", \"y\", \"m\", \"d\", \"tt\", \"a\", \"h\", \"i\", \"s\"], function (e, t) {\n          var a = Ce[t],\n          n = ke[t],\n          o = Ye[t](d);\n          if (m[$[t]] = [],\n          v && ne && (a = Ye[t](ne)),\n          g && oe && (n = Ye[t](oe)),\n          o < a && (o = a),\n          o > n && (o = n),\n          \"dd\" !== t && \"tt\" !== t && (v && (v = o == a),\n          g && (g = o == n)),\n          void 0 !== $[t]) {\n            if (\"y\" != t && \"dd\" != t)\n            for (s = Ce[t]; s <= ke[t]; s += Se[t]) {\n              (s < a || s > n) && m[$[t]].push(s);}\n            if (\"d\" == t) {\n              var i = J.getDate(h, b, 1).getDay(),\n              r = {};\n              N(ae, h, b, i, p, r, 1),\n              N(se, h, b, i, p, r, 0),\n              ie.each(r, function (e, a) {\n                a && m[$[t]].push(e);\n              });\n            }\n          }\n        }),\n        re && ie.each([\"a\", \"h\", \"i\", \"s\", \"tt\"], function (t, a) {\n          var s = Ye[a](d),\n          n = Ye.d(d),\n          o = {};\n          void 0 !== $[a] && (H(ae, t, a, h, b, n, o, 0),\n          H(se, t, a, h, b, n, o, 1),\n          ie.each(o, function (e, t) {\n            t && m[$[a]].push(e);\n          }),\n          q[t] = e.getValidValue($[a], s, l, o));\n        }),\n        c && (c._length !== p || ce && (void 0 === r || r === $.y || r === $.m))) {\n          for (f[$.d] = c,\n          c.data = [],\n          a = 1; a <= p; a++) {\n            o = J.getDate(h, b, a).getDay(),\n            n = K.replace(/[my|]/gi, \"\").replace(/dd/, (a < 10 ? \"0\" + a : a) + (J.daySuffix || \"\")).replace(/d/, a + (J.daySuffix || \"\")),\n            c.data.push({\n              value: a,\n              display: /DD/.test(n) ? n.replace(/DD/, '<span class=\"mbsc-dt-day\">' + J.dayNames[o] + \"</span>\") : n.replace(/D/, '<span class=\"mbsc-dt-day\">' + J.dayNamesShort[o] + \"</span>\") });}\n\n          e._tempWheelArray[$.d] = u[$.d],\n          e.changeWheel(f);\n        }\n        return {\n          disabled: m,\n          valid: u };\n\n      } };\n\n  },\n  Ze = {\n    controls: [\"calendar\"],\n    firstDay: 0,\n    weekDays: \"short\",\n    maxMonthWidth: 170,\n    breakPointMd: 768,\n    months: 1,\n    pageBuffer: 1,\n    weeks: 6,\n    highlight: !0,\n    outerMonthChange: !0,\n    quickNav: !0,\n    yearChange: !0,\n    tabs: \"auto\",\n    todayClass: \"mbsc-cal-today\",\n    btnCalPrevClass: \"mbsc-ic mbsc-ic-arrow-left6\",\n    btnCalNextClass: \"mbsc-ic mbsc-ic-arrow-right6\",\n    dateText: \"Date\",\n    timeText: \"Time\",\n    todayText: \"Today\",\n    fromText: \"Start\",\n    toText: \"End\",\n    moreEventsText: \"{count} more\",\n    prevMonthText: \"Previous Month\",\n    nextMonthText: \"Next Month\",\n    prevYearText: \"Previous Year\",\n    nextYearText: \"Next Year\" },\n\n  Ke = function Ke(e) {\n    function t(t) {\n      t.hasClass(\"mbsc-cal-h\") && (t.removeClass(\"mbsc-cal-h\"),\n      e._onSelectShow());\n    }\n    function a(e) {\n      e.hasClass(\"mbsc-cal-h\") || e.addClass(\"mbsc-cal-h\");\n    }\n    function n(e) {\n      e.hasClass(\"mbsc-cal-h\") ? t(e) : a(e);\n    }\n    function o() {\n      var t, a, s;\n      he = {},\n      be = [],\n      _e = {},\n      ut = e.trigger,\n      s = me({}, e.settings),\n      ct = me(e.settings, Ze, s),\n      t = ct.controls.join(\",\"),\n      Ce = ct.firstDay,\n      Pe = ct.rtl,\n      nt = ct.pageBuffer,\n      ht = ct.weekCounter,\n      ce = ct.weeks,\n      He = 6 == ce,\n      Le = \"vertical\" == ct.calendarScroll,\n      fe = e._getRespCont(),\n      bt = \"full\" == ct.weekDays ? \"\" : \"min\" == ct.weekDays ? \"Min\" : \"Short\",\n      a = ct.layout || (\"inline\" == ct.display || /top|bottom/.test(ct.display) && ct.touchUi ? \"liquid\" : \"\"),\n      Ne = \"liquid\" == a,\n      ue = Ne ? null : ct.calendarWidth,\n      lt = Pe && !Le ? -1 : 1,\n      ge = \"mbsc-disabled \" + (ct.disabledClass || \"\"),\n      xe = \"mbsc-selected \" + (ct.selectedTabClass || \"\"),\n      ye = \"mbsc-selected \" + (ct.selectedClass || \"\"),\n      qe = Math.max(1, Math.floor(((ct.calendarHeight || 0) / ce - 45) / 18)),\n      t.match(/calendar/) && (he.calendar = 1,\n      ke = !0),\n      t.match(/date/) && !ke && (he.date = 1),\n      t.match(/time/) && (he.time = 1),\n      ct.controls.forEach(function (e) {\n        he[e] && be.push(e);\n      }),\n      Ae = ct.quickNav && ke && He,\n      pt = ct.yearChange && He,\n      Ne && ke && \"center\" == ct.display && (e._isFullScreen = !0),\n      ct.layout = a,\n      ct.preset = (he.date || ke ? \"date\" : \"\") + (he.time ? \"time\" : \"\");\n    }\n    function i() {\n      et = pt ? ct.monthNamesShort : ct.monthNames,\n      yt = ct.yearSuffix || \"\",\n      Ke = (ct.dateWheels || ct.dateFormat).search(/m/i),\n      vt = (ct.dateWheels || ct.dateFormat).search(/y/i),\n      De = e._format,\n      ct.min && (Je = x(D(ct.min, De, ct)),\n      Ge = ct.getYear(Je),\n      Be = ct.getMonth(Je),\n      je = ct.getDate(12 * Math.floor(Ge / 12), 0, 1)),\n      ct.max && (Ie = x(D(ct.max, De, ct)),\n      Ue = ct.getYear(Ie),\n      Re = ct.getMonth(Ie),\n      ze = ct.getDate(12 * Math.floor(Ue / 12), 0, 1));\n    }\n    function r(e, t, a) {\n      e[t] = e[t] || [],\n      e[t].push(a);\n    }\n    function l(e, t, a) {\n      var s,n,o,i,l = ct.getYear(t),c = ct.getMonth(t),d = {};\n      return e && ie.each(e, function (e, u) {\n        if (s = u.d || u.start || u,\n        n = s + \"\",\n        u.start && u.end)\n        for (i = x(D(u.start, De, ct)),\n        o = x(D(u.end, De, ct)); i <= o;) {\n          r(d, i, u),\n          i = ct.getDate(ct.getYear(i), ct.getMonth(i), ct.getDay(i) + 1);} else\n        if (ve.test(n))\n        for (i = q(t, !1, +n.replace(\"w\", \"\")); i <= a;) {\n          r(d, i, u),\n          i = ct.getDate(ct.getYear(i), ct.getMonth(i), ct.getDay(i) + 7);} else\n        if (pe.test(n)) {\n          if (n = n.split(\"/\"),\n          n[1])\n          for (i = ct.getDate(l, n[0] - 1, n[1]); i <= a;) {\n            r(d, i, u),\n            i = ct.getDate(ct.getYear(i) + 1, ct.getMonth(i), n[1]);} else\n\n          for (i = ct.getDate(l, c, n[0]); i <= a;) {\n            r(d, i, u),\n            i = ct.getDate(ct.getYear(i), ct.getMonth(i) + 1, n[0]);}} else\n\n        r(d, x(D(s, De, ct)), u);\n      }),\n      d;\n    }\n    function c(e) {\n      return !(e < Je) && !(e > Ie) && (void 0 === Ee[e] || void 0 !== mt[e]);\n    }\n    function u(t) {\n      var a,s,n,o,i = !!$e[t] && $e[t],r = !!Oe[t] && Oe[t],l = r && r[0].background ? r[0].background : i && i[0].background,c = \"\";\n      if (r)\n      for (a = 0; a < r.length; a++) {\n        c += (r[a].cssClass || \"\") + \" \";}\n      if (i) {\n        for (n = '<div class=\"mbsc-cal-marks\">',\n        a = 0; a < i.length; a++) {\n          s = i[a],\n          c += (s.cssClass || \"\") + \" \",\n          n += '<div class=\"mbsc-cal-mark\"' + (s.color ? ' style=\"background:' + s.color + ';\"' : \"\") + \"></div>\";}\n        n += \"</div>\";\n      }\n      return o = {\n        marked: i,\n        background: l,\n        cssClass: c,\n        markup: _e[t] ? _e[t].join(\"\") : Ve ? n : \"\" },\n\n      me(o, e._getDayProps(t, o));\n    }\n    function m(e) {\n      return ' style=\"' + (Le ? \"transform: translateY(\" + 100 * e + \"%)\" : \"left:\" + 100 * e * lt + \"%\") + '\"';\n    }\n    function f() {\n      ot = \"auto\" == ct.months ? Math.max(1, Math.min(3, Math.floor((ue || b(fe)) / 280))) : +ct.months,\n      rt = ot + 2 * nt,\n      it = 0,\n      Le = Le && ot < 2,\n      dt = void 0 === ct.showOuterDays ? ot < 2 && !Le : ct.showOuterDays;\n    }\n    function h(e) {\n      return R(e, ot - 1) > Ie && (e = R(Ie, 1 - ot)),\n      e < Je && (e = Je),\n      e;\n    }\n    function v(e, t, a) {\n      var s = e.color,\n      n = e.text;\n      return '<div data-id=\"' + e._id + '\" data-index=\"' + t + '\" class=\"mbsc-cal-txt\" title=\"' + ie(\"<div>\" + n + \"</div>\").text() + '\"' + (s ? ' style=\"background:' + s + (a ? \";color:\" + A(s) : \"\") + ';\"' : \"\") + \">\" + (a ? n : \"\") + \"</div>\";\n    }\n    function g(t) {\n      var a = q(R(t, -it - nt), !1),\n      s = q(R(t, -it + ot + nt - 1), !1);\n      s = ct.getDate(ct.getYear(s), ct.getMonth(s), ct.getDay(s) + 7 * ce),\n      e._onGenMonth(a, s),\n      Ee = l(ct.invalid, a, s),\n      mt = l(ct.valid, a, s),\n      $e = l(ct.labels || ct.events || ct.marked, a, s),\n      Oe = l(ct.colors, a, s),\n      We = e._labels || $e || Oe,\n      Se = ct.labels || e._labels,\n      Se && !function () {\n        _e = {};\n        for (var e = {}, t = a, n = function n() {\n          t.getDay() == Ce && (e = {});\n          for (var a = qe, s = We[t] || [], n = s.length, o = [], i = void 0, r = void 0, l = 0, c = 0, d = 0, u = void 0; l < a;) {\n            if (i = null,\n            s.forEach(function (t, a) {\n              e[l] == t && (i = t,\n              r = a);\n            }),\n            l == a - 1 && (c < n - 1 || n && d == n && !i)) {\n              var m = n - c,\n              f = (m > 1 ? ct.moreEventsPluralText || ct.moreEventsText : ct.moreEventsText).replace(/{count}/, m);\n              m && o.push('<div class=\"mbsc-cal-txt-more\">' + f + \"</div>\"),\n              i && (e[l] = null,\n              i._days.forEach(function (e) {\n                _e[e][l] = '<div class=\"mbsc-cal-txt-more\">' + ct.moreEventsText.replace(/{count}/, 1) + \"</div>\";\n              })),\n              c++,\n              l++;\n            } else if (i)\n            r == d && d++,\n            C(t, D(i.end)) && (e[l] = null),\n            o.push(v(i, r)),\n            l++,\n            c++,\n            i._days.push(t);else\n            if (d < n) {\n              var h = s[d],\n              b = h.start && D(h.start),\n              p = h.end && D(h.end),\n              g = t.getDay(),\n              T = Ce - g > 0 ? 7 : 0,\n              _ = p && !C(b, p);\n              b && !C(t, b) && g != Ce || (void 0 === h._id && (h._id = xt++),\n              _ && (e[l] = h),\n              h._days = [t],\n              u = _ ? 100 * Math.min(y(t, x(p)) + 1, 7 + Ce - g - T) : 100,\n              o.push(_ ? '<div class=\"mbsc-cal-txt-w\" style=\"width:' + u + '%\">' + v(h, d, !0) + \"</div>\" + v(h, d) : v(h, d, !0)),\n              l++,\n              c++),\n              d++;\n            } else\n            o.push('<div class=\"mbsc-cal-txt-ph\"></div>'),\n            l++;}\n          _e[t] = o,\n          t = ct.getDate(ct.getYear(t), ct.getMonth(t), ct.getDay(t) + 1);\n        }; t < s;) {\n          n();}\n      }();\n    }\n    function _(e) {\n      var t = ct.getYear(e),\n      a = ct.getMonth(e);\n      Te = e,\n      re = e,\n      W(e),\n      ut(\"onMonthChange\", {\n        year: t,\n        month: a }),\n\n      ut(\"onMonthLoading\", {\n        year: t,\n        month: a }),\n\n      ut(\"onPageChange\", {\n        firstDay: e }),\n\n      ut(\"onPageLoading\", {\n        firstDay: e }),\n\n      g(e);\n    }\n    function w(e) {\n      var t = ct.getYear(e),\n      a = ct.getMonth(e);\n      void 0 === st ? M(e, t, a) : F(e, st, !0),\n      N(re, Me.focus),\n      Me.focus = !1;\n    }\n    function M(e, t, a) {\n      var s = Me.$scroller;\n      ie(\".mbsc-cal-slide\", s).removeClass(\"mbsc-cal-slide-a\"),\n      ie(\".mbsc-cal-slide\", s).slice(nt, nt + ot).addClass(\"mbsc-cal-slide-a\"),\n      Se && ie(\".mbsc-cal-slide-a .mbsc-cal-txt\", s).on(\"mouseenter\", function () {\n        var e = ie(this).attr(\"data-id\");\n        ie('.mbsc-cal-txt[data-id=\"' + e + '\"]', s).addClass(\"mbsc-hover\");\n      }).on(\"mouseleave\", function () {\n        ie(\".mbsc-cal-txt.mbsc-hover\", s).removeClass(\"mbsc-hover\");\n      }),\n      ut(\"onMonthLoaded\", {\n        year: t,\n        month: a }),\n\n      ut(\"onPageLoaded\", {\n        firstDay: e });\n\n    }\n    function k() {\n      var e, t;\n      return e = '<div class=\"mbsc-cal-tabs-c\"><div class=\"mbsc-cal-tabs\" role=\"tablist\">',\n      be.forEach(function (a, s) {\n        t = ct[(\"calendar\" == a ? \"date\" : a) + \"Text\"],\n        e += '<div role=\"tab\" aria-controls=\"' + (Tt.id + \"-mbsc-pnl-\" + s) + '\" class=\"mbsc-cal-tab mbsc-fr-btn-e ' + (s ? \"\" : xe) + '\" data-control=\"' + a + '\"' + (ct.tabLink ? '><a href=\"#\">' + t + \"</a>\" : ' tabindex=\"0\">' + t) + \"</div>\";\n      }),\n      e += \"</div></div>\";\n    }\n    function S() {\n      var e,t,a,s,n,o,i = \"\",r = Pe ? ct.btnCalNextClass : ct.btnCalPrevClass,l = Pe ? ct.btnCalPrevClass : ct.btnCalNextClass;\n      for (n = '<div class=\"mbsc-cal-btn-w\"><div data-step=\"-1\" role=\"button\" tabindex=\"0\" aria-label=\"' + ct.prevMonthText + '\" class=\"' + r + ' mbsc-cal-prev mbsc-cal-prev-m mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e\"></div>',\n      t = 0; t < (ce ? ot : 1); t++) {\n        n += '<div role=\"button\" class=\"mbsc-cal-month\"></div>';}\n      if (n += '<div data-step=\"1\" role=\"button\" tabindex=\"0\" aria-label=\"' + ct.nextMonthText + '\" class=\"' + l + ' mbsc-cal-next mbsc-cal-next-m mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e\"></div></div>',\n      pt && (i = '<div class=\"mbsc-cal-btn-w\"><div data-step=\"-12\" role=\"button\" tabindex=\"0\" aria-label=\"' + ct.prevYearText + '\" class=\"' + r + ' mbsc-cal-prev mbsc-cal-prev-y mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e\"></div><div role=\"button\" class=\"mbsc-cal-year\"></div><div data-step=\"12\" role=\"button\" tabindex=\"0\" aria-label=\"' + ct.nextYearText + '\" class=\"' + l + ' mbsc-cal-next mbsc-cal-next-y mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e\"></div></div>'),\n      ce && (o = F(Te)),\n      e = '<div class=\"mbsc-w-p mbsc-cal-c\"><div class=\"mbsc-cal ' + (He ? \"\" : \" mbsc-cal-week-view\") + (ot > 1 ? \" mbsc-cal-multi \" : \"\") + (ht ? \" mbsc-cal-weeks \" : \"\") + (Le ? \" mbsc-cal-vertical\" : \"\") + (Ve ? \" mbsc-cal-has-marks\" : \"\") + (Se ? \" mbsc-cal-has-labels\" : \"\") + (dt ? \"\" : \" mbsc-cal-hide-diff \") + (ct.calendarClass || \"\") + '\"' + (Ne ? \"\" : ' style=\"width:' + (ue || 280 * ot) + 'px;\"') + '><div class=\"mbsc-cal-hdr\">' + (vt < Ke || ot > 1 ? i + n : n + i) + \"</div>\",\n      ce) {\n        for (e += '<div class=\"mbsc-cal-body\"><div class=\"mbsc-cal-day-picker\"><div class=\"mbsc-cal-days-c\">',\n        a = 0; a < ot; a++) {\n          for (e += '<div class=\"mbsc-cal-days\">',\n          t = 0; t < 7; t++) {\n            s = (t + Ce) % 7,\n            e += '<div class=\"mbsc-cal-week-day' + s + '\" aria-label=\"' + ct.dayNames[s] + '\">' + ct[\"dayNames\" + bt][s] + \"</div>\";}\n          e += \"</div>\";\n        }\n        e += '</div><div class=\"mbsc-cal-scroll-c mbsc-cal-day-scroll-c ' + (ct.calendarClass || \"\") + '\"' + (ct.calendarHeight ? ' style=\"height:' + ct.calendarHeight + 'px\"' : \"\") + '><div class=\"mbsc-cal-scroll\" style=\"width:' + 100 / ot + '%\">' + o + \"</div></div>\";\n      }\n      if (e += \"</div>\",\n      Ae) {\n        for (e += '<div class=\"mbsc-cal-month-picker mbsc-cal-picker mbsc-cal-h\"><div class=\"mbsc-cal-scroll-c ' + (ct.calendarClass || \"\") + '\"><div class=\"mbsc-cal-scroll\">',\n        t = 0; t < 3; t++) {\n          for (e += '<div class=\"mbsc-cal-slide\"' + m(t - 1) + '><div role=\"grid\" class=\"mbsc-cal-table\"><div class=\"mbsc-cal-row\">',\n          a = 0; a < 12; a++) {\n            a && a % 3 === 0 && (e += '</div><div class=\"mbsc-cal-row\">'),\n            e += '<div role=\"gridcell\"' + (1 == t ? ' tabindex=\"-1\" aria-label=\"' + ct.monthNames[a] + '\" data-val=\"' + a + '\"' : \"\") + ' class=\"mbsc-cal-cell' + (1 == t ? \" mbsc-btn-e\" : \"\") + '\"><div class=\"mbsc-cal-cell-i mbsc-cal-cell-txt\">' + (1 == t ? ct.monthNamesShort[a] : \"&nbsp;\") + \"</div></div>\";}\n          e += \"</div></div></div>\";\n        }\n        for (e += \"</div></div></div>\",\n        e += '<div class=\"mbsc-cal-year-picker mbsc-cal-picker mbsc-cal-h\"><div class=\"mbsc-cal-scroll-c ' + (ct.calendarClass || \"\") + '\"><div class=\"mbsc-cal-scroll\">',\n        t = -1; t < 2; t++) {\n          e += V(X(Te, t), t);}\n        e += \"</div></div></div>\";\n      }\n      return e += \"</div></div></div>\";\n    }\n    function V(e, t) {\n      var a,s = ct.getYear(e),n = '<div class=\"mbsc-cal-slide\"' + m(t) + '><div role=\"grid\" class=\"mbsc-cal-table\"><div class=\"mbsc-cal-row\">';\n      for (a = 0; a < 12; a++) {\n        a && a % 3 === 0 && (n += '</div><div class=\"mbsc-cal-row\">'),\n        n += '<div role=\"gridcell\" tabindex=\"-1\" aria-label=\"' + s + '\" data-val=\"' + s + '\" class=\"mbsc-cal-cell mbsc-btn-e ' + (s < Ge || s > Ue ? \" mbsc-disabled \" : \"\") + (s == ct.getYear(Te) ? ye : \"\") + '\"><div class=\"mbsc-cal-cell-i mbsc-cal-cell-txt\">' + s + yt + \"</div></div>\",\n        s++;}\n      return n += \"</div></div></div>\";\n    }\n    function Y(t, a) {\n      var s,n,o,i,r,l,d,f,h,b,p,v,g,y,x,T,_ = 1,w = ct.getYear(t),M = ct.getMonth(t),D = ct.getDay(t),k = null !== ct.defaultValue || e._hasValue ? e.getDate(!0) : null,S = ct.getDate(w, M, D).getDay(),V = Ce - S > 0 ? 7 : 0,Y = '<div class=\"mbsc-cal-slide\"' + m(a) + '><div role=\"grid\" class=\"mbsc-cal-table\"><div class=\"mbsc-cal-row\">';\n      for (T = 0; T < 7 * ce; T++) {\n        x = T + Ce - V,\n        s = ct.getDate(w, M, x - S + D),\n        o = s.getFullYear(),\n        i = s.getMonth(),\n        r = s.getDate(),\n        l = ct.getMonth(s),\n        d = ct.getDay(s),\n        y = ct.getMaxDayOfMonth(o, i),\n        f = o + \"-\" + (i + 1) + \"-\" + r,\n        h = me({\n          valid: c(s),\n          selected: k && C(k, s) },\n        u(s)),\n        b = h.valid,\n        p = h.selected,\n        n = h.cssClass,\n        v = new Date(s).setHours(12, 0, 0, 0) === new Date().setHours(12, 0, 0, 0),\n        g = l !== M,\n        we[f] = h,\n        T && T % 7 === 0 && (Y += '</div><div class=\"mbsc-cal-row\">'),\n        ht && T % 7 === 0 && (\"month\" == ht && g && _ > 1 ? _ = 1 == r ? 1 : 2 : \"year\" == ht && (_ = ct.getWeekNumber(ct.getDate(o, i, r + (7 - Ce + 1) % 7))),\n        Y += '<div role=\"gridcell\" class=\"mbsc-cal-cell mbsc-cal-week-nr\">' + _ + \"</div>\",\n        _++),\n        Y += '<div role=\"gridcell\" aria-label=\"' + (v ? ct.todayText + \", \" : \"\") + ct.dayNames[s.getDay()] + \", \" + ct.monthNames[l] + \" \" + d + \" \" + (h.ariaLabel ? \", \" + h.ariaLabel : \"\") + '\"' + (g && !dt ? ' aria-hidden=\"true\"' : ' data-full=\"' + f + '\"') + (p ? ' aria-selected=\"true\"' : \"\") + (b ? ' tabindex=\"-1\"' : ' aria-disabled=\"true\"') + ' class=\"mbsc-cal-cell mbsc-cal-day mbsc-cal-day' + x % 7 + \" \" + (ct.dayClass || \"\") + \" \" + (p ? ye : \"\") + (v ? \" \" + ct.todayClass : \"\") + (n ? \" \" + n : \"\") + (1 == d ? \" mbsc-cal-day-first\" : \"\") + (d == y ? \" mbsc-cal-day-last\" : \"\") + (g ? \" mbsc-cal-day-diff\" : \"\") + (b ? \" mbsc-btn-e\" : \" mbsc-disabled\") + (h.marked ? \" mbsc-cal-day-marked\" : \"\") + (h.background ? \" mbsc-cal-day-colored\" : \"\") + '\"><div class=\"mbsc-cal-cell-i mbsc-cal-day-i\"><div class=\"mbsc-cal-day-date mbsc-cal-cell-txt\"' + (h.background ? ' style=\"background:' + h.background + \";color:\" + A(h.background) + '\"' : \"\") + \">\" + d + \"</div>\" + (h.markup ? \"<div>\" + h.markup + \"</div>\" : \"\") + \"</div></div>\";}\n      return Y += \"</div></div></div>\";\n    }\n    function F(e, t, a) {\n      var s,n = ct.getYear(e),o = ct.getMonth(e),i = Me ? Me.pos : 0,r = \"\";\n      if (we = {},\n      ce)\n      for (t || (ut(\"onMonthLoading\", {\n        year: n,\n        month: o }),\n\n      ut(\"onPageLoading\", {\n        firstDay: e })),\n\n      g(e),\n      s = 0; s < rt; s++) {\n        r += Y(R(e, s - it - nt), i * lt + s - nt);}\n      return st = void 0,\n      a && Me && (Me.$active = null,\n      Me.$scroller.html(r),\n      M(e, n, o)),\n      r;\n    }\n    function N(e, t) {\n      if (Me) {\n        var a = Me.$active;\n        a && a.length && (a[0].blur(),\n        a.hasClass(\"mbsc-disabled\") ? a.removeAttr(\"tabindex\") : a.attr(\"tabindex\", \"-1\")),\n        Me.$active = ie('.mbsc-cal-slide-a .mbsc-cal-day[data-full=\"' + T(e) + '\"]', Me.$scroller).attr(\"tabindex\", \"0\"),\n        t && Me.$active.length && Me.$active[0].focus();\n      }\n    }\n    function H(t) {\n      var a = Me && Me.$scroller;\n      ct.highlight && Me && (ie(\".mbsc-selected\", a).removeClass(ye).removeAttr(\"aria-selected\"),\n      (null !== ct.defaultValue || e._hasValue) && ie('.mbsc-cal-day[data-full=\"' + T(t) + '\"]', a).addClass(ye).attr(\"aria-selected\", \"true\"));\n    }\n    function P(e, t) {\n      ie(\".mbsc-selected\", t).removeClass(ye).removeAttr(\"aria-selected\"),\n      ie('.mbsc-cal-cell[data-val=\"' + e + '\"]', t).addClass(ye).attr(\"aria-selected\", \"true\");\n    }\n    function L(t, a, s, n) {\n      var o, i;\n      ft && (t < Je && (t = Je),\n      t > Ie && (t = Ie),\n      \"calendar\" !== ft && Ye && !a || (e._isSetDate = !a,\n      ke && ce && (i = q(h(t), He),\n      at && (t < R(Te, -it) || t >= R(Te, ot - it)) && (o = He ? ct.getMonth(i) - ct.getMonth(Te) + 12 * (ct.getYear(i) - ct.getYear(Te)) : Math.floor(y(Te, i) / (7 * ce)),\n      o && (Me.queue = [],\n      Me.focus = n && s,\n      U(Me, o, s))),\n      o && s || N(t, n),\n      a || H(t),\n      He || W(t, !0),\n      re = t,\n      at = !0),\n      e._onSetDate(t, o),\n      e._isSetDate = !1));\n    }\n    function W(e, t) {\n      var a,s,n,o = ct.getYear(e),i = ct.getMonth(e),r = o + yt;\n      if (Ae) {\n        if (P(i, tt.$scroller),\n        P(o, gt.$scroller),\n        U(gt, Math.floor(o / 12) - Math.floor(ct.getYear(gt.first) / 12), !0),\n        ie(\".mbsc-cal-cell\", tt.$scroller).removeClass(\"mbsc-disabled\"),\n        o === Ge)\n        for (a = 0; a < Be; a++) {\n          ie('.mbsc-cal-cell[data-val=\"' + a + '\"]', tt.$scroller).addClass(\"mbsc-disabled\");}\n        if (o === Ue)\n        for (a = Re + 1; a <= 12; a++) {\n          ie('.mbsc-cal-cell[data-val=\"' + a + '\"]', tt.$scroller).addClass(\"mbsc-disabled\");}\n      }\n      for (t || ($(ie(\".mbsc-cal-prev-m\", K), R(e, -it) <= Je),\n      $(ie(\".mbsc-cal-next-m\", K), R(e, ot - it) > Ie),\n      $(ie(\".mbsc-cal-prev-y\", K), ct.getDate(o - 1, i + 1, 1) <= Je),\n      $(ie(\".mbsc-cal-next-y\", K), ct.getDate(o + 1, i, 1) > Ie)),\n      ne.attr(\"aria-label\", o).html(r),\n      a = 0; a < ot; a++) {\n        e = ct.getDate(o, i - it + a, 1),\n        s = ct.getYear(e),\n        n = ct.getMonth(e),\n        r = s + yt,\n        ee.eq(a).attr(\"aria-label\", ct.monthNames[n] + (pt ? \"\" : \" \" + o)).html((!pt && vt < Ke ? r + \" \" : \"\") + et[n] + (!pt && vt > Ke ? \" \" + r : \"\"));}\n    }\n    function $(e, t) {\n      t ? e.addClass(ge).attr(\"aria-disabled\", \"true\") : e.removeClass(ge).removeAttr(\"aria-disabled\");\n    }\n    function O(t, a) {\n      var s = e.getDate(!0),\n      n = t[0],\n      o = t.attr(\"data-full\"),\n      i = o ? o.split(\"-\") : [],\n      r = p(i[0], i[1] - 1, i[2]),\n      l = p(r.getFullYear(), r.getMonth(), r.getDate(), s.getHours(), s.getMinutes(), s.getSeconds()),\n      c = t.hasClass(\"mbsc-selected\"),\n      d = ie(a.target),\n      u = d[0];\n      if (dt || !t.hasClass(\"mbsc-cal-day-diff\")) {\n        if (Se && n.contains(u))\n        for (; u != n;) {\n          if (d.hasClass(\"mbsc-cal-txt\") || d.hasClass(\"mbsc-cal-txt-more\")) {\n            var m = d.attr(\"data-index\"),\n            f = We[r];\n            if (ut(\"onLabelTap\", {\n              date: l,\n              domEvent: a,\n              target: d[0],\n              labels: f,\n              label: f[m] }) ===\n            !1)\n            return;\n            break;\n          }\n          d = d.parent(),\n          u = d[0];\n        }\n        ut(\"onDayChange\", me(we[o], {\n          date: l,\n          target: n,\n          selected: c })) ===\n        !1 || ct.readonly || t.hasClass(\"mbsc-disabled\") || e._selectDay(t, r, l, c);\n      }\n    }\n    function I(e) {\n      a(te),\n      L(ct.getDate(ct.getYear(Me.first), e.attr(\"data-val\"), 1), !0, !0);\n    }\n    function z(e) {\n      a(oe),\n      L(ct.getDate(e.attr(\"data-val\"), ct.getMonth(Me.first), 1), !0, !0);\n    }\n    function q(e, t, a) {\n      var s = ct.getYear(e),\n      n = ct.getMonth(e),\n      o = e.getDay(),\n      i = Ce - o > 0 ? 7 : 0;\n      return t ? ct.getDate(s, n, 1) : ct.getDate(s, n, (void 0 === a ? Ce : a) - i - o + ct.getDay(e));\n    }\n    function R(e, t) {\n      var a = ct.getYear(e),\n      s = ct.getMonth(e),\n      n = ct.getDay(e);\n      return He ? ct.getDate(a, s + t, 1) : ct.getDate(a, s, n + t * ce * 7);\n    }\n    function X(e, t) {\n      var a = 12 * Math.floor(ct.getYear(e) / 12);\n      return ct.getDate(a + 12 * t, 0, 1);\n    }\n    function U(t, a, s, n) {\n      a && e._isVisible && (t.queue.push(arguments),\n      1 == t.queue.length && J(t, a, s, n));\n    }\n    function J(t, a, s, n) {\n      var o,i,r = \"\",l = t.$scroller,c = t.buffer,d = t.offset,u = t.pages,m = t.total,f = t.first,h = t.genPage,b = t.getFirst,p = a > 0 ? Math.min(a, c) : Math.max(a, -c),v = t.pos * lt + p - a + d,g = Math.abs(a) > c;\n      t.callback && (t.load(),\n      t.callback(!0)),\n      t.first = b(f, a),\n      t.pos += p * lt,\n      t.changing = !0,\n      t.load = function () {\n        if (g) {\n          for (o = 0; o < u; o++) {\n            i = a + o - d,\n            r += h(b(f, i), v + i);}\n          a > 0 ? (ie(\".mbsc-cal-slide\", l).slice(-u).remove(),\n          l.append(r)) : a < 0 && (ie(\".mbsc-cal-slide\", l).slice(0, u).remove(),\n          l.prepend(r));\n        }\n      },\n\n      t.callback = function (s) {\n        var r = Math.abs(p),\n        u = \"\";\n        if (e._isVisible) {\n          for (o = 0; o < r; o++) {\n            i = a + o - d - c + (a > 0 ? m - r : 0),\n            u += h(b(f, i), v + i);}\n          if (a > 0 ? (l.append(u),\n          ie(\".mbsc-cal-slide\", l).slice(0, p).remove()) : a < 0 && (l.prepend(u),\n          ie(\".mbsc-cal-slide\", l).slice(p).remove()),\n          g) {\n            for (u = \"\",\n            o = 0; o < r; o++) {\n              i = a + o - d - c + (a > 0 ? 0 : m - r),\n              u += h(b(f, i), v + i);}\n            a > 0 ? (ie(\".mbsc-cal-slide\", l).slice(0, p).remove(),\n            l.prepend(u)) : a < 0 && (ie(\".mbsc-cal-slide\", l).slice(p).remove(),\n            l.append(u));\n          }\n          B(t),\n          n && !s && n(),\n          t.callback = null,\n          t.load = null,\n          t.queue.shift(),\n          g = !1,\n          t.queue.length ? J.apply(this, t.queue[0]) : (t.changing = !1,\n          t.onAfterChange(t.first));\n        }\n      },\n\n      t.onBeforeChange(t.first),\n      t.load && (t.load(),\n      t.scroller.scroll(-t.pos * t.size, s ? 200 : 0, !1, t.callback));\n    }\n    function j(t, a, s, n, o, i, r, l, c, u, m, f, h) {\n      var b = Le ? \"Y\" : \"X\",\n      p = {\n        $scroller: ie(\".mbsc-cal-scroll\", t),\n        queue: [],\n        buffer: n,\n        offset: o,\n        pages: i,\n        first: l,\n        total: r,\n        pos: 0,\n        min: a,\n        max: s,\n        genPage: f,\n        getFirst: h,\n        onBeforeChange: u,\n        onAfterChange: m };\n\n      return p.scroller = new Xe(t, {\n        axis: b,\n        easing: \"\",\n        contSize: 0,\n        maxSnapScroll: n,\n        mousewheel: void 0 === ct.mousewheel ? Le : ct.mousewheel,\n        time: 200,\n        lock: !0,\n        rtl: Pe,\n        stopProp: !1,\n        minScroll: 0,\n        maxScroll: 0,\n        onBtnTap: function onBtnTap(e) {\n          \"touchend\" == e.domEvent.type && d(),\n          c(ie(e.target), e.domEvent);\n        },\n        onAnimationStart: function onAnimationStart() {\n          p.changing = !0;\n        },\n        onAnimationEnd: function onAnimationEnd(e) {\n          f && U(p, Math.round((-p.pos * p.size - e[\"pos\" + b]) / p.size) * lt);\n        } }),\n\n      e._scrollers.push(p.scroller),\n      p;\n    }\n    function B(e, t) {\n      var a,s = 0,n = 0,o = e.first;\n      if (!e.changing || !t) {\n        if (e.getFirst) {\n          for (s = e.buffer,\n          n = e.buffer; n && e.getFirst(o, n + e.pages - e.offset - 1) > e.max;) {\n            n--;}\n          for (; s && e.getFirst(o, 1 - s - e.offset) <= e.min;) {\n            s--;}\n        }\n        a = Math.round(de / e.pages),\n        Ne && a && e.size != a && e.$scroller[Le ? \"height\" : \"width\"](a),\n        me(e.scroller.settings, {\n          snap: a,\n          minScroll: (-e.pos * lt - n) * a,\n          maxScroll: (-e.pos * lt + s) * a }),\n\n        e.size = a,\n        e.scroller.refresh();\n      }\n    }\n    function G(t) {\n      e._onRefresh(t),\n      e._isVisible && ke && ce && (Me && Me.changing ? st = t : (F(Te, t, !0),\n      N(re)));\n    }\n    function Q() {\n      if (ke && ce) {\n        var t = ie(\".mbsc-cal-scroll-c\", K);\n        Me = j(t[0], Je, Ie, nt, it, ot, rt, Te, O, _, w, Y, R),\n        Ae && (tt = j(t[1], null, null, 1, 0, 1, 3, Te, I),\n        gt = j(t[2], je, ze, 1, 0, 1, 3, Te, z, s, s, V, X),\n        e.tap(ee, function () {\n          n(te),\n          a(oe);\n        }),\n        e.tap(ne, function () {\n          n(oe),\n          a(te);\n        })),\n        E(ie(\".mbsc-cal-btn\", K), function (e, t, a, s) {\n          U(Me, t, !0, s);\n        }),\n        w(Te),\n        null === ct.defaultValue && !e._hasValue || e._multiple || (e._activeElm = Me.$active[0]),\n        Z.on(\"keydown\", function (e) {\n          var t,a = ct.getYear(re),s = ct.getMonth(re),n = ct.getDay(re);\n          switch (e.keyCode) {\n            case 32:\n              O(Me.$active, e);\n              break;\n            case 37:\n              t = ct.getDate(a, s, n - 1 * lt);\n              break;\n            case 39:\n              t = ct.getDate(a, s, n + 1 * lt);\n              break;\n            case 38:\n              t = ct.getDate(a, s, n - 7);\n              break;\n            case 40:\n              t = ct.getDate(a, s, n + 7);\n              break;\n            case 36:\n              t = ct.getDate(a, s, 1);\n              break;\n            case 35:\n              t = ct.getDate(a, s + 1, 0);\n              break;\n            case 33:\n              t = e.altKey ? ct.getDate(a - 1, s, n) : He ? ct.getDate(a, s - 1, n) : ct.getDate(a, s, n - 7 * ce);\n              break;\n            case 34:\n              t = e.altKey ? ct.getDate(a + 1, s, n) : He ? ct.getDate(a, s + 1, n) : ct.getDate(a, s, n + 7 * ce);}\n\n          t && (e.preventDefault(),\n          L(t, !0, !1, !0));\n        });\n      }\n      e.tap(ie(\".mbsc-cal-tab\", K), function () {\n        e.changeTab(ie(this).attr(\"data-control\"));\n      });\n    }\n    var Z,K,ee,te,ae,se,ne,oe,re,le,ce,de,ue,fe,he,be,ge,ye,xe,Te,_e,we,Me,De,Ce,ke,Se,Ve,Ye,Ae,Ee,Fe,Ne,He,Pe,Le,We,$e,Oe,Ie,ze,qe,Re,Ue,Je,je,Be,Ge,Ke,et,tt,at,st,nt,ot,it,rt,lt,ct,dt,ut,mt,ft,ht,bt,pt,vt,gt,yt,xt = 1,Tt = this;\n    return o(),\n    le = Qe.call(this, e),\n    i(),\n    e.refresh = function () {\n      G(!1);\n    },\n\n    e.redraw = function () {\n      G(!0);\n    },\n\n    e.navigate = function (e, t) {\n      L(D(e, De, ct), !0, t);\n    },\n\n    e.changeTab = function (t) {\n      e._isVisible && he[t] && ft != t && (ft = t,\n      ie(\".mbsc-cal-tab\", K).removeClass(xe).removeAttr(\"aria-selected\"),\n      ie('.mbsc-cal-tab[data-control=\"' + t + '\"]', K).addClass(xe).attr(\"aria-selected\", \"true\"),\n      Ye && (se.addClass(\"mbsc-cal-h\"),\n      he[ft].removeClass(\"mbsc-cal-h\")),\n      \"calendar\" == ft && L(e.getDate(!0), !1, !0),\n      e._showDayPicker(),\n      e.trigger(\"onTabChange\", {\n        tab: ft }));\n\n    },\n\n    e._checkSize = !0,\n    e._onGenMonth = s,\n    e._onSelectShow = s,\n    e._onSetDate = s,\n    e._onRefresh = s,\n    e._getDayProps = s,\n    e._prepareObj = l,\n    e._showDayPicker = function () {\n      Ae && (a(oe, !0),\n      a(te, !0));\n    },\n\n    e._selectDay = e.__selectDay = function (t, a, s) {\n      var n = e.live;\n      at = ct.outerMonthChange,\n      Fe = !0,\n      e.setDate(s, n, 1e3, !n, !0),\n      n && ut(\"onSet\", {\n        valueText: e._value });\n\n    },\n\n    me(le, {\n      labels: null,\n      compClass: \"mbsc-calendar mbsc-dt mbsc-sc\",\n      onMarkupReady: function onMarkupReady(t) {\n        var a = 0;\n        K = ie(t.target),\n        ae = ie(\".mbsc-fr-c\", K),\n        re = e.getDate(!0),\n        de = 0,\n        ke && (Ve = !(!ct.marked && !ct.data || ct.labels || ct.multiLabel || ct.showEventCount),\n        at = !0,\n        ft = \"calendar\",\n        f(),\n        Te = q(h(re), He),\n        ae.append(S()),\n        ee = ie(\".mbsc-cal-month\", K),\n        ne = ie(\".mbsc-cal-year\", K),\n        Z = ie(\".mbsc-cal-day-scroll-c\", K)),\n        Ae && (oe = ie(\".mbsc-cal-year-picker\", K),\n        te = ie(\".mbsc-cal-month-picker\", K)),\n        se = ie(\".mbsc-w-p\", K),\n        be.length > 1 && ae.before(k()),\n        [\"date\", \"time\", \"calendar\"].forEach(function (e) {\n          he[e] ? (he[e] = se.eq(a),\n          a++) : \"date\" == e && !he.date && ke && (se.eq(a).remove(),\n          a++);\n        }),\n        be.forEach(function (e) {\n          ae.append(he[e]);\n        }),\n        !ke && he.date && he.date.css(\"position\", \"relative\"),\n        e._scrollers = [],\n        Q();\n      },\n      onShow: function onShow() {\n        ke && ce && W(He ? Te : re);\n      },\n      onHide: function onHide() {\n        e._scrollers.forEach(function (e) {\n          e.destroy();\n        }),\n        we = null,\n        Me = null,\n        tt = null,\n        gt = null,\n        ft = null;\n      },\n      onValidated: function onValidated(t) {\n        var a,s,n = t.index,o = e._order;\n        s = e.getDate(!0),\n        Fe ? a = \"calendar\" : void 0 !== n && (a = o.dd == n || o.d == n || o.m == n || o.y == n ? \"date\" : \"time\"),\n        ut(\"onSetDate\", {\n          date: s,\n          control: a }),\n\n        \"time\" !== a && L(s, !1, !!t.time, Fe && !e._multiple),\n        Fe = !1;\n      },\n      onPosition: function onPosition(t) {\n        var a,s,n,o,i,r,l,c = t.oldHeight,d = t.windowHeight;\n        if (Ye = (t.hasTabs || ct.tabs === !0 || ct.tabs !== !1 && Ne) && be.length > 1,\n        Ne && (t.windowWidth >= ct.breakPointMd ? ie(t.target).addClass(\"mbsc-fr-md\") : ie(t.target).removeClass(\"mbsc-fr-md\")),\n        Ye ? (K.addClass(\"mbsc-cal-tabbed\"),\n        ft = ie(\".mbsc-cal-tab.mbsc-selected\", K).attr(\"data-control\"),\n        se.addClass(\"mbsc-cal-h\"),\n        he[ft].removeClass(\"mbsc-cal-h\")) : (K.removeClass(\"mbsc-cal-tabbed\"),\n        se.removeClass(\"mbsc-cal-h\")),\n        e._isFullScreen && (Z.height(\"\"),\n        i = t.popup.offsetHeight,\n        l = d - i + Z[0].offsetHeight,\n        d >= i && Z.height(l)),\n        Se && ce && d != c) {\n          var u = l || Z[0].offsetHeight,\n          m = Z.find(\".mbsc-cal-txt-ph\")[0],\n          f = m.offsetTop,\n          h = m.offsetHeight,\n          b = Math.max(1, Math.floor((u / ce - f) / (h + 2)));\n          qe != b && (qe = b,\n          e.redraw());\n        }\n        if (ke && ce) {\n          if (r = Ne || Le || Ye ? Z[0][Le ? \"offsetHeight\" : \"offsetWidth\"] : ue || 280 * ot,\n          o = r != de,\n          de = r,\n          Ne && o && pt)\n          for (et = ct.maxMonthWidth > ee[0].offsetWidth ? ct.monthNamesShort : ct.monthNames,\n          s = ct.getYear(Te),\n          n = ct.getMonth(Te),\n          a = 0; a < ot; a++) {\n            ee.eq(a).text(et[ct.getMonth(ct.getDate(s, n - it + a, 1))]);}\n          o && B(Me, !0);\n        }\n        Ae && o && (B(tt, !0),\n        B(gt, !0));\n      } });\n\n  },\n  et = {};\n  Ue.calendar = function (e) {\n    function t(e) {\n      return p(e.getFullYear(), e.getMonth(), e.getDate());\n    }\n    function a(e) {\n      var a,s,n = null;\n      if (y = {},\n      e && e.length)\n      for (s = 0; s < e.length; s++) {\n        a = D(e[s], l, m, m.isoParts),\n        n = n || a,\n        y[t(a)] = a;}\n      return n;\n    }\n    function s() {\n      e.redraw();\n    }\n    var i,r,l,c,d,u = me({}, e.settings),m = me(e.settings, et, u),f = \"mbsc-selected \" + (m.selectedClass || \"\"),h = m.defaultValue,b = \"multiple\" == m.select || m.select > 1 || \"week\" == m.selectType,g = o(m.select) ? m.select : 1 / 0,y = {};\n    return i = Ke.call(this, e),\n    c = void 0 === m.firstSelectDay ? m.firstDay : m.firstSelectDay,\n    l = e._format,\n    b && a(h),\n    e._multiple = b,\n    e._getDayProps = function (e) {\n      return {\n        selected: b ? void 0 !== y[e] : void 0 };\n\n    },\n\n    e._selectDay = function (t, a, o, i) {\n      if (m.setOnDayTap && \"multiple\" != m.select && \"inline\" != m.display)\n      return e.setDate(o),\n      void e.select();\n      if (b)\n      if (\"week\" == m.selectType) {\n        var l,d,u = a.getDay() - c;\n        for (u = u < 0 ? 7 + u : u,\n        \"multiple\" != m.select && (y = {}),\n        l = 0; l < 7; l++) {\n          d = p(a.getFullYear(), a.getMonth(), a.getDate() - u + l),\n          i ? delete y[d] : n(y).length / 7 < g && (y[d] = d);}\n        s();\n      } else {\n        var h = ie('.mbsc-cal-day[data-full=\"' + t.attr(\"data-full\") + '\"]', r);\n        i ? (h.removeClass(f).removeAttr(\"aria-selected\"),\n        delete y[a]) : n(y).length < g && (h.addClass(f).attr(\"aria-selected\", \"true\"),\n        y[a] = a);\n      }\n      e.__selectDay(t, a, o);\n    },\n\n    e.setVal = function (t, n, o, i, r) {\n      b && (t = a(t)),\n      e._setVal(t, n, o, i, r),\n      b && s();\n    },\n\n    e.getVal = function (t) {\n      var a,s = [];\n      if (b) {\n        for (a in y) {\n          s.push(M(y[a], m, l));}\n        return s;\n      }\n      return M(e.getDate(t), m, l);\n    },\n\n    me({}, i, {\n      highlight: !b,\n      outerMonthChange: !b,\n      parseValue: function parseValue(e) {\n        return b && e && \"string\" == typeof e && (e = a(e.split(\",\"))),\n        b && h && h.length && (m.defaultValue = h[0]),\n        i.parseValue.call(this, e);\n      },\n      formatValue: function formatValue(t) {\n        var a,s = [];\n        if (b) {\n          for (a in y) {\n            s.push(v(l, y[a], m));}\n          return s.join(\", \");\n        }\n        return i.formatValue.call(this, t, e);\n      },\n      onClear: function onClear() {\n        b && (y = {},\n        s());\n      },\n      onBeforeShow: function onBeforeShow() {\n        void 0 !== m.setOnDayTap || m.buttons && m.buttons.length || 1 != m.controls.length || (m.setOnDayTap = !0),\n        m.setOnDayTap && \"inline\" != m.display && (m.outerMonthChange = !1),\n        m.counter && b && (m.headerText = function () {\n          var e = 0,\n          t = \"week\" == m.selectType ? 7 : 1;\n          return ie.each(y, function () {\n            e++;\n          }),\n          e = Math.round(e / t),\n          (e > 1 ? m.selectedPluralText || m.selectedText : m.selectedText).replace(/{count}/, e);\n        });\n\n      },\n      onMarkupReady: function onMarkupReady(e) {\n        i.onMarkupReady.call(this, e),\n        r = ie(e.target),\n        b && (ie(\".mbsc-fr-hdr\", r).attr(\"aria-live\", \"off\"),\n        d = me({}, y));\n      },\n      onCancel: function onCancel() {\n        !e.live && b && (y = me({}, d));\n      } });\n\n  },\n\n  a(\"calendar\", Be),\n  O.hijri = {\n    getYear: function getYear(e) {\n      return L(e.getFullYear(), e.getMonth() + 1, e.getDate())[0];\n    },\n    getMonth: function getMonth(e) {\n      return --L(e.getFullYear(), e.getMonth() + 1, e.getDate())[1];\n    },\n    getDay: function getDay(e) {\n      return L(e.getFullYear(), e.getMonth() + 1, e.getDate())[2];\n    },\n    getDate: function getDate(e, t, a, s, n, o, i) {\n      t < 0 && (e += Math.floor(t / 12),\n      t = 12 + t % 12),\n      t > 11 && (e += Math.floor(t / 12),\n      t %= 12);\n      var r = P(e, +t + 1, a);\n      return new Date(r[0], r[1] - 1, r[2], s || 0, n || 0, o || 0, i || 0);\n    },\n    getMaxDayOfMonth: function getMaxDayOfMonth(e, t) {\n      var a = [30, 29, 30, 29, 30, 29, 30, 29, 30, 29, 30, 29],\n      s = (11 * e + 14) % 30 < 11;\n      return a[t] + (11 === t && s ? 1 : 0);\n    } },\n\n  W.customTheme(\"mobiscroll-dark\", \"mobiscroll\"),\n  W.customTheme(\"bizagitheme\", \"mobiscroll\");\n  var tt = W.themes,\n  at = \"mobiscroll\";\n  return \"android\" == R ? at = \"material\" : \"ios\" == R ? at = \"ios\" : \"wp\" == R && (at = \"windows\"),\n  ie.each(tt.frame, function (e, t) {\n    return at && t.baseTheme == at && \"mobiscroll-dark\" != e && \"material-dark\" != e && \"windows-dark\" != e && \"ios-dark\" != e ? (W.autoTheme = e,\n    !1) : void (e == at && (W.autoTheme = e));\n  }),\n  W;\n});","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /*\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Name: Bizagi Render Class\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Author: UI Forms Team\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Comments:\r\n                                                                                                                                                                                                                                                                                                                                                                                *   -   This script will define a base render class with common stuff related to all renders\r\n                                                                                                                                                                                                                                                                                                                                                                                */\n\nbizagi.rendering.element.extend(\"bizagi.rendering.render\", {\n  postRenderTimeout: 0,\n  maxRendersPerScreen: 50,\n  rendersExecuted: 0,\n  renderOptimization: false,\n  TYPE_QUERY_FORM: \"queryForm\",\n  startOptimization: function startOptimization() {\n    bizagi.rendering.render.postRenderTimeout = 500;\n    bizagi.rendering.render.rendersExecuted = 0;\n    // Cancelled optimization temporally, because its on experimental stage\n    bizagi.rendering.render.renderOptimization = false;\n  },\n  stopOptimization: function stopOptimization() {\n    bizagi.rendering.render.postRenderTimeout = 0;\n    bizagi.rendering.render.rendersExecuted = 0;\n    bizagi.rendering.render.renderOptimization = false;\n  } },\n{\n  /*\r\n  *   Update or init the element data\r\n  */\n  initializeData: function initializeData(data) {\n    var self = this;\n\n    // Call base\n    self._super(data);\n\n    var form = self.getFormContainer();\n\n    // Fill default properties\n    var properties = self.properties;\n\n    properties.included = typeof properties.included != \"undefined\" ? bizagi.util.parseBoolean(properties.included) : false;\n    properties.uniqueId = Math.ceil(Math.random() * 1000000);\n    properties.displayName = properties.displayName || \"\";\n    properties.editable = typeof properties.editable != \"undefined\" ? bizagi.util.parseBoolean(properties.editable) : true;\n    properties.visible = typeof properties.visible != \"undefined\" ? bizagi.util.parseBoolean(properties.visible) : true;\n    properties.includedInResult = typeof properties.includedInResult != \"undefined\" ? bizagi.util.parseBoolean(properties.includedInResult) : false;\n\n    var renderType = bizagi.util.normalizeType(properties.type);\n    if (/^hidden$/i.test(renderType)) {\n      properties.visible = false;\n    }\n\n    properties.required = typeof properties.required != \"undefined\" ? bizagi.util.parseBoolean(properties.required) : false;\n    properties.submitOnChange = typeof properties.submitOnChange != \"undefined\" ? bizagi.util.parseBoolean(properties.submitOnChange) : false;\n    properties.maxLength = properties.maxLength || 0;\n    properties.helpText = bizagi.util.trim(properties.helpText) || \"\";\n    properties.textFormat = properties.textFormat || {};\n    properties.valueFormat = properties.valueFormat || {};\n    properties.isHidden = typeof properties.isHidden != \"undefined\" ? bizagi.util.parseBoolean(properties.isHidden) : false;\n    properties.visible = properties.isHidden ? false : properties.visible;\n    //BUG 26867 -    Verify if the control was editable in sometime. Apply only in the column grid (canBeSent). \n    //Change the value property on changeEditability, changeEditabilityCellControl\n    properties.editabilityEnabled = false;\n\n    // Old color and background color\n    if (properties.color) {\n      properties.textFormat.color = properties.color;\n    }\n\n    if (properties.backgroundColor) {\n      properties.textFormat.backgroundColor = properties.backgroundColor;\n    }\n\n    // Non-editable fields cannot be required\n    properties.required = properties.editable ? properties.required : false;\n\n    // Override orientation from parent if not set\n    properties.orientation = properties.orientation || \"auto\";\n\n    // Check contexttype\n    properties.contexttype = form.params && form.params.data && form.params.data.contextType ? form.params.data.contextType : \"\";\n\n    // Save original properties\n    self.originalProperties = {\n      textFormat: {\n        color: properties.textFormat.color,\n        backgroundColor: properties.textFormat.backgroundColor },\n\n      valueFormat: {\n        color: properties.textFormat.color,\n        backgroundColor: properties.textFormat.backgroundColor },\n\n      visible: properties.visible,\n      editable: properties.editable,\n      required: properties.required,\n      labelAlign: properties.labelAlign,\n      valueAlign: properties.valueAlign };\n\n\n    // Create value property\n    self.value = typeof properties.value !== \"undefined\" ? properties.value : null;\n\n    // Register original value property\n    self.properties.originalValue = self.value;\n    self.properties.previousValue = self.value;\n\n    // Calculate layout properties\n    self.calculateInitialLayoutProperties();\n  },\n  /*\r\n     *   Calculate aligns, display types, rtl and widths\r\n     */\n  calculateInitialLayoutProperties: function calculateInitialLayoutProperties() {\n    var self = this;\n    var properties = self.properties;\n\n    // Set visual defaults\n    properties.displayType = properties.displayType || \"normal\";\n    properties.labelAlign = properties.labelAlign || self.getDefaultLabelAlign(properties.displayType);\n    properties.valueAlign = properties.valueAlign || self.getDefaultValueAlign(properties.displayType);\n\n    // Check rtl orientation\n    if (properties.orientation === \"rtl\") {\n      properties.labelAlign = self.getRTLAlign(properties.labelAlign);\n      properties.valueAlign = self.getRTLAlign(properties.valueAlign);\n    }\n\n    // Calculate render with\n    var renderWidth = self.calculateRenderWidth(properties.labelWidth, properties.valueWidth, properties.displayType);\n    properties.labelWidth = renderWidth.label;\n    properties.valueWidth = renderWidth.control;\n\n    if (properties.layoutType === \"percentage\") {\n      properties.valueWidth = renderWidth.control;\n    }\n\n    if (properties.labelWidth == 0) {\n      properties.displayType = \"value\";\n      properties.valueWidth = renderWidth.control;\n    }\n\n    if (properties.valueWidth == 0) {\n      properties.displayType = \"label\";\n    }\n\n    if (properties.type === \"userfield\") {\n      if ([\"both\", \"normal\", \"reversed\"].includes(properties.displayType)) {\n        properties.valueWidth = properties.valueWidth || 50;\n        properties.labelWidth = properties.labelWidth || 50;\n      } else if (properties.displayType === \"vertical\") {\n        properties.valueWidth = 100;\n        properties.labelWidth = 100;\n      } else if (properties.displayType === \"label\") {\n        properties.valueWidth = 0;\n        properties.labelWidth = 100;\n      } else {\n        properties.valueWidth = 100;\n        properties.labelWidth = 0;\n      }\n    }\n  },\n  /*\r\n     *   Returns the element type\r\n     */\n  getElementType: function getElementType() {\n    return bizagi.rendering.element.ELEMENT_TYPE_RENDER;\n  },\n  /*\r\n     *   Returns the html templated element\r\n     */\n  render: function render(renderTemplateName) {\n    return this.renderElement(renderTemplateName);\n  },\n  /*\r\n     *   Returns the html templated element\r\n     */\n  renderElement: function renderElement(renderTemplateName) {\n    var self = this;\n    var properties = self.properties;\n    var form = self.getFormContainer();\n    // Start rendering deferred\n    self.renderingDeferred = new $.Deferred();\n\n    // Set render template\n    renderTemplateName = renderTemplateName || \"render\";\n    var renderTemplate = self.renderFactory.getTemplate(renderTemplateName);\n\n    // Resolve render label\n    var label = properties.displayName;\n    if (typeof label == \"string\") {\n      // Replace line breaks for html line breaks\n      label = bizagi.util.encodeString(label);\n    }\n\n    var isFullRender = bizagi.util.detectDevice() !== \"desktop\" && (properties.type === \"association\" || properties.type === \"uploadecm\" || (properties.type === \"actionLauncher\" || properties.type === \"polymorphicLauncher\") && bizagi.util.isTabletDevice() || properties.type === \"grid\" && !bizagi.util.isTabletDevice());\n    var labelWidth = parseFloat(properties.labelWidth);\n\n    // Render template\n    var html = $.fasttmpl(renderTemplate, {\n      label: label,\n      helpText: properties.helpText,\n      editable: properties.editable,\n      isExtendedText: properties.type == \"text\" && properties.isExtended,\n      orientation: properties.orientation,\n      uniqueId: properties.uniqueId,\n      id: properties.id,\n      xpath: properties.xpath,\n      tag: properties.tag,\n      displayType: properties.displayType,\n      displayOptionClass: self.getDisplayOptionClass(properties.displayType),\n      labelAlignClass: self.getAlignClass(properties.labelAlign),\n      valueAlignClass: self.getAlignClass(properties.valueAlign),\n      flexAlignClass: bizagi.util.mapAlignClassName(properties.columnAlign),\n      labelWidth: labelWidth,\n      stringLabelWidth: labelWidth + (properties.layoutType == 'pixels' ? 'px' : '%'),\n      valueWidth: parseFloat(properties.valueWidth),\n      stringValueWidth: parseFloat(properties.valueWidth) + (properties.layoutType == 'pixels' ? 'px' : '%'),\n      layoutType: properties.layoutType,\n      isDesign: self.getMode() === \"design\",\n      messageValidation: properties.messageValidation,\n      printVersion: form.params.printversion,\n      cssClass: properties.cssclass || \"\",\n      includedInResult: properties.includedInResult,\n      included: properties.included,\n      type: properties.type,\n      showFullRender: isFullRender,\n      required: properties.required });\n\n\n    // Render internal control html\n    var result = self.internalRenderControl();\n    if (!result) {\n      result = \"\";\n    }\n\n    // Check if this is an async element or not\n    var async = _typeof(result) === \"object\" && result.done;\n    if (!async) {\n      html = self.replaceControlHtml(html, result);\n\n    } else {\n      if (result.state() === \"resolved\") {\n        // Fetch resolved result\n        html = self.replaceControlHtml(html, self.resolveResult(result));\n        self.asyncRenderDeferred = null;\n      } else {\n        // Wait for result\n        self.asyncRenderDeferred = result;\n        html = self.replaceControlHtml(html, \"\");\n      }\n    }\n\n    return html;\n  },\n  /*\r\n     *   Returns the resolved result from a promise when the promise has been executed already\r\n     */\n  resolveResult: function resolveResult(promise) {\n    return bizagi.resolveResult(promise);\n  },\n  /*\r\n     *   Check if the jquery element is ready or not\r\n     */\n  isRendered: function isRendered() {\n    var self = this;\n    if (!self.renderingDeferred) {\n      return false;\n    }\n    return self.renderingDeferred.promise();\n  },\n  /*\r\n     *   Renders the control html\r\n     */\n  internalRenderControl: function internalRenderControl() {\n    var self = this;\n    var properties = self.properties;\n    self.control = null;\n\n    if (self.renderFactory.printVersion) {\n      properties.editable = false;\n      return self.renderControl();\n    } else if (properties.editable) {\n      return self.renderControl();\n    }\n\n    return self.renderReadOnly();\n  },\n  /*\r\n     *   Template method to implement in each device to customize each render after processed\r\n     */\n  postRenderElement: function postRenderElement(element) {\n    var self = this;\n    var properties = self.properties;\n\n    // Set element variable\n    self.element = element;\n\n    if (properties.submitOnChange)\n    self.configureSubmitOnChange();\n\n    // Process internal layout\n    isLabelFormat = true;\n\n    var executePostRender = function executePostRender(_element) {\n      if (bizagi.rendering.render.renderOptimization &&\n      bizagi.rendering.render.rendersExecuted > bizagi.rendering.render.maxRendersPerScreen) {\n\n        // Execute post-render control\n        var timeOutRender = setTimeout(function () {\n          self.internalPostRender(_element);\n          bizagi.rendering.render.postRenderTimeout += 50;\n          clearTimeout(timeOutRender);\n        }, bizagi.rendering.render.postRenderTimeout);\n\n      } else {\n        self.internalPostRender(_element);\n      }\n      bizagi.rendering.render.rendersExecuted++;\n    };\n\n    if (self.asyncRenderDeferred) {\n      // Wait for async result\n      $.when(self.asyncRenderDeferred).\n      done(function (html) {\n        var control = self.getControl();\n        if (typeof self.emptyControlByAsyncRenderDeferred == \"function\") {\n          self.emptyControlByAsyncRenderDeferred();\n        }\n        control.append(html);\n\n        // Execute post-render control\n        executePostRender(element);\n        self.processLayout(!isLabelFormat, self.properties.valueFormat || {});\n      });\n    } else {\n      // Execute post-render control\n      executePostRender(element);\n    }\n  },\n  /*\r\n     *   Executes the post render handlers\r\n     */\n  internalPostRender: function internalPostRender(element) {\n    var self = this;\n    var properties = self.properties;\n    var mode = self.getMode();\n\n    self.control = self.getControl();\n\n    // Resolve rendering deferred\n    if (self.renderingDeferred) {\n      self.renderingDeferred.resolve();\n    }\n\n    // Execute post-renders\n    if (properties.editable) {\n      // Post-render editable version\n      if (self.renderFactory.printVersion && self.postRenderPrintVersion) {\n        self.postRenderPrintVersion();\n      } else {\n        self.postRender();\n      }\n\n    } else {\n      // Post-render readonly version\n      self.postRenderReadOnly(element);\n    }\n\n    // Perform execution mode methods\n    if (mode == \"execution\") {\n      self.performExecutionModeMethods();\n    } else {\n      self.performDesignModeMethods();\n    }\n\n    self.processLayout(isLabelFormat, self.properties.textFormat || {});\n    self.processLayout(!isLabelFormat, self.properties.valueFormat || {});\n  },\n  /*\r\n     *   Execute runtime only methods\r\n     */\n  performExecutionModeMethods: function performExecutionModeMethods() {\n    var self = this;\n    var properties = self.properties;\n    if (self.getFormType() == self.Class.TYPE_QUERY_FORM) {\n      self.configureHandlersQueryForm();\n    }\n\n    // Apply handlers\n    if (properties.editable) {\n      self.configureHandlers();\n    } else {\n      self.configureHandlersReadOnly();\n    }\n\n    // Set initial value\n    self.internalSetInitialValue();\n  },\n  /**\r\n      * Execute design only methods\r\n      */\n  performDesignModeMethods: function performDesignModeMethods() {\n    var self = this;\n\n    // Execute custom code for each render\n    self.configureDesignView();\n\n    // Set initial value\n    self.internalSetInitialValue();\n  },\n  /*\r\n     *   Replaces a {{control}} string in the specified element\r\n     */\n  replaceControlHtml: function replaceControlHtml(html, replace) {\n    html = html || \"\";\n    replace = replace || \"\";\n    return html.replaceFirstWithoutPatterns(\"{{control}}\", replace);\n  },\n  /*\r\n     *   Return the rendered element\r\n     */\n  getRenderedElement: function getRenderedElement() {\n    if (bizagi.util.isEmpty(this.element)) {\n      bizagi.log(\" render hasn't been rendered!\", this, \"error\");\n    }\n\n    return this.element;\n  },\n  /*\r\n     *   Sets the initial value for the renders\r\n     */\n  internalSetInitialValue: function internalSetInitialValue() {\n    var self = this;\n    var properties = self.properties;\n    self.internalSetInitialValueFlag = true;\n\n    // Set the initial value\n    if (properties.editable) {\n      if (!bizagi.util.isEmpty(self.value)) {\n        self.setDisplayValue(self.value);\n      }\n    } else {\n      if (!bizagi.util.isEmpty(self.value)) {\n        self.setDisplayValue(self.value);\n      }\n    }\n    self.internalSetInitialValueFlag = false;\n  },\n  /*\r\n     * Public method to determine if a value is valid or not\r\n     */\n  isValid: function isValid(invalidElements) {\n    var self = this;\n    var properties = self.properties;\n    var message;\n    var inlineAdd = self.grid && self.grid.properties && self.grid.properties.inlineAdd;\n\n    // Don't check non-editable renders\n    if (bizagi.util.parseBoolean(properties.visible) === false) {\n      return true;\n    }\n    // Don't check non-editable renders\n    if (bizagi.util.parseBoolean(properties.editable) === false && !inlineAdd) {\n      return true;\n    }\n\n    // Clear error message\n    self.setValidationMessage(\"\");\n\n    // Check required\n    if (bizagi.util.parseBoolean(properties.required)) {\n      var form = self.getFormContainer();\n      var hasValue = false;\n      var renders = self.grid ? [self] : form.getRenders(properties.xpath);\n      var isQueryForm = /^query/i.test(properties.type);\n\n      renders.filter(function (render) {\n        return render.properties.id == properties.id;\n      }).forEach(function (render) {\n        if (render.hasValue() && (render.properties.editable || inlineAdd)) {\n          hasValue = true;\n          return false;\n        }\n      });\n\n      if (!hasValue && !self.properties.isClone) {\n        message = self.getResource(\"render-required-text\").replaceAll(\"#label#\", properties.displayName);\n        var messageData = { xpath: properties.xpath, message: message };\n\n        if (isQueryForm) {\n          messageData = $.extend({}, messageData, {\n            id: properties.id,\n            isQuery: isQueryForm });\n\n        }\n\n        invalidElements.push(messageData);\n        return false;\n      }\n    }\n\n    // Check retypes\n    if (properties.retype == \"duplicate\") {\n      // Don't process cloned renders, just originals\n      if (self.cloneRender) {\n        if (self.cloneRender.getValue() != self.getValue()) {\n          message = self.getResource(\"render-text-retype-error\");\n          invalidElements.push({ xpath: properties.xpath, message: message });\n          return false;\n        }\n      }\n    } else if (properties.retype == \"double\") {\n      var control = $(\"input\", self.element);\n\n      //Waits until the control has the second value written\n      if (control && control.data(\"oldValue\")) {\n        if (control.val() === \"\") {\n\n          message = self.getResource(\"render-text-retype-error\");\n          invalidElements.push({\n            xpath: properties.xpath,\n            message: message });\n\n\n          return false;\n        } else if (control.val() != control.data(\"oldValue\")) {\n          message = self.getResource(\"render-text-retype-error\");\n          invalidElements.push({ xpath: properties.xpath, message: message });\n\n          return false;\n        }\n      }\n    }\n\n    // Check maxlength\n    var columnEditable = self.grid && self.grid.getColumn ? self.grid.getColumn(self.properties.xpath).properties.editable : true;\n    if (properties.type !== \"userPassword\" && properties.maxLength !== undefined && properties.maxLength > 0 && bizagi.util.isNumeric(properties.maxLength)) {\n      if (columnEditable || !columnEditable && self.controlValueIsChanged()) {\n        var maxLength = new Number(properties.maxLength);\n        var value = self.getValue();\n\n        if (value && value.toString().length > maxLength) {\n          message = self.getResource(\"render-text-maxLength-error\").replaceAll(\"#maxLength#\", maxLength);\n          invalidElements.push({ xpath: properties.xpath, message: message });\n          return false;\n        }\n      }\n    }\n\n    return true;\n  },\n\n  /*\r\n     *   Check if a render has no value for required validation\r\n     */\n  hasValue: function hasValue() {\n    var self = this;\n    // Next line decides if only spaces are accepted as valid texts or not. Anyway the spaces are still saved as self.value has not changed\n    var value = self.getValue();\n\n    if (value && self.properties.type === \"text\") {\n      value = typeof value === \"string\" ? value.trim() : value;\n    }\n\n    return !bizagi.util.isEmpty(value);\n  },\n  /*\r\n     *   Template method to implement in each device to customize each render after processed\r\n     */\n  postRender: function postRender() {\n  },\n  /*\r\n     *   Template method to implement in each device to customize each render after processed in read-only mode\r\n     */\n  postRenderReadOnly: function postRenderReadOnly() {\n  },\n  /*\r\n     *   Template method to implement in each device to customize the render's behaviour to add handlers\r\n     */\n  configureHandlers: function configureHandlers() {\n  },\n  /*\r\n     *   Template method to implement in each device to customize the render's behaviour to add handlers when the control is readonly\r\n     */\n  configureHandlersReadOnly: function configureHandlersReadOnly() {\n  },\n  /*\r\n     *   Template method to implement in each device to customize the render's behaviour when rendering in design mode\r\n     */\n  configureDesignView: function configureDesignView() {\n  },\n  /*\r\n     *   Method to process the render the layout\r\n     */\n  processLayout: function processLayout(isLabelFormat, format) {\n    var self = this;\n    var properties = self.properties;\n\n    if (self.getControl() == null) return;\n\n    // Set customizations\n    format = format || {};\n\n    if (format.color) {\n      self.changeColor(format.color, isLabelFormat);\n    }\n    if (format.background) {\n      self.changeBackgroundColor(format.background);\n    }\n    //if bold is true in modeler, we receive nothing in execution (!formal.bold)\n    if (format.bold || !format.bold || !isLabelFormat) {\n      self.changeFontBold(format.bold, isLabelFormat);\n    }\n    if (format.italic) {\n      self.changeFontItalic(format.italic, isLabelFormat);\n    }\n    if (format.underline) {\n      self.changeFontUnderline(format.underline, isLabelFormat);\n    }\n    if (format.strikethru) {\n      self.changeFontStrikethru(format.strikethru, isLabelFormat);\n    }\n    if (format.size) {\n      self.changeFontSize(format.size, isLabelFormat);\n    }\n\n    // Set required and visiblity\n    properties.required = properties.required != undefined ? bizagi.util.parseBoolean(properties.required) : false;\n    var visible = properties.visible != undefined ? bizagi.util.parseBoolean(properties.visible) : true;\n    if (properties.required) {\n      self.changeRequired(properties.required);\n    }\n    if (!visible) {\n      if (self.grid) {\n        self.changeCellVisibility(visible);\n      } else {\n        self.changeVisibility(visible);\n      }\n    }\n  },\n  /*\r\n     *   Sets the internal value\r\n     */\n  setValue: function setValue(value, triggerEvents) {\n    var self = this;\n    triggerEvents = triggerEvents !== undefined ? triggerEvents : true;\n\n    if (!bizagi.util.identicalObjects(value, self.value)) {\n      // set previous value\n      self.properties.previousValue = self.properties.originalValue = self.value;\n\n      // Change internal value\n      self.value = self.properties.value = value;\n      if (self.properties.required && self.getMode() == \"execution\") {\n\n        if (self.checkRequired([])) {\n          self.changeRequiredLabel(false);\n        } else {\n          self.changeRequiredLabel(true);\n        }\n      }\n\n      // Trigger events\n      if (triggerEvents && !self.internalSetInitialValueFlag) {\n        self.triggerRenderChange();\n        self.triggerRenderValidate();\n      }\n    }\n  },\n\n  checkRequired: function checkRequired(invalidElements) {\n    var self = this;\n    var properties = self.properties;\n\n    if (bizagi.util.parseBoolean(properties.required)) {\n      if (!self.hasValue()) {\n        message = self.getResource(\"render-required-text\").replaceAll(\"#label#\", properties.displayName);\n        invalidElements.push({\n          xpath: properties.xpath,\n          message: message });\n\n        return false;\n      }\n    }\n    return true;\n  },\n\n  validateInputRetype: function validateInputRetype() {\n    var self = this;\n    if (self.properties.retype && self.cloneRender) {\n      return self.getValue() == self.cloneRender.getValue();\n    }\n    return true;\n  },\n\n  /*\r\n     *   Triggers the render change event\r\n     */\n  triggerRenderChange: function triggerRenderChange(params) {\n    var self = this;\n    params = params || {};\n    params.changed = params.changed !== undefined ? params.changed : true;\n    self.triggerHandler(\"renderchange\", { render: self, changed: params.changed });\n  },\n  /*\r\n     *   Triggers the render validate event\r\n     */\n  triggerRenderValidate: function triggerRenderValidate() {\n    var self = this;\n    self.triggerHandler(\"rendervalidate\", { render: self });\n  },\n  /*\r\n     *   Sets the value in the rendered control\r\n     */\n  setDisplayValue: function setDisplayValue(value) {\n    var self = this;\n    var control = self.getControl();\n\n    // Set internal value\n    self.setValue(value, false);\n\n    if (!self.properties.editable && (self.properties.display !== \"check\" || self.properties.display === \"check\" && bizagi.override.enableCheck === true)) {\n      // Render as simple value\n      var displayValue = self.getDisplayValue(value);\n      if (typeof displayValue == \"string\" || typeof displayValue == \"number\") {\n        displayValue = bizagi.util.sanitizeHTML(displayValue);\n        $(control).html(\"<label class='readonly-control'>\" + displayValue + \"</label>\");\n      }\n    }\n  },\n  /*\r\n     *   Returns the internal value\r\n     */\n  getValue: function getValue() {\n    return this.value;\n  },\n  /*\r\n     *   Returns the value to display, ex. non-editable renders\r\n     */\n  getDisplayValue: function getDisplayValue() {\n    return this.getValue();\n  },\n  /*\r\n     *   Template method to get the label element\r\n     */\n  getLabel: function getLabel() {\n    bizagi.util.mustImplement(\"getLabel\");\n  },\n  /*\r\n     *   Template method to get the control element\r\n     */\n  getControl: function getControl() {\n    bizagi.util.mustImplement(\"getControl\");\n  },\n  /*\r\n     *   Template method to get the control filler element\r\n     */\n  getControlFiller: function getControlFiller() {\n    bizagi.util.mustImplement(\"getControlFiller\");\n  },\n  /*\r\n     *   Template method to implement in each children to customize each control\r\n     */\n  renderControl: function renderControl() {\n  },\n  /*\r\n     *   Adds a validation message to the render\r\n     */\n  setValidationMessage: function setValidationMessage(message) {\n    this.validationMessage = message;\n  },\n  /*\r\n     *   Method to render non editable values\r\n     */\n  renderReadOnly: function renderReadOnly() {\n    var result = this.getValue();\n    var readOnlyValue = \"\";\n\n    if (bizagi.util.isObject(result) && typeof result.value !== \"undefined\") {\n      readOnlyValue = bizagi.util.sanitizeHTML(result.value);\n    } else if (!bizagi.util.isEmpty(result)) {\n      if (bizagi.util.isString(result)) {\n        readOnlyValue = bizagi.util.encodeHtmlText(result);\n      } else {\n        readOnlyValue = result;\n      }\n    }\n\n    return readOnlyValue;\n  },\n\n  /*\r\n     *  Method to render print version\r\n     */\n  postRenderPrintVersion: function postRenderPrintVersion() {\n  },\n\n  /*\r\n     *   Customizes render display type with custom css classes\r\n     */\n  changeDisplayOption: function changeDisplayOption(displayType) {\n    this.properties.displayType = displayType;\n  },\n\n  /*\r\n     *   Return the right display option class\r\n     */\n  getDisplayOptionClass: function getDisplayOptionClass(displayType) {\n    return \"\";\n  },\n\n  /*\r\n     *   Customizes render label align\r\n     */\n  changeLabelAlign: function changeLabelAlign(alignType) {\n    this.properties.labelAlign = alignType;\n  },\n\n  /*\r\n     *   Customizes render value align\r\n     */\n  changeValueAlign: function changeValueAlign(alignType) {\n    this.properties.valueAlign = alignType;\n  },\n\n  /*\r\n     *   Return the right align class\r\n     */\n  getAlignClass: function getAlignClass(alignType) {\n    return \"\";\n  },\n\n  /*\r\n     *   Customizes render label and value width\r\n     */\n  customizeRenderWidth: function customizeRenderWidth() {\n  },\n\n  /* Customizes render color*/\n  changeColor: function changeColor(color, isLabelFormat) {\n    var self = this;\n    var control = self.getControl();\n    var label = self.getLabel();\n    var isLabelFormat = typeof isLabelFormat != \"undefined\" || isLabelFormat != null ? isLabelFormat : true;\n\n    if (control && label) {\n      if (color != 'none') {\n        // Hide - show the render\n        if (self.properties.displayType === \"value\" || !isLabelFormat) {\n          self.getElementsToStylize(self.getControl()).css(\"color\", color, \"!important\");\n          self.getControl().find(\"*\").each(function (i, element) {\n            self.getElementsToStylize(element).css(\"color\", color, \"!important\");\n          });\n        } else {\n          self.element.each(function () {\n            this.style.setProperty('color', color, 'important');\n          });\n\n          if (self.properties.type == \"grid\") {\n            self.getControl().find(\".bz-mobile-grid__header-title\").each(function () {\n              this.style.setProperty('color', color, 'important');\n            });\n          }\n\n          self.getLabel().find(\"label\").css(\"color\", color, \"!important\");\n          if (self.properties.editable === false) {\n            self.getElementsToStylize(self.getControl()).css(\"color\", color, \"!important\");\n            self.getElementsToStylize($(\"label\", self.getControl()).css(\"color\", color, \"!important\"));\n          }\n        }\n      } else {\n        self.element.css(\"color\", \"\");\n        self.getLabel().find(\"label\").css(\"color\", \"\");\n        self.getControl().css(\"color\", \"\");\n\n        self.getControl().find(\"input, textarea\").each(function (i, element) {\n          var originalColor = $(element).data(\"originalColor\") || \"\";\n          self.getElementsToStylize(element).css(\"color\", originalColor);\n        });\n      }\n    }\n  },\n\n  /* Customizes render background color*/\n  changeBackgroundColor: function changeBackgroundColor(color) {\n    var self = this;\n    var control = self.getControl();\n    var label = self.getLabel();\n\n    if (control && label) {\n      if (color != 'none') {\n        self.element.each(function () {\n          this.style.setProperty('background-color', color, 'important');\n        });\n\n        if (typeof label.find('label').style !== \"undefined\") {\n          self.getLabel().find(\"label\").style(\"background-color\", color, \"important\");\n        } else {\n          self.getLabel().find(\"label\").css(\"background-color\", color, \"!important\");\n        }\n\n        var currentStyle = self.getLabel().attr(\"style\");\n        currentStyle += \"; background-color:\" + color + \"!important\";\n        self.getLabel().attr(\"style\", currentStyle);\n      } else {\n        self.element.css(\"background-color\", \"\");\n        self.getLabel().find(\"label\").css(\"background-color\", \"\");\n        self.getControl().css(\"background-color\", \"\");\n        self.getControl().find(\"input, textarea\").each(function (i, element) {\n          var originalColor = $(element).data(\"originalColor\") || \"\";\n          $(element).css(\"background-color\", originalColor);\n        });\n      }\n    }\n  },\n\n  /* Returns the formatting label to be used for bold, italic, underline, strikethrough and size*/\n  getFormattingLabel: function getFormattingLabel() {\n    var self = this;\n    return self.getLabel().find(\"label\");\n  },\n\n  /* Customizes the font weight */\n  changeFontBold: function changeFontBold(bold, isLabelFormat) {\n    var self = this;\n    var isLabelFormat = typeof isLabelFormat != \"undefined\" || isLabelFormat != null ? isLabelFormat : true;\n\n    // Hide - show the render\n    if (bizagi.util.parseBoolean(bold) != false && isLabelFormat) {\n      self.getFormattingLabel().css(\"font-weight\", \"bold\", \"!important\");\n      self.getControl().each(function (i, element) {\n        $(element).css(\"font-weight\", \"bold\", \"!important\");\n      });\n\n    } else {\n      if (isLabelFormat)\n      self.getFormattingLabel().css(\"font-weight\", \"normal\", \"!important\");\n    }\n    if (!isLabelFormat) {\n      if (bizagi.util.parseBoolean(bold) == true) {\n        self.getControl().find(\"*\").each(function (i, element) {\n          $(element).css(\"font-weight\", \"bold\", \"!important\");\n        });\n      } else {\n        self.getControl().find(\"*\").each(function (i, element) {\n          $(element).css(\"font-weight\", \"normal\", \"!important\");\n        });\n        self.getControl().css(\"font-weight\", \"normal\", \"!important\");\n      }\n    }\n  },\n\n  controlValueIsChanged: function controlValueIsChanged() {\n    var self = this;\n    var properties = self.properties;\n    var value = self.getValue();\n    var compareValue = properties.originalValue;\n    var baseValue = properties.defaultValue;\n    var result = true;\n    var renderType = bizagi.util.normalizeType(properties.type);\n    var form = self.getFormContainer();\n\n    //To force to send value when control's retype is duplicate, fixed to start forms.\n    if (properties.retype === \"duplicate\" && self.cloneRender && form.isStartForm()) return true;\n\n    // Flag to force to collect data\n    if ($.forceCollectData) {\n      return true;\n    }\n\n    // Verify if control has been ready\n    if (renderType === \"grid\" && self.ready().state() === \"pending\") {\n      return false;\n    }\n\n    if ([\"combo\", \"queryCombo\", \"list\", \"queryList\", \"radio\", \"queryRadio\"].includes(renderType) || /^cascadingcombo$/i.test(renderType)) {\n      if (value && value.length !== undefined) {\n        value = value[0];\n      }\n      if (compareValue && compareValue.length !== undefined) {\n        compareValue = compareValue[0];\n      }\n      if (baseValue && baseValue.length !== undefined) {\n        baseValue = baseValue[0];\n      }\n      value = value && value.id ? value.id : value;\n      compareValue = compareValue && compareValue.id ? compareValue.id : compareValue;\n      baseValue = baseValue && baseValue.id ? baseValue.id : baseValue;\n      if (typeof baseValue != \"undefined\" && baseValue != null) {\n        result = compareValue == value && compareValue != baseValue ? false : true;\n      } else {\n        result = compareValue == value ? false : true;\n      }\n    } else if (renderType === \"boolean\" || renderType === \"queryBoolean\" || renderType === \"queryCheck\") {\n      result = bizagi.util.parseBoolean(compareValue) == bizagi.util.parseBoolean(value) ? false : true;\n    } else if (renderType === \"searchNumber\") {\n      result = !!value;\n    } else if (renderType === \"number\") {\n      if ((value === null || value === \"\") && (compareValue === null || compareValue === \"\")) {\n        result = false;\n      } else {\n        result = compareValue === value ? false : true;\n      }\n    } else if (renderType === \"text\") {\n      if ((value === null || value === \"\") && (compareValue === null || compareValue === \"\")) {\n        result = false;\n      } else {\n        result = compareValue === value ? false : true;\n      }\n    } else if (renderType === \"date\") {\n      if (!compareValue && !value) {\n        result = false;\n      } else {\n        if (!properties.showTime) {\n          value = bizagi.util.getNormalizedDate(value, properties.fullFormat);\n          compareValue = bizagi.util.getNormalizedDate(compareValue, properties.fullFormat);\n        }\n\n        result = compareValue == value ? false : true;\n      }\n    } else if (renderType === \"actionLauncher\") {\n      //Object must be an array\n      result = false;\n      var compareValueObj = [];\n      try {\n        if (typeof compareValue === \"string\") {\n          compareValueObj = JSON.parse(compareValue);\n        } else {\n          compareValueObj = compareValue;\n        }\n      } catch (e) {\n      }\n\n      var _findAction = function _findAction(guid, targetObj) {\n        guid = guid || \"\";\n        targetObj = targetObj || [];\n        var result = false;\n        for (var i = 0, l = targetObj.length; i < l; i++) {\n          if (targetObj[i].guidAction == guid) {\n            result = true;\n            break;\n          }\n        }\n        return result;\n      };\n\n      if (compareValueObj.length == value.length) {\n        for (var i = 0, l = compareValueObj.length; i < l; i++) {\n          if (!_findAction(compareValueObj[i].guidAction, value)) {\n            result = true;\n          }\n        }\n\n      } else {\n        result = true;\n      }\n    } else if (renderType === \"polymorphicLauncher\" || renderType === \"entityTemplate\") {\n      //Object must be an array\n      if (compareValue.length != value.length) {\n        result = true;\n      } else {\n        result = JSON.encode(value) == JSON.encode(compareValue) ? false : true;\n      }\n    } else if (renderType === \"searchList\") {\n      var objectValue = {};\n      try {\n        objectValue = JSON.parse(value);\n      } catch (e) {\n        console.log(\"Error when detect change value on searchList control\");\n      }\n      result = JSON.encode(compareValue) == JSON.encode(objectValue.value) ? false : true;\n    } else if ([\"signature\", \"image\"].includes(renderType)) {\n      // When a image/signature is uploaded or removed from a Form,\n      // the change is saved automatically to the activity's scope\n      result = false;\n    } else {\n      result = compareValue === value ? false : true;\n    }\n\n    return result;\n  },\n\n  /* Customizes the font italic style */\n  changeFontItalic: function changeFontItalic(italic, isLabelFormat) {\n    var self = this;\n    var isLabelFormat = typeof isLabelFormat != \"undefined\" || isLabelFormat != null ? isLabelFormat : true;\n\n    // Hide - show the render\n    if (self.properties.displayType == \"value\" || !isLabelFormat) {\n      if (bizagi.util.parseBoolean(italic) == true) {\n        if (isLabelFormat)\n        self.getFormattingLabel().css(\"font-style\", \"italic\", \"!important\");\n\n        if (self.properties.editable) {\n          self.getControl().find(\"*\").each(function (i, element) {\n            self.getElementsToStylize(element).css(\"font-style\", \"italic\", \"!important\");\n          });\n        } else {\n          self.getElementsToStylize(self.getControl()).css(\"font-style\", \"italic\", \"!important\");\n        }\n      } else {\n        if (isLabelFormat)\n        self.getFormattingLabel().css(\"font-style\", \"normal\", \"!important\");\n\n        if (self.properties.editable) {\n          self.getControl().find(\"*\").each(function (i, element) {\n            self.getElementsToStylize(element).css(\"font-style\", \"normal\", \"!important\");\n          });\n        } else {\n          self.getElementsToStylize(self.getControl()).css(\"font-style\", \"normal\", \"!important\");\n        }\n      }\n    } else {\n      if (bizagi.util.parseBoolean(italic) == true) {\n        self.getFormattingLabel().css(\"font-style\", \"italic\", \"!important\");\n      } else {\n        self.getFormattingLabel().css(\"font-style\", \"normal\", \"!important\");\n      }\n    }\n  },\n\n  /* Customizes the font underline */\n  changeFontUnderline: function changeFontUnderline(underline, isLabelFormat) {\n    var self = this;\n    var textFormat = self.properties.textFormat || {};\n    var valueFormat = self.properties.valueFormat || {};\n    var strikethru = bizagi.util.parseBoolean(textFormat.strikethru) ? \"line-through \" : \"\";\n    var valuestrikethru = bizagi.util.parseBoolean(valueFormat.strikethru) ? \"line-through \" : \"\";\n    var isLabelFormat = typeof isLabelFormat != \"undefined\" || isLabelFormat != null ? isLabelFormat : true;\n\n    // Hide - show the render\n    if (bizagi.util.parseBoolean(underline) == true && isLabelFormat) {\n      self.getFormattingLabel().css(\"text-decoration\", strikethru + \"underline\", \"!important\");\n      self.getControl().each(function (i, element) {\n        self.getElementsToStylize(element).css(\"text-decoration\", strikethru + \"underline\");\n      });\n    } else {\n      if (isLabelFormat)\n      self.getFormattingLabel().css(\"text-decoration\", strikethru, \"!important\");\n    }\n    if (self.properties.displayType == \"value\" || !isLabelFormat) {\n      if (bizagi.util.parseBoolean(underline) == true) {\n        if (self.properties.editable) {\n          self.getControl().find(\"*\").each(function (i, element) {\n            self.getElementsToStylize(element).css(\"text-decoration\", valuestrikethru + \"underline\", \"!important\");\n          });\n        } else {\n          self.getElementsToStylize(self.getControl()).css(\"text-decoration\", valuestrikethru + \"underline\", \"!important\");\n        }\n      } else {\n        self.getControl().find(\"*\").each(function (i, element) {\n          self.getElementsToStylize(element).css(\"text-decoration\", valuestrikethru, \"!important\");\n        });\n      }\n    }\n  },\n\n  /* Customizes the font Strikethrough property */\n  changeFontStrikethru: function changeFontStrikethru(strikethru, isLabelFormat) {\n    var self = this;\n    var textFormat = self.properties.textFormat || {};\n    var valueFormat = self.properties.valueFormat || {};\n    var underline = bizagi.util.parseBoolean(textFormat.underline) ? \"underline \" : \"\";\n    var valueunderline = bizagi.util.parseBoolean(valueFormat.underline) ? \"underline \" : \"\";\n    var isLabelFormat = typeof isLabelFormat != \"undefined\" || isLabelFormat != null ? isLabelFormat : true;\n\n    // Hide - show the render\n    if (bizagi.util.parseBoolean(strikethru) == true && isLabelFormat) {\n      self.getFormattingLabel().css(\"text-decoration\", underline + \"line-through\", \"!important\");\n    } else {\n      if (isLabelFormat)\n      self.getFormattingLabel().css(\"text-decoration\", underline, \"!important\");\n    }\n\n    if (self.properties.displayType == \"value\" || !isLabelFormat) {\n      if (bizagi.util.parseBoolean(strikethru) == true) {\n        if (self.properties.editable) {\n          self.getControl().find(\"*\").each(function (i, element) {\n            self.getElementsToStylize(element).css(\"text-decoration\", valueunderline + \"line-through\", \"!important\");\n          });\n        } else {\n          self.getElementsToStylize(self.getControl()).css(\"text-decoration\", valueunderline + \"line-through\", \"!important\");\n        }\n      } else {\n        if (self.properties.editable) {\n          self.getControl().find(\"*\").each(function (i, element) {\n            self.getElementsToStylize(element).css(\"text-decoration\", valueunderline, \"!important\");\n          });\n        } else {\n          self.getElementsToStylize(self.getControl()).css(\"text-decoration\", valueunderline, \"!important\");\n        }\n      }\n    }\n  },\n\n  /* Customizes the font size property */\n  changeFontSize: function changeFontSize(size, isLabelFormat) {\n    var self = this;\n    var isLabelFormat = typeof isLabelFormat != \"undefined\" || isLabelFormat != null ? isLabelFormat : true;\n\n    // Hide - show the render\n    if (size != \"0\") {\n      var label = self.getFormattingLabel();\n      var newFontSize = 100 + Number(size) * 10 + \"%\";\n      if (isLabelFormat) {\n        label.css(\"font-size\", newFontSize, \"!important\");\n      }\n      if (self.properties.displayType == \"value\" || !isLabelFormat) {\n        var control = self.getControl();\n        if (_typeof(control.children()) == \"object\" && control.children().length > 0) {\n          self.getElementsToStylize(control.children()).css(\"font-size\", newFontSize, \"!important\");\n        } else {\n          self.getElementsToStylize(control).css(\"font-size\", newFontSize, \"!important\");\n          // Next line applies to Cascading combo and combo in order to increase the control space with large value fonts\n          if (self.properties.type.indexOf(\"ombo\") != -1 && size > 4) (\".ui-selectmenu\", control).children(0).height(2 * size + 20);\n        }\n\n        self.getElementsToStylize(control.find(\".ui-bizagi-render-date\")).css(\"line-height\", \"normal\");\n      }\n    }\n  },\n\n  /**\r\n      * in mobiles, don't apply styles to icon's elements\r\n      */\n  getElementsToStylize: function getElementsToStylize(context) {\n    return $(context);\n  },\n\n  /* Changes the render visibility*/\n  changeVisibility: function changeVisibility(argument) {\n    var self = this;\n    var properties = self.properties;\n\n    // Hide - show the render\n    if (bizagi.util.parseBoolean(argument) == true) {\n      if (properties.type !== \"hidden\") {\n        self.element.show();\n        self.element.css(\"display\", \"\");\n\n        if (properties.required) {\n          if (!self.hasValue()) {\n            self.changeRequiredLabel(true);\n          }\n        }\n      }\n    } else if (self.element) {\n      self.element.hide();\n    }\n\n    // Update properties\n    properties.visible = argument;\n  },\n  /* Changes the render editability*/\n  changeEditability: function changeEditability(argument) {\n    var self = this;\n    var properties = self.properties;\n    var control = self.getControl();\n\n    // Renders again\n    properties.editable = argument == \"Default\" ? self.originalProperties.editable : bizagi.util.parseBoolean(argument);\n    properties.editabilityEnabled = properties.editabilityEnabled || properties.editable;\n\n    // Clears control\n    control.empty();\n\n    if (typeof self.internalRenderControl == \"function\") {\n      $.when(self.internalRenderControl()).done(function (html) {\n        if (typeof self.emptyControlByChangeEditability == \"function\")\n        self.emptyControlByChangeEditability();\n        if (!self.asyncRenderDeferred)\n        control.append(html);\n        self.postRenderElement(self.element);\n      });\n    }\n  },\n\n  /**\r\n      * Change cell editability and attach bindings\r\n      * @param argument\r\n      * @param key\r\n      * @param xpath\r\n      */\n  changeEditabilityCellControl: function changeEditabilityCellControl(argument, key, xpath) {\n    var self = this;\n    var properties = self.properties;\n    var renderColumn = self.grid.getColumn(xpath);\n    var decorated = renderColumn.getDecorated(key);\n\n    // Renders again\n    properties.editable = argument === \"Default\" ? self.originalProperties.editable : bizagi.util.parseBoolean(argument);\n    properties.editabilityEnabled = properties.editabilityEnabled || properties.editable;\n\n    // Render cell control\n    self.internalRenderCellControl(properties.editable, key, renderColumn, decorated);\n  },\n\n  /**\r\n      * Render cell control by command action\r\n      * @param editable\r\n      * @param key\r\n      * @param renderColumn\r\n      * @param decorated\r\n      */\n  internalRenderCellControl: function internalRenderCellControl(editable, key, renderColumn, decorated) {\n    var self = this;\n    var control = self.getControl();\n\n    // Clears control\n    control.empty();\n\n    if (typeof self.internalRenderControl == \"function\") {\n\n      $.when(self.internalRenderControl()).done(function (html) {\n\n        if (!self.asyncRenderDeferred) {\n          control.append(html);\n        }\n\n        self.postRenderElement(self.element);\n\n        if (editable) {\n\n          renderColumn.bind(\"rendered\", function () {\n            renderColumn.readyDeferred.resolve();\n          });\n\n          decorated.unbind(\"renderchange\");\n\n          // If the render changes set the flag on\n          decorated.bind(\"renderchange\", function (render, args) {\n            renderColumn.changed = true;\n            self.grid.onCellChange(renderColumn, null, key, args);\n          });\n\n        }\n      });\n    }\n  },\n\n  changeRequired: function changeRequired(argument) {\n    var self = this;\n    var properties = self.properties;\n\n    var label = properties.displayName || \"\";\n    var labelElement = $(\"label\", self.getLabel());\n    var controlElement = self.getControl();\n\n    // Update properties\n    properties.required = argument;\n\n    // Changes label\n    if (self.getMode() == \"execution\" && self.checkRequired([])) {\n      self.changeRequiredLabel(false);\n    } else if (bizagi.util.parseBoolean(argument) == true && properties.editable) {\n      if (self.properties.orientation == \"rtl\") {\n        controlElement.prepend('<div class=\"ui-bizagi-render-control-required-rtl\"></div>');\n      } else {\n        controlElement.addClass('control-required');\n        controlElement.prepend('<div class=\"ui-bizagi-render-control-required\"></div>');\n      }\n    } else {\n      // if element has required label and through action change it, remove element.\n      if (self.properties.orientation == \"rtl\") {\n        $(\".ui-bizagi-render-control-required-rtl\", controlElement).remove();\n      } else {\n        controlElement.removeClass('control-required');\n        $(\".ui-bizagi-render-control-required\", controlElement).remove();\n      }\n    }\n\n    // Set text, HTML is more suitable for the content\n    labelElement.html(label);\n\n    // Perform validations again to check if the form is valid after this change\n    self.triggerRenderValidate();\n  },\n  /**\r\n      * This method just make a toggle of red label indicator\r\n      * Does't change internal value of control, if you need it\r\n      * please use changeRequired method\r\n      *\r\n      * @argument {boolean} argument\r\n      */\n  changeRequiredLabel: function changeRequiredLabel(argument) {\n    var self = this;\n    var properties = self.properties;\n\n    var label = properties.displayName || \"\";\n    var labelElement = $(\"label\", self.getLabel());\n    var controlElement = self.getControl();\n\n    // Changes label\n    if (bizagi.util.parseBoolean(argument) == true && properties.editable) {\n      if (self.properties.orientation == \"rtl\") {\n        controlElement.prepend('<div class=\"ui-bizagi-render-control-required-rtl\"></div>');\n      } else {\n        controlElement.addClass('control-required');\n        controlElement.append('<div class=\"ui-bizagi-render-control-required\"></div>');\n      }\n    } else {\n      // if element has required label and through action change it, remove element.\n      if (self.properties.orientation == \"rtl\") {\n        $(\".ui-bizagi-render-control-required-rtl\", controlElement).remove();\n      } else {\n        controlElement.removeClass('control-required');\n        $(\".ui-bizagi-render-control-required\", controlElement).remove();\n      }\n    }\n\n    // Set text, HTML is more suitable for the content\n    labelElement.html(label);\n\n    // Perform validations again to check if the form is valid after this change\n    self.triggerRenderValidate();\n  },\n  /*\r\n     *   Refresh the control with a new data\r\n     */\n  refreshControl: function refreshControl(args) {\n    var self = this;\n    var properties = self.properties;\n    var originalValue = self.value;\n    var form = self.getFormContainer();\n    var idForm = form.properties.id || \"\";\n\n    args = args || {};\n\n    // Start waiting\n    self.startLoading();\n\n    // Execute personalized stuff before to refresh it\n    self.beforeToRefresh();\n\n    // Call the ajax service\n    return $.when(self.dataService.multiaction().refreshControl({\n      xpath: properties.xpath,\n      idRender: properties.id,\n      idPageCache: properties.idPageCache,\n      xpathContext: properties.xpathContext || args.xpathContext,\n      idForm: idForm })).\n    pipe(function (data) {\n      if (self.grid && bizagi.override.restoreAppearanceAfterRefresh) {\n        self.saveGridChildrenVisualChanges();\n      }\n      // Clear variables\n      self.control = self.controlFiller = self.label = null;\n\n      // Update properties data\n      var currentElement = self.element;\n      self.initializeData(data.render);\n\n      // Render the control again\n      return $.when(self.render()).pipe(function (html) {\n        var result = $(html);\n        //Dont remove unused rendered var\n        var rendered = self.postRenderElement(result);\n        self.properties.originalValue = self.value;\n        return result;\n      }).pipe(function (result) {\n\n        // When the content has been post-renderized, replace it\n        currentElement.replaceWith(result);\n\n        // Prevent multiple refresh on grid\n        if (!self.grid) {\n          self.triggerRenderChange({ changed: false });\n        }\n\n        if (bizagi.override.restoreAppearanceAfterRefresh) {\n          if (self.grid) {\n            self.restoreGridChildrenVisualChanges();\n            self.restoreGridAppearance();\n          } else {\n            self.restoreAppearance();\n          }\n        }\n\n        // Execute personalized stuff before to refresh it\n        self.afterToRefresh();\n      });\n\n    }).fail(function (message) {\n      var message = self.processFailMessage(message);\n\n    }).always(function () {\n      self.endLoading();\n    });\n  },\n\n  /*\r\n      *   Refresh the control with a new data\r\n      */\n  refreshDesignControl: function refreshDesignControl(data) {\n    var self = this;\n    var properties = self.properties;\n\n    // Execute personalized stuff before to refresh it\n    self.beforeToRefresh();\n\n    // Clear variables\n    self.control = self.controlFiller = self.label = null;\n\n    $.extend(data.render.properties, {\n      xpath: properties.xpath,\n      idRender: properties.id,\n      xpathContext: properties.xpathContext || \"form\",\n      idPageCache: properties.idPageCache });\n\n\n    // Update properties data\n    var currentElement = self.element;\n    self.initializeData(data.render);\n\n    // Render the control again\n    return $.when(self.render()).pipe(function (html) {\n      var result = $(html);\n      //Dont remove unused rendered var\n      var rendered = self.postRenderElement(result);\n      self.properties.originalValue = self.value;\n      return result;\n    }).pipe(function (result) {\n      // When the content has been post-renderized, replace it\n      currentElement.replaceWith(result);\n      self.triggerRenderChange();\n\n      // Execute personalized stuff before to refresh it\n      self.beforeToRefresh();\n    });\n  },\n\n  /*\r\n     * Cleans current value\r\n     */\n  cleanData: function cleanData() {\n    var self = this;\n\n    self.setValue(\"\");\n    self.clearDisplayValue();\n  },\n\n  /*\r\n      *   Sets the value in the rendered control\r\n      */\n  clearDisplayValue: function clearDisplayValue() {\n    var self = this;\n    var control = self.getControl();\n    var input = control.find(\"input\");\n\n    if (input.length > 0) {\n      input.val(self.getValue());\n    } else if (self.properties.editable === false) {\n      $(control).html(\"<label class='readonly-control'></label>\");\n    }\n  },\n\n  /*\r\n     *   Updates original value for some comparisons\r\n     */\n  updateOriginalValue: function updateOriginalValue() {\n    var self = this;\n    self.properties.originalValue = self.value;\n  },\n  /*\r\n     *   Add the render data to the given collection in order to send data to the server\r\n     */\n  collectData: function collectData(renderValues) {\n    var self = this;\n    var properties = self.properties;\n\n    // Add the render value\n    var xpath = properties.xpath;\n    var value = self.getValue();\n\n    if (self.controlValueIsChanged()) {\n      // Filter by valid xpaths and valid values\n      if (!bizagi.util.isEmpty(xpath)) {\n        if (!bizagi.util.isEmpty(value)) {\n          renderValues[properties.xpath] = value;\n        } else if (value === \"\" || value === null) {\n          renderValues[properties.xpath] = \"\";\n        }\n      }\n    }\n\n    //Validate if the input has a retype configured and check that both values matches, otherwise delete the original value\n    if (!self.validateInputRetype()) {\n      renderValues[properties.xpath] = \"\";\n    }\n  },\n\n  hasChanged: function hasChanged(result) {\n    var self = this;\n    if (self.controlValueIsChanged()) {\n      result.push(true);\n      return true;\n    } else {\n      return false;\n    }\n  },\n\n  /*\r\n     *  Configure additional Handlers for queryForm type\r\n     */\n  configureHandlersQueryForm: function configureHandlersQueryForm() {\n    var self = this;\n    var checkIncluded = self.element.find(\".ui-bizagi-render-control-included\");\n    checkIncluded.change(function () {\n      self.properties.included = $(this).is(\":checked\");\n    });\n  },\n  getRenderId: function getRenderId() {\n    var self = this;\n\n    return bizagi.util.tryCatch(\n    function () {return self.properties.id;},\n    null);\n\n  },\n  /*\r\n     *   Add the render data to the given collection in order to send data to the server\r\n     */\n  collectDataQueryForm: function collectDataQueryForm(renderValues) {\n    var self = this;\n    var properties = self.properties;\n    var xpath = properties.xpath;\n    var value = self.getValue();\n    var queryValue = null;\n    if (!bizagi.util.isEmpty(xpath)) {\n      if (value !== null && typeof value !== \"undefined\") {\n        var isObject = typeof value.id !== \"undefined\";\n        if (isObject) {\n          queryValue = !bizagi.util.isEmpty(value.id) ? [value] : null;\n        } else {\n          queryValue = value !== \"\" ? value : null;\n        }\n      }\n      if (queryValue !== null || properties.included) {\n        var searchType = (self.properties.typeSearch || self.properties.rangeQuery || \"NONE\").toUpperCase();\n        var newParameter = {\n          \"value\": queryValue,\n          \"included\": self.properties.included,\n          \"xpath\": properties.xpath,\n          \"searchType\": searchType,\n          \"orderType\": \"NONE\",\n          \"renderId\": self.getRenderId() };\n\n\n        if (typeof properties.displayXpath !== \"undefined\" && properties.displayXpath !== \"\") {\n          newParameter.displayXpath = properties.displayXpath;\n        }\n\n        renderValues.push(newParameter);\n      }\n    }\n  },\n\n  /*\r\n     *  Method to determine if the render value can be sent to the server or not\r\n     */\n  canBeSent: function canBeSent() {\n    var self = this,force;\n    var properties = self.properties;\n    var displayOnly = bizagi.util.parseBoolean(properties.displayOnly) || false;\n    var editable = bizagi.util.parseBoolean(properties.editable) || bizagi.util.parseBoolean(properties.editabilityEnabled);\n\n    // Don't send the clones\n    if (properties.isClone) {\n      return false;\n    }\n\n    // The render can be sent if it is editable and is not \"display only\"\n    if (!displayOnly && editable) {\n      return true;\n    }\n\n    if (properties.xpath) {\n      var form = self.getFormContainer();\n      if (form.getRenders(properties.xpath).length == 1) {\n        force = $.forceCollectData ? $.forceCollectData.toString() : false;\n        $.forceCollectData = force ? undefined : $.forceCollectData;\n        if (self.controlValueIsChanged()) {\n          $.forceCollectData = force ? bizagi.util.parseBoolean(force) : $.forceCollectData;\n          return true;\n        }\n        $.forceCollectData = force ? bizagi.util.parseBoolean(force) : $.forceCollectData;\n      }\n    }\n\n    return false;\n  },\n  /*\r\n     *  Method to determine if the render value can be sent to search\r\n     */\n  canBeSentQueryForm: function canBeSentQueryForm() {\n    var self = this,force;\n    var properties = self.properties;\n    // Don't send the clones\n    if (properties.isClone) {\n      return false;\n    }\n    return true;\n  },\n  /*\r\n     *   Focus on the current element\r\n     */\n  focus: function focus(time) {\n    var self = this;\n\n    // Focus is only allowed when the render is visible\n    if (!self.properties.visible) return;\n\n    // Call base\n    this._super();\n    var layout = $(\"#ui-bizagi-wp-app-render-form-content\");\n\n    // Configures effect\n    var effect = function effect() {\n      var control = self.getControl();\n      var defaultControl = self.properties.type != \"grid\" ? $(\"input, select, option, textarea\", control) : $(\"input, select, option, textarea\", control).first();\n      if (defaultControl.length > 0) {\n\n        // Focus control\n        $.each(defaultControl, function (i) {\n          var innerControl = defaultControl[i];\n          if ($(innerControl).attr(\"type\") != \"hidden\" && $(innerControl).css(\"display\") != \"none\" && $(innerControl).css(\"visibility\") != \"hidden\") {\n\n            try {\n              if (!bizagi.util.isIE()) {\n                bizagi.util.autoScrollBottom(layout);\n              }\n              innerControl.focus();\n            } catch (e) {\n            }\n          }\n        });\n      }\n    };\n\n    // Wait until the render is ready to apply the focus effect\n    $.when(self.ready()).\n    done(function () {\n      // Run effect\n      if (time > 0) {\n        var timeOutEffect = setTimeout(function () {\n          effect();\n          clearTimeout(timeOutEffect);\n        }, time);\n      } else {\n        effect();\n      }\n    });\n  },\n\n  /*\r\n     *   Resolves default align for each display type\r\n     */\n  getDefaultLabelAlign: function getDefaultLabelAlign(displayType) {\n    return \"default\";\n  },\n\n  /*\r\n     *   Resolves default value align for each display type\r\n     */\n  getDefaultValueAlign: function getDefaultValueAlign(displayType) {\n    return \"default\";\n  },\n  /*\r\n     *   Transform the align type when using RTL orientation\r\n     */\n  getRTLAlign: function getRTLAlign(align) {\n    /* if (align === \"default\"){ \r\n                                                return \"right\";\r\n                                            } */\n    return align;\n  },\n\n  /*\r\n     *   Enables submit on change feature for the current render\r\n     */\n  configureSubmitOnChange: function configureSubmitOnChange() {\n    var self = this;\n    var properties = self.properties;\n    var xpath = \"\";\n\n    if (!properties.editable) return;\n\n    // Build action\n    properties.dependencies = properties.dependencies || 'all';\n\n    if (properties.xpath) {\n      if (properties.submitOnChangexpathContext) {\n        xpath = properties.submitOnChangexpathContext + \".\" + properties.xpath;\n      } else {\n        xpath = properties.xpath;\n      }\n    } else {\n      if (properties.submitOnChangexpathContext) {\n        xpath = properties.submitOnChangexpathContext + \".\" + properties.id;\n      } else {\n        xpath = properties.id;\n      }\n    }\n\n    var action = {\n      \"conditions\": {\n        \"expressions\": [\n        {\n          \"simple\": {\n            \"xpath\": xpath,\n            \"renderId\": properties.id,\n            \"operator\": \"changes\",\n            \"argumentType\": \"const\" } }] },\n\n\n\n\n      \"commands\": [\n      {\n        \"xpath\": xpath,\n        \"command\": 'submit-value',\n        \"argument\": properties.dependencies }],\n\n\n      \"dependencies\": [xpath],\n      \"elseCommands\": [] };\n\n\n    if (properties.submitOnChangexpathContext && self.grid) {\n      action.conditions.expressions[0].simple.containerId = self.grid.properties.id;\n    }\n\n    // Add action when form ends its rendering\n    $.when(self.ready()).done(function () {\n      var form = self.getFormContainer();\n      form.addSubmitAction(xpath, action);\n    });\n  },\n\n  /*\r\n     *   Sends all the info to the server then refreshes the form\r\n     *   Returns a deferred\r\n     */\n  submitOnChange: function submitOnChange(data, bRefreshForm, notCollect) {\n    var self = this;\n    var defer = $.Deferred();\n\n    // Add context parameter\n    if (self.properties.contexttype != \"\" && data) {\n      data[self.dataService.Class.BA_CONTEXT_PARAMETER_PREFIX + \"contexttype\"] = self.properties.contexttype;\n    }\n\n    $.when(self.isReadyToSave()).done(function () {\n      self.internalSubmitOnChange(data, bRefreshForm, notCollect).done(function () {\n        defer.resolve();\n      }).fail(function () {\n        defer.reject();\n      });\n    });\n\n    return defer.promise();\n  },\n\n  getCacheIdCase: function getCacheIdCase() {\n    var self = this;\n    var idCase = self.getParams().idCase;\n\n    if (bizagi.cache === undefined) {\n      bizagi.cache = {};\n      bizagi.cache.idCaseObject = {\n        idCase: idCase !== undefined ? idCase : bizagi.cache.idCase !== undefined ? bizagi.cache.idCase : undefined };\n\n    } else {\n      if (idCase !== undefined && bizagi.cache.idCaseObject !== undefined) {\n        bizagi.cache.idCaseObject.idCase = idCase;\n      } else {\n        if (idCase !== undefined && bizagi.cache.idCaseObject === undefined) {\n          bizagi.cache.idCaseObject = {};\n          bizagi.cache.idCaseObject.idCase = idCase;\n        }\n      }\n    }\n\n    if (idCase === undefined) {\n      if (bizagi.cache.idCaseObject === undefined) {\n        idCase = undefined;\n      } else {\n        idCase = bizagi.cache.idCaseObject.idCase;\n      }\n    } else {\n      idCase = idCase;\n    }\n\n    return idCase;\n  },\n  /*\r\n     *   Internal method\r\n     *   Sends all the info to the server then refreshes the form\r\n     *   Returns a deferred\r\n     */\n  internalSubmitOnChange: function internalSubmitOnChange(data, bRefreshForm, notCollect) {\n    var self = this;\n    var form = self.getFormContainer();\n    var properties = self.properties;\n    var parameters = {\n      data: data,\n      bRefreshForm: bRefreshForm,\n      notCollect: notCollect,\n      properties: {\n        idCase: self.getCacheIdCase(),\n        id: properties.id,\n        xpath: properties.xpath,\n        idPageCache: properties.idPageCache,\n        contexttype: properties.contexttype } };\n\n\n\n    return form.internalSubmitOnChange(parameters);\n  },\n  /*\r\n     *   Returns a promise that will resolve when the element is ready\r\n     */\n  ready: function ready() {\n    var self = this;\n    return $.when(self.parent.ready(), self.isRendered());\n  },\n  /*\r\n     *   Get the custom handlers set for this execution\r\n     */\n  getCustomHandlers: function getCustomHandlers() {\n    var self = this;\n    var form = self.getFormContainer();\n\n    if (form) {\n      return form.getCustomHandlers();\n    }\n    return null;\n  },\n  /*\r\n     *   Get the custom handlers set for this execution\r\n     */\n  getCustomHandler: function getCustomHandler(key) {\n    var self = this;\n    var customHandlers = self.getCustomHandlers();\n\n    if (customHandlers) {\n      return customHandlers[key];\n    }\n    return null;\n  },\n  /*\r\n     *   Calculates render label and value width\r\n     */\n  calculateRenderWidth: function calculateRenderWidth(labelWidth, valueWidth, displayType) {\n    var self = this;\n    // Read values\n    // If the label width or the value width are 0, the BAS means that no value is used, so we need to adjust them to 50%\n    if (valueWidth == \"100\" && typeof labelWidth === \"undefined\") {\n      labelWidth = \"0\";\n    } else {\n      labelWidth = labelWidth ? labelWidth != \"0\" ? labelWidth : \"50\" : \"50%\";\n    }\n    valueWidth = valueWidth ? valueWidth != \"0\" ? valueWidth : \"50\" : \"50%\";\n\n    if (displayType == \"normal\" || displayType == \"both\" || displayType == \"reversed\") {\n\n      // Special case with lower values, so they want both fields in \"auto\" width\n      if (labelWidth && bizagi.util.percent2Number(labelWidth) < 5 &&\n      valueWidth && bizagi.util.percent2Number(valueWidth) < 5) {\n        return { label: 0, control: 100 };\n      }\n      // Normalize percentages\n      if (labelWidth && !valueWidth) {\n        labelWidth = bizagi.util.percent2Number(labelWidth);\n        valueWidth = 100 - labelWidth;\n\n      } else if (!labelWidth && valueWidth) {\n        valueWidth = bizagi.util.percent2Number(valueWidth);\n        labelWidth = 100 - valueWidth;\n      } else {\n        labelWidth = bizagi.util.percent2Number(labelWidth);\n        valueWidth = bizagi.util.percent2Number(valueWidth);\n\n        // Check 100% percentage\n        if (labelWidth + valueWidth != 100 && typeof self.properties != \"undefined\" && self.properties.layoutType != \"pixels\") {\n          valueWidth = 100 - labelWidth;\n        }\n      }\n    } else {\n      labelWidth = 100;\n      valueWidth = 100;\n    }\n\n    return { label: labelWidth, control: valueWidth };\n  },\n  /*\r\n     *   Get param value idCase\r\n     */\n  getIdCase: function getIdCase() {\n    var self = this;\n    return self.getFormContainer().params.idCase || bizagi.context.idCase;\n  },\n  /*\r\n     *   Get param value idWorkitem\r\n     */\n  getIdWorkitem: function getIdWorkitem() {\n    var self = this;\n    return self.getFormContainer().params.idWorkitem || bizagi.context.idWorkitem;\n  },\n  /*\r\n     *   Get param value idTask\r\n     */\n  getidTask: function getidTask() {\n    var self = this;\n    return self.getFormContainer().params.idTask || bizagi.context.idTask;\n  },\n  /*\r\n     *   Get param value sessionId\r\n     */\n  getSessionId: function getSessionId() {\n    var self = this;\n    return self.getFormContainer().properties.sessionId;\n  },\n\n  /*\r\n     *   CELL STUFF\r\n     *   TODO: Move to other place\r\n     */\n\n  /* Customizes cell color*/\n  changeCellColor: function changeCellColor(color) {\n    var self = this;\n    var control = self.getControl();\n    if (control) {\n      if (color != 'none') {\n        control.css(\"color\", color);\n        control.find(\"input, textarea, label\").each(function (i, element) {\n          $(element).css(\"color\", color);\n        });\n      } else {\n        control.css(\"color\", \"\");\n        control.find(\"input, textarea, label\").each(function (i, element) {\n          $(element).css(\"color\", \"\");\n        });\n      }\n    }\n  },\n\n  /**\r\n      * Customizes cell background color\r\n      * @param color\r\n      */\n  changeCellBackgroundColor: function changeCellBackgroundColor(color) {\n    var self = this;\n    var control = self.getControl();\n    var backgroundColor = \"\";\n    var backgroundImage = \"\";\n\n    if (control) {\n      if (color != 'none') {\n        backgroundColor = color;\n        backgroundImage = \"none\";\n      }\n\n      if (self.properties.editable) {\n        var needBGPaint = false;\n\n        control.find(\"input, textarea, .ui-selectmenu\").each(function (i, element) {\n\n          if ((element.type == \"text\" || element.type == \"textarea\") && !$(element).hasClass('ui-select-data'))\n          needBGPaint = true;\n\n          $(element).css({\n            \"background-color\": backgroundColor,\n            \"background-image\": backgroundImage });\n\n        });\n\n        if (!needBGPaint) {\n          control.closest(\"td\").each(function (i, element) {\n            $(element).css({\n              \"background-color\": backgroundColor,\n              \"background-image\": backgroundImage });\n\n          });\n        }\n\n      } else {\n        control.each(function (i, element) {\n          //TODO: Validar si se aplican los estilos en tablet aun sin esta linea, cuidado con desktop\n          var item = $(element).hasClass(\"ui-bizagi-cell-readonly\") ? control.closest(\"td\") : $(element);\n          item.css({\n            \"background-color\": backgroundColor,\n            \"background-image\": backgroundImage });\n\n        });\n      }\n    }\n\n\n  },\n\n  /**\r\n      * Changes the cell visibility\r\n      * @param argument\r\n      */\n  changeCellVisibility: function changeCellVisibility(argument) {\n    var self = this;\n    var properties = self.properties;\n    var control = self.getControl();\n\n    if (control) {\n      // Hide - show the render\n      if (bizagi.util.parseBoolean(argument) == true) {\n        //control.show();\n        control.css(\"visibility\", \"visible\");\n        control.css(\"display\", \"\");\n\n        self.element && self.element.show();\n      } else {\n        //control.hide();\n        control.css(\"visibility\", \"hidden\");\n      }\n    }\n\n    // Update properties\n    properties.visible = argument;\n  },\n\n  /**\r\n      * Changes the cell required\r\n      * @param argument\r\n      */\n  changeCellRequired: function changeCellRequired(argument) {\n    var self = this;\n    var properties = self.properties;\n    var control = self.getControl();\n\n    if (control) {\n      // Check if argument is true and control donot have any value\n      if (bizagi.util.parseBoolean(argument) == true && bizagi.util.isEmpty(self.value)) {\n        control.addClass('control-required');\n        control.append('<div class=\"ui-bizagi-render-control-required\"></div>');\n      } else {\n        control.removeClass('control-required');\n        $(\".ui-bizagi-render-control-required\", control).remove();\n      }\n      // Update properties\n      properties.required = argument;\n    }\n  },\n\n  /**\r\n      * Method to create deferred at the moment to start multiaction\r\n      */\n  startActionExecution: function startActionExecution() {\n    var self = this;\n    self.startLoading();\n    self.actionExecutionDeferred = new $.Deferred();\n  },\n\n  /**\r\n      * method to resolve the deferred when multiaction finish\r\n      */\n  endActionExecution: function endActionExecution() {\n    var self = this;\n    self.endLoading();\n    if (self.actionExecutionDeferred) self.actionExecutionDeferred.resolve();\n    delete self.actionExecutionDeferred;\n  },\n\n  /**\r\n      * Method to return the promise to anyone that needs to know if multiaction ended\r\n      * @returns {*}\r\n      */\n  readyActionExecution: function readyActionExecution() {\n    var self = this;\n    if (!self.actionExecutionDeferred) return $.when(true);\n    return self.actionExecutionDeferred.promise();\n  },\n\n  /**\r\n      * Verifies is the elements was inside a new row in a grid\r\n      * @returns {boolean}\r\n      */\n  isFromCreatedRow: function isFromCreatedRow() {\n    var self = this;\n\n    if (self.grid) {\n      var i = self.grid.columns.length;\n\n      while (i-- > 0) {\n        if (self.grid.columns[i].properties.xpath == self.properties.xpath) {\n          if (self.grid.columns[i].isNewRow == true) {\n            return true;\n          }\n        }\n      }\n    }\n    return false;\n  },\n  /**\r\n      * Submits a invalidate page cache request\r\n      * @param params\r\n      */\n  submitInvalidatePageCacheRequest: function submitInvalidatePageCacheRequest(params) {\n    var self = this,\n    properties = self.properties;\n    var pageCacheToInvalidate = params ? params.idPageCache : properties.idPageCache;\n\n\n    self.dataService.invalidatePageCache({ idPageCache: pageCacheToInvalidate });\n  },\n\n  /**\r\n      * Check is design mode\r\n      */\n  isDesignMode: function isDesignMode() {\n    return this.getMode() === \"design\";\n  },\n\n  /**\r\n      * Check is design mode\r\n      */\n  isExecutionMode: function isExecutionMode() {\n    return this.getMode() === \"execution\";\n  },\n\n  /***/\n  preventDefaultForAnchorTag: function preventDefaultForAnchorTag() {\n    if (bizagi.util.isSharepointContext() || bizagi.util.isWebpartContext()) {\n      $(\"a[href='#']\", this.getControl()).click(function (ev) {\n        ev.preventDefault();\n      });\n    }\n  },\n\n  getMainForm: function getMainForm(currentForm) {\n    var fromRender = currentForm.params.fromRender;\n    if (typeof fromRender != \"undefined\")\n    this.getMainForm(fromRender.getFormContainer());else\n\n    return currentForm;\n  },\n\n  /**\r\n      * Provides a way to asynchronously observe changes in the intersection\r\n      * of a target element with an ancestor element\r\n      * @param $context\r\n      * @param callbackFn\r\n      */\n  setInterceptionObserver: function setInterceptionObserver($context, callbackFn) {\n    var self = this;\n\n    var intersectionObserver = new IntersectionObserver(function () {\n      if (!self.pluginInitialized && $context.width() !== 0) {\n\n        // Execute callback\n        if (typeof callbackFn === \"function\") {\n          callbackFn();\n        }\n\n        // Close\n        intersectionObserver.disconnect();\n      }\n    });\n\n    intersectionObserver.POLL_INTERVAL = 100; // Time in milliseconds.\n    intersectionObserver.observe($context.get(0));\n  },\n\n  /**\r\n      * Provides a way to asynchronously observe changes in the resize\r\n      * of a target element\r\n      * @param $context\r\n      * @param callbackFn\r\n      */\n  setResizeObserver: function setResizeObserver($context, callbackFn) {\n    var self = this;\n\n    var resizeObserver = new ResizeObserver(function () {\n      if (!self.pluginInitialized && $context.width() !== 0) {\n\n        // Execute callback\n        if (typeof callbackFn === \"function\") {\n          callbackFn();\n        }\n\n        // Close\n        resizeObserver.disconnect();\n      }\n    });\n    resizeObserver.observe($context.get(0));\n  },\n\n  /**\r\n      * Restore appearance of grid\r\n      */\n  restoreGridAppearance: function restoreGridAppearance() {\n    var self = this;\n    var indexes = self.getIndexes();\n\n    self.restoreAppearance();\n\n    if (self.columns.length > 0) {\n      $.each(self.columns, function (j, column) {\n        for (var i = 0; i < indexes.length; i++) {\n          column.decorateRenders[indexes[i]].restoreCellAppearance();\n        }\n      });\n    }\n  },\n\n  /**\r\n      * Save visual changes of children in grid\r\n      */\n  saveGridChildrenVisualChanges: function saveGridChildrenVisualChanges() {\n    var self = this;\n    var indexes = self.getIndexes();\n\n    self.gridChildrenVisualChanges = [];\n\n    if (self.columns.length > 0) {\n      $.each(self.columns, function (j, column) {\n        if (column.properties.xpath) {\n          for (var i = 0; i < indexes.length; i++) {\n            var cell = column.decorateRenders[indexes[i]];\n\n            if (cell && cell.properties)\n            self.gridChildrenVisualChanges[cell.properties.id + indexes[i]] = cell.visualChanges;\n          }\n\n        }\n      });\n    }\n  },\n\n  /**\r\n      * Restore visual changes of children in grid\r\n      */\n  restoreGridChildrenVisualChanges: function restoreGridChildrenVisualChanges() {\n    var self = this;\n    var indexes = self.getIndexes();\n    if (self.columns.length > 0) {\n      $.each(self.columns, function (j, column) {\n        if (column.properties.xpath) {\n          for (var i = 0; i < indexes.length; i++) {\n            var cell = column.decorateRenders[indexes[i]];\n\n            if (cell && cell.properties)\n            cell.visualChanges = self.gridChildrenVisualChanges[cell.properties.id + indexes[i]] || {};\n          }\n\n        }\n      });\n    }\n\n    delete self.gridChildrenVisualChanges;\n  },\n\n  /**\r\n      * Restore appearance of cell\r\n      */\n  restoreCellAppearance: function restoreCellAppearance() {\n    var self = this;\n\n    for (var command in self.visualChanges) {\n      switch (command) {\n        case \"color\":\n          self.changeCellColor(self.visualChanges[command]);\n          break;\n        case \"backgroundColor\":\n          self.changeCellBackgroundColor(self.visualChanges[command]);\n          break;\n        case \"required\":\n          self.changeCellRequired(self.visualChanges[command]);\n          break;\n        case \"editability\":\n          self.changeEditabilityCellControl(self.visualChanges[command], self.surrogateKey, self.properties.xpath);\n          break;\n        case \"visibility\":\n          self.changeCellVisibility(self.visualChanges[command]);\n          break;\n        case \"minValue\":\n          self.changeMinValue(self.visualChanges[command]);\n          break;\n        case \"maxValue\":\n          self.changeMaxValue(self.visualChanges[command]);\n          break;}\n\n    }\n  },\n\n  /**\r\n      * Method to perform the format to value\r\n      * @param value\r\n      * @returns {*}\r\n      */\n  formatValue: function formatValue(value) {\n    return value;\n  } });","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /**\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Name: Bizagi Form Container Class\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Author: UI Forms Team\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Comments:\r\n                                                                                                                                                                                                                                                                                                                                                                                *   -   This script will define a form container class that defines basic stuff regarding the device\r\n                                                                                                                                                                                                                                                                                                                                                                                */\n\n$.Class.extend(\"bizagi.rendering.form\", {}, {\n  /*\r\n                                              *   Constructor\r\n                                              */\n  init: function init(params) {\n    var self = this;\n    var data = params.data;\n    var device = bizagi.util.detectDevice();\n\n    // Creates a hashtable to maintain references by id\n    self.rendersById = {};\n    self.rendersByXpath = {};\n    self.rendersByXpathId = {};\n    self.rendersByType = {};\n\n    // Set page cache id\n    self.idPageCache = data.pageCacheId;\n\n    // Set default mode\n    self.mode = params.mode || \"execution\";\n    self.focus = params.focus;\n\n    // Set rendering params\n    self.params = params;\n\n    // Call base\n    this._super(params);\n\n    // Define confirmation message \n    var message = \"\";\n\n    if (device !== \"desktop\") {\n      message = this.getResource(\"render-form-user-confirmation-message\").replace(/<br(\\/| \\/)>/g, \"\\n\");\n    } else {\n      message = this.getResource(\"render-form-user-confirmation-message\");\n    }\n\n    // Default properties\n    var properties = self.properties;\n    properties.sessionId = data.sessionId;\n    properties.displayAsReadOnly = bizagi.util.parseBoolean(data.displayAsReadOnly) || false;\n    properties.userConfirmationMessage = properties.userConfirmationMessage || message;\n    properties.orientation = properties.orientation || \"ltr\";\n    properties.hasRule = bizagi.util.parseBoolean(properties.hasRule) || false;\n    properties.contexttype = params.contexttype || \"\";\n    properties.paramsRender = params.paramsRender || {};\n    properties.processPath = params.data.processPath ? params.data.processPath.replaceAll(\"|/|\", \"  &rsaquo;  \") : \"\";\n    properties.breadCrumb = params.data.processPath ? params.data.processPath.split(\"|/|\") : [];\n    properties.type = properties.type || \"form\";\n\n    // Set validations & actions\n    this.validations = data.validations;\n    this.actions = data.actions;\n\n    // Enable the \"Validate and Save\" action for Form Buttons\n    self.allowValidateAndSaveAction = bizagi.override && bizagi.override.enableActionValidateAndSave === true;\n\n    // Enable execution of Quick actions\n    var enableExecuteQuickActions = bizagi.util.isFeatureEnabled(\"enableExecuteQuickActions\");\n    var allowExecuteQuickActions = enableExecuteQuickActions !== null ? enableExecuteQuickActions : true;\n    self.useQuickActions = allowExecuteQuickActions && self.hasQuickActions(data, allowExecuteQuickActions);\n\n    // Initialize buttons\n    self.initializeButtons(data);\n\n    // Define transitions to Complex Gateway\n    if (data.transitions) {\n      self.transitions = data.transitions;\n    }\n\n    this.originalProcessButton = this.processButton;\n\n    //Custom behaviour for application parent activated.\n    self.isRoutingDisabled = false;\n    if (params.applicationParent) {\n      switch (params.applicationParent) {\n        case 'NEWWORKPORTAL':\n          self.isRoutingDisabled = true;\n          break;}\n\n    }\n\n    self.isOfflineFormsV2Supported = bizagi.util.isMobileDevice() && bizagi.util.isOfflineFormsV2Supported();\n    self.isOfflineForm = bizagi.util.isOfflineForm({ context: self });\n    self.rendersById[properties.id] = self;\n  },\n\n  /*\r\n     *   Initializes button metadata\r\n     */\n  initializeButtons: function initializeButtons(data) {\n    var self = this;\n\n    self.buttons = [];\n\n    // Process buttons\n    if (data.buttons) {\n      $.each(data.buttons, function (i, item) {\n        var button = item.button.properties;\n\n        // Process caption\n        button.caption = !bizagi.util.isEmpty(button.caption) && self.getResource(button.caption) !== button.caption ? self.getResource(button.caption) : button.caption;\n\n        // Process actions\n        if (button.actions) {\n          $.each(button.actions, function (i, action) {\n            button[action] = true;\n          });\n        }\n\n        // Add other properties\n        button.ordinal = i;\n        button.action = button.next ? \"next\" :\n        button.nextWithoutValidations ? \"nextWithoutValidations\" :\n        button.submitData ? \"save\" :\n        button.cancel ? \"cancel\" :\n        button.back ? \"back\" :\n        button.createnewcase ? \"createnewcase\" :\n        button.validate ? \"validate\" : \"\";\n\n        // Explicit add save operation\n        button.save = button.action === \"save\";\n\n        // Allow Quick action\n        button.quickAction = button.type === \"quickactions\";\n\n        // Add inherent behaviours\n        if (button.next || button.back || button.nextWithoutValidations) {\n          button.routing = true;\n        }\n\n        if (button.hasRule) {\n          button.executeRule = true;\n        }\n\n        if (self.allowValidateAndSaveAction && button.validate) {\n          button.submitData = true;\n          button.refresh = true;\n          button.save = true;\n          if (button.action === \"next\" || button.action === \"createnewcase\") {\n            button.refresh = false;\n          }\n        }\n\n        // Prepare button style\n        button.style = self.buildButtonStyle(button);\n\n        // Add to button array\n        self.buttons.push(button);\n      });\n    }\n  },\n\n  /*\r\n     *   Get the original params used to fetch the form\r\n     */\n  getParams: function getParams() {\n    return this.params;\n  },\n\n  setParam: function setParam(property, value) {\n    if (this.params) {\n      this.params[property] = value;\n    }\n  },\n\n  /*\r\n     *   Get current rendering mode\r\n     */\n  getMode: function getMode() {\n    return this.mode;\n  },\n  /*\r\n     *   Get the custom handlers set for this execution\r\n     */\n  getCustomHandlers: function getCustomHandlers() {\n    var self = this;\n    if (self.params) {\n      return self.params.customHandlers;\n    }\n  },\n  /*\r\n     * Method to index renders\r\n     */\n  registerRender: function registerRender(render) {\n    var self = this;\n    var xpath = render.properties.xpath;\n    var id = render.properties.id;\n    var type = render.properties.type;\n    var xpathId = xpath ? xpath + \".\" + id : undefined;\n\n    self.rendersById[id] = render;\n    if (xpath) {\n      if (!self.rendersByXpath[xpath]) {\n        self.rendersByXpath[xpath] = [];\n      }\n      self.rendersByXpath[xpath].push(render);\n    }\n\n    if (xpathId) {\n      if (!self.rendersByXpathId[xpathId]) {\n        self.rendersByXpathId[xpathId] = [];\n      }\n      self.rendersByXpathId[xpathId].push(render);\n    }\n\n    if (!self.rendersByType[type]) {\n      self.rendersByType[type] = [];\n    }\n    self.rendersByType[type].push(render);\n  },\n  /*\r\n     * Method to unregister render\r\n     */\n  unregisterRender: function unregisterRender(render) {\n    var self = this;\n\n    if (self.rendersById[render.properties.id]) {\n      delete self.rendersById[render.properties.id];\n    }\n\n    if (render.properties.xpath) {\n      if ($.isArray(self.rendersByXpath[render.properties.xpath]) &&\n      self.rendersByXpath[render.properties.xpath].length > 1) {\n        for (var i = 0, l = self.rendersByXpath[render.properties.xpath].length; i < l; i++) {\n          var element = self.rendersByXpath[render.properties.xpath][i];\n          if (bizagi.util.md5(JSON.stringify(element.properties)) === bizagi.util.md5(JSON.stringify(render.properties))) {\n            self.rendersByXpath[render.properties.xpath].splice(i, 1);\n            self.rendersByXpathId[render.properties.xpath + '.' + render.properties.id].splice(i, 1);\n            break;\n          }\n        }\n      } else {\n        delete self.rendersByXpath[render.properties.xpath];\n        delete self.rendersByXpathId[render.properties.xpath + '.' + render.properties.id];\n      }\n    }\n\n    // Unregister from renders by type\n    if (render.properties.type) {\n      var listRendesByType = self.getRenderByType(render.properties.type);\n      var listRendesByTypeLength = listRendesByType.length;\n      var renderKey = render.properties.id || render.properties.xpath;\n\n      for (var i = 0; i < listRendesByTypeLength; i++) {\n        var listRender = listRendesByType[i];\n        if (typeof listRender.properties.id != \"undefined\" && listRender.properties.id == renderKey ||\n        typeof listRender.properties.xpath != \"undefined\" && listRender.properties.xpath == renderKey) {\n          // Unregister element\n          self.rendersByType[render.properties.type].splice(i, 1);\n          break;\n        }\n      }\n    }\n  },\n  /*\r\n     * Method to access a render by id\r\n     */\n  getRenderById: function getRenderById(id) {\n    var self = this;\n\n    return self.rendersById[id];\n  },\n\n  getGridByColumn: function getGridByColumn(id) {\n    var self = this;\n    var grids = self.getRenderByType('grid');\n    var i = 0,columnIndex;\n\n    for (; i < grids.length; i++) {\n      columnIndex = grids[i].columnsIds.indexOf(id);\n      if (columnIndex != -1) {\n        return grids[i];\n      }\n    }\n\n    return null;\n  },\n\n  /*\r\n     *   Method to find all the renders matching an xpath inside the container\r\n     */\n  getRenders: function getRenders(xpath) {\n    var self = this;\n\n    // Remove [] filters for grid columns xpaths to fully identify the grid as the xpath target\n    if (xpath && xpath.indexOf)\n    if (xpath.indexOf(\"[\") > 0) {\n      xpath = xpath.substring(0, xpath.indexOf(\"[\"));\n    }\n\n    return self.rendersByXpathId[xpath] ?\n    self.rendersByXpathId[xpath] : self.rendersByXpath[xpath] ?\n    self.rendersByXpath[xpath] : [];\n  },\n  /**\r\n      * Get all render with the same type\r\n      */\n  getRenderByType: function getRenderByType(type) {\n    var self = this;\n\n    // Check that type is defined\n    if (typeof type == \"string\" && type.length > 0) {\n      // Search controls by type\n      return self.rendersByType[type] ? self.rendersByType[type] : [];\n    }\n    return [];\n  },\n\n  /*\r\n     *   Build the container html\r\n     */\n  renderContainer: function renderContainer() {\n    var self = this;\n    var properties = this.properties;\n    var template = self.renderFactory.getTemplate(\"form\");\n    var idCase = \"\";\n\n    // Render the form\n    // TODO: Unify markup of forms. Currently the template has validations to apply a different markup if it is \n    //a query form. In the future, all forms should have the same markup to minimize complexity. See form.tmpl.html.\n    var html = $.fasttmpl(template, {\n      buttons: self.buttons,\n      transitions: self.transitions,\n      uniqueId: properties.uniqueId,\n      helptext: properties.helpText,\n      mode: self.getMode(),\n      queryForm: self.getFormType() === \"queryForm\",\n      summaryForm: self.params.summaryForm || false,\n      globalForm: self.properties.displayAsReadOnly || false,\n      idCase: idCase,\n      displayName: self.params.displayName || idCase,\n      processPath: properties.processPath,\n      breadCrumb: properties.breadCrumb,\n      orientation: properties.orientation,\n      isEmpty: bizagi.util.isEmpty(self.children) && bizagi.util.isEmpty(self.transitions), // Sections and Gateway\n      allowQuickActions: self.useQuickActions // Quick actions\n    });\n\n    // Render children\n    html = self.replaceChildrenHtml(html, self.renderChildrenHtml());\n    return html;\n  },\n  /*\r\n     *   Process the html rendering object\r\n     */\n  postRenderContainer: function postRenderContainer(form) {\n    var self = this;\n    var mode = self.getMode();\n\n    // Add a mode class\n    form.addClass(\"ui-bizagi-rendering-mode-\" + mode);\n\n    // Call base\n    this._super(form);\n  },\n  /*\r\n     *   Template method to implement in each device to customize the container's behaviour to add handlers\r\n     */\n  configureHandlers: function configureHandlers() {\n    var self = this;\n    var complexGatewayContainer;\n    var form = self.container;\n\n    if (form.length > 1) {\n      $(form).each(function () {\n        if ($(this).hasClass('ui-bizagi-container-complexgateway')) {\n          complexGatewayContainer = this;\n        }\n      });\n    } else {\n      complexGatewayContainer = $(\".ui-bizagi-container-complexgateway\", form);\n    }\n\n    // activeTransitions is used to store ids of activities in Complex Gateway\n    self.activeTransitions = {};\n\n    // Process buttons\n    self.processButtons(form);\n\n    // Check for dom included event\n    self.bind(\"ondomincluded\", function (e, mainForm) {\n      var $canvas = self.getValidationsContainer(mainForm);\n\n      // Creates validation controller after the form is ready\n      self.validationController = new bizagi.command.controllers.validation(self, self.validations, $canvas);\n      // Creates action controller after the form is ready\n      self.actionController = new bizagi.command.controllers.action(self, self.actions);\n\n      // Resolve this deferred to start executing DOM dependant plugins\n      self.readyDeferred.resolve();\n    });\n\n    // Set events for complex gateway interface\n    $(complexGatewayContainer).find(\".ui-checkbox\").bind(\"click\", function () {\n      var checkboxLabel = $(\"label\", this);\n\n      var transitionId = checkboxLabel.data(\"value\") || \"\";\n      if (typeof self.activeTransitions[transitionId] == \"undefined\") {\n        self.activeTransitions[transitionId] = false;\n      }\n\n      if (bizagi.util.parseBoolean(checkboxLabel.data(\"checked\"))) {\n        // Uncheck element\n        checkboxLabel.removeClass(\"ui-checkbox-state-checked\");\n        checkboxLabel.removeClass(\"bz-check\").addClass(\"bz-full-ball\");\n        checkboxLabel.data(\"checked\", false);\n        self.activeTransitions[transitionId] = false;\n      } else {\n        // Check element\n        checkboxLabel.addClass(\"ui-checkbox-state-checked\");\n        checkboxLabel.addClass(\"bz-mo-icon\").addClass(\"bz-check\").removeClass(\"bz-full-ball\");\n        checkboxLabel.data(\"checked\", true);\n        self.activeTransitions[transitionId] = true;\n      }\n    });\n\n\n  },\n  /*\r\n     *   Template method to implement in each device to customize the render's behaviour when rendering in design mode\r\n     */\n  configureDesignView: function configureDesignView() {\n    var self = this;\n\n\n    // Check for dom included event\n    self.bind(\"ondomincluded\", function () {\n      // Resolve this deferred to start executing DOM dependant plugins\n      self.readyDeferred.resolve();\n    });\n  },\n  /*\r\n     *   Format form buttons to allow further customization\r\n     */\n  buildButtonStyle: function buildButtonStyle(button) {\n\n    var style = {};\n    if (button.format) {\n      if (button.format.size) {\n        if (button.format.size != \"0\") {\n          var newFontSize = 100 + Number(button.format.size) * 10 + \"%\";\n          style[\"font-size\"] = newFontSize + \" !important\";\n        }\n      }\n      if (button.format.bold) {\n        style[\"font-weight\"] = \"bold !important\";\n        if (bizagi.util.isIE()) {\n          style[\"font-family\"] = \"'Open Sans', 'Helvetica Neue', Arial, Helvetica, sans-serif !important\";\n        }\n      }\n      if (button.format.italic) {\n        style[\"font-style\"] = \"italic !important\";\n      }\n      if (button.format.underline || button.format.strikethru) {\n        var strikethru = bizagi.util.parseBoolean(button.format.strikethru) ? \"line-through \" : \"\";\n        var underline = bizagi.util.parseBoolean(button.format.underline) ? \"underline \" : \"\";\n        style[\"text-decoration\"] = strikethru + underline + \" !important\";\n      }\n      if (button.format.background) {\n        style[\"background-color\"] = button.format.background + \" !important\";\n        style[\"background-image\"] = \"none !important\";\n      }\n      if (button.format.color) {\n        style[\"color\"] = button.format.color + \" !important\";\n      }\n    }\n\n    var strStyle = \"\";\n    for (key in style) {\n      strStyle += key + \":\" + style[key] + \";\";\n    }\n    return strStyle;\n  },\n  /*\r\n     *   Returns the in-memory processed element\r\n     *   Returns a promise\r\n     */\n  render: function render() {\n    var self = this;\n\n    // Creates a deferred, so we can check when form has been included in dom\n    if (!self.readyDeferred)\n    self.readyDeferred = new $.Deferred();\n\n    // Call base\n    var result = this._super();\n\n    return result;\n  },\n  /*\r\n     *   Sets a promise that the form will be included in the DOM\r\n     *   so we can apply some tedious plugins that require that\r\n     */\n  ready: function ready() {\n    var self = this;\n\n    return self.readyDeferred.promise();\n  },\n  /*\r\n     *   Returns the xpath context of the element\r\n     */\n  getXpathContext: function getXpathContext() {\n    return this.properties.xpathContext || \"\";\n  },\n  /*\r\n     *  Return context type, when the parent form is entity\r\n     */\n  getContextType: function getContextType() {\n    return this.properties.contexttype || \"\";\n  },\n\n  /*\r\n     * Return the endpoint action, when the form will be refresh\r\n     */\n  getEndPointAction: function getEndPointAction() {\n    var self = this,\n    properties = self.properties;\n\n    if (properties.formtype == \"startform\")\n    return \"LOADSTARTFORM\";\n\n    return undefined;\n\n  },\n\n  /*\r\n     *   Returns the page cache id for the element\r\n     */\n  getPageCache: function getPageCache() {\n    return this.idPageCache;\n  },\n  /*\r\n     *   Returns the form containing the element\r\n     */\n  getFormContainer: function getFormContainer() {\n    return this;\n  },\n  /*\r\n     *   Method to process button actions in the form\r\n     */\n  processButtons: function processButtons() {\n    var self = this;\n    var buttons = self.getButtons();\n\n    // Don't process buttons if they are undefined in the template\n    if (!buttons || buttons.length === 0) return;\n\n    // Attach a handler for each button\n    buttons.on(\"click\", function (e) {\n      e.preventDefault();\n      e.stopImmediatePropagation();\n\n      self.startLoading();\n\n      var button = $(this);\n      var ordinal = button.attr(\"ordinal\");\n      var buttonProperties = self.buttons.find(function (btn) {\n        return btn.ordinal == ordinal;\n      });\n\n      self.lastActionButton = buttonProperties;\n      if (buttonProperties.action === \"next\") {\n        buttonProperties.routingDisabled = self.isRoutingDisabled;\n      }\n\n      // Disable button to prevent multiple click actions\n      button.prop(\"disabled\", true);\n\n      if (button.hasOwnProperty('disabled')) {\n        button.button(\"disable\"); // Setting styles\n      }\n\n      // External Events\n      self.propagateExternalEvents(e);\n\n      // Execute button\n      // QAF-1418 - add setTimeout\n      var timeOutButton = setTimeout(function () {\n        $.when(self.processButton(buttonProperties)).always(function () {\n          self.processDefer = undefined;\n          self.endLoading();\n          if ($.contains(document.documentElement, button.get(0))) {//check if button is still in DOM\n            button.prop(\"disabled\", false); //enable button\n\n            if (button.hasOwnProperty('enable')) {\n              button.button(\"enable\"); //Setting styles\n            }\n          }\n        });\n        clearTimeout(timeOutButton);\n      }, 100);\n    });\n  },\n  /*\r\n     * Execute codes just before sending information to server\r\n     */\n  preProcessButton: function preProcessButton(buttonProperties) {\n    return true;\n  },\n  /*\r\n     * Execute codes just after sending information to server\r\n     */\n  postProcessButton: function postProcessButton(responses, buttonProperties) {\n    return true; // true means continue\n  },\n\n  setLoaderDeferred: function setLoaderDeferred() {\n    var self = this;\n\n    self.loaderDeferred = $.Deferred().resolve();\n  },\n\n  deleteLoaderDeferred: function deleteLoaderDeferred() {\n    var self = this;\n\n    if (self.isLoaderDeferredSet()) {\n      $.when(self.loaderDeferred.promise()).done(function () {\n        delete self.loaderDeferred;\n      }).fail(function () {\n        delete self.loaderDeferred;\n      });\n    }\n  },\n\n  useOrSetLoaderDeferred: function useOrSetLoaderDeferred() {\n    var self = this;\n\n    if (!self.isLoaderDeferredSet()) {\n      self.setLoaderDeferred();\n    }\n  },\n\n  getLoaderPromise: function getLoaderPromise() {\n    var self = this;\n\n    if (self.isLoaderDeferredSet()) {\n      return self.loaderDeferred.promise();\n    } else {\n      return;\n    }\n  },\n\n  isLoaderDeferredSet: function isLoaderDeferredSet() {\n    var self = this;\n\n    if (self.loaderDeferred) {\n      return true;\n    } else {\n      return false;\n    }\n  },\n\n  appendWaitForLoader: function appendWaitForLoader(params) {\n    var self = this;\n    var promise = params.promise;\n    var create = params.create || false;\n\n    if (!self.isLoaderDeferredSet()) {\n      if (create) {\n        self.setLoaderDeferred();\n      } else {\n        return;\n      }\n    }\n\n    self.loaderDeferred = self.loaderDeferred.then(function () {\n      return function () {\n        return promise;\n      }();\n    });\n  },\n\n  getResolveOrReject: function getResolveOrReject() {\n    var self = this;\n    var deferred = $.Deferred();\n\n    if (self.isLoaderDeferredSet()) {\n      $.when(self.loaderDeferred.promise()).done(function () {\n        deferred.resolve();\n      }).fail(function () {\n        deferred.resolve();\n      });\n    } else {\n      deferred.resolve();\n    }\n\n    return deferred.promise();\n  },\n\n  /*\r\n     *   Executes a single button action\r\n     */\n  processButton: function processButton(buttonProperties) {\n    var self = this;\n    var defer = $.Deferred();\n    var properties = self.properties;\n    if (!buttonProperties.routing) {\n      bizagi.chrono.initAndStart(\"submitForm\");\n    }\n    bizagi.chrono.init(\"waiting\");\n\n    // First hide and clear validation box\n    self.validationController.clearValidationMessages();\n\n    // Resolve asynchronous tabItems\n    var form = self.getFormContainer();\n    var getAllTabs = form.getRenderByType(\"tabItem\");\n    var getAllTabsLength = getAllTabs.length;\n\n    form.innerTabsLoading = true;\n\n    self.useOrSetLoaderDeferred();\n\n    // Check\n    for (var i = 0; i < getAllTabsLength; i++) {\n      var render = getAllTabs[i];\n      // Resolve internal deferred\n      if (render.loadingDeferred && render.parent.container) {\n        render.loadingDeferred.resolve();\n      }\n    }\n\n    delete form.innerTabsLoading;\n\n    $.when(self.ready(), self.getResolveOrReject()).done(function () {\n      self.deleteLoaderDeferred();\n      // Validate the form\n      var valid = bizagi.util.parseBoolean(buttonProperties.validate) ? self.validationController.performValidations() : true;\n      if (valid) {\n\n        if ([\"save\", \"next\", \"back\", \"createnewcase\", \"nextWithoutValidations\"].includes(buttonProperties.action) && !self.isOfflineForm) {\n          $(document).data('auto-save', '');\n        }\n\n        // Check for user confirmation if configured and the button is configured to enroute\n        var confirmationStatus = self.getConfirmationStatus(properties, buttonProperties);\n\n        if (confirmationStatus.hasConfirmation) {\n          self.endLoading();\n          $.when(bizagi.showConfirmationBox(confirmationStatus.message, null, false)).done(function () {\n            // Submits the form\n            if (self.preProcessButton(buttonProperties)) {\n              //Trigger the event after ProcessButton\n              self.triggerGlobalHandler(\"renderActionButton\", buttonProperties);\n              $.when(self.submitForm(buttonProperties)).done(function () {\n                defer.resolve();\n              }).fail(function () {\n                defer.reject(arguments);\n              });\n            }\n          }).fail(function () {\n            defer.reject();\n          });\n\n        } else {\n          if (self.preProcessButton(buttonProperties)) {\n            //Trigger the event after ProcessButton\n            self.triggerGlobalHandler(\"renderActionButton\", buttonProperties);\n            $.when(self.submitForm(buttonProperties)).done(function () {\n              $(document).trigger(\"FORMACTION\", buttonProperties);\n              defer.resolve();\n            }).fail(function () {\n              defer.reject(arguments);\n            });\n          }\n        }\n\n      } else {\n\n        self.endLoading();\n        if (buttonProperties.submitData) {\n          $.when(self.submitData()).done(function () {\n            defer.reject();\n          });\n        } else {\n          defer.reject();\n        }\n\n        self.validationController.expandNotificationBox();\n      }\n\n      var customHandler = self.getCustomHandler(\"afterFormButtonClick\");\n      if (customHandler) {\n        customHandler(buttonProperties);\n      }\n    });\n\n    return defer.promise();\n  },\n  /*\r\n     *   Public method to perform validations externally\r\n     */\n  validateForm: function validateForm() {\n    var self = this;\n\n    // First hide and clear validation box\n    self.validationController.clearValidationMessages();\n\n    // Validate the form\n    return self.validationController.performValidations();\n  },\n  /*\r\n     *   Submits all the form to the server and returns a deferred to check when the process finishes\r\n     */\n  saveForm: function saveForm() {\n    var self = this;\n\n    // Avoid the execution of server actions for mobile offline\n    if (bizagi.util.isNativeMobileDevice() && !this.allowOnlineActions()) {\n      return $.when(function () {\n        return null;\n      });\n    }\n\n    // Collect data\n    var data = self.collectRenderValuesForSubmit();\n\n    // Check if there are deferreds to wait\n    var deferredsToWait = null;\n    if (data.deferreds) {\n      deferredsToWait = $.when.apply($, data.deferreds);\n      delete data.deferreds;\n    }\n\n    // Wait for deferreds\n    return $.when(deferredsToWait).pipe(function () {\n      self.startLoading();\n\n      var saveParams = {\n        action: \"SAVE\",\n        data: data,\n        idCase: self.params.idCase,\n        idWorkitem: self.params.idWorkitem,\n        xpathContext: self.properties.xpathContext,\n        idPageCache: self.properties.idPageCache,\n        isOfflineForm: self.isOfflineForm || false };\n\n\n      if (self.isOfflineForm) {\n        saveParams.offlineType = self.params.offlineType;\n      }\n\n      // Submit the form\n      return $.when(self.dataService.submitData(saveParams)).\n      always(function () {\n        self.endLoading();\n      });\n    });\n  },\n  removeCaseSyncError: function removeCaseSyncError() {\n    var editPromise = undefined;\n    if (!this.removeSyncErrorOnSubmit) return;\n    this.removeSyncErrorOnSubmit = false;\n    var offlineType = this.params.offlineType == \"task\" ? \"task\" : \"start\";\n    var editPromise = offlineType == \"start\" ? this.dataService.removeStartCaseSyncError(this.params) :\n    this.dataService.removeTaskCaseSyncError(this.params);\n    return editPromise;\n  },\n  /*\r\n     *   Creates a json array with key values to send to the server\r\n     */\n  submitForm: function submitForm(buttonProperties) {\n    var self = this;\n    var defer = $.Deferred();\n\n    $.when(self.isReadyToSave()).\n    then(function () {\n      if (self.isOfflineForm) {\n        $.when(self.removeCaseSyncError()).\n        then(\n        //Even if the removeSyncError promise fails the internalSubmit should be executed without break the promise chain\n        function () {return self.internalSubmitFormOffline(buttonProperties);},\n        function () {return self.internalSubmitFormOffline(buttonProperties);}).\n\n        then(function () {\n          defer.resolve();\n        }).fail(function () {\n          defer.reject(arguments);\n        });\n      } else\n      {\n        $.when(self.internalSubmitForm(buttonProperties)).\n        done(function () {\n          defer.resolve();\n        }).fail(function () {\n          defer.reject(arguments);\n        });\n      }\n    }).\n    fail(function () {\n      self.endLoading();\n      bizagi.log(\"The form is not saved, no changes were found\");\n      defer.reject();\n    });\n    return defer.promise();\n  },\n  checkWidgetsData: function checkWidgetsData() {\n    //\n  },\n  isComplexGatewayPainted: function isComplexGatewayPainted() {\n    return false;\n  },\n\n  /**\r\n      * Get last action button\r\n      * @returns {*}\r\n      */\n  getLastActionButton: function getLastActionButton() {\n    return this.lastActionButton;\n  },\n\n  /**\r\n      * Internal - Creates a json array with key values to send to the database\r\n      * @param {} buttonProperties\r\n      * @returns {}\r\n      */\n  internalSubmitFormOffline: function internalSubmitFormOffline(buttonProperties) {\n    var self = this;\n    var message = \"\";\n    var data;\n    var defer = $.Deferred();\n\n    if (self.isOfflineForm && self.properties && !self.properties.idPageCache) {\n      self.properties.idPageCache = \"\";\n    }\n\n    // Fill data hash\n    if (buttonProperties.submitData || buttonProperties.executeRule || buttonProperties.save) {\n      // Collect data\n      data = self.collectRenderValuesForSubmit();\n    } else {\n      // When the action is validate            \n      return;\n    }\n\n    var executeButtonAction = null;\n\n    // Start asynchronous operation\n    bizagi.loading.start();\n\n    // Prepare actions\n    if (buttonProperties.executeRule) {// When the button has to execute any rule (MUST SUBMIT DATA BEFORE ALWAYS)\n\n      // in offline this don't happend => Reset data because when an execute rule operation has been performed, it saved already all the data\n      if (data == undefined) {\n        data = {};\n      }\n\n      executeButtonAction = self.dataService.executeButton({\n        idRender: buttonProperties.id,\n        xpathContext: self.properties.xpathContext || \"\",\n        idPageCache: self.properties.idPageCache,\n        prepare: true });\n\n      executeButtonAction.tag = \"executeRule_\" + buttonProperties.id;\n    }\n\n    if (self.transitions) {\n      var transitions = [];\n      $.each(this.activeTransitions, function (key, value) {\n        value ? transitions.push(key) : \"\";\n      });\n\n      if (bizagi.util.countProps(transitions) == 0) {\n        bizagi.showMessageBox(\n        bizagi.localization.getResource(\"render-widget-complexgateway-path\"),\n        bizagi.localization.getResource(\"render-widget-complexgateway-error\"), \"info\", false);\n\n        self.endLoading();\n        return \"\";\n      }\n    }\n\n    var waitingDeferreds = [];\n    var deferredsToWait = null;\n\n    if (data && data.deferreds) {\n      deferredsToWait = $.when.apply($, data.deferreds);\n      waitingDeferreds.push(deferredsToWait);\n      delete data.deferreds;\n    }\n\n    // Assemble the actions\n    var actions = [];\n\n    if (executeButtonAction) {\n      actions.push(executeButtonAction);\n    }\n\n    $.when.apply($, waitingDeferreds).done(function () {\n      $.when(self.dataService.submitData({\n        action: buttonProperties.action,\n        data: data,\n        xpathContext: self.properties.xpathContext,\n        idPageCache: self.properties.idPageCache,\n        idForm: self.properties.id,\n        prepare: true,\n        transitions: transitions || \"\",\n        idCase: self.params.idCase,\n        idWorkitem: self.params.idWorkitem,\n        isOfflineForm: self.isOfflineForm || false,\n        offlineType: self.params.offlineType || \"\",\n        actions: actions })).\n      then(function (responses) {\n\n        if (!self.postProcessButton(responses, buttonProperties)) {\n          return;\n        }\n\n        //Offline action stored\n        var isSaveForDraft = self.params.offlineType !== \"task\" && buttonProperties.action === \"save\";\n        if (self.online && self.isOfflineFormsV2Supported && !isSaveForDraft) {\n          var syncDeferred = new $.Deferred();\n          var syncParams = $.extend({ deferred: syncDeferred }, self.params);\n          $(document).trigger(\"tryPushCase.offline\", syncParams);\n        }\n\n        //Backward comp\n        if (!self.isOfflineFormsV2Supported) {\n          $(document).trigger(\"tryPushData.offline\");\n        }\n\n        $.when(syncDeferred).\n        then(function (result) {\n          bizagi.loading.stop();\n          if (buttonProperties.routing) {\n            if (!self.online && self.isOfflineFormsV2Supported) {\n              self.triggerHandler(\"routing\", {\n                offlineAction: buttonProperties.action,\n                idCase: self.params.idCase,\n                idWorkitem: self.params.idWorkitem,\n                buttonPropertiesAction: buttonProperties.action,\n                radNumber: self.params.radNumber });\n\n            } else {\n              //Show toast synchronized\n              if (self.showToastOnSuccessSync) {\n                self.showToastOnSuccessSync = false;\n                bizagi.util.showMobileToast({\n                  type: \"success\",\n                  message: bizagi.localization.getResource(\"workportal-offline-sync-success\") });\n\n              }\n              self.triggerHandler(\"routing\", {\n                idCase: result.IdCase,\n                caseNumber: result.CaseNumber,\n                buttonPropertiesAction: buttonProperties.action });\n\n            }\n          } else {\n\n            //The case was not sync\n            if (!self.online && result == undefined) {\n              self.isOfflineRefreshWithEdition = true;\n            }\n            // After successfully response refresh the form\n            if (buttonProperties.refresh || result && result.shouldRefresh) {\n              self.refreshForm();\n            }\n            if (self.showToastOnSuccessSync && self.online) {\n              self.showToastOnSuccessSync = false;\n              bizagi.util.showMobileToast({\n                type: \"success\",\n                message: bizagi.localization.getResource(\"workportal-offline-save-and-sync-success\") });\n\n            } else {\n              var message = bizagi.localization.getResource(\"workportal-mobile-offline-form-successful\", \"Saved\");\n              bizagi.util.showNotification({ text: message, stop: false, type: \"success\" });\n            }\n          }\n          defer.resolve();\n        }).\n        fail(function (error) {\n          bizagi.loading.stop();\n          bizagi.util.recreateNativeButtons(self);\n          var message = bizagi.localization.getResource(\"workportal-mobile-offline-sync-fail\", \"Synchronization failed\");\n          bizagi.util.showNotification({ text: message, stop: false, type: \"error\" });\n          if ($.isArray(error)) {\n            var responses = error;\n            var bHasValidations;\n            var alertMessage = \"\";\n            $.each(responses, function (i, response) {\n              var propertiesToDisplayMessages = self.validationToDisplayMessages(bHasValidations, response.result.type, response.result.messages, alertMessage);\n              bHasValidations = propertiesToDisplayMessages.bHasValidations;\n              alertMessage = propertiesToDisplayMessages.alertMessage;\n            });\n            if (bHasValidations && alertMessage !== \"\") {\n              bizagi.modalError.show(alertMessage, 'workportal-general-word-information', false);\n            }\n          }\n          self.failHandler(error);\n          defer.reject(error);\n        });\n      }).fail(function (error) {\n        var message = bizagi.localization.getResource(\"workportal-mobile-offline-sync-fail\", \"Synchronization failed\");\n        bizagi.util.showNotification({ text: message, stop: false, type: \"error\" });\n        defer.reject(error);\n      });\n    });\n\n  },\n\n  /**\r\n      * To save handSignature or any filetype render after editting in offline mode\r\n      * @param {Array} data - RederValues from collecData() \r\n      */\n  partialSubmitFormOffline: function partialSubmitFormOffline(data) {\n    var self = this;\n    var defer = $.Deferred();\n\n    $.when(self.dataService.submitData({\n      action: \"save\",\n      data: data,\n      xpathContext: self.properties.xpathContext,\n      idPageCache: self.properties.idPageCache,\n      idForm: self.properties.id,\n      prepare: true,\n      transitions: \"\",\n      idCase: self.params.idCase,\n      idWorkitem: self.params.idWorkitem,\n      isOfflineForm: self.isOfflineForm || false,\n      offlineType: self.params.offlineType || \"\",\n      actions: [] })).\n\n    fail(function (error) {\n      var message = bizagi.localization.getResource(\"workportal-mobile-offline-form-fail\", \"Not saved\");\n      bizagi.util.showNotification({ text: message, stop: false, type: \"error\" });\n      defer.reject(error);\n    });\n\n    return defer.promise();\n  },\n\n  /*\r\n     *   Internal - Creates a json array with key values to send to the server\r\n     */\n  internalSubmitForm: function internalSubmitForm(buttonProperties) {\n    var self = this;\n    var defer = $.Deferred();\n    var data = {};\n\n    // Fill data hash\n    if (buttonProperties.submitData || buttonProperties.executeRule || buttonProperties.createnewcase || buttonProperties.back) {\n      // Collect data\n      data = self.collectRenderValuesForSubmit();\n    }\n\n    // Start asynchronous operation\n    $.when(self.startLoading()).done(function () {\n      $('html, body').animate({ scrollTop: $('.ui-bizagi-loading-icon') }, 'slow');\n    });\n\n    var submitDataAction = null;\n    var executeButtonAction = null;\n    var performAction = null;\n    var checkpointAction = null;\n    var commitAction = null;\n    var waitingDeferreds = [];\n    var deferredsToWait = null;\n\n    // Prepare actions\n    if (buttonProperties.executeRule) {// When the button has to execute any rule (MUST SUBMIT DATA BEFORE ALWAYS)\n\n      if (data.deferreds) {\n        deferredsToWait = $.when.apply($, data.deferreds);\n        waitingDeferreds.push(deferredsToWait);\n        delete data.deferreds;\n      }\n\n      submitDataAction = self.dataService.submitData({\n        action: \"SUBMITDATA\",\n        data: data,\n        xpathContext: self.properties.xpathContext,\n        idPageCache: self.properties.idPageCache,\n        prepare: true });\n\n      submitDataAction.tag = \"submitData\";\n\n      checkpointAction = self.prepareCheckpointAction(buttonProperties.id);\n\n      // Reset data because when an execute rule operation has been performed, it saved already all the data\n      data = {};\n      executeButtonAction = self.dataService.executeButton({\n        idRender: buttonProperties.id,\n        xpathContext: self.properties.xpathContext || \"\",\n        idPageCache: self.properties.idPageCache,\n        prepare: true });\n\n      executeButtonAction.tag = \"executeRule\";\n\n      commitAction = self.prepareCommitAction(buttonProperties.id);\n    }\n\n    if (buttonProperties.next || buttonProperties.back || buttonProperties.save || buttonProperties.createnewcase || buttonProperties.nextWithoutValidations) {\n      // Verify transitions\n      if (self.transitions) {\n        var transitions = [];\n        $.each(this.activeTransitions, function (key, value) {\n          value ? transitions.push(key) : \"\";\n        });\n\n        if (bizagi.util.countProps(transitions) == 0) {\n          bizagi.showMessageBox(bizagi.localization.getResource(\"render-widget-complexgateway-path\"), bizagi.\n          localization.getResource(\"render-widget-complexgateway-error\"), \"info\", false);\n          self.endLoading();\n          defer.reject();\n          return defer.promise();\n        }\n      }\n\n      if (data && data.deferreds) {\n        deferredsToWait = $.when.apply($, data.deferreds);\n        waitingDeferreds.push(deferredsToWait);\n        delete data.deferreds;\n      }\n\n\n      performAction = self.dataService.submitData({\n        action: self.getButtonAction(buttonProperties.action),\n        forcePlanCompletion: buttonProperties.forcePlanCompletion,\n        data: data,\n        xpathContext: self.properties.xpathContext,\n        idPageCache: self.properties.idPageCache,\n        prepare: true,\n        transitions: transitions || \"\",\n        contexttype: self.properties.contextType,\n        surrogatekey: self.properties.surrogateKey });\n\n      performAction.tag = \"performAction\";\n    }\n\n    // Assemble the actions\n    var actions = [];\n\n    if (executeButtonAction) {\n      actions.push(submitDataAction);\n      actions.push(checkpointAction);\n      actions.push(executeButtonAction);\n      actions.push(commitAction);\n    }\n\n    if (performAction) {\n      actions.push(performAction);\n    }\n\n    // Execute the batch\n    bizagi.chrono.initAndStart(\"submitForm-ajax\");\n\n\n    //Evaluate if there are deferreds to evaluate, like inline add in grid, that must send a ADDRELATIONWITHDATA before to savedata\n    var flowControlDeferred = new $.Deferred();\n    if (data && data.deferreds) {\n      $.when.apply(this, data.deferreds).\n      done(function (response) {\n        flowControlDeferred.resolve(response);\n      }).\n      fail(function () {\n        flowControlDeferred.reject();\n        console.log(\"Error: It was not possible resolve async actions on form \");\n      });\n    } else {\n      flowControlDeferred.resolve();\n    }\n\n    waitingDeferreds.push(flowControlDeferred);\n\n    $.when.apply($, waitingDeferreds).done(function () {\n      $.when(self.dataService.multiaction().execute({ actions: actions })).done(function (responses) {\n        bizagi.chrono.stop(\"submitForm-ajax\");\n        // End asynchronous operation\n        self.endLoading();\n        // Find validations\n        var bHasValidations;\n        var alertMessage = \"\";\n        $.each(responses, function (i, response) {\n\n          var propertiesToDisplayMessages = self.validationToDisplayMessages(bHasValidations, response.result.type, response.result.messages, alertMessage);\n          bHasValidations = propertiesToDisplayMessages.bHasValidations;\n          alertMessage = propertiesToDisplayMessages.alertMessage;\n\n        });\n\n        if (!bHasValidations) {\n          // Everything went ok .. succesfully response from the server\n          if (!self.postProcessButton(responses, buttonProperties)) {\n            return;\n          }\n\n          // After successfully response refresh the form\n          if (buttonProperties.refresh) {\n            self.refreshForm();\n          }\n\n          // If needs routing publish an event\n          if (buttonProperties.routing) {\n            bizagi.jqxhrList.abortAll(\"rendering_\" + self.dataService.guid);\n            self.triggerHandler(\"routing\", {\n              idCase: self.params.idCase,\n              routingDisabled: buttonProperties.routingDisabled });\n\n          }\n\n          // Create case\n          if (buttonProperties.createnewcase) {\n            if (responses.length > 0) {\n              bizagi.jqxhrList.abortAll(\"rendering_\" + self.dataService.guid);\n              self.triggerHandler(\"routing\", {\n                idCase: responses[0].result.IdCase,\n                caseNumber: responses[0].result.CaseNumber });\n\n            }\n          }\n        } else {\n          if (alertMessage !== \"\") {/*If there is an alertMessage show in a modal error*/\n            bizagi.modalError.show(alertMessage, 'workportal-general-word-information', false);\n          }\n          if (buttonProperties.executeRule) {\n            self.sendRollbackAction(buttonProperties.id);\n          }\n        }\n\n        defer.resolve();\n      }).fail(function (res, res2, response) {\n        if (buttonProperties.executeRule) {\n          self.sendRollbackAction(buttonProperties.id);\n        }\n\n        if (response && response.error && (response.error.errorType === \"WaitForCompletionPlanException\" ||\n        response.error.errorType === \"InvalidPlanStateException\" || response.error.errorType === \"CustomMessageException\")) {\n          self.endLoading();\n          $.when(bizagi.showConfirmationBox(bizagi.localization.getResource(response.error.message), null, false)).then(function () {\n            return $.when(self.internalSubmitForm($.extend({}, buttonProperties, { forcePlanCompletion: true })));\n          }).done(function () {\n            defer.resolve();\n          }).fail(function () {\n            defer.reject();\n          });\n        } else {\n          self.failHandler(response);\n          defer.reject(response);\n        }\n      });\n    });\n    return defer.promise();\n  },\n  validationToDisplayMessages: function validationToDisplayMessages(bHasValidations, messageType, message, alertMessage) {\n    var self = this;\n\n    if (messageType == \"validationMessages\") {\n      // Something went wrong, we gotta display messages in notifications grid\n      self.addValidationMessage(message);\n      bHasValidations = true;\n    }\n    if (messageType == \"alertMessages\") {\n      // Something went wrong, we gotta display alert message\n      if (alertMessage === \"\") {\n        alertMessage = message;\n      } else {\n        alertMessage = alertMessage + \"\\n\\n\" + message;\n      }\n\n      bHasValidations = true;\n    }\n\n    return { \"bHasValidations\": bHasValidations, \"alertMessage\": alertMessage };\n  },\n\n  /*\r\n     *   Add a validation message to the form\r\n     */\n  addValidationMessage: function addValidationMessage(validationMessage, focus, icon, itemAdditionalClass, autofocus, type) {\n    var self = this;\n\n    // Clean messages for mobile offline\n    if (bizagi.util.isNativeMobileDevice() && !this.allowOnlineActions())\n    this.clearValidationMessages();\n\n    if (!self.validationController) {\n      var $canvas = self.getValidationsContainer();\n      self.validationController = new bizagi.command.controllers.validation(self, undefined, $canvas);\n    }\n\n    if (typeof validationMessage == \"string\") {\n      self.validationController.showValidationMessage(validationMessage, focus, icon, itemAdditionalClass, type);\n    } else {\n      $.each(validationMessage, function (i, message) {\n        self.validationController.showValidationMessage(message, focus, icon, itemAdditionalClass, type);\n      });\n    }\n    self.validationController.expandNotificationBox(autofocus);\n  },\n  /*\r\n     *   Public method to perform validations externally\r\n     */\n  clearValidationMessages: function clearValidationMessages(params) {\n    var self = this;\n\n    // First hide and clear validation box\n    if (self.validationController) {\n      self.validationController.clearValidationMessages(params);\n    }\n\n  },\n  /*\r\n     *   Add an error message to the form\r\n     */\n  addErrorMessage: function addErrorMessage(errorMessage) {\n    var self = this;\n\n    // Clean messages for mobile offline\n    if (bizagi.util.isNativeMobileDevice() && !this.allowOnlineActions())\n    this.clearValidationMessages();\n\n    self.validationController.showErrorMessage(errorMessage);\n    self.validationController.expandNotificationBox();\n  },\n  /*\r\n     *   Refresh the current form\r\n     */\n  refreshForm: function refreshForm(focus) {\n    var self = this;\n    var properties = self.properties;\n    var deferred = $.Deferred();\n\n    focus = focus || self.getFocus();\n\n    // Normalize new focus structure if not present\n    if (focus && !focus.id) {\n      focus = {\n        id: focus };\n\n    }\n\n    var options = {\n      idCase: self.params.idCase || \"\",\n      idWorkitem: self.params.idWorkitem || \"\",\n      idTask: self.params.idTask || \"\",\n      focus: focus,\n      selectedTabs: self.getSelectedTabs(),\n      selectedSection: self.getSelectedSection(),\n      xpathContext: properties.xpathContext,\n      idPageCache: properties.idPageCache,\n      isRefresh: true,\n      contextType: self.getContextType() || \"\",\n      action: self.getEndPointAction(),\n      idStartScope: self.properties.idStartScope || \"\" };\n\n\n    if (self.isOfflineRefreshWithEdition) {\n      options.isEdited = true;\n      self.isOfflineRefreshWithEdition = false;\n    }\n\n    // Notify the refresh event so the consumer takes the decision about what to do\n    self.startLoading();\n    $.when(self.triggerHandler(\"refresh\", options)).done(function () {\n      deferred.resolve();\n    }).fail(function () {\n      deferred.reject();\n    }).always(function () {\n      self.endLoading();\n    });\n\n    return deferred.promise();\n  },\n  /*\r\n     *   Get opened tabs configuration\r\n     */\n  getSelectedTabs: function getSelectedTabs() {\n    var self = this;\n    var tabContainers = self.getElementsByType(\"tab\");\n    var tabs = $.map(tabContainers, function (tabContainer) {\n      return { tab: tabContainer.properties.id, selected: tabContainer.activeTab };\n    });\n    var selectedTabs = {};\n    for (var i = 0, length = tabs.length; i < length; i++) {\n      selectedTabs[tabs[i].tab] = tabs[i].selected;\n    }\n    return selectedTabs;\n  },\n\n  /**\r\n      * Get the actual section selected\r\n      */\n  getSelectedSection: function getSelectedSection() {\n    var params = this.getParams() || {};\n    return params.selectedSection;\n  },\n  /*\r\n     *   Template method to get the buttons objects\r\n     */\n  getButtons: function getButtons() {\n  },\n  /*\r\n     *   Adds an action on the fly to process the submit on change\r\n     */\n  addSubmitAction: function addSubmitAction(xpath, action) {\n    var self = this;\n    self.actionController.processInternalSubmitAction(xpath, action);\n  },\n  /**\r\n      *   Adds an overlay to the form, and sets a waiting message\r\n      *\r\n      *   @argument {bool} delay Apply delay\r\n      */\n  startLoading: function startLoading() {\n    var self = this;\n    var waitingTemplate = self.renderFactory.getTemplate(\"form-waiting\");\n\n    if (self.waitingOverlay && self.waitingMessage)\n    return;\n\n    // This hack is only for desktop\n    if (!bizagi.util.isTabletDevice()) {\n      // Detect canvas parent with scroll\n      var isSharePoint = self.params.context === \"sharepoint\";\n      var canvas = self.params.canvas;\n      if (isSharePoint) {\n        canvas = bizagi.util.scrollTop(canvas);\n\n        if (!!!canvas.context) {\n          canvas = $(\"body\", $(document));\n        }\n      } else {\n        canvas = $(\"body\", $(document));\n      }\n\n      // Configures overlay\n      var size = this.getSize();\n      var position = this.getOffset();\n      if (size.height == $(window).height()) {\n        position.top = 0;\n      }\n      self.waitingOverlay = $('<div class=\"ui-widget-overlay\" />').appendTo(canvas);\n      self.waitingMessage = $.tmpl(waitingTemplate).appendTo(canvas);\n      self.waitingOverlay.css({\n        \"height\": \"100%\",\n        \"width\": \"100%\",\n        \"min-height\": size.height,\n        \"min-width\": size.width });\n\n      self.waitingMessage.css({\n        \"top\": position.top + Math.ceil((size.height - self.waitingMessage.outerHeight()) / 2) + \"px\",\n        \"left\": Math.ceil((size.width - self.waitingMessage.outerWidth()) / 2) + \"px\" });\n\n      canvas.css(\"position\", \"relative\");\n\n    } else {\n      // Configures overlay\n      self.waitingOverlay = $('<div class=\"ui-widget-overlay\" />').appendTo(\"body\", $(document));\n      self.waitingMessage = $.tmpl(waitingTemplate).appendTo(\"body\", $(document));\n    }\n  },\n  /*\r\n     *   Removes the overlay and restores the form edition\r\n     */\n  endLoading: function endLoading() {\n    var self = this;\n    if (self.waitingOverlay && self.waitingMessage) {\n      self.waitingOverlay.remove();\n      self.waitingMessage.remove();\n      self.waitingOverlay = null;\n      self.waitingMessage = null;\n\n      var canvas = self.params.canvas;\n\n      if (canvas != undefined)\n      canvas.css(\"position\", \"\");\n    }\n  },\n  /*\r\n     *   Get the focused render in the current request\r\n     */\n  getFocusedElement: function getFocusedElement() {\n    var self = this;\n    return self.focus;\n  },\n  /*\r\n     *   Set the focused render in the current request\r\n     */\n  setFocusedElement: function setFocusedElement(focus) {\n    var self = this;\n    self.focus = focus;\n  },\n  /*\r\n     *   Publish a global event that the facade will replicate\r\n     */\n  triggerGlobalHandler: function triggerGlobalHandler(eventType, data) {\n    return this.triggerHandler(\"globalHandler\", { eventType: eventType, data: data });\n  },\n  /*\r\n     *   Generic handler to attach fail workflow for some operations\r\n     */\n  failHandler: function failHandler(error) {\n    var self = this;\n\n    // Check if the error is in multiaction format\n    try {\n      error = JSON.parse(error);\n    } catch (e) {\n    }\n\n    //This double validation has the purpose to get the real error object from two different levels ( error.error or error.error.error )\n    if (error && error.length && error.length > 1) error = error[0];\n    if (error.error) error = error.error;\n    if (error.error) error = error.error;\n\n    // Handle normal messages\n    if (_typeof(error) == \"object\" && error.message) {\n      if (error.errorType === \"WaitForCompletionPlanException\" || error.errorType === \"InvalidPlanStateException\" || error.errorType === \"CustomMessageException\") {\n        error = bizagi.localization.getResource(error.message);\n      } else {\n        error = error.message;\n      }\n\n    } else if (typeof error == \"string\") {\n      // Parse to json\n      try {\n        var errorJson = JSON.parse(error);\n        if (errorJson.errorType === \"WaitForCompletionPlanException\" || errorJson.errorType === \"InvalidPlanStateException\" || error.errorType === \"CustomMessageException\") {\n          errorJson.message = bizagi.localization.getResource(errorJson.message);\n        }\n        error = errorJson.message;\n      } catch (e) {\n      }\n    }\n\n    // Workflow engine error, we gotta show it with error\n    self.addErrorMessage(error);\n    self.endLoading();\n  },\n  /* \r\n     *   Resizes the element\r\n     */\n  resize: function resize(size) {\n    // Just save the size, for reference\n    this.setSize(size);\n  },\n  /*\r\n     *   Sets the internal size for the form\r\n     */\n  setSize: function setSize(size) {\n    this.size = size;\n  },\n  /*\r\n     *   Gets the internal size for the form\r\n     */\n  getSize: function getSize() {\n    if (this.size) {\n      return this.size;\n    }\n    var canvas = this.params.canvas ? this.params.canvas : this.getFormContainer().container;\n\n    var canvasWidth = canvas.width();\n    var canvasHeight = canvas.height();\n\n    return {\n      width: canvasWidth,\n      height: canvasHeight };\n\n  },\n  getOffset: function getOffset() {\n    var canvas = this.getFormContainer().container;\n\n    return canvas.offset();\n  },\n\n  /**\r\n      * This function execute action to save all data of render, but\r\n      * the server service dont execute any rule on the server\r\n      */\n  submitData: function submitData(args) {\n    var self = this;\n\n    // Avoid the execution of server actions for mobile offline\n    if (bizagi.util.isNativeMobileDevice() && !this.allowOnlineActions())\n    return;\n\n    // Collect data\n    var data = self.collectRenderValuesForSubmit();\n\n    // Check is offline form        \n    var isOfflineForm = bizagi.util.isOfflineForm({ context: self });\n    if (isOfflineForm && self.properties && !self.properties.idPageCache) {\n      self.properties.idPageCache = \"\";\n    }\n\n    // Mark data collected as original values\n    $.each(data, function (key, value) {\n      var renders = self.getRenders(key);\n      $.each(renders, function (i, render) {\n        render.updateOriginalValue();\n      });\n    });\n\n    // Don't do anything if there is no data\n    if ($.isEmptyObject(data)) {\n      self.isOfflineRefreshWithEdition = false;\n      return;\n    }\n\n    var waitingDeferreds = [];\n    var deferredsToWait = null;\n    var executeSubmitData = null;\n\n    if (data && data.deferreds) {\n      deferredsToWait = $.when.apply($, data.deferreds);\n      waitingDeferreds.push(deferredsToWait);\n      delete data.deferreds;\n    }\n\n    // Call the service\n    if (isOfflineForm) {\n      executeSubmitData = self.dataService.submitData({\n        action: self.isRefreshingAfterSync ? \"submitdata\" : \"save\",\n        data: data,\n        xpathContext: self.properties.xpathContext,\n        contexttype: self.properties.contexttype || \"\",\n        isOfflineForm: isOfflineForm,\n        offlineType: self.params.offlineType,\n        idCase: self.params.idCase,\n        idWorkitem: self.params.idWorkitem });\n\n    } else {\n      executeSubmitData = self.dataService.multiaction().submitData({\n        action: \"SUBMITDATA\",\n        data: data,\n        idPageCache: self.properties.idPageCache,\n        xpathContext: self.properties.xpathContext,\n        contexttype: self.properties.contexttype || \"\" });\n\n    }\n\n    return $.when.apply($, waitingDeferreds).then(function () {\n      return $.when(executeSubmitData).fail(function (message) {\n        message = self.processFailMessage(message);\n      });\n    });\n  },\n\n  /**\r\n      * This function send a request to the server to execute a rule\r\n      */\n  executeRule: function executeRule(args) {\n    var self = this;\n    var properties = self.properties;\n    var xpathContext = args.xpathContext;\n    var deferred = $.Deferred();\n\n    // Concat inheritance context\n    if (properties.xpathContext !== \"\") {\n      xpathContext = xpathContext !== \"\" ? properties.xpathContext + \".\" + xpathContext : properties.xpathContext;\n    }\n\n    // Perform the service\n    $.when(self.dataService.multiaction().executeRule({\n      idPageCache: properties.idPageCache,\n      rule: args.rule,\n      xpathContext: xpathContext,\n      contexttype: self.properties.contexttype || \"\" })).\n    done(function (message) {\n      var type = message && message.type ? message.type : \"\";\n      var form = self.getFormContainer();\n\n      // Check for validation messages\n      self.getFormContainer().clearValidationMessages({ clearOnlyServer: true });\n\n      if ([\"validationMessages\", \"alertMessages\"].includes(type)) {\n        if (type === \"alertMessages\") {\n          bizagi.modalError && bizagi.modalError.show(message.messages.join(\"\\n\\n\"), 'workportal-general-word-information', false);\n        } else {\n          form.addValidationMessage.apply(self, [message.messages, undefined, undefined, undefined, false, \"serverMessage\"]);\n        }\n\n        deferred.reject(message);\n      } else {\n        deferred.resolve(message);\n      }\n    }).fail(function (message) {\n      message = self.processFailMessage(message);\n      deferred.reject(message);\n    });\n\n    return deferred.promise();\n  },\n\n  /**\r\n      * This function send a request to the server to execute an interface\r\n      */\n  executeInterface: function executeInterface(args) {\n    var self = this;\n    var properties = self.properties;\n    var xpathContext = args.xpathContext;\n\n    if (properties.xpathContext != \"\") {\n      // Concat inheritance context\n      xpathContext = xpathContext != \"\" ? properties.xpathContext + \".\" + xpathContext : properties.xpathContext;\n    }\n\n    // Perform the service\n    return $.when(self.dataService.multiaction().executeInterface({\n      idPageCache: properties.idPageCache,\n      \"interface\": args[\"interface\"],\n      xpathContext: xpathContext,\n      contexttype: self.properties.contexttype || \"\" })).\n    done(function (message) {\n      // Check for validation messages\n      self.getFormContainer().clearValidationMessages();\n      if (message && message.type == \"validationMessages\") {\n        self.getFormContainer().addValidationMessage(message.messages);\n      }\n\n    }).fail(function (message) {\n      message = self.processFailMessage(message);\n    });\n  },\n\n  /**\r\n      * This function send a request to the server to execute an SAP connector\r\n      */\n  executeSAPConnector: function executeSAPConnector(args) {\n    var self = this;\n    var properties = self.properties;\n    var xpathContext = args.xpathContext;\n\n    if (properties.xpathContext != \"\") {\n      // Concat inheritance context\n      xpathContext = xpathContext != \"\" ? properties.xpathContext + \".\" + xpathContext : properties.xpathContext;\n    }\n\n    // Perform the service\n    return $.when(self.dataService.multiaction().executeSAPConnector({\n      idPageCache: properties.idPageCache,\n      guidsap: args.guidsap,\n      xpathContext: xpathContext,\n      contexttype: self.properties.contexttype || \"\" })).\n    done(function (message) {\n      // Check for validation messages\n      self.getFormContainer().clearValidationMessages();\n      if (message && message.type == \"validationMessages\") {\n        self.getFormContainer().addValidationMessage(message.messages);\n      }\n\n    }).fail(function (message) {\n      message = self.processFailMessage(message);\n    });\n\n  },\n\n  /**\r\n      * This function send a request to the server to execute an Connector\r\n      */\n  executeConnector: function executeConnector(args) {\n    var self = this;\n    var properties = self.properties;\n    var xpathContext = args.xpathContext;\n\n    if (properties.xpathContext != \"\") {\n      // Concat inheritance context\n      xpathContext = xpathContext != \"\" ? properties.xpathContext + \".\" + xpathContext : properties.\n      xpathContext;\n    }\n\n    // Perform the service\n    return $.when(self.dataService.multiaction().executeConnector({\n      idPageCache: properties.idPageCache,\n      guidConnector: args.guidConnector,\n      xpathContext: xpathContext,\n      contexttype: self.properties.contexttype || \"\" })).\n    done(function (message) {\n      // Check for validation messages\n      self.getFormContainer().clearValidationMessages();\n      if (message && message.type == \"validationMessages\") {\n        self.getFormContainer().addValidationMessage(message.messages);\n      }\n\n    }).fail(function (message) {\n      message = self.processFailMessage(message);\n    });\n\n  },\n\n  /**\r\n      * This function send a request to the server to execute an pipeline\r\n      */\n  executePipeline: function executePipeline(args) {\n    var self = this;\n    var properties = self.properties;\n    var xpathContext = args.xpathContext;\n\n    if (properties.xpathContext != \"\") {\n      // Concat inheritance context\n      xpathContext = xpathContext != \"\" ? properties.xpathContext + \".\" + xpathContext : properties.xpathContext;\n    }\n\n    // Perform the service\n    return $.when(self.dataService.multiaction().executePipeline({\n      idPageCache: properties.idPageCache,\n      pipeline: args.pipeline,\n      xpathContext: xpathContext,\n      contexttype: self.properties.contexttype || \"\" })).\n    done(function (message) {\n      // Check for validation messages\n      self.getFormContainer().clearValidationMessages();\n      if (message && message.type == \"validationMessages\") {\n        self.getFormContainer().addValidationMessage(message.messages);\n      }\n\n    }).fail(function (message) {\n      message = self.processFailMessage(message);\n    });\n  },\n\n  /*\r\n     *   Re-binds pending actions that could not be set because the renders did not exist when the form loaded\r\n     */\n  refreshActions: function refreshActions(actions) {\n    var self = this;\n    self.actionController.refreshActions(actions);\n  },\n  /***/\n  tryToExecuteFunction: function tryToExecuteFunction(xpath) {\n    if (this.getMode() == \"execution\") {\n      this.actionController && this.actionController.tryToExecuteFunction(xpath);\n    }\n  },\n  /*\r\n     *   Re-binds pending actions that could not be set because the renders did not exist when the form loaded\r\n     */\n  removeActions: function removeActions() {\n    var self = this;\n    self.actionController.unbindActions();\n  },\n  /*\r\n     *   Iterate through all renders and collect the data to send, then update original values for each render\r\n     */\n  collectRenderValuesForSubmit: function collectRenderValuesForSubmit(data) {\n    var self = this;\n    data = data || {};\n\n    // Collect data\n    self.collectRenderValues(data);\n\n    // Mark data collected as original values\n    $.each(data, function (key, value) {\n      var renders = self.getRenders(key);\n      $.each(renders, function (i, render) {\n        render.updateOriginalValue();\n      });\n    });\n\n    return data;\n  },\n\n  /**\r\n      *\r\n      * @param params {data, bRefreshForm,properties}\r\n      * @returns {*}\r\n      */\n  internalSubmitOnChange: function internalSubmitOnChange(params) {\n    params = params || {};\n    var self = this;\n    var properties = params.properties;\n    var defer = new $.Deferred();\n    var data = params.data || {};\n    var bRefreshForm = typeof params.bRefreshForm != \"undefined\" ? params.bRefreshForm : true;\n    var notCollect = params.notCollect ? params.notCollect : undefined;\n\n    // Collect data\n    if (!(notCollect && !$.isEmptyObject(data))) {\n      self.collectRenderValuesForSubmit(data);\n    }\n\n    self.startLoading();\n\n    var deferredsToWait = null;\n    if (data.deferreds) {\n      deferredsToWait = $.when.apply($, data.deferreds);\n      delete data.deferreds;\n    }\n\n    $.when(deferredsToWait).then(function () {\n      // Submit the form\n      self.dataService.multiaction().submitData({\n        action: \"SUBMITONCHANGE\",\n        data: data,\n        idRender: properties.id,\n        xpath: properties.xpath,\n        xpathContext: self.properties.xpathContext,\n        idPageCache: properties.idPageCache,\n        contexttype: properties.contexttype }).\n      done(function (response) {\n        // Cancel previous multiactions and process property value\n        self.cancelPreviousRequest();\n        // After successfully response refresh the form\n        self.endLoading();\n        // If response message has error in validation, do not refresh the form\n        // and show validation message\n        if (response && response.type == \"validationMessages\") {\n          if (typeof self.clearValidationMessages == \"function\") {\n            self.clearValidationMessages();\n          }\n\n          self.addValidationMessage(response.messages);\n          defer.resolve();\n        } else if (bRefreshForm) {\n          var focusIdentifier = {\n            id: properties.id,\n            xpath: properties.xpath };\n\n          if (properties.idCase !== undefined) {\n            $.extend(focusIdentifier, {\n              idCaseObject: bizagi.cache.idCaseObject });\n\n          }\n          if (response.IdScope) {\n            self.properties.idStartScope = response.IdScope;\n          }\n          $.when(self.refreshForm(focusIdentifier)).done(function () {\n            defer.resolve();\n          }).fail(function () {\n            defer.resolve();\n          });\n        } else {\n          defer.resolve();\n        }\n      }).fail(function (message) {\n        self.endLoading();\n        var objMessage = _typeof(message) == 'object' ? message.responseText ? JSON.parse(message.responseText) : message : {};\n        var strMessage = objMessage.message || message;\n        var type = objMessage.type || \"error\";\n\n        // Omit processing when the ajax didn't process\n        if (![\"not-processed\", \"not-shown\"].includes(type)) {\n          // Clear previous validations\n          self.validationController.clearValidationMessages();\n\n          if (objMessage.type === \"alert\") {\n            self.validationController.showAlertMessage(strMessage);\n          } else {\n            self.validationController.showErrorMessage(strMessage);\n          }\n        }\n\n        defer.resolve();\n      });\n    });\n\n    return defer.promise();\n  },\n\n  cancelPreviousRequest: function cancelPreviousRequest() {\n    if (bizagi.multiactionConnection && bizagi.multiactionConnection.length) {\n      var length = bizagi.multiactionConnection.length;\n      var i = 0,connection;\n      for (; i < length; i++) {\n        connection = bizagi.multiactionConnection.pop();\n        if (connection && connection.abort) {\n          bizagi.showErrorAlertDialog = false;\n          connection.abort();\n        }\n      }\n    }\n  },\n\n  prepareCheckpointAction: function prepareCheckpointAction(buttonId) {\n    var self = this;\n\n    var checkpointAction = self.dataService.sendCheckpoint({\n      url: self.properties.checkpointUrl,\n      idRender: buttonId,\n      xpath: \"\",\n      xpathContext: self.properties.xpathContext,\n      idPageCache: self.properties.idPageCache,\n      prepare: true });\n\n\n    checkpointAction.tag = \"checkpoint\";\n\n    return checkpointAction;\n  },\n\n  prepareCommitAction: function prepareCommitAction(buttonId) {\n    var self = this;\n\n    var commitAction = self.dataService.commitLinkForm({\n      url: self.properties.commitUrl,\n      idRender: buttonId,\n      xpath: \"\",\n      xpathContext: self.properties.xpathContext,\n      idPageCache: self.properties.idPageCache,\n      prepare: true });\n\n\n    commitAction.tag = \"commit\";\n\n    return commitAction;\n  },\n\n  sendRollbackAction: function sendRollbackAction(buttonId) {\n    var self = this;\n\n    self.dataService.rollbackLinkForm({\n      url: self.properties.rollbackUrl,\n      idRender: buttonId,\n      xpath: \"\",\n      xpathContext: self.properties.xpathContext,\n      idPageCache: self.properties.idPageCache });\n\n  },\n\n  dispose: function dispose() {\n    var self = this;\n    self.endLoading();\n\n    var timeOutController = setTimeout(function () {\n      if (self.params) {\n        delete self.params.canvas;\n      }\n      delete self.params;\n      delete self.control;\n      if (self.validationController) {\n        self.unbind(\"rendervalidate\");\n        delete self.validationController;\n      }\n\n      if (self.actionController) {\n        self.actionController.unbindActions();\n        delete self.actionController;\n      }\n      clearTimeout(timeOutController);\n    }, bizagi.override.disposeTime || 50);\n\n    // Call base\n    self._super();\n  },\n  getButton: function getButton(guid) {\n    return $(\".ui-bizagi-button[data-id='\" + guid + \"']\", this.container);\n  },\n\n  getFloatingButton: function getFloatingButton(guid) {\n    return $(\"li[data-id='\" + guid + \"']\", this.container);\n  },\n\n  propagateExternalEvents: function propagateExternalEvents(evt) {\n    // Menu-Overflow\n    var $menuOverflow = $(\".bz-overflow-menu\");\n    if ($menuOverflow)\n    $(document).trigger('click.overflow');\n\n    // ECM with preview image\n    var zoomIsOpen = $(\".jquery-image-zoom\") && $(\".jquery-image-zoom\").css(\"display\") == \"block\";\n\n    if (zoomIsOpen)\n    $(\"div.jquery-image-zoom a\").click();\n  },\n\n  getButtonAction: function getButtonAction(action) {\n    return this.allowValidateAndSaveAction && action === \"validate\" ? \"save\" : action;\n  },\n\n  /***/\n  isConnected: function isConnected() {\n    return true;\n  },\n\n  /**\r\n      * Add handlers to network management\r\n      */\n  configureNetworkHandlers: function configureNetworkHandlers() {\n    var self = this;\n    self.online = bizagi.util.isConnected();\n    if (self.isOfflineForm && bizagi.util.isMobileDevice() && (\"\" + BIZAGI_ENVIRONMENT).toLowerCase() === \"debug\") {\n      self.online = self.getParams().online;\n      console.log(\"CONNECTED: \", self.online);\n    }\n\n    // Update the online status based on connectivity\n    if (bizagi.util.isNativeMobileDevice() || bizagi.util.isMobileDevice() && (\"\" + BIZAGI_ENVIRONMENT).toLowerCase() === \"debug\") {\n      $(document).off(\"online.form\");\n      $(document).on(\"online.form\", this.handleConnectionChange.bind(self));\n\n      $(document).off(\"offline.form\");\n      $(document).on(\"offline.form\", this.handleConnectionChange.bind(self));\n\n      //Connection gained with form opened\n      $(document).off(\"offline-notify-form-sync-event\");\n      $(document).on(\"offline-notify-form-sync-event\", this.handleOfflineSyncEvent.bind(self));\n    }\n  },\n\n  /**\r\n      * Event handler\r\n      * @param event\r\n      */\n  handleConnectionChange: function handleConnectionChange(event) {\n    var form = this.getFormContainer();\n    if (bizagi.util.isMobileDevice() && (\"\" + BIZAGI_ENVIRONMENT).toLowerCase() === \"debug\") {\n      this.online = event.type === \"online\";\n    } else {\n      this.online = bizagi.util.isConnected();\n    }\n\n    // You lost connection.\n    if (event.type === \"offline\") {\n      form.triggerHandler(\"offlineForm\");\n    }\n\n    // You are now back online.\n    if (event.type === \"online\") {\n      form.triggerHandler(\"onlineForm\");\n    }\n  },\n\n  /**\r\n      * Push successful hanlder, refresh form and copy current work\r\n      */\n  handleOfflineSyncEvent: function handleOfflineSyncEvent(event, params) {\n    var self = this;\n    var formParams = self.params || {};\n    if (formParams.hasSyncError) {\n      return;\n    }\n    var offlineFormId = formParams.idCase + \"-\" + formParams.idWorkitem;\n    switch (params.type) {\n      case \"download-form-success\":\n        /**\r\n                                     * 1. Store current data in offline submit\r\n                                     * 2. Refresh form\r\n                                     * 3. Merge data using offline isEdited method\r\n                                     */\n        var paramsId = params.idCase + \"-\" + params.idWorkitem;\n        if (offlineFormId === paramsId) {\n          console.log(\"Form downloaded successfully. It will be refreshed\", params);\n\n          $.when(self.dataService.database.validateLocalDataForTaskExists(paramsId).then(function (dataResult) {\n            if (dataResult === true) {\n              self.isOfflineRefreshWithEdition = true;\n            }\n\n            $.when(self.refreshForm(null, false)).then(function () {\n              applySyncLoader(false);\n            });\n          }));\n        }\n        break;\n      case \"push-tasks-started\":\n        if (params.tasks != undefined && params.tasks[offlineFormId]) {\n          applySyncLoader(true);\n        }\n        break;\n      case \"push-tasks-error\":\n        applySyncLoader(false);\n        if (self.validationController != undefined) {\n          self.validationController.clearValidationMessages();\n          self.validationController.showErrorMessage(params.message);\n        }\n        break;\n      case \"fetch-tasks-started\":\n        if (params.tasks != undefined && params.tasks[offlineFormId]) {\n          applySyncLoader(true);\n        }\n        break;\n      case \"download-finished\":{\n          applySyncLoader(false);\n          break;\n        }\n      case \"download-error\":\n        applySyncLoader(false);\n        break;\n      default:\n        console.warn(\"Event hast not implementation in bizagi.rendering.form - handleOfflineSyncEvent\", params.type, params);\n        break;}\n\n\n    function applySyncLoader(isStart) {\n      var loaders = 3;\n      var proceed = false;\n      if (isStart) {\n        proceed = !(self.isSyncLoaderRunning === true);\n      } else\n      {\n        proceed = self.isSyncLoaderRunning === true;\n      }\n      if (proceed) {\n        self.isSyncLoaderRunning = isStart;\n        for (var loaderIndex = 0; loaderIndex < loaders; loaderIndex++) {\n          if (isStart) {\n            bizagi.loading.start();\n          } else\n          {\n            bizagi.loading.stop();\n          }\n        }\n      }\n    }\n  },\n\n  /**\r\n      * Check if allow to call the button actions\r\n      * @returns {boolean|*}\r\n      */\n  allowOnlineActions: function allowOnlineActions() {\n    if (typeof this.online === \"undefined\") return true;\n    return this.online || !this.online && this.isOfflineForm;\n  },\n\n  /**\r\n      * Method to process button actions in the form\r\n      * @param ordinal\r\n      */\n  processQuickButton: function processQuickButton(ordinal) {\n    var self = this;\n    var buttonProperties = self.buttons.find(function (btn) {\n      return btn.ordinal == ordinal;\n    });\n\n    if (buttonProperties) {\n\n      self.startLoading();\n\n      self.lastActionButton = buttonProperties;\n      if (buttonProperties.action === \"next\") {\n        buttonProperties.routingDisabled = self.isRoutingDisabled;\n      }\n\n      // Execute button - QAF-1418 - add setTimeout\n      setTimeout(function () {\n        $.when(self.processButton(buttonProperties)).always(function () {\n          self.processDefer = undefined;\n          self.endLoading();\n        });\n      }, 100);\n\n    }\n\n  },\n\n  /**\r\n      * Check if quick actions are configured\r\n      * @param data\r\n      * @param isEnable\r\n      * @returns {boolean}\r\n      */\n  hasQuickActions: function hasQuickActions(data, isEnable) {\n\n    if (!isEnable) return false;\n\n    return (data.buttons || []).some(function (item) {\n      var button = item.button.properties;\n      return button && button.type === \"quickactions\";\n    });\n\n  },\n\n  /**\r\n      * Perform validation container\r\n      * @param form\r\n      * @param mainForm\r\n      * @returns {*}\r\n      */\n  getValidationsContainer: function getValidationsContainer(mainForm) {\n    var form = this;\n    var formContainer = typeof mainForm !== \"undefined\" ? mainForm : form;\n\n    return formContainer.container;\n\n  },\n\n  /**\r\n      * Return if exist confirmation user and the message\r\n      * @param {*} formProperties \r\n      * @param {*} buttonProperties \r\n      */\n  getConfirmationStatus: function getConfirmationStatus(formProperties, buttonProperties) {\n    var hasButtonsConfirmation = bizagi.util.parseBoolean(buttonProperties.needsUserConfirmation) || false;\n    var buttonConfirmationMsg = buttonProperties.userConfirmationMessage || \"\";\n\n    var hasFormConfirmation = bizagi.util.parseBoolean(formProperties.needsUserConfirmation) && bizagi.util.parseBoolean(buttonProperties.routing);\n    var formConfirmationMsg = formProperties.userConfirmationMessage || \"\";\n\n    var messageConfirmation = hasButtonsConfirmation ? buttonConfirmationMsg : formConfirmationMsg;\n\n    return {\n      hasConfirmation: hasButtonsConfirmation || hasFormConfirmation,\n      message: messageConfirmation };\n\n  },\n\n  saveWorkInProgress: function saveWorkInProgress() {\n    var self = this;\n    var data = self.collectRenderValuesForSubmit();\n    if (!bizagi.util.isEmpty(data)) {\n      return self.dataService.submitData({\n        action: 'submitdata',\n        data: data,\n        xpathContext: self.properties.xpathContext,\n        idPageCache: self.properties.idPageCache,\n        idForm: self.properties.id,\n        prepare: true,\n        idCase: self.params.idCase,\n        idWorkitem: self.params.idWorkitem,\n        isOfflineForm: self.isOfflineForm || false,\n        offlineType: self.params.offlineType || \"\",\n        actions: [] });\n\n    } else {\n      return $.Deferred().resolve(undefined).promise();\n    }\n  },\n\n  /**\r\n      * Check if it is a start form\r\n      * @returns {*|boolean}\r\n      */\n  isStartForm: function isStartForm() {\n    var form = this.getFormContainer();\n    var formType = form && form.properties && form.properties.formtype || \"\";\n\n    return /startform/i.test(formType);\n  } });","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /**\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Name: Bizagi Render Combo Class\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Author: UI Forms Team\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Comments:\r\n                                                                                                                                                                                                                                                                                                                                                                                *   -   This script will define basic stuff for combo renders\r\n                                                                                                                                                                                                                                                                                                                                                                                */\n\n$.Class.extend(\"bizagi.rendering.combo\", {}, {\n\n  /*\r\n                                               *   Update or init the element data\r\n                                               */\n  initializeData: function initializeData(data) {\n    var self = this;\n\n    // Call base\n    self._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n\n    properties.hasLocalData = properties.data || false;\n    // TODO: Review additional value in radio control\n    properties.value = properties.value && properties.value.length > 0 ? properties.value[0] : properties.defaultValue && properties.defaultValue.length > 0 ? properties.defaultValue[0] : null;\n\n    if (typeof properties.enableTyping === \"undefined\") properties.enableTyping = true;\n    if (properties.value && properties.value.id === undefined) properties.value = null;\n    this.value = properties.value;\n\n    // Add empty node if configured\n    if (properties.hasLocalData) {\n      properties.data = this.complementData(properties.data);\n    }\n\n    // This line is to set a flag to fetch the data when rendering, or on demand, by default is false, overriding it on desktop implementation\n    properties.loadOnDemand = false;\n  },\n\n\n  /*\r\n     *   Template method to implement in each children to customize each control\r\n     */\n  renderControl: function renderControl() {\n    var self = this;\n    var params = {};\n    var renderType = bizagi.util.normalizeType(self.properties.type);\n\n    if (self.isDependant && self.properties && /^cascadingcombo$/i.test(renderType) && self.getParentCombo) {\n      var valueControl = self.getParentCombo().getValue();\n      if (valueControl && valueControl.id) {\n        params[self.Class.BA_ACTION_PARAMETER_PREFIX + \"parent\"] = valueControl.id;\n      }\n    }\n\n    return self.renderCombo(params);\n  },\n\n  /*\r\n     *   Renders the combo\r\n     */\n  renderCombo: function renderCombo(params) {\n    var self = this;\n    var properties = self.properties;\n\n    if (properties.loadOnDemand) {\n      // Render the combo without data\n      var html = self.renderComboTemplate();\n      return html;\n    } else {\n\n      // Set data promise \n      var defer = new $.Deferred();\n      var dataPromise = self.getData(params);\n\n      // Attach callback \n      $.when(dataPromise).done(function (data) {\n        // Render combo\n        var html = self.renderComboTemplate(data);\n        self.properties.data = data;\n        defer.resolve(html);\n\n      }).fail(function (data) {\n        var html = self.renderComboTemplate({});\n        defer.resolve(html);\n      });\n\n      // Returns a promise so we can hold post-render method until this is done\n      return defer.promise();\n    }\n  },\n\n  renderComboTemplate: function renderComboTemplate(data) {\n    var self = this;\n    var properties = self.properties;\n    var template = self.renderFactory.getTemplate(self.getTemplateName());\n    var emptyValue = bizagi.override.emptyLabelForCombo || self.getResource(\"render-combo-empty-selection\");\n    var value = properties.value ? \"\" : emptyValue;\n    data = data || self.properties.data || {};\n\n    if (self.properties.type === \"columnCombo\" && value === \"\" && _typeof(properties.value) === \"object\" && properties.value.id === \"\" && (properties.value.value === \"\" || properties.value.value === self.getResource(\"render-combo-empty-value\"))) {\n      value = self.getResource(\"render-combo-empty-selection\");\n    }\n\n    var html = $.fasttmpl(template, $.extend(self.getTemplateParams(), {\n      id: properties.id,\n      xpath: properties.xpath,\n      unique: bizagi.util.randomNumber(10000, 1000000),\n      idPageCache: properties.idPageCache,\n      items: data,\n      align: properties.valueAlign,\n      value: value,\n      editable: properties.editable }));\n\n\n\n    return html;\n  },\n\n\n  /*\r\n     *   Template method to implement in each device to customize each render after processed in read-only mode\r\n     */\n  postRenderReadOnly: function postRenderReadOnly() {\n    var self = this;\n    self._super();\n    var item = self.getValue();\n    var control = self.getControl();\n\n    if (self.control && self.control.parent()) {\n      self.control.parent().addClass(\"ui-bizagi-noneditable-\" + self.properties.displayType);\n    }\n    if (item) {\n\n      if (item.value != null && typeof item.value === \"boolean\") {\n        if (bizagi.util.parseBoolean(item.value) === true) {\n          item.value = this.getResource(\"render-boolean-yes\");\n\n        } else if (bizagi.util.parseBoolean(item.value) == false) {\n          item.value = this.getResource(\"render-boolean-no\");\n        }\n      }\n\n      // Returns the cached value from the properties to avoid server side fetching\n      if (self.getResource(\"render-combo-empty-value\") === item.value || self.getResource(\"render-combo-empty-selection\") === item.value) {\n        control.text(\"\");\n      } else {\n        control.html(\"<label class='readonly-control'>\" + self.formatItem(item.value) + \"</label>\");\n      }\n    } else {\n      // Render empty \n      control.text(\"\");\n    }\n  },\n\n  /*\r\n     *   Gets the template used by the combo render\r\n     *   can be overriden in subclasses to reuse logic and just change the template\r\n     */\n  getTemplateName: function getTemplateName() {\n    return \"combo\";\n  },\n\n  /*\r\n     *   Determines if we need to show the empty node or not\r\n     *   Can be overriden to change behaviour\r\n     */\n  showEmpty: function showEmpty() {\n    return true;\n  },\n\n  /*\r\n     *   Determines if we need to show the current data regardless if it belongs to data or not\r\n     *   Can be overriden to change behaviour\r\n     */\n  showCurrentData: function showCurrentData() {\n    return true;\n  },\n\n  /*\r\n     *   Fetch the data into a deferred\r\n     */\n  getData: function getData(params) {\n    var self = this;\n    var properties = self.properties;\n    var defer = new $.Deferred();\n    var mode = self.getMode();\n    var isOfflineForm = bizagi.util.isOfflineForm({ context: self });\n\n    // Just execute ajax calls when rendering in execution mode\n    if (mode !== \"execution\") return self.getDummyData();\n\n    if (properties.hasLocalData || isOfflineForm) {\n\n      // Resolve with local data    \n      defer.resolve(properties.data);\n\n    } else {\n      var renderType = bizagi.util.normalizeType(properties.type);\n\n      // Check if the data has been cached\n      if (properties.remoteDataLoaded && !/^cascadingcombo$/i.test(renderType)) {\n        defer.resolve(properties.data);\n      } else {\n        // Go to server\n        self.dataService.multiaction().getData({\n          url: properties.dataUrl,\n          xpath: properties.xpath,\n          idRender: properties.id,\n          xpathContext: properties.xpathContext,\n          idPageCache: properties.idPageCache,\n          extra: params,\n          contexttype: self.properties.contexttype || null }).\n        done(function (data) {\n\n          // Resolve the data\n          if (!properties.recalculate) {\n            properties.remoteDataLoaded = true;\n          }\n          properties.data = self.complementData(data);\n          defer.resolve(properties.data);\n\n        }).fail(function (data) {\n\n          var allowActions = true;\n          var form = self.getFormContainer();\n\n          if (bizagi.util.isNativeMobileDevice() && typeof form !== \"undefined\")\n          allowActions = form.allowOnlineActions();\n\n          if (data.type === \"not-processed\" && allowActions)\n          return;\n\n          // Show error from server\n          var msgObj = self.properties.displayName + \": \";\n\n          if (typeof data === \"string\") {\n            var auxMsg = JSON && JSON.parse(data) || $.parseJSON(data);\n          } else {\n            var auxMsg = data;\n          }\n\n          msgObj += auxMsg.message;\n\n          form.addValidationMessage(msgObj);\n\n          defer.reject(data);\n        });\n      }\n    }\n\n    return defer.promise();\n  },\n\n  /*\r\n     *   Creates a set of dummy data in order to display it when rendering in design or layout mode\r\n     */\n  getDummyData: function getDummyData() {\n    var self = this;\n    var properties = self.properties;\n    if (properties.data) {\n      return properties.data;\n\n    } else {\n      properties.data = [];\n      properties.data = self.complementData(properties.data);\n\n      // Add another data\n      properties.data.push({ id: \"\", value: \"Item 1\" });\n      properties.data.push({ id: \"\", value: \"Item 2\" });\n\n      return properties.data;\n    }\n  },\n\n  /*\r\n     *   Resets the data in order to fetch it again when needed\r\n     */\n  resetData: function resetData() {\n    var self = this;\n    var properties = self.properties;\n\n    properties.hasLocalData = false;\n    properties.data = null;\n    properties.remoteDataLoaded = false;\n  },\n\n  /* \r\n     *   Gets the display value of the render\r\n     */\n  getDisplayValue: function getDisplayValue() {\n    var self = this;\n\n    if (self.combo && self.combo.length > 0) {\n      // When there is a combo painted, we fetch the selected value from it\n      return self.getSelectedValue();\n    } else {\n      var displayValue = \"\";\n      var item = self.getValue();\n\n      if (item) {\n        // Check on cached propert from server first if the key exists\n        displayValue = self.formatItem(item.value);\n      }\n\n      return displayValue;\n    }\n  },\n\n\n  /*\r\n     *   Returns the selected value in the template\r\n     */\n  getSelectedValue: function getSelectedValue() {\n  },\n\n  /*\r\n     *   Adds custom parameters to process the template\r\n     */\n  getTemplateParams: function getTemplateParams() {\n    return {};\n  },\n\n  /**\r\n      * Formats value of each item\r\n      * @param {string, boolean or array} value\r\n      * @example\r\n      * value = \"string\" => \"string\"\r\n      * value = true => \"yes\" or \"si\", the localized value\r\n      * value = false => \"no\", the localized value\r\n      * value = [\"string 1\", \"string 2\"] => \"string 1 - string 2\"\r\n      * @returns {string}\r\n      */\n  formatItem: function formatItem(value) {\n\n    if (value !== undefined && value !== null) {\n      if ($.isArray(value)) {\n\n        for (var i = 0, length = value.length; i < length; i++) {\n          if (value[i] != null && typeof value[i] === \"boolean\") {\n            if (bizagi.util.parseBoolean(value[i]) === true) {\n              value[i] = this.getResource(\"render-boolean-yes\");\n            } else if (bizagi.util.parseBoolean(value[i]) === false) {\n              value[i] = this.getResource(\"render-boolean-no\");\n            }\n          }\n        }\n        return value.join(\" - \");\n      } else {\n        return value;\n      }\n    } else {\n      return \"\";\n    }\n  },\n\n  /*\r\n     *   Add the render data to the given collection in order to send data to the server\r\n     */\n  collectData: function collectData(renderValues) {\n    var self = this;\n    var properties = self.properties;\n\n    // Add the render value\n    var xpath = properties.xpath;\n    var value = self.getValue();\n\n    if (self.controlValueIsChanged()) {\n      // Filter by valid xpaths and valid values\n      // Remove empty validation for value for combos        \n      if (!bizagi.util.isEmpty(xpath) && value !== null && typeof value !== \"undefined\") {\n        // Add a validation because sometimes value contains an empty not null object\n        if (_typeof(value) === \"object\" && (value.id === undefined || value.id === \"\")) {\n          renderValues[properties.xpath] = \"\";\n        } else {\n          // Add the value to the server\n          renderValues[properties.xpath] = typeof value.id !== \"undefined\" ? value.id : \"\";\n        }\n      }\n    }\n  },\n\n  controlValueIsChanged: function controlValueIsChanged() {\n    var self = this;\n    var properties = self.properties;\n    var currentValue = self.getValue();\n    var originalValue = properties.originalValue;\n    var defaultValue = properties.defaultValue;\n\n    var result = true;\n\n    if ($.forceCollectData) {\n      return result;\n    }\n\n    currentValue = currentValue && currentValue.length !== undefined ? currentValue[0] : currentValue;\n    originalValue = originalValue && originalValue.length !== undefined ? originalValue[0] : originalValue;\n    defaultValue = defaultValue && defaultValue.length !== undefined ? defaultValue[0] : defaultValue;\n\n    currentValue = currentValue && currentValue.id !== undefined ? currentValue.id : currentValue;\n    originalValue = originalValue && originalValue.id !== undefined ? originalValue.id : originalValue;\n    defaultValue = defaultValue && defaultValue.id !== undefined ? defaultValue.id : defaultValue;\n\n    if (defaultValue !== undefined) {\n      if (defaultValue != originalValue || defaultValue != currentValue) {\n        result = true;\n      } else {\n        result = false;\n      }\n    } else {\n      result = currentValue != originalValue ? true : false;\n    }\n\n    return result;\n  },\n\n  /*\r\n     * Parses additional values info in order to format them correctly\r\n     */\n  parseAdditionalValues: function parseAdditionalValues(data) {\n    var self = this;\n\n    return $.map(data, function (item) {\n      var value = item.value ? self.formatItem(item.value) : item;\n      var newItem = { id: item.id, value: value };\n\n      if (item.hidden) newItem.hidden = true;\n      return item;\n    });\n  },\n\n  /*\r\n     *   Complement data from server before control implementation\r\n     */\n  complementData: function complementData(data) {\n    var self = this;\n    var properties = self.properties;\n\n    var bCurrentDataFound = false;\n    $.each(data, function (i, item) {\n\n      if (item.value !== undefined && item.value !== null) {\n        item.value = self.formatItem(item.value);\n        if (properties.value) {\n          if (item.id == properties.value.id) {\n            bCurrentDataFound = true;\n          }\n        }\n      } else {\n        item.value = \"\";\n      }\n    });\n\n    // Add empty node if configured\n    if (self.showEmpty()) {\n      var emptyFound = false;\n      for (var i = 0, length = data.length; i < length; i++) {\n        if (data[i].id === \"\") {\n          emptyFound = true;\n          break;\n        }\n      }\n\n      if (!emptyFound) {\n        var dataValue = bizagi.override.emptyLabelForCombo || bizagi.localization.getResource(\"render-combo-empty-value\");\n        data.unshift({ id: \"\", value: dataValue });\n      }\n    }\n\n    if (properties.value) {\n      if (!bCurrentDataFound && self.showCurrentData()) {\n        data.unshift({ id: properties.value.id, value: properties.value.value, hidden: true });\n      }\n    }\n\n    // Add additional value\n    return self.parseAdditionalValues(data);\n  },\n\n  /*\r\n     *   Check if a render has no value for required validation\r\n     */\n  hasValue: function hasValue() {\n    var self = this;\n    var currentValue = self.getValue();\n\n    if (bizagi.util.isEmpty(currentValue)) return false;\n    if (Object.prototype.toString.apply(currentValue) === \"[object Object]\" && (bizagi.util.isEmpty(currentValue.id) || currentValue.id == 0)) return false;\n\n    // Else\n    return true;\n  },\n\n  /*\r\n     * Cleans current data\r\n     */\n  cleanData: function cleanData() {\n    var self = this;\n    var value = { id: \"\", label: \"\" };\n\n    self.setDisplayValue(value);\n    self.setValue(value, false);\n  },\n\n  beforeToRefresh: function beforeToRefresh() {\n    this.column && !this.column.comboData && this.getData();\n  },\n\n  isExtraItem: function isExtraItem() {\n    var self = this;\n    var data = self.value || {};\n    var value = data.value || \"\";\n\n    return value === \"\" || value === self.getResource(\"render-combo-empty-selection\") || value === self.getResource(\"render-combo-empty-value\");\n  },\n\n  escapeValue: function escapeValue(value) {\n    if (bizagi.util.isString(value)) {\n      var valueToReturn = value.replaceAll(\"<\", \"&lt;\").replaceAll(\">\", \"&gt;\");\n      return valueToReturn;\n    } else {\n      return value;\n    }\n  },\n\n  /**\r\n      *  Maps the value, when this one comes from actions\r\n      * @param value\r\n      * @returns {*}\r\n      */\n  mapValue: function mapValue(value) {\n    if (value && value.fromAction) {\n      return {\n        id: value.value,\n        value: value.label,\n        label: value.label };\n\n    }\n\n    return value;\n  },\n\n  validateValue: function validateValue(value) {\n    if (value.id != undefined && (typeof value.id === \"number\" && value.id !== null || typeof value.id === \"string\" && value.id.length > 0)) {\n      if (value.value !== null && typeof value.value === \"boolean\") {\n        translated = true;\n        if (bizagi.util.parseBoolean(value.value) === true) {\n          value.value = bizagi.localization.getResource(\"render-boolean-yes\");\n        } else if (bizagi.util.parseBoolean(value.value) === false) {\n          value.value = bizagi.localization.getResource(\"render-boolean-no\");\n        }\n      } else if (value.value != null && _typeof(value.value) === \"object\") {\n        for (var i = 0, length = value.value.length; i < length; i++) {\n          if (value.value[i] != null && typeof value.value[i] === \"boolean\") {\n            if (bizagi.util.parseBoolean(value.value[i]) === true) {\n              value.value[i] = bizagi.localization.getResource(\"render-boolean-yes\");\n            } else if (bizagi.util.parseBoolean(value.value[i]) === false) {\n              value.value[i] = bizagi.localization.getResource(\"render-boolean-no\");\n            }\n          }\n        }\n      }\n    }\n\n    return value;\n  },\n\n  /**\r\n      * Finds an element in the combo data values by id\r\n      * @param {int} id\r\n      * @returns {Object}\r\n      */\n  findDataValueById: function findDataValueById(id) {\n    return (this.properties.data || []).find(function (e) {\n      return e.id == id;\n    });\n  } });","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /*\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Name: BizAgi Render Date Class\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Author: UI Forms Team\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Comments:\r\n                                                                                                                                                                                                                                                                                                                                                                                *   -   This script will define basic stuff for date renders\r\n                                                                                                                                                                                                                                                                                                                                                                                */\n\n$.Class.extend(\"bizagi.rendering.date\", {}, {\n  /*\r\n                                               *   Update or init the element data\r\n                                               */\n  initializeData: function initializeData(data) {\n    var self = this;\n    var ud = bizagi.util.dateFormatter;\n\n    // Call base\n    this._super(data);\n\n    // Fill default properties\n    var properties = self.properties;\n    var dateFormat = self.getResource(\"dateFormat\");\n    var timeFormat = self.getResource(\"timeFormat\");\n\n    // We will hold here the value to display\n    properties.displayValue = \"\";\n    properties.showTime = properties.showTime !== undefined ? bizagi.util.parseBoolean(properties.showTime) : false;\n    properties.dateFormat = properties.dateFormat || dateFormat;\n    properties.timeFormat = properties.timeFormat || timeFormat;\n    properties.fullFormat = properties.dateFormat;\n\n    // Check if it has the showtime property\n    if (properties.showTime) {\n      if (properties.fullFormat.search(/[h|H]+/gi) === -1) {\n        properties.fullFormat = properties.fullFormat + \" \" + properties.timeFormat;\n      }\n    }\n\n    // Read always parameter from server in invariant format\n    if (properties.value) {\n      var date = ud.getDateFromInvariant(properties.value, properties.showTime);\n      // Format date to current format\n      if (date != 0) {\n        // Value must always hold the value with invariant format\n        self.value = properties.value;\n        var datePickerRegional = bizagi.localization.getResource(\"datePickerRegional\");\n        properties.displayValue = bizagi.util.dateFormatter.formatDate(date, properties.fullFormat, datePickerRegional);\n      } else {\n        self.value = null;\n      }\n    }\n\n    // Fix dateFormat for datepicker\n    dateFormat = self.getDateFormat(properties.fullFormat);\n\n    var indexDateTimeSeparation = properties.fullFormat.substring(0, properties.fullFormat.indexOf(\":\")).lastIndexOf(\" \");\n    if (!properties.showTime)\n    properties.fullFormat =\n    indexDateTimeSeparation > 0 ? properties.fullFormat.substring(0, indexDateTimeSeparation) : properties.fullFormat;\n\n    properties.datePickerFormat = dateFormat.datePickerFormat;\n    properties.timePickerFormat = dateFormat.timePickerFormat;\n\n    self.i18n = bizagi.localization.getResource(\"datePickerRegional\");\n  },\n\n  /*\r\n      *   Template method to implement in each children to customize each control\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var properties = self.properties;\n    var template = self.renderFactory.getTemplate(\"date\");\n    var fullFormat = properties.fullFormat;\n\n    // Render template\n    var html = $.fasttmpl(template, {\n      showTime: properties.showTime,\n      value: properties.value,\n      editable: properties.editable,\n      dateFormat: bizagi.override && bizagi.override.uppercaseDatePlaceholder === true ? fullFormat.toUpperCase() : fullFormat,\n      rtl: properties.orientation == \"rtl\" });\n\n    return html;\n  },\n\n  /*\r\n      *   Template method to implement in each device to customize the render's behaviour to add handlers\r\n      */\n  configureHandlers: function configureHandlers(intHandler, isNow) {\n    var self = this;\n    var properties = self.properties;\n\n    // Set control references\n    var dateControl = self.getDateControl();\n    var timeControl = self.getTimeControl();\n\n    // Attach change event\n    dateControl.bind(\"change\", function () {\n      self.onChangeHandler();\n    });\n\n    if (properties.showTime) {\n      timeControl.bind(\"change\", function (e, isNow) {\n        if (self.updatingTime) {\n          delete self.updatingTime;\n          return;\n        }\n        self.onChangeHandler(isNow);\n      });\n    }\n  },\n\n  /*\r\n      *   Formats the date time value to the hidden control\r\n      */\n  onChangeHandler: function onChangeHandler() {\n  },\n\n  getDisplayValue: function getDisplayValue(value) {\n    var self = this;\n    var properties = self.properties;\n    var displayValue;\n\n    if (!properties.displayValue && value) {\n      var date = bizagi.util.dateFormatter.getDateFromInvariant(value, properties.showTime);\n      var datePickerRegional = bizagi.localization.getResource(\"datePickerRegional\");\n      displayValue = bizagi.util.dateFormatter.formatDate(date, properties.fullFormat, datePickerRegional);\n    } else {\n      displayValue = \"\";\n    }\n\n    // We can return the display value isntance\n    return properties.displayValue || displayValue || \"\";\n  },\n\n  /*\r\n      *   Add the render data to the given collection in order to send data to the server\r\n      */\n  collectData: function collectData(renderValues) {\n    var self = this;\n    var properties = self.properties;\n\n    // Add the render value\n    var xpath = properties.xpath;\n    var value = self.getValue();\n\n    if (self.controlValueIsChanged()) {\n      // Filter by valid xpaths and valid values\n      if (!bizagi.util.isEmpty(xpath)) {\n        if (!bizagi.util.isEmpty(value)) {\n          // Formats the value in full invariant (with time) in order to send to the server\n          var date = bizagi.util.dateFormatter.getDateFromInvariant(value, properties.showTime);\n          if (typeof date != \"undefined\")\n          if (date !== 0) {\n            if (!properties.showTime) {\n              date.setHours(0, 0, 0, 0);\n            }\n            renderValues[properties.xpath] = bizagi.util.dateFormatter.formatInvariant(date, true);\n          }\n        } else if (value === \"\") {\n          renderValues[properties.xpath] = \"\";\n        }\n      }\n    }\n  },\n\n  /*\r\n      *   Gets the date control\r\n      */\n  getDateControl: function getDateControl() {\n  },\n\n  /*\r\n      *   Gets the time control\r\n      */\n  getTimeControl: function getTimeControl() {\n  },\n\n  /*\r\n      * Public method to determine if a value is valid or not\r\n      */\n  isValid: function isValid(invalidElements) {\n    var self = this,\n    properties = self.properties;\n\n    // Call base\n    var bValid = this._super(invalidElements);\n    var value = self.getValue();\n    if (value) {\n      if (bizagi.util.parseBoolean(properties.editable) === true) {\n        value = self.getNormalizeDate(bizagi.util.dateFormatter.getDateFromInvariant(value, properties.showTime));\n        var message;\n\n        // Check that we have a valid data\n        if (value != 0) {\n          // Check min value\n          if (properties.minValue && (typeof properties.minValue === \"string\" || typeof properties.minValue == \"number\")) {\n            var minValue = self.getNormalizeDate(\n            typeof properties.minValue == \"string\" ?\n            bizagi.util.dateFormatter.getDateFromInvariant(properties.minValue, properties.showTime) :\n            new Date(properties.minValue));\n\n\n            if (value < minValue) {\n              message = this.getResource(\"render-date-minimum-validation\").\n              replaceAll(\"#label#\", properties.displayName).\n              replaceAll(\"#minValue#\", bizagi.util.dateFormatter.formatDate(minValue, properties.fullFormat));\n              invalidElements.push({\n                xpath: properties.xpath,\n                message: message });\n\n              bValid = false;\n            }\n          }\n\n          // Check max value\n          if (properties.maxValue && (typeof properties.maxValue == \"string\" || typeof properties.maxValue == \"number\")) {\n            var maxValue = self.getNormalizeDate(\n            typeof properties.maxValue == \"string\" ?\n            bizagi.util.dateFormatter.getDateFromInvariant(properties.maxValue, properties.showTime) :\n            new Date(properties.maxValue));\n\n\n            if (value > maxValue) {\n              message = this.getResource(\"render-date-maximum-validation\").\n              replaceAll(\"#label#\", properties.displayName).\n              replaceAll(\"#maxValue#\", bizagi.util.dateFormatter.formatDate(maxValue, properties.fullFormat));\n              invalidElements.push({\n                xpath: properties.xpath,\n                message: message });\n\n              bValid = false;\n            }\n          }\n        }\n      }\n    }\n    return bValid;\n  },\n\n  /**\r\n      * Translate standar date format to jquery date picker\r\n      * @property {string} format Control's date format\r\n      * @returns {JSON object} A JSON Object whith the date and time format\r\n      */\n  getDateFormat: function getDateFormat(format) {\n    var datePickerFormat = format;\n    var timePickerFormat = undefined;\n    var init;\n\n    if (format.search(\"h\") != -1 || format.search(\"H\") != -1) {\n      if (format.search(\"h\") != -1) {\n        init = format.search(\"h\");\n      } else {\n        init = format.search(\"H\");\n      }\n\n      datePickerFormat = format.substring(0, init - 1);\n      timePickerFormat = format.substr(init);\n    }\n\n    // Fix month\n    if (datePickerFormat.indexOf(\"MMMM\") >= 0) {\n      datePickerFormat = datePickerFormat.replaceAll(\"MMMM\", \"MM\");\n    } else if (datePickerFormat.indexOf(\"MMM\") >= 0) {\n      // Month name short\n      datePickerFormat = datePickerFormat.replaceAll(\"MMM\", \"M\");\n    } else if (datePickerFormat.indexOf(\"MM\") >= 0) {\n      // Month two digits\n      datePickerFormat = datePickerFormat.replaceAll(\"MM\", \"mm\");\n    } else if (datePickerFormat.indexOf(\"M\") >= 0) {\n      // Month one digits\n      datePickerFormat = datePickerFormat.replaceAll(\"M\", \"m\");\n    }\n\n    // Fix years\n    if (datePickerFormat.search(\"yyyy\") != -1) {\n      datePickerFormat = datePickerFormat.replaceAll(\"yyyy\", \"yy\");\n    } else {\n      if (datePickerFormat.search(\"yy\") != -1) {\n        datePickerFormat = datePickerFormat.replaceAll(\"yy\", \"y\");\n      }\n    }\n\n    datePickerFormat = datePickerFormat.replaceAll(\"dddd\", \"DD\"); // Fix days\n\n    return {\n      datePickerFormat: datePickerFormat,\n      timePickerFormat: timePickerFormat };\n\n  },\n\n  /*\r\n      *   Template method to implement in each device to customize each render after processed\r\n      */\n  postRender: function postRender() {\n    var self = this;\n    var properties = self.properties;\n    // Call base\n    this._super();\n    if (typeof properties.maxValue == \"undefined\")\n    properties.maxValue = \"12/31/\" + parseInt(new Date().getFullYear() + 200).toString() + \" 00:00:00\"; //Current year + 200 IE or 9999\n    if (typeof properties.minValue == \"undefined\")\n    properties.minValue = \"01/01/\" + parseInt(new Date().getFullYear() - 200).toString() + \" 00:00:00\"; //Current year - 200 IE or 1753 for SQL Server compat\n  },\n\n  /**\r\n      * Sets milliseconds to 0 in date\r\n      * @param {Date} date date to be treated\r\n      * @returns {Date} date converted with milliseconds 0\r\n      */\n  getNormalizeDate: function getNormalizeDate(date) {\n    var self = this;\n    if (date != 0 && date != null) {\n      if (!self.properties.showTime) {\n        date.setHours(0, 0, 0, 0);\n      } else date.setMilliseconds(0);\n    }\n    return date;\n  },\n\n  /**\r\n      * Configure the timeformat\r\n      */\n  getTimeFormat: function getTimeFormat(format) {\n    return format.replaceAll(\"m\", \"i\").replaceAll(\"tt\", \"A\");\n  },\n\n  /**\r\n      * Sets value to the control\r\n      * @param {Date} date date to asign\r\n      * @returns {}\r\n      */\n  setValueFromCalendarButtons: function setValueFromCalendarButtons(date) {\n    var self = this;\n    if (date) date = self.getNormalizeDate(date);else\n    {\n      value = null;\n      self.setValue(\"\");\n      self.setDisplayValue(\"\");\n    }\n  },\n\n  /*\r\n      *   Changes the render min value\r\n      */\n  changeMinValue: function changeMinValue(value) {\n    var self = this;\n    var properties = self.properties;\n    var ud = bizagi.util.dateFormatter;\n\n    // Set value in control\n    if (value && properties.editable) {\n      if (typeof value === \"number\") {\n        value = ud.formatInvariant(self.getNormalizeDate(new Date(value)), properties.showTime); // Set as invariant\n      } else {\n        value = self.getNormalizeDate(_typeof(value) === \"object\" ? value : ud.getDateFromInvariant(value, properties.showTime));\n        value = ud.formatInvariant(value);\n      }\n      properties.minValue = value;\n    }\n  },\n\n  /*\r\n      *   Changes the render max value\r\n      */\n  changeMaxValue: function changeMaxValue(value) {\n    var self = this;\n    var properties = self.properties;\n    var ud = bizagi.util.dateFormatter;\n\n    // Set value in control\n    if (value && properties.editable) {\n      if (typeof value === \"number\") {\n        value = ud.formatInvariant(self.getNormalizeDate(new Date(value)), properties.showTime); // Set as invariant\n      } else {\n        value = self.getNormalizeDate(_typeof(value) === \"object\" ? value : ud.getDateFromInvariant(value, properties.showTime));\n        value = ud.formatInvariant(value);\n      }\n      properties.maxValue = value;\n    }\n  } });","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /**\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Name: Bizagi Render Text Class\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Author: UI Forms Team\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Comments:\r\n                                                                                                                                                                                                                                                                                                                                                                                *   -   This script will define basic stuff for text renders\r\n                                                                                                                                                                                                                                                                                                                                                                                */\n\n$.Class.extend(\"bizagi.rendering.extendedText\", {}, {\n\n  /**\r\n                                                       * Update or init the element data\r\n                                                       * @param {} data\r\n                                                       */\n  initializeData: function initializeData(data) {\n    var self = this;\n\n    // Call base\n    self._super(data);\n\n    // Check if offline forms is supported\n    this.isOfflineForm = bizagi.util.isOfflineForm({ context: self });\n    this.hasMaxLines = this.properties.maxLines ? true : false;\n\n    // Fill default properties\n    var properties = this.properties;\n\n    // Fill default properties\n    properties.maxLines = this.properties.maxLines || 6;\n\n    if (properties.regularExpressionExpression) {\n      var message = properties.regularExpressionMessage || self.getResource(\"render-text-regular-expression-default-message\");\n\n      properties.regularExpression = { \"expression\": properties.regularExpressionExpression, \"message\": message };\n    }\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      */\n  renderControl: function renderControl() {\n    var template = this.renderFactory.getTemplate(\"extendedText\");\n\n    // Render template\n    var html = $.fasttmpl(template, {\n      isEmptyField: typeof this.properties.value === \"undefined\",\n      editable: this.properties.editable });\n\n\n    return html;\n  },\n\n  /**\r\n      * Template method to implement in each device to customize each render after processed\r\n      */\n  postRender: function postRender() {\n    var self = this;\n    self._super();\n\n    var control = self.getControl();\n    self.textarea = control.find(\"textarea\");\n\n    // If is textarea, then enable resize element.\n    if (self.textarea) {\n      self.textarea.css({ resize: \"both\" });\n    } else {\n      self.textarea.css({ resize: \"none\" });\n    }\n\n    // Attach event for retype double\n    if (self.properties.retype === \"double\")\n    self.attachRetypeDouble();\n  },\n\n  /**\r\n      * Function virtual implements on children (desktop,samrtphone...).\r\n      */\n  attachRetypeDouble: function attachRetypeDouble() {\n  },\n\n  /**\r\n      * Template method to implement in each device to customize the render's behaviour to add handlers\r\n      */\n  configureHandlers: function configureHandlers() {\n    var self = this;\n    var properties = self.properties;\n\n    // Set the default maxlength for the input if is 0 or undefined set to infinity\n    // this resolve issue with scope strings that don't have maxlength\n    if (properties.maxLength)\n    self.textarea.prop('maxlength', properties.maxLength);\n\n    if (properties.maxLines) {\n      self.textarea.prop('rows', properties.maxLines);\n    } else {\n      self.textarea.prop('rows', 6);\n    }\n\n    // Attach change event\n    self.textarea.bind(\"change\", function () {\n\n      // Updates internal value\n      self.setValue(self.textarea.val());\n\n      // Check that the value is valid\n      var validationMessages = [];\n      if (properties.retype !== \"duplicate\") {\n        if (self.isValid(validationMessages) || typeof properties.regularExpression === \"undefined\") {\n          // Update value again triggering handlers\n          self.setValue(self.textarea.val(), true);\n        } else {\n          // Set error message\n          var message = validationMessages[0].message;\n          bizagi.showMessageBox(message, \"Bizagi\", \"error\");\n        }\n      }\n    });\n\n    // Attach blur event\n    self.textarea.bind(\"blur\", function () {\n      // Updates internal value\n      self.setValue(self.textarea.val());\n    });\n  },\n\n  /**\r\n      * Public method to determine if a value is valid or not\r\n      * @param {} invalidElements\r\n      * @returns {}\r\n      */\n  isValid: function isValid(invalidElements) {\n    var self = this;\n    var properties = self.properties;\n    var message;\n\n    // Call base\n    var bValid = this._super(invalidElements);\n    var value = self.getValue();\n    var regEx = new RegExp(\".*?(<|\\\\u003C)(.+?)(>|\\\\u003E)(.?)|eval\\\\(|eval\\\\u0028\", \"g\");\n\n    // Offline capability\n    if (this.isOfflineForm && bizagi.util.isMobileDevice()) {\n      value = value && _typeof(value) === \"object\" && value.value ? value.value : value;\n    }\n\n    // Check regular expression\n    if (properties.regularExpression) {\n      if (properties.editable) {\n        if (value && (value.match(regEx) || !value.match(new RegExp(properties.regularExpression.expression)) && self.properties && self.properties.xpath === \"userName\")) {\n          message = properties.regularExpression.message;\n          invalidElements.push({ xpath: properties.xpath, message: message });\n          bValid = false;\n        } else {\n          if (value && (value.match(regEx) || !value.match(new RegExp(properties.regularExpression.expression)))) {\n            message = properties.regularExpression.message;\n            invalidElements.push({ xpath: properties.xpath, message: message });\n            bValid = false;\n          }\n        }\n      }\n    } else {\n      if (value && value.match(new RegExp(\".*?eval\\\\(\", \"g\")) && value.match(new RegExp(\".*?eval\\\\u0028\", \"g\"))) {\n        if (properties.editable) {\n          message = this.getResource(\"render-text-regular-expression-default-message\");\n          invalidElements.push({ xpath: properties.xpath, message: message });\n          bValid = false;\n        }\n      }\n    }\n\n    return bValid;\n  },\n\n  /**\r\n      * Sets the value in the rendered control\r\n      * @param {} value\r\n      * @returns {}\r\n      */\n  setDisplayValue: function setDisplayValue(value) {\n    var self = this;\n    var control = self.getControl();\n    var decodedValue = bizagi.util.decodeURI(value);\n\n    if (self.properties.editable == false) {\n      // Render as simple value\n      if (typeof value == \"string\") {\n\n        // Replace line breaks for html line breaks\n        var valueToDisplay = bizagi.util.encodeHtmlText(self.getDisplayValue());\n\n        control.html(valueToDisplay);\n      }\n    }\n\n    // Set internal value\n    self.setValue(decodedValue, false);\n  },\n\n  /**\r\n      * Add the render data to the given collection in order to send data to the server\r\n      * @param {} renderValues\r\n      * @returns {}\r\n      */\n  collectData: function collectData(renderValues) {\n    // Call base\n    this._super(renderValues);\n  },\n\n  /**\r\n      * Extend setValue to fix all encode data from database\r\n      * More information SUITE-9407\r\n      * @param {} value\r\n      * @returns {}\r\n      */\n  setValue: function setValue(value) {\n    var decodedValue = bizagi.util.decodeURI(value);\n\n    this._super(decodedValue);\n  },\n\n  /**\r\n      * Helptext tooltip\r\n      * @param {} control\r\n      * @param {} currentValue\r\n      * @param {} currentTitle\r\n      */\n  createTooltip: function createTooltip(control, currentValue, currentTitle) {\n    control.data(\"oldValue\", currentValue);\n    control.val(\"\");\n\n    if (control.data('ui-tooltip')) control.tooltip('destroy');\n\n    control.attr(\"title\", currentTitle);\n    control.tooltip();\n\n    var toolTipZindex = $.getMaxZindex();\n    control.tooltip().on(\"tooltipopen\", function (event, ui) {\n      ui.tooltip.zIndex(toolTipZindex);\n    });\n\n    // Create new tooltip\n    control.tooltip(\"open\");\n\n    var timeOutFocus = setTimeout(function () {\n      control.focus();\n      clearTimeout(timeOutFocus);\n    }, 100);\n  },\n\n  //#region No side effects functions\n  /**\r\n   * Gets the string with the correct size\r\n   * @param {string} value String value to validate\r\n   * @param {Int} maxLength Maximum size of the string\r\n   * @returns {string} String value validated\r\n   */\n  validateValue: function validateValue(value, maxLength) {\n    if (maxLength < 1 || value.length <= maxLength) return value;\n    return value.substr(0, maxLength);\n  }\n  //#endregion No side effects functions\n});","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /**\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Name: Bizagi Render Grid Class\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Author: UI Forms Team\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Comments:\r\n                                                                                                                                                                                                                                                                                                                                                                                *   -   This script will define basic stuff for grids\r\n                                                                                                                                                                                                                                                                                                                                                                                */\n\n$.Class.extend(\"bizagi.rendering.grid\", {}, {\n\n  /*\r\n                                               *   Update or init the element data\r\n                                               */\n  initializeData: function initializeData(data) {\n    var self = this;\n\n    // Call base\n    this._super(data);\n    self.originalProperties = bizagi.clone(data.properties);\n\n    // Fill default properties\n    var properties = this.properties;\n\n    self.initProperties();\n\n    // Set columns\n    var areThereEditableColumns;\n    var areThereTotalizedColumns;\n    self.columns = [];\n    self.columnsIds = [];\n    self.enabledChecks = {};\n    self.exclusiveChanges = {};\n    self.originalEnabledChecks = [];\n    $.each(data.elements, function (i, column) {\n      var columnProperties = column.render.properties;\n\n      // the groupby property is taken of column\n      if (columnProperties.groupBy) {\n        properties.groupBy = columnProperties.xpath || \"\";\n        properties.allowGrouping = !bizagi.util.isEmpty(properties.groupBy) ? true : false;\n      }\n\n      if (/columnBoolean/i.test(columnProperties.type) && columnProperties.isExclusive) {\n        properties.hasExclusiveCheck = true;\n        column.render.properties.required = false;\n        self.enabledChecks[columnProperties.xpath] = [];\n      }\n\n      // If inlineEdit is false then all columns must be read only\n      if (!self.properties.inlineEdit) {\n        column.render.properties.editable = false;\n      }\n\n      // Create renderColumns\n      var columnRender = self.renderFactory.getColumn({\n        type: columnProperties.type,\n        data: column.render,\n        parent: self,\n        singleInstance: properties.singleInstance });\n\n\n      self.columns.push(columnRender);\n      self.columnsIds.push(column.render.properties.id);\n\n      if (columnProperties.editable) {\n        areThereEditableColumns = true;\n      }\n\n      if (columnProperties.totalize && columnProperties.totalize.operation) {\n        areThereTotalizedColumns = true;\n\n        // Default summary format\n        columnProperties.totalize.format = columnProperties.totalize.format || {};\n        columnProperties.totalize.format.bold = columnProperties.totalize.format.bold !== undefined ? columnProperties.totalize.format.bold : true;\n      }\n    });\n\n    // Reverse columns when using right to left orientation\n    if (properties.orientation === \"rtl\")\n    self.columns = self.columns.reverse();\n\n    // Turn off inline edit if there are any editable columns        \n    if (properties.inlineEdit && !areThereEditableColumns) {\n      properties.inlineEdit = false;\n      properties.allowEdit = false;\n    }\n\n    // Check if the grid has totalizers\n    if (areThereTotalizedColumns) {\n      properties.showSummary = true;\n      properties.rowsPerPage = 0;\n    }\n  },\n\n  initProperties: function initProperties() {\n    var self = this;\n    var form = self.getFormContainer();\n    var properties = self.properties;\n\n    /** Edit properties\r\n                                       * @default editable true\r\n                                       * @default  allowAdd true\r\n                                       */\n    $.extend(properties, self.initEditabilityProperties(\n    properties.editable,\n    properties.allowEdit,\n    properties.inlineEdit,\n    properties.withEditForm),\n    self.initAddAndDeleteProperties(\n    properties.editable,\n    properties.allowAdd,\n    properties.inlineAdd,\n    properties.allowDelete));\n\n\n    /* Define details properties*/\n    properties.allowDetail = bizagi.util.parseBoolean(properties.allowDetail) != null ? bizagi.util.parseBoolean(properties.allowDetail) : false;\n    properties.isSortable = bizagi.util.parseBoolean(properties.isSortable) != null ? bizagi.util.parseBoolean(properties.isSortable) : true;\n\n    /* Define general properties */\n    properties.keyColumn = \"\";\n    properties.data = properties.data || null;\n    properties.displayType = \"value\";\n    properties.skipInitialLoad = properties.skipInitialLoad || false;\n    properties.allowMore = bizagi.util.parseBoolean(properties.allowMore) || false;\n    properties.allowFilter = bizagi.util.parseBoolean(properties.allowFilter) || false;\n    properties.allowGrouping = false;\n    properties.groupBy = \"\";\n    properties.groupSummary = properties.groupSummary || null;\n    properties.groupText = this.getResource(\"render-grid-group-text\");\n    properties.groupCollapsed = bizagi.util.parseBoolean(properties.groupCollapsed) || false;\n    properties.groupOrder = properties.groupOrder || \"asc\";\n    properties.formShowMode = bizagi.util.parseBoolean(properties.formShowMode) || \"popup\";\n    properties.floatingHeader = bizagi.util.parseBoolean(properties.floatingHeader) || false;\n\n    properties.sortBy = properties.sortBy ? properties.sortBy : properties.data && properties.data.sort ? properties.data.sort : properties.keyColumn;\n    properties.sortOrder = properties.sortOrder !== undefined && properties.sortOrder !== null ? properties.sortOrder === \"True\" ? \"asc\" : \"desc\" : properties.data && properties.data.order ? properties.data.order : \"asc\";\n    properties.sort = properties.sortBy + \" \" + properties.sortOrder;\n\n    properties.rowsPerPage = properties.allowGrouping ? 1000 : properties.rowsPerPage || 20;\n    properties.page = 1;\n    properties.records = 0;\n    properties.totalPages = 0;\n\n    properties.addLabel = properties.addLabel || $.trim(this.getResource(\"render-grid-add-label\")) + \" \" + properties.displayName;\n    properties.editLabel = properties.editLabel || $.trim(this.getResource(\"render-grid-edit-label\")) + \" \" + properties.displayName;\n    properties.deleteLabel = properties.deleteLabel || this.getResource(\"render-ecm-confirm-bt-delete\") + \" \" + properties.displayName;\n    properties.exportOptionsLabel = properties.exportOptionsLabel || this.getResource(\"render-grid-export-options-label\") + properties.displayName;\n    properties.detailLabel = properties.detailLabel || this.getResource(\"render-collection-navigator-details-form\");\n\n    // Apply style to entire table\n    properties.tableCssClass = properties.cssClass || \"\";\n\n    properties.alreadySaved = false;\n\n    // When grid open in modal window and the parent is entity\n    if (properties.contexttype != \"entity\") {\n      properties.contexttype = typeof self.parent.getContextType == 'function' ? self.parent.getContextType() : \"\";\n    }\n\n    // Define if it is editable or not        \n    /* This part change all cells in the table to no editable,\r\n     * you must use it when the parent container has noeditable property,\r\n     * so this table is noeditable too.\r\n     */\n    try {\n      if (self.parent && typeof self.parent.properties.editable == \"boolean\" && !self.parent.properties.editable || !properties.editable) {\n        properties.editable = false;\n        properties.allowEdit = false;\n        properties.inlineEdit = false;\n        properties.allowAdd = false;\n        properties.inlineAdd = false;\n        properties.allowDelete = false;\n      }\n    } catch (e) {\n    }\n\n    // If grid has not allowEdit property in true, all fields within the grid\n    // must be no editables, so these lines changes this behavior\n    if (!properties.allowEdit || !properties.inlineEdit && !properties.withEditForm) {\n      properties.editable = false;\n    }\n\n    // Calculate render width\n    properties.labelWidth = 0;\n    properties.valueWidth = \"100%\";\n\n    // This property will be used to make custom grids with another data source\n    properties.overrideGetRemoteData = properties.overrideGetRemoteData || undefined;\n    //this property use to create a single decorated or a array of decorated\n    properties.singleInstance = bizagi.util.isEmpty(properties.singleInstance) ? true : properties.singleInstance;\n\n    // Check if the grid its opened whitin dialog form and has contextType\n    properties.contextType = form.params && form.params.data && form.params.data.contextType ? form.params.data.contextType : null;\n\n    // Create a collection to collect changes\n    self.changes = {};\n\n    // Create a collection to override properties per cell\n    self.cellOverrides = {};\n\n    // Check orientation and change order of data if its necesary (rtl)\n    if (self.isRTL() && properties.data != null) {\n      properties.data.rows = self.changeOrderData(properties.data.rows);\n    }\n  },\n\n  initEditabilityProperties: function initEditabilityProperties(editable, allowEdit, inlineEdit, withEditForm) {\n    // Set default values\n    editable = bizagi.util.parseBoolean(editable) !== null ? bizagi.util.parseBoolean(editable) : true;\n    allowEdit = bizagi.util.parseBoolean(allowEdit) !== null ? bizagi.util.parseBoolean(allowEdit) : true;\n    inlineEdit = bizagi.util.parseBoolean(inlineEdit) !== null ? bizagi.util.parseBoolean(inlineEdit) : true;\n    withEditForm = bizagi.util.parseBoolean(withEditForm) !== null ? bizagi.util.parseBoolean(withEditForm) : false;\n\n    if (!editable) {\n      allowEdit = inlineEdit = withEditForm = false;\n    }\n\n    return {\n      editable: editable,\n      allowEdit: allowEdit,\n      inlineEdit: inlineEdit,\n      withEditForm: withEditForm };\n\n  },\n\n  initAddAndDeleteProperties: function initAddAndDeleteProperties(editable, allowAdd, inlineAdd, allowDelete) {\n    // Set default values\n    editable = bizagi.util.parseBoolean(editable) !== null ? bizagi.util.parseBoolean(editable) : true;\n    allowAdd = bizagi.util.parseBoolean(allowAdd) != null ? bizagi.util.parseBoolean(allowAdd) : true;\n    inlineAdd = bizagi.util.parseBoolean(inlineAdd) != null ? bizagi.util.parseBoolean(inlineAdd) : true;\n    // Define Delete \n    allowDelete = bizagi.util.parseBoolean(allowDelete) != null ? bizagi.util.parseBoolean(allowDelete) : true;\n\n    if (!allowAdd) {\n      inlineAdd = false;\n    }\n\n    if (!editable) {\n      allowAdd = inlineAdd = allowDelete = false;\n    }\n\n    return {\n      allowAdd: allowAdd,\n      inlineAdd: inlineAdd,\n      allowDelete: allowDelete };\n\n  },\n\n  /*\r\n     *   Check if a render has no value for required validation\r\n     */\n  hasValue: function hasValue() {\n    return this.properties.data && this.properties.data.rows.length > 0;\n  },\n\n  isRTL: function isRTL() {\n    var properties = this.properties;\n    if (!properties) return true;\n    return typeof properties.orientation == \"string\" && properties.orientation.toUpperCase() == \"RTL\" ? true : false;\n  },\n\n  changeOrderData: function changeOrderData(data) {\n    var reverseDataRows = [];\n    var rows = data || [];\n    var rowKey;\n\n    $.each(rows, function (key, value) {\n      // Extract row key\n      rowKey = value.shift();\n      reverseDataRows = value.reverse();\n      // add element in the start\n      reverseDataRows.unshift(rowKey);\n\n      rows[key] = reverseDataRows;\n    });\n\n    return rows;\n  },\n\n  /**\r\n      * Specific fix RTL with localizated\r\n      * @param data\r\n      * @returns {*|Array}\r\n      */\n  removeRemainingColumns: function removeRemainingColumns(data, numColumns) {\n    var rows = data || [];\n    var remainingColumns = 0;\n    if (rows.length > 0) {\n      // \"- 1\" because the first column represent id row\n      remainingColumns = rows[0].length - numColumns - 1;\n    }\n    if (remainingColumns > 0) {\n      $.each(rows, function (key, value) {\n        // Remove remaining columns\n        for (var i = 0; i < remainingColumns; i++) {\n          value.pop();\n        }\n      });\n    }\n    return rows;\n  },\n\n  /* \r\n      *   Gets a column definition by xpath\r\n      */\n  getColumn: function getColumn(xpath) {\n    var self = this;\n    var result = null;\n    $.each(self.columns, function (i, column) {\n      if (\n      column.properties.xpath == xpath ||\n      column.properties.id == xpath ||\n      column.properties.xpath + \".\" + column.properties.id == xpath)\n      {\n        result = column;\n      }\n    });\n\n    return result;\n  },\n\n  getColumnType: function getColumnType(id) {\n    var self = this;\n    var columnIndex = self.columnsIds.indexOf(id);\n\n    if (columnIndex != -1) {\n      return self.columns[columnIndex].properties.type;\n    }\n\n    return null;\n  },\n\n  /*\r\n      *   Template method to implement in each children to customize each control\r\n      *   Returns a promise that will be resolved when all the columns has been loaded\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var properties = this.properties;\n    var defer = new $.Deferred();\n\n    // Set dummy data when not in execution mode\n    var mode = self.getMode();\n    if (mode !== \"execution\") {\n      properties.data = self.getDummyData();\n    }\n\n    var template = self.getGridTemplate();\n\n    // Render template\n    var html = self.applyTemplate(template);\n\n    // Initialize columns\n    var columnInitializers = [];\n    $.each(self.columns, function (i, column) {\n\n      // Add to column initializer array so we can synch out the promises\n      var result = column.initialize();\n      if (result)\n      columnInitializers.push(result);\n    });\n\n    // Resolve when all columns has been loaded\n    $.when.apply($, columnInitializers).done(function () {\n      defer.resolve(html);\n    });\n\n    return defer.promise();\n  },\n  /*\r\n      *   Template method to implement in each device to customize each render after processed\r\n      */\n  postRender: function postRender() {\n    var self = this;\n    var control = self.getControl();\n\n    // Call base\n    this._super();\n\n    // Make control to behave as a block container\n    // TODO: Move to instances. This does not apply to mobiles\n    control.addClass(\"ui-bizagi-render-grid-container\").\n    addClass(\"ui-bizagi-render-display-block\");\n  },\n\n  /*\r\n      *   Returns the grid template to be used\r\n      */\n  getGridTemplate: function getGridTemplate() {\n    return this.renderFactory.getTemplate(\"grid\");\n  },\n\n  /*\r\n      *   Applies the template to the render and returns the resolved element\r\n      */\n  applyTemplate: function applyTemplate(template) {\n    var self = this,\n    properties = self.properties;\n    orientation = self.properties.orientation;\n\n    return $.fasttmpl(template, {\n      id: bizagi.util.encodeXpath(properties.xpath),\n      displayName: bizagi.util.encodeXpath(properties.displayName),\n      allowAdd: properties.allowAdd,\n      addLabel: properties.addLabel });\n\n  },\n  /*\r\n      *   Method to render non editable values\r\n      *   Returns a promise that will be resolved when all the columns has been loaded\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    var self = this;\n\n    // Override read-only presets\n    //  properties.allowAdd = false;\n    // Render the same, just change some presets\n    return self.renderControl();\n  },\n  /*\r\n      *   Fetch the data into a deferred\r\n      */\n  getRemoteData: function getRemoteData(params) {\n    var self = this;\n    var properties = self.properties;\n\n    // Set params\n    params = params || {};\n    $.extend(params, {\n      url: properties.dataUrl,\n      xpath: properties.xpath,\n      idRender: properties.id,\n      xpathContext: properties.xpathContext,\n      contexttype: properties.contextType,\n      idPageCache: properties.idPageCache,\n      sort: properties.sortBy,\n      order: properties.sortType,\n      page: properties.page,\n      rows: properties.rowsPerPage,\n      searchFilter: properties.searchFilter,\n      orientation: properties.orientation || \"ltr\" });\n\n\n    // Check if a custom method has been given\n    if (properties.overrideGetRemoteData) {\n      return properties.overrideGetRemoteData(params);\n    } else {\n      // Resolve with remote data\n      return self.dataService.multiaction().getGridData(params).then(function (data) {\n        self.originalProperties = self.originalProperties || {};\n        self.originalProperties.data = bizagi.clone(data);\n\n        // Resolve with fetched data\n        properties.page = data.page;\n        properties.records = data.records;\n        properties.totalPages = data.totalPages;\n\n        return data;\n      }).fail(function (error) {\n        console.error(error.message || \"Error\");\n      });\n    }\n  },\n  /*\r\n      insert a blank item in the selected column in the data matrix\r\n      */\n  spliceRowData: function spliceRowData(data, index) {\n    var self = this;\n    var mode = self.getMode();\n    if (mode === \"execution\" && data && data.rows) {\n      $.each(data.rows, function (key, value) {\n        var spliceIndex = index || data.rows[key].length;\n        data.rows[key].splice(spliceIndex, 0, \"\");\n      });\n    }\n  },\n\n  spliceRowDataVisible: function spliceRowDataVisible(data, index) {\n    var self = this;\n    var mode = self.getMode();\n    if (mode === \"execution\" && data && data.visible) {\n      $.each(data.visible, function (key, value) {\n        var spliceIndex = index || data.visible[key].length;\n        data.visible[key].splice(spliceIndex, 0, true);\n      });\n    }\n  },\n\n  spliceRowDataEditable: function spliceRowDataEditable(data, index) {\n    var self = this;\n    var mode = self.getMode();\n    if (mode === \"execution\" && data && data.editable) {\n      $.each(data.editable, function (key, value) {\n        var spliceIndex = index || data.editable[key].length;\n        data.editable[key].splice(spliceIndex, 0, true);\n      });\n    }\n  },\n\n  /*\r\n      *   Creates a set of dummy data in order to display it when rendering in design or layout mode\r\n      */\n  getDummyData: function getDummyData() {\n    var self = this;\n    var properties = self.properties;\n    if (properties.data) {\n      return properties.data;\n\n    } else {\n      var rowTemplate = [\"1\"];\n\n      // Add a value for each column\n      for (var i = 0; i < self.columns.length; i++) {\n        rowTemplate.push(\"\");\n      }\n\n      var data = {\n        \"page\": 1,\n        \"total\": 1,\n        \"records\": 1,\n        \"rows\": [rowTemplate] };\n\n\n      return data;\n    }\n  },\n  /*\r\n      *   Submits a grid edit record request for the given id\r\n      *   Returns a deferred\r\n      */\n  submitEditRequest: function submitEditRequest(id) {\n    var self = this,\n    properties = self.properties;\n\n    var xpath = properties.xpath + self.buildCellXpathFilter(id);\n\n    return self.dataService.editGridRecord({\n      url: properties.editUrl,\n      idRender: properties.id,\n      xpath: xpath,\n      xpathContext: properties.xpathContext,\n      idPageCache: properties.idPageCache,\n      contexttype: properties.contextType });\n\n  },\n  /*\r\n      *   Submits a grid edit record request for the given id\r\n      *   Returns a deferred\r\n      */\n  submitSaveRequest: function submitSaveRequest(id, data) {\n    var self = this,\n    properties = self.properties;\n\n    // Check if there are deferreds to wait\n    var deferredsToWait = null;\n    if (data.deferreds) {\n      deferredsToWait = $.when.apply($, data.deferreds);\n      delete data.deferreds;\n    }\n\n    // Calculate xpath context\n    var xpathContext = properties.xpathContext.length > 0 ? properties.xpathContext + \".\" + properties.xpath + self.buildCellXpathFilter(id) : properties.xpath + self.buildCellXpathFilter(id);\n\n    return $.when(deferredsToWait).pipe(function () {\n      self.startLoading();\n      return self.dataService.saveGridRecord({\n        url: properties.saveUrl,\n        idRender: properties.id,\n        xpath: properties.xpath,\n        xpathContext: xpathContext,\n        submitData: data,\n        contexttype: properties.contextType,\n        disableServerGridValidations: data.disableServerGridValidations || false }).\n      pipe(function (dataResp) {\n        self.endLoading();\n        return dataResp;\n      }).fail(function (dataFail) {\n        var form = self.getFormContainer();\n        var message = dataFail.responseText ? dataFail.responseText : typeof dataFail == \"string\" ? dataFail : dataFail.toString();\n        //Convert String to object\n        if (typeof message == \"string\") {\n          try {\n            message = JSON.parse(message).message;\n          } catch (e) {\n            message = message.match(/\"message\":(.*)\",/)[0];\n            message = message.substr(11, message.length - 13);\n          }\n\n        } else if (!message.message) {\n          message = dataFail;\n        }\n        form.validateForm();\n        form.clearValidationMessages();\n        form.addValidationMessage(message);\n      });\n    });\n  },\n  /*\r\n      *   Submits a grid delete record request for the given id\r\n      *   Returns a deferred\r\n      */\n  submitDeleteRequest: function submitDeleteRequest(id) {\n    var self = this,\n    properties = self.properties;\n\n    var xpath = properties.xpath + self.buildCellXpathFilter(id);\n\n    return self.dataService.deleteGridRecord({\n      url: properties.deleteUrl,\n      idRender: properties.id,\n      xpath: xpath,\n      xpathContext: properties.xpathContext,\n      idPageCache: properties.idPageCache,\n      contexttype: properties.contextType }).\n    pipe(function (data) {\n      if (data.type == \"validationMessages\") {\n        var form = self.getFormContainer();\n        var message = data.messages.join(\" \");\n        form.failHandler({ message: message });\n      }\n\n      return data;\n    });\n  },\n  /*\r\n      *   Submits a grid add record request\r\n      *   Returns a deferred when done, the server returns an id for the new record\r\n      */\n  submitAddRequest: function submitAddRequest() {\n    var self = this,\n    properties = self.properties;\n\n    var request = self.dataService.addGridRecord({\n      url: properties.addUrl,\n      idRender: properties.id,\n      xpath: properties.xpath,\n      xpathContext: properties.xpathContext,\n      contexttype: properties.contextType,\n      idPageCache: properties.idPageCache });\n\n\n    var filterResponse = request.pipe(function (data) {\n      // Parses response\n      return data.idEntity;\n    });\n\n    return filterResponse.promise();\n  },\n  /*\r\n      *   Submits a grid rollback request\r\n      *   Returns a deferred when done\r\n      */\n  submitRollbackRequest: function submitRollbackRequest(params) {\n    var self = this,\n    properties = self.properties;\n\n    return self.dataService.rollbackGridAction({\n      url: properties.rollbackUrl,\n      idRender: properties.id,\n      xpath: properties.xpath,\n      xpathContext: properties.xpathContext,\n      idPageCache: params ? params.idPageCache : properties.idPageCache,\n      contexttype: self.properties.contexttype || \"\" });\n\n  },\n  /**\r\n      * Collect a single cell change made in the grid to send the data when the user saves the form\r\n      * @param params\r\n      */\n  collectGridChange: function collectGridChange(params) {\n    var self = this;\n    params = params || {};\n    var id = params.id;\n    var dataType = params.dataType;\n    var xpath = params.xpath;\n    var value = params.value;\n    var trigger = typeof params.trigger !== \"undefined\" ? params.trigger : true;\n    var isPressed = params.pressed || false;\n    var renderType = dataType && bizagi.util.normalizeType(dataType);\n\n    self.changes[id] = self.changes[id] || {};\n\n    if (/^columnsearch$/i.test(renderType) && value && typeof value.id !== \"undefined\") {\n      self.changes[id][xpath] = value.id;\n    } else {\n      self.changes[id][xpath] = value;\n    }\n\n    if (trigger) {\n      self.triggerRenderChange({ key: id, column: xpath, pressed: isPressed });\n    }\n  },\n  /*\r\n      *   Configures a column to perform a submit on change when the user changes a cell\r\n      */\n  configureColumnSubmitOnChange: function configureColumnSubmitOnChange(xpath) {\n    var self = this;\n    var properties = self.properties;\n\n    // Build action\n    var action = {\n      commands: [{\n        xpath: properties.xpath,\n        command: 'submit-value',\n        argument: 'all' }],\n\n      conditions: {\n        operator: 'and',\n        expressions: [\n        {\n          simple: {\n            operator: 'cell-change',\n            xpath: properties.xpath + '[].' + xpath,\n            argumentType: 'text',\n            argument: xpath } }] },\n\n\n\n\n      dependencies: [properties.xpath] };\n\n\n    // Add action when form ends its rendering\n    $.when(self.ready()).\n    done(function () {\n      var form = self.getFormContainer();\n      form.addSubmitAction(xpath, action);\n    });\n  },\n  /*\r\n      *   Add the render data to the given collection in order to send data to the server\r\n      */\n  collectData: function collectData(renderValues) {\n    var self = this;\n    var properties = self.properties;\n    var keysToDelete = [];\n\n    if (self.exclusiveChanges) {\n      //Add filter to parse all checks in tru to false. DON'T CHANGE CODE ORDER\n      for (var xpath in self.exclusiveChanges) {//Brings the xpath columns with changes\n        var columnExclusiveChanges = self.exclusiveChanges[xpath];\n        var columnEnabledChecks = self.enabledChecks[xpath];\n        if (columnExclusiveChanges && columnEnabledChecks) {\n          // If there are any change, its needed to include as a change the filter to set all rows in false\n          var xpathExclusiveFilter = properties.xpath + \"[\" + xpath + \"=true].\" + xpath;\n          renderValues[xpathExclusiveFilter] = false;\n        }\n      }\n    }\n\n    for (var id in self.changes) {\n      // Dont collect data from totalizers \n      if (id != \"summary\") {\n        for (var columnXpath in self.changes[id]) {\n          // Check if the render can submit data\n          if (self.canColumnBeSent(id, columnXpath)) {\n            var xpath = properties.xpath + self.buildCellXpathFilter(id) + \".\" + columnXpath;\n            var value = self.changes[id][columnXpath];\n\n            renderValues[xpath] = value;\n          }\n        }\n      }\n\n      // Clean changes \n      keysToDelete.push(id);\n\n    }\n    //If any exclusive check is true, set the new value in renderValues. DON'T CHANGE CODE ORDER\n    if (self.exclusiveChanges) {\n      for (var xpath in self.exclusiveChanges) {//Brings the xpath columns with changes\n        var columnExclusiveChanges = self.exclusiveChanges[xpath];\n        var columnEnabledChecks = self.enabledChecks[xpath];\n        if (columnExclusiveChanges && columnEnabledChecks) {\n          var checkedObject = self.exclusiveChanges[xpath];\n          if (checkedObject && checkedObject.value) {\n            var columnSimpleXpathEnabled = properties.xpath + self.buildCellXpathFilter(checkedObject.key) + \".\" + xpath;\n            renderValues[columnSimpleXpathEnabled] = checkedObject.value;\n          }\n        }\n      }\n    }\n\n    // Clean changes array in order to prevent duplicate data\n    // when execute SUBMITDATA in multiaction, that make and error\n    // in circular dependencies, specially when we add inline record\n    $.each(keysToDelete, function (key, v) {\n      delete self.changes[v];\n    });\n  },\n\n  hasChanged: function hasChanged(result) {\n    var self = this;\n    if (!$.isEmptyObject(self.changes)) {\n      result.push(true);\n      return true;\n    } else {\n      if (!$.isEmptyObject(self.exclusiveChanges)) {\n        result.push(true);\n        return true;\n      } else {\n        return false;\n      }\n    }\n  },\n\n  /*\r\n      *   Check if a column data can be sent to the server\r\n      */\n  canColumnBeSent: function canColumnBeSent(id, columnXpath) {\n    var self = this,i,j,xpath;\n    for (i in self.columns) {\n      if (self.columns.hasOwnProperty(i)) {\n        var column = self.columns[i];\n        if (column.properties.type !== \"columnUserfield\") {\n          if (column.properties.xpath == columnXpath) {\n            var cellOverride = self.getCellOverride(id, column.columnIndex - 1);\n            return column.canBeSent(id, cellOverride);\n          }\n        } else {\n          for (j in column.properties) {\n            if (column.properties.hasOwnProperty(j)) {\n              if (Object.prototype.toString.apply(column.properties[j]) === \"[object String]\") {\n                xpath = column.properties[j].substr(column.properties[j].lastIndexOf(\".\") + 1);\n                if (xpath === columnXpath) {\n                  return true;\n                }\n              }\n            }\n          }\n        }\n\n      }\n    }\n\n    return false;\n  },\n  /* \r\n      *  Method to determine if the render value can be sent to the server or not\r\n      */\n  canBeSent: function canBeSent() {\n    var self = this;\n    var properties = self.properties;\n    var displayOnly = bizagi.util.parseBoolean(properties.displayOnly) || false;\n\n    // The render can be sent if it is \"display only\" and inline Edit is available\n    if (!displayOnly && (properties.inlineEdit || properties.inlineAdd || !$.isEmptyObject(self.changes))) {\n      return true;\n    }\n    return false;\n  },\n  /*\r\n      *   Return the value for a requested cell\r\n      */\n  getCellValue: function getCellValue(key, xpath) {\n    var self = this;\n    var data = self.properties.data.rows;\n    for (var i = 0; i < data.length; i++) {\n      if (data[i][0] == key) {\n        for (var j = 0; j < self.columns.length; j++) {\n          if (self.columns[j].properties.xpath == xpath) {\n            var result = data[i][j + 1];\n            return result;\n          }\n        }\n      }\n    }\n    return null;\n  },\n  /*\r\n      *\r\n      */\n  getCellCurrentValue: function getCellCurrentValue(key, xpath) {\n    var self = this;\n\n    var control = self.getControlCell(key, xpath);\n    if (control && typeof control.getValue === \"function\") {\n      return control.getValue();\n    }\n    return null;\n  },\n  /*\r\n      *   Gets control\r\n      */\n  getControlCell: function getControlCell(key, xpath) {\n    var self = this;\n    var control = null;\n    if (typeof self.columns != \"undefined\")\n    for (var j = 0; j < self.columns.length; j++) {\n      if (\n      self.columns[j].properties.xpath == xpath ||\n      self.columns[j].properties.id == xpath ||\n      self.columns[j].properties.xpath + \".\" + self.columns[j].properties.id == xpath)\n      {\n        control = self.columns[j].getDecorated(key);\n        break;\n      }\n    }\n\n\n    return control;\n  },\n\n  changeRequired: function changeRequired(argument) {\n    this.properties.required = argument;\n    this.changeRequiredLabel(argument);\n  },\n\n  changeRequiredLabel: function changeRequiredLabel(argument) {\n    var control = this.getControl();\n\n    if (control.length > 0) {\n      if (this.getMode() !== \"execution\") {\n        if (bizagi.util.parseBoolean(argument) == true && this.properties.editable) {\n          control.addClass(\"grid-control-required\");\n        } else {\n          control.removeClass(\"grid-control-required\");\n        }\n      } else {\n        if (bizagi.util.parseBoolean(argument) == true && !this.hasValue() && this.properties.editable) {\n          control.addClass(\"grid-control-required\");\n        } else {\n          control.removeClass(\"grid-control-required\");\n        }\n      }\n    }\n\n    this.triggerRenderValidate();\n  },\n\n  /*\r\n      *   Fetch the data again and updates the content\r\n      */\n  refresh: function refresh() {\n  },\n  /*\r\n      *   Sets an error on the cell\r\n      */\n  setError: function setError(key, columnXpath) {\n  },\n  /*\r\n      *   Changes the background for a cell\r\n      */\n  changeCellBackgroundColor: function changeCellBackgroundColor(key, xpath, argument) {\n  },\n  /*\r\n      *   Changes the background for a cell\r\n      */\n  changeCellColor: function changeCellColor(key, xpath, argument) {\n  },\n  /*\r\n      *   Changes the visibility for a cell\r\n      */\n  changeCellVisibility: function changeCellVisibility(key, xpath, argument) {\n  },\n  /*\r\n      *  Changes the required for cell\r\n      */\n  changeCellRequired: function changeCellRequired(key, xpath, argument) {\n  },\n  /*\r\n      *   Changes the editability for a cell\r\n      */\n  changeCellEditability: function changeCellEditability(key, xpath, argument) {\n  },\n  /*\r\n      *  Refresh behaviors of cell\r\n      */\n  changeCellProperties: function changeCellProperties(key, xpath, argument) {\n\n  },\n  /*\r\n      *  Changes the max value for a cell\r\n      */\n  changeCellMaxValue: function changeCellMaxValue(key, xpath, argument) {\n\n  },\n  /*\r\n      *  Changes the min value for a cell\r\n      */\n  changeCellMinValue: function changeCellMinValue(key, xpath, argument) {\n\n  },\n\n  /*\r\n     *   Changes the editability for a column\r\n     */\n  changeColumnEditability: function changeColumnEditability(xpath, argument) {\n  },\n  /*\r\n      *   Changes the visibility for a column\r\n      */\n  changeColumnVisibility: function changeColumnVisibility(xpath, argument) {\n  },\n  /*\r\n      *   Changes the required for a column\r\n      */\n  changeColumnRequired: function changeColumnRequired(xpath, argument) {\n  },\n\n  /*\r\n      *  Clean data of cell\r\n      */\n  cleanCellData: function cleanCellData(key, xpath) {\n  },\n\n  changeEditability: function changeEditability(argument) {\n    var self = this;\n    var control = self.getControl();\n\n    self.saveGrid().done(function () {\n      var tmpEditable = argument == \"Default\" ? self.originalProperties.editable : bizagi.util.parseBoolean(argument);\n\n      // Clears control\n      control.empty();\n\n      var originalProperties = self.originalProperties;\n\n      $.extend(self.properties, self.initEditabilityProperties(\n      tmpEditable,\n      originalProperties.allowEdit,\n      originalProperties.inlineEdit,\n      originalProperties.withEditForm),\n      self.initAddAndDeleteProperties(\n      tmpEditable,\n      originalProperties.allowAdd,\n      originalProperties.inlineAdd,\n      originalProperties.allowDelete));\n\n\n      self.properties.editabilityEnabled = self.properties.editabilityEnabled || self.properties.editable;\n\n      // argument because it is necessary to propagate the default value to the column controls\n      if (!tmpEditable) {\n        self.changeColumnsEditability(false);\n      } else if (self.properties.allowEdit && self.properties.inlineEdit) {\n        self.changeColumnsEditability(argument);\n      }\n\n      if (typeof self.internalRenderControl == \"function\") {\n        $.when(self.internalRenderControl()).done(function (html) {\n          control.append(html);\n          self.postRenderElement(self.element);\n        });\n      }\n    });\n\n  },\n\n  saveGrid: function saveGrid() {\n    var self = this;\n    var defer = $.Deferred();\n\n    var rows = $(\"[data-bizagi-component=rows]\", self.element).find(\"[data-new-row=true]\");\n\n    if (rows.length > 0) {\n      var newRows = $.map(rows, function (row, i) {\n        return $(row).data(\"business-key\");\n      });\n\n      self.saveInlineAddedRows(newRows).done(function () {\n        $.when(self.saveRows()).done(function () {\n          self.refresh();\n          defer.resolve();\n        });\n      });\n    } else {\n      defer.resolve();\n    }\n\n    return defer.promise();\n  },\n\n  changeColumnsEditability: function changeColumnsEditability(value) {\n    var self = this;\n    var columns = self.columns || [];\n\n    $.each(columns, function (i, column) {\n      column.properties.editable = value == \"Default\" ? column.originalProperties.editable : bizagi.util.parseBoolean(value);\n    });\n  },\n\n  /**\r\n      *   Refresh behaviors of cell\r\n      */\n  refreshCell: function refreshCell(params) {\n    var self = this;\n    var properties = self.properties;\n    var key = params.key;\n    var column = params.column;\n    var xpathContext = params.xpathContext !== \"\" ? params.xpathContext + \".\" + self.properties.xpath + self.buildCellXpathFilter(key) : self.properties.xpath + self.buildCellXpathFilter(key);\n    var cell = self.getControlCell(key, params.column);\n    var form = self.getFormContainer();\n    var idForm = form.properties.id;\n\n    if (!cell) {\n      return;\n    }\n\n    // Execute personalized stuff before to refresh it\n    cell.beforeToRefresh();\n\n    // Call service\n    return $.when(self.dataService.multiaction().refreshGridCell({\n      idRender: properties.id,\n      column: cell.properties.id,\n      idPageCache: properties.idPageCache,\n      xpathContext: xpathContext,\n      idForm: idForm,\n      typeRender: bizagi.util.normalizeType(cell.properties.type) })).\n    done(function (data) {\n      // Extract values\n      var getDepthData = function getDepthData(target) {\n        if (target && _typeof(target) == \"object\" && target.length >= 1) {\n          return target[0].length >= 1 ? target[0][0] : target[0];\n        }\n        return \"\";\n      };\n      var newValue = getDepthData(data.rows);\n      var editable = getDepthData(data.editable);\n      if (!bizagi.util.isBoolean(editable)) {\n        editable = editable || true;\n      }\n      var visible = getDepthData(data.visible);\n      if (!bizagi.util.isBoolean(visible)) {\n        visible = visible || true;\n      }\n\n      // Change Visibility & Editability\n      self.changeCellVisibility(key, column, visible);\n      self.changeCellEditability(key, column, editable);\n\n      // Change control value\n      var cellValue = cell.formatValue(newValue);\n\n      cell.setValue(cellValue);\n      cell.setDisplayValue(cellValue);\n\n      // Trigger grid change\n      self.triggerRenderChange({ key: key, column: column, changed: false });\n\n      if (bizagi.override.restoreAppearanceAfterRefresh) {\n        cell.restoreCellAppearance();\n      }\n\n      // Update the affected cell manually after a refresh\n      //TODO:temporary solution\n      //review the DRAGON-5982 \n      if (cell.column != undefined && bizagi.util.detectDevice() == \"desktop\") {\n        self.updateAffectedCellManually(key, cellValue, cell.column.columnIndex);\n      }\n\n      // Execute personalized stuff after to refresh it\n      self.afterToRefresh({ action: \"refreshCell\" });\n    });\n  },\n\n  /*\r\n      *   Triggers the render change event\r\n      */\n  triggerRenderChange: function triggerRenderChange(params) {\n    var self = this;\n    params = params || {};\n    // Property to verify exporting updated grids\n    if (!bizagi.util.isEmpty(params) && params.changed != false)\n    self.properties.canBeExported = false;\n    self.triggerHandler(\"renderchange\", {\n      render: self,\n      surrogateKey: params.key,\n      column: params.column,\n      changed: params.changed,\n      rowDeleted: params.rowDeleted,\n      pressed: params.pressed });\n\n  },\n\n  /*\r\n      *   Validate the grid\r\n      */\n  validate: function validate() {\n    this.isValid([]);\n  },\n  /* \r\n      * Public method to determine if a value is valid or not\r\n      */\n  isValid: function isValid(invalidElements) {\n    var self = this;\n    var bValid = true;\n\n    // Clear error message\n    self.hasErrors = false;\n    self.setValidationMessage(\"\");\n\n    // Check for required columns and null values\n    if (self.properties.data && self.properties.data.rows) {\n      var newRows = self.getDataNewRows();\n      // Preserve elements in data.rows\n      // Check required\n      if (newRows.length == 0 && bizagi.util.parseBoolean(self.properties.required)) {\n        if (!self.hasValue()) {\n          message = self.getResource(\"render-required-text\").replaceAll(\"#label#\", self.properties.displayName);\n          invalidElements.push({\n            xpath: self.properties.xpath,\n            message: message });\n\n          bValid = false;\n        }\n      }\n\n      var data = $.merge($.merge([], self.properties.data.rows), newRows);\n\n      for (var i = 0; i < self.columns.length; i++) {\n        var messages = [];\n        var uniqueMessages = {};\n\n        for (var j = 0; j < data.length; j++) {\n          var value = data[j][i + 1];\n          var key = data[j][0];\n          var xpath = self.columns[i].properties.xpath;\n          if (self.changes[key] !== undefined && self.changes[key][self.columns[i].properties.xpath] !== undefined) {\n            value = self.changes[key][self.columns[i].properties.xpath];\n          }\n\n          // Check if the column is valid\n          var valueValid = self.columns[i].isValueValid(key, value, messages, self.getCellOverride(key, i));\n          if (!valueValid) {\n            bValid = false;\n\n            self.hasErrors = true;\n            self.setError(key, self.columns[i].properties.xpath);\n          }\n        }\n        for (var k = 0, messagesLength = messages.length; k < messagesLength; k++) {\n          if (uniqueMessages[messages[k]] == null) {\n            uniqueMessages[messages[k]] = messages[k];\n          }\n        }\n\n        if (messages.length > 0) {\n          var gridValidationMessage = self.getResource(\"render-grid-validation\").replaceAll(\"#grid#\", self.properties.displayName);\n          for (key in uniqueMessages) {\n            invalidElements.push({\n              xpath: self.properties.xpath,\n              message: gridValidationMessage + \" \" + key });\n\n          }\n        }\n      }\n    }\n\n    return bValid;\n  },\n  /*\r\n      *   Enables submit on change feature for the current render\r\n      */\n  configureSubmitOnChange: function configureSubmitOnChange() {\n    // Don't do anything we will trigger submit on change manually only when the grid add or edit form has been edited   \n  },\n  /*\r\n      *   Get cell override\r\n      */\n  getCellOverride: function getCellOverride(key, column) {\n    var self = this;\n\n    // Convert to numbers\n    column = Number(column);\n\n    // Find overrides\n    var columnProperties = self.columns[column].properties;\n    if (!self.cellOverrides[key])\n    self.cellOverrides[key] = {};\n    if (!self.cellOverrides[key][column]) {\n      self.cellOverrides[key][column] = {\n        visible: columnProperties.columnVisible && columnProperties.visible,\n        editable: columnProperties.editable,\n        required: columnProperties.required };\n\n    }\n\n    return self.cellOverrides[key][column];\n  },\n\n  /*\r\n      * Set cell overrides based on the data\r\n      */\n  setCellOverrides: function setCellOverrides(data, columns) {\n    var self = this;\n    var key;\n\n    // Init visibility overrides\n    if (data.visible) {\n      for (var i = 0, len = data.visible.length; i < len; i++) {\n        key = data.visible[i][0];\n        for (var j = 0, len_v = data.visible[i].length; j < len_v; j++) {\n\n          // Skip key columns\n          if (j > 0) {\n            var columnVisible = self.getCellOverride(key, j - 1).visible;\n            self.cellOverrides[key][j - 1].visible = columnVisible ? bizagi.util.parseBoolean(data.visible[i][j]) : false;\n          }\n        }\n      }\n    }\n\n    // Init editability overrides\n    if (data.editable) {\n      for (var i = 0, len = data.editable.length; i < len; i++) {\n        key = data.editable[i][0];\n        for (var j = 0, len_v = data.editable[i].length; j < len_v; j++) {\n          // Skip key columns\n          if (j > 0) {\n            var columnEditable = columns ? bizagi.util.parseBoolean(columns[j - 1].properties.editable) : true;\n            self.getCellOverride(key, j - 1).editable = columnEditable ? bizagi.util.parseBoolean(data.editable[i][j]) : false;\n          }\n        }\n      }\n    }\n\n    // Init required overrides\n    if (data.required) {\n      for (var i = 0, len = data.required.length; i < len; i++) {\n        key = data.required[i][0];\n        for (var j = 0, len_v = data.required[i].length; j < len_v; j++) {\n          // Skip key columns\n          if (j > 0)\n          self.getCellOverride(key, j - 1).required = bizagi.util.parseBoolean(data.required[i][j]);\n        }\n      }\n    }\n  },\n  /*\r\n      *   Returns the row indexes for the data\r\n      */\n  getIndexes: function getIndexes() {\n    var self = this;\n    var data = $.merge(self.properties.data.rows, self.getDataNewRows());\n    return $.map(data, function (item, i) {\n      return item[0];\n    });\n  },\n  /**\r\n      *  Return object with value of all new records unsaved within the grid\r\n      *  @return {object} all new records\r\n      */\n  getDataNewRows: function getDataNewRows() {\n    var self = this;\n    var newRows = [];\n\n    if (_typeof(self.newRecords) == \"object\" && !$.isEmptyObject(self.newRecords)) {\n      $.each(self.newRecords, function (rowKey) {\n        var cellValue = [];\n        cellValue.push(rowKey);\n        for (var i = 0, length = self.columns.length; i < length; i++) {\n          cellValue.push(self.getCellCurrentValue(rowKey, self.columns[i].properties.xpath));\n        }\n        // Add cell value row to new rows\n        newRows.push(cellValue);\n      });\n    }\n    return newRows;\n  },\n\n  /**\r\n      * Return the object with the required url to access the exported grid to the desired format\r\n      * @param params\r\n      * @returns {*}\r\n      */\n  getGridExportFile: function getGridExportFile(params) {\n    var self = this;\n    var properties = self.properties;\n\n    return self.dataService.getGridExportFile({\n      idRender: properties.id,\n      xpathContext: properties.xpathContext || \"\",\n      idPageCache: properties.idPageCache,\n      disposition: params.disposition,\n      exportType: params.exportType,\n      sort: properties.sort,\n      idForm: self.getFormContainer().properties.id }).\n    then(function (response) {\n      return bizagi.util.handleJSONResponse(response);\n    });\n  },\n\n  submitForGridChange: function submitForGridChange() {\n    var self = this;\n    return self.submitOnChange(null, false);\n  },\n\n  dispose: function dispose() {\n    var self = this;\n\n    var timeOutColumn = setTimeout(function () {\n      if (self.columns) {\n        $.each(self.columns, function (i, column) {\n          column.dispose();\n        });\n      }\n      clearTimeout(timeOutColumn);\n    }, bizagi.override.disposeTime || 50);\n\n    // Call base\n    self._super();\n  },\n\n  getEnabledChecks: function getEnabledChecks(params) {\n    var self = this;\n    var properties = self.properties;\n    params = params || {};\n    $.extend(params, {\n      url: properties.dataUrl,\n      xpath: properties.xpath,\n      idRender: properties.id,\n      xpathContext: properties.xpathContext,\n      contexttype: properties.contextType,\n      idPageCache: properties.idPageCache,\n      rows: properties.rowsPerPage,\n      xpathfilter: params.xpath });\n\n    // Default ajax call\n    var defer = new $.Deferred();\n    // Resolve with remote data\n    self.dataService.multiaction().getGridDataExclusivesSelected(params).done(function (data) {\n      // Resolve with fetched data\n      properties.page = data.page;\n      properties.records = data.records;\n      properties.totalPages = data.totalPages;\n\n      // Check RTL\n      if (self.isRTL()) {\n        data.rows = self.changeOrderData(data.rows);\n      }\n      defer.resolve(data);\n    });\n    return defer.promise();\n  },\n\n  buildCellXpathFilter: function buildCellXpathFilter(key) {\n    if (bizagi.util.isNumeric(key)) return \"[id=\" + key + \"]\";\n    return \"[id='\" + key + \"']\";\n  },\n\n  cleanNewRecords: function cleanNewRecords() {\n    // Mark it as saved\n    this.newRecords = {};\n  },\n\n  /**\r\n      * Set inline added new row as saved, removing data new-row attribute\r\n      * @param key\r\n      */\n  setRowAsSaved: function setRowAsSaved(key) {\n    var $control = this.getControl();\n    var $row = $(\"[data-bizagi-component=rows]\", $control).\n    find(\"tr[data-business-key=\" + key + \"]\");\n\n    $row.attr(\"data-new-row\", 'false');\n  },\n\n  /**\r\n      *\r\n      * Customizes render background color\r\n      *\r\n      * This method is called when the backgroud color is setted by Form Designer\r\n      *\r\n      * @param color\r\n      */\n  changeBackgroundColor: function changeBackgroundColor(color) {\n    this._super(color);\n\n    var control = this.getControl();\n\n    control.find(\".bz-rn-grid-header-title, .bz-rn-grid-header-title-rtl\").\n    css(\"background-color\", color, \"!important\");\n\n    control.find(\".bz-rn-grid-container-foother, .bz-rn-grid-container-foother-rtl\").\n    css(\"background-color\", color, \"!important\");\n\n    return this;\n  },\n\n  /**\r\n      * Check has header format\r\n      * @returns {boolean}\r\n      */\n  hasColorHeader: function hasColorHeader() {\n    var headerFormat = this.properties.headerFormat || {};\n\n    return headerFormat ? !bizagi.util.isEmpty(headerFormat.color) : false;\n  },\n\n  /**\r\n      * Check if the orientation is RTL\r\n      * @param parent\r\n      * @param orientation\r\n      * @returns {*|boolean|boolean}\r\n      */\n  isRTLOrientation: function isRTLOrientation(parent, orientation) {\n    if ((!orientation || orientation === \"auto\") && parent) {\n      return this.isRTLOrientation(parent.parent, parent.properties.orientation);\n    }\n\n    return /^rtl$/i.test(orientation);\n  },\n\n  /**\r\n      * Check If has changes for send to server\r\n      * @returns {boolean}\r\n      */\n  canBeExport: function canBeExport() {\n    var self = this;\n\n    // Check If normal column-control has changes\n    for (var id in self.changes) {\n      // Don't collect data from totalizers\n      if (id !== \"summary\") {\n        for (var columnXpath in self.changes[id]) {\n          // Check if the render can submit data\n          if (self.canColumnBeSent(id, columnXpath)) return false;\n        }\n      }\n    }\n\n    // Check If exclusive-check control has changes\n    if (self.exclusiveChanges) {\n      for (var xpath in self.exclusiveChanges) {\n        // Brings the xpath columns with changes\n        if (self.exclusiveChanges[xpath] && self.enabledChecks[xpath]) return false;\n      }\n    }\n\n    // Don't have changes\n    return true;\n  },\n\n  /**\r\n      * Get exclusive-check change by Row\r\n      * @param idRow\r\n      * @returns {{}}\r\n      */\n  getExclusiveChangeByRow: function getExclusiveChangeByRow(idRow) {\n    var value = {};\n\n    for (var xpath in this.enabledChecks) {\n      if (this.enabledChecks.hasOwnProperty(xpath)) {\n        var obj = (this.enabledChecks[xpath] || []).\n        find(function (el) {\n          return el.id == idRow && el.changed;\n        });\n\n        if (obj) {\n          value[xpath] = obj.value;\n        }\n      }\n    }\n\n    return value;\n  },\n\n  /**\r\n      * Check If xpath or id of column is valid\r\n      * @param columnXpath\r\n      * @param columnId\r\n      * @param xpath\r\n      * @returns {boolean}\r\n      */\n  isCurrentGridCell: function isCurrentGridCell(columnXpath, columnId, xpath) {\n    return columnXpath === xpath || columnId === xpath || columnXpath + \".\" + columnId === xpath;\n  },\n\n  /**\r\n      * Get index for current cell\r\n      * @param xpath\r\n      * @returns {number|number}\r\n      */\n  getIndexForCurrentCell: function getIndexForCurrentCell(xpath) {\n    var self = this;\n\n    return (self.columns || []).findIndex(function (cell) {\n      return self.isCurrentGridCell(cell.properties.xpath, cell.properties.id, xpath);\n    }) || 0;\n  },\n\n  /**\r\n      * Check if it is a Summary o Global Form\r\n      * @returns {*|boolean}\r\n      */\n  isSummaryOrGlobalForm: function isSummaryOrGlobalForm() {\n    var form = this.getFormContainer();\n    var properties = form && form.properties || {};\n\n    return form && [\"SummaryForm\", \"GlobalForm\"].includes(properties.typeForm);\n  } });","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /**\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Name: Bizagi Render Label Class\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Author: UI Forms Team\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Comments:\r\n                                                                                                                                                                                                                                                                                                                                                                                *   -   This script will define basic stuff for labels\r\n                                                                                                                                                                                                                                                                                                                                                                                */\n$.Class.extend(\"bizagi.rendering.label\", {}, {\n\n  /**\r\n                                                * Update or init the element data\r\n                                                * @param {} data\r\n                                                * @returns {}\r\n                                                */\n  initializeData: function initializeData(data) {\n    var self = this;\n\n    // Call base\n    self._super(data);\n\n    // A label itself is never \"required\" as other controls\n    var properties = self.properties;\n    properties.required = false;\n\n    // Set properties\n    self.properties.displayType = \"label\";\n    //self.properties.labelAlign = self.originalProperties.labelAlign || \"left\";\n    self.properties.displayName = data.properties.displayName || \"\";\n\n    if (bizagi.util.parseBoolean(self.properties.allowDinamiclabel)) {\n      this.properties.displayName = data.properties.displayName || bizagi.localization.getResource(\"render-label-default-display-name\");\n    }\n\n    self.bindingValue();\n\n    // Calculate layout properties\n    self.calculateInitialLayoutProperties();\n  },\n\n  /**\r\n      * Template method to implement in each device to customize each render after processed\r\n      */\n  postRender: function postRender() {\n    this._super();\n    // Just apply display-type: label, align it to the left\n    this.changeDisplayOption(\"label\");\n    //this.changeLabelAlign(this.properties.labelAlign || \"left\");\n\n    if (typeof this.configureHelpText == \"function\")\n    this.configureHelpText();\n  },\n\n  /**\r\n      * Template method to implement in each device to customize each render after processed in read-only mode\r\n      */\n  postRenderReadOnly: function postRenderReadOnly() {\n    this._super();\n    // Just apply display-type: label, align it to the left\n    this.changeDisplayOption(\"label\");\n    this.changeLabelAlign(this.properties.labelAlign || \"left\");\n  },\n\n  /**\r\n      * Public method to determine if a value is valid or not\r\n      * @param {} invalidElements\r\n      */\n  isValid: function isValid(invalidElements) {\n    // Automatically this render is valid, so we can't check a required label\n  },\n\n  /**\r\n      * Method to determine if the render value can be sent to the server or not\r\n      * @returns {}\r\n      */\n  canBeSent: function canBeSent() {\n    // This render cannot be sent because it is full ajax\n    return false;\n  },\n\n  bindingValue: function bindingValue() {\n    var self = this;\n\n    if (self.properties.allowDinamiclabel && self.properties.value) {\n      if (_typeof(self.properties.value) === \"object\" && self.properties.value[0]) {\n        self.properties.displayName = self.properties.value[0].value;\n      } else if (typeof self.properties.value === \"string\" && self.properties.value !== \"\") {\n        self.properties.displayName = self.performLabelLineBreak(self.properties.value);\n      }\n    }\n  },\n\n  controlValueIsChanged: function controlValueIsChanged() {\n    //Labels never change\n    return false;\n  },\n\n  /**\r\n      * Process the break line character\r\n      * @param value\r\n      * @returns {string}\r\n      */\n  performLabelLineBreak: function performLabelLineBreak(value) {\n    var label = value || \"\";\n\n    return label.replace(/\\\\n/gm, \"\\n\");\n  } });","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /*\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Name: Bizagi Render Search Class\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Author: UI Forms Team\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Comments:\r\n                                                                                                                                                                                                                                                                                                                                                                                *   -   This script will define basic stuff for search renders\r\n                                                                                                                                                                                                                                                                                                                                                                                */\n\n$.Class.extend(\"bizagi.rendering.search\", {}, {\n  /**\r\n                                                 * Update or init the element data\r\n                                                 * @param {} data\r\n                                                 * @returns {}\r\n                                                 */\n  initializeData: function initializeData(data) {\n    var self = this;\n\n    var submitOnChange = data.properties.submitOnChange;\n    if (self.getMode() === \"execution\") {\n      // Normalize submitOnChange property\n      // QAF-3297 - Compatibility for old versions of advanced search where the \"submitOnChange\" property default is true\n      // New \"submitVersion\" property default is 2\n      if (data.properties.advancedSearch) {\n        submitOnChange = typeof submitOnChange !== \"undefined\" ? submitOnChange : (data.properties.submitVersion || 1) > 1 ? false : true;\n      }\n    }\n\n    // Call base\n    self._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n    properties.submitOnChange = bizagi.util.parseBoolean(submitOnChange) || false;\n\n    properties.searchForms = properties.searchForms || [];\n\n    // Default maxRecords is 20\n    properties.maxRecords = Number(properties.maxRecords) || 20;\n    properties.advancedSearch = bizagi.util.parseBoolean(properties.advancedSearch) === null ? false : bizagi.util.parseBoolean(properties.advancedSearch);\n    properties.allowSuggest = bizagi.util.parseBoolean(properties.allowSuggest) !== null ? bizagi.util.parseBoolean(properties.allowSuggest) : false;\n    properties.allowFullSearch = properties.allowFullSearch || false;\n    properties.allowAdd = bizagi.util.parseBoolean(properties.allowAdd) || false;\n    properties.allowTyping = bizagi.util.parseBoolean(properties.allowTyping) !== null ? bizagi.util.parseBoolean(properties.allowTyping) : false;\n    properties.allowTyping = bizagi.util.parseBoolean(properties.allowSuggest) ? true : properties.allowTyping;\n    properties.allowClear = bizagi.util.parseBoolean(properties.allowClear) !== null ? bizagi.util.parseBoolean(properties.allowClear) : false;\n    properties.editable = bizagi.util.parseBoolean(properties.editable) !== null ? bizagi.util.parseBoolean(properties.editable) : true;\n\n    // This length defines the behavior of the suggest, 2 characters are used by default meaning after 2 characters are written the search will take place\n    properties.searchLength = properties.searchLength || 2;\n\n    // Expire local storage cache\n    properties.enableLocalStorage = false;\n    properties.expireCache = 1000 * 60 * 15; // 15 minutes\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @returns {}\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var properties = self.properties;\n    var template = self.renderFactory.getTemplate(\"search\");\n\n    return $.fasttmpl(template, {\n      id: properties.id,\n      xpath: properties.xpath,\n      allowTyping: properties.allowTyping,\n      advancedSearch: properties.advancedSearch,\n      allowSuggest: properties.allowSuggest,\n      editable: properties.editable,\n      allowClear: properties.allowClear,\n      hasValue: self.hasValue() });\n\n  },\n\n  /**\r\n      * Fetch the data into a deferred\r\n      * @param {} params\r\n      * @returns {}\r\n      */\n  getData: function getData(params) {\n    var self = this;\n    var properties = self.properties;\n    var defer = new $.Deferred();\n    var form = self.getFormContainer();\n    var contextType = form.getContextType() || form.params.contexttype || false;\n\n    params = params || {};\n\n    // Verify context type\n    if (self.properties.contexttype) {\n      params.h_contexttype = self.properties.contexttype;\n    } else if (contextType) {\n      params.h_contexttype = contextType;\n    }\n\n    params.h_contexttype = self.properties.enableQuerySuggestBehavior ? \"metadata\" : params.h_contexttype;\n\n    // QA-471 When the contexttype is metadata it does not send xpathcontext\n    if (params && params.h_contexttype && params.h_contexttype === 'metadata') {\n      properties.xpathContext = '';\n    }\n\n    // BA35025 - JFA\n    if (properties.term.indexOf(\"\\'\") > -1) {\n      var regexC = new RegExp(\"\\'\", \"g\");\n      properties.term = properties.term.replace(regexC, \"\\\\'\\\\'\");\n    }\n\n    // QAF-6448 - JFA\n    if (properties.term.indexOf(\"\\\"\") > -1) {\n      var regexC = new RegExp(\"\\\"\", \"g\");\n      properties.term = properties.term.replace(regexC, \"\\\"\");\n    }\n\n    // Resolve with remote data\n    self.dataService.multiaction().getSearchData({\n      url: properties.dataUrl,\n      contexttype: params.h_contexttype,\n      xpath: properties.xpath,\n      idRender: properties.id,\n      xpathContext: properties.xpathContext,\n      idPageCache: properties.idPageCache,\n      term: properties.allowFullSearch ? \"%\" + properties.term : properties.term,\n      extra: params }).\n    done(function (data) {\n      // Resolve with fetched data\n      properties.data = data;\n      defer.resolve(properties.data);\n    }).fail(function (data) {\n      var hideStatus = data.hideStatus || false;\n\n      defer.resolve({});\n\n      if (!hideStatus) {\n        self.trigger(\"onSearchError\", data);\n      }\n    });\n\n    return defer.promise(defer);\n  },\n\n  /**\r\n      * Sets the internal value\r\n      * @param {} value\r\n      * @param {} triggerEvents\r\n      * @returns {}\r\n      */\n  setValue: function setValue(value, triggerEvents) {\n    var self = this;\n    triggerEvents = triggerEvents !== undefined ? triggerEvents : true;\n\n    self._super(value, triggerEvents);\n\n    if (value != undefined) {\n      this.value = value;\n      this.selectedValue = value.label;\n    } else {\n      this.value = null;\n      this.selectedValue = null;\n    }\n  },\n\n  /* Maps the value, when this one comes from actions*/\n  mapValue: function mapValue(value) {\n    if (value && value.fromAction) {\n      return {\n        id: value.value,\n        value: value.label,\n        label: value.label };\n\n    }\n\n    return value;\n  },\n\n  /*\r\n     *   Add the render data to the given collection in order to send data to the server\r\n      */\n  collectData: function collectData(renderValues) {\n    var self = this;\n    var xpath = self.properties.xpath;\n    var value = self.getValue();\n\n    if (self.controlValueIsChanged()) {\n      // Filter by valid xpaths and valid values\n      // Remove empty validation for value for combos\n      if (!bizagi.util.isEmpty(xpath) && value !== null && typeof value !== \"undefined\") {\n        // Add a validation because sometimes value contains an empty not null object\n        if (_typeof(value) == \"object\" && value.id === undefined)\n        return;\n        // Add the value to the server\n        renderValues[xpath] = value;\n      }\n    }\n  },\n\n  /**\r\n      * Submits the selected data to the server in order to be saved\r\n      * @returns {}\r\n      */\n  submitData: function submitData() {\n    var self = this;\n    var data = {};\n\n    // Add current data\n    if (!self.grid) {\n      data[self.properties.xpath] = self.getValue();\n    }\n\n    // Executes submit on change\n    self.submitOnChange(data, undefined, false);\n  },\n\n  /**\r\n      * Check if control is valid or not\r\n      * @param {} invalidElements\r\n      * @returns {}\r\n      */\n  isValid: function isValid(invalidElements) {\n    return this._super(invalidElements);\n  },\n\n  hasValue: function hasValue() {\n    var value = this.getValue();\n\n    if (typeof value == \"undefined\" || value == null) return false;\n\n    if (_typeof(value) === \"object\" && value.id !== \"\" && typeof value.id !== \"undefined\") return true;\n    return !bizagi.util.isEmpty(value);\n  },\n\n  /**\r\n      * Formats value of each item\r\n      * @param {string, boolean or array} value\r\n      * @example\r\n      * value = \"string\" => \"string\"\r\n      * value = true => \"yes\" or \"si\", the localized value\r\n      * value = false => \"no\", the localized value\r\n      * value = [\"string 1\", \"string 2\"] => \"string 1 - string 2\"\r\n      * @returns {string}\r\n      */\n  formatItem: function formatItem(value) {\n    return bizagi.util.formatItem(value);\n  } });","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /**\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Name: Bizagi Render HandSignature Class\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Author: UI Forms Team\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Comments:\r\n                                                                                                                                                                                                                                                                                                                                                                                *   -   This script will define basic stuff for HandSignature control\r\n                                                                                                                                                                                                                                                                                                                                                                                */\n$.Class.extend(\"bizagi.rendering.handSignature\", {}, {\n\n  BASE_IMAGE: \"data:image/png;base64,\",\n  EMPTY_IMAGE: \"R0lGODlhAQABAIAAAP7//wAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\",\n  EMPTY_VALUE: \"\",\n  DELAY_TO_SAVE: 1000,\n\n  // Fallback if resources\n  RESOURCES_FALLBACK: {\n    DONE_BUTTON: \"Done\",\n    EDIT_BUTTON: \"Edit\",\n    CLEAR_BUTTON: \"Clear\",\n    UPLOAD_SUCCESS: \"Your signature have been uploaded successfully\",\n    UPLOAD_ERROR: \"The signature have not been uploaded. Try again\",\n    TITLE_DONE: \"Click \\\"Done\\\" to upload the signature\",\n    TITLE_DRAW: \"Draw here your signature\",\n    TITLE_EDIT: \"Click \\\"Edit\\\" to start drawing\" },\n\n\n  // Type of state\n  STATE_TYPE: {\n    edit: 1,\n    draw: 2,\n    done: 3,\n    success: 4,\n    error: 5 },\n\n\n  /**\r\n                 * Whether or not is plugin initialized\r\n                 * @var isOfflineForm boolean\r\n                 */\n  pluginInitialized: false,\n\n  saveDeferred: null,\n  saveTimestamp: 0,\n\n  /**\r\n                     * Update or init the element data\r\n                     * @param data\r\n                     */\n  initializeData: function initializeData(data) {\n    // Call base\n    this._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n\n    properties.editable = bizagi.util.parseBoolean(properties.editable) === true;\n    properties.addUrl = properties.addUrl || this.dataService.serviceLocator.getUrl(\"form-submit-data-upload\");\n    properties.deleteUrl = properties.deleteUrl || this.dataService.serviceLocator.getUrl(\"render-upload-delete-url\");\n    properties.isChanged = false;\n\n    this.currentState = this.STATE_TYPE.edit;\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @returns {*|jQuery}\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var properties = self.properties;\n    var template = self.renderFactory.getTemplate(\"hand-signature\");\n\n    return $.fasttmpl(template, {\n      id: properties.id,\n      xpath: properties.xpath,\n      editable: properties.editable,\n      isDesign: !self.isExecutionMode(),\n      render_signature_action_edit: self.getResourceByKey(\"render-signature-action-edit\", self.RESOURCES_FALLBACK.EDIT_BUTTON),\n      render_signature_action_done: self.getResourceByKey(\"render-signature-action-done\", self.RESOURCES_FALLBACK.DONE_BUTTON),\n      render_signature_action_clear: self.getResourceByKey(\"render-signature-action-clear\", self.RESOURCES_FALLBACK.CLEAR_BUTTON) });\n\n  },\n\n  /**\r\n      * After rendering element\r\n      */\n  postRender: function postRender() {\n    var self = this;\n\n    // Apply plugin\n    if (this.isExecutionMode()) {\n      var $container = self.getSignatureContainer();\n\n      // Wait until current element is rendered\n      self.setResizeObserver($container, function (initialized) {\n        self.renderSignature();\n        self.setState(self.currentState);\n\n        if ([self.STATE_TYPE.draw, self.STATE_TYPE.done].includes(self.currentState)) {\n          $container.BzjSignature(\"enable\");\n        }\n      });\n    }\n  },\n\n  /**\r\n      * Render after processed in read-only mode\r\n      */\n  postRenderReadOnly: function postRenderReadOnly() {\n    var self = this;\n\n    // Apply plugin\n    if (this.isExecutionMode()) {\n      var $container = self.getSignatureContainer();\n\n      // Wait until current element is rendered\n      self.setResizeObserver($container, function () {\n        self.renderSignature();\n      });\n    }\n  },\n\n  /**\r\n      * Method to render non editable values\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    var self = this;\n    var properties = self.properties;\n    var template = self.renderFactory.getTemplate(\"hand-signature-readonly\");\n\n    return $.fasttmpl(template, {\n      id: properties.id,\n      xpath: properties.xpath,\n      editable: properties.editable,\n      isDesign: !self.isExecutionMode() });\n\n  },\n\n  setData: function setData(value) {\n    var self = this;\n    var previousValue = self.getData();\n\n    if (bizagi.util.isEmpty(value)) {\n      this.properties.binaryValue = null;\n    } else {\n      if (value instanceof Blob) {\n        this.properties.binaryValue = value;\n      } else {\n        this.properties.binaryValue = bizagi.util.b64toBlob(value, \"image/png\");\n      }\n    }\n\n    if (previousValue != this.properties.binaryValue) {\n\n      if (self.properties.required && self.isExecutionMode()) {\n        var isValidField = !self.checkRequired([]);\n        self.changeRequiredLabel(isValidField);\n      }\n\n      if (this.properties.isChanged) {\n        self.triggerRenderChange();\n        self.triggerRenderValidate();\n      }\n    }\n  },\n\n  getData: function getData() {\n    return this.properties.binaryValue || [];\n  },\n\n  getBase64: function getBase64() {\n    return this.properties.base64 || \"\";\n  },\n\n  /**\r\n      * Returns the internal value\r\n      * @returns {*|Array}\r\n      */\n  getValue: function getValue() {\n    return this.properties.value || [];\n  },\n\n  /**\r\n      * Check if a render has no value for required validation\r\n      */\n  hasValue: function hasValue() {\n    if (!this.pluginInitialized) {\n      return !bizagi.util.isEmpty(this.properties.value);\n    } else {\n      var value = this.getData();\n      return !bizagi.util.isEmpty(value);\n    }\n  },\n\n  /**\r\n      * Check if control is valid or not\r\n      * @param invalidElements\r\n      * @returns {boolean}\r\n      */\n  isValid: function isValid(invalidElements) {\n    var self = this;\n\n    // Don't check non-visible renders\n    if (bizagi.util.parseBoolean(self.properties.visible) === false) {\n      return true;\n    }\n\n    // Don't check non-editable renders\n    if (bizagi.util.parseBoolean(self.properties.editable) === false) {\n      return true;\n    }\n\n    // Clear error message\n    self.setValidationMessage(\"\");\n\n    // Check required\n    if (self.properties.required && !self.hasValue()) {\n      var message = self.getResource(\"render-required-text\").replaceAll(\"#label#\", self.properties.displayName);\n      invalidElements.push({ xpath: self.properties.xpath, message: message });\n      return false;\n    }\n\n    return true;\n  },\n\n  /**\r\n      * Method to determine if the render value can be sent to the server or not\r\n      * @returns {boolean}\r\n      */\n  canBeSent: function canBeSent() {\n    var form = this.getFormContainer();\n    if (!form.isOfflineForm) return true;\n    return this.properties.isChanged;\n  },\n\n  /**\r\n      * Process an upload file into the server\r\n      * @param {} dataFile\r\n      * @returns {}\r\n      */\n  processUploadFile: function processUploadFile(dataFile) {\n    var data = {\n      url: this.properties.addUrl,\n      formData: this.buildAddFileParams(dataFile) };\n\n\n    return this.dataService.processUploadFile(data);\n  },\n\n  /**\r\n      * Build add params to send to the server\r\n      * @param {} dataFile\r\n      * @returns {}\r\n      */\n  buildAddFileParams: function buildAddFileParams(dataFile) {\n    var self = this;\n    var properties = self.properties;\n    var prefix = self.Class.BA_CONTEXT_PARAMETER_PREFIX;\n\n    // Get form data for POSTing\n    var formData = new FormData();\n    var form = self.getFormContainer();\n\n    // Build add params to send to the server\n    formData.append(prefix + \"xpath\", properties.xpath);\n    formData.append(prefix + \"idRender\", properties.id);\n    formData.append(prefix + \"xpathContext\", properties.xpathContext);\n    formData.append(prefix + self.Class.BA_PAGE_CACHE, properties.idPageCache);\n    formData.append(self.Class.BA_ACTION_PARAMETER_PREFIX + \"sessionId\", form.properties.sessionId);\n    formData.append(prefix + \"action\", \"savefile\");\n\n    var fileName = \"signature_\" + bizagi.util.randomNumber() + \".png\";\n    formData.append(self.properties.xpath, dataFile, fileName);\n\n    if (properties.contexttype) {\n      formData.append(prefix + \"contexttype\", properties.contexttype);\n    }\n\n    try {\n      if (typeof BIZAGI_SESSION_NAME !== \"undefined\") {\n        formData.append(BIZAGI_SESSION_NAME, form.properties.sessionId);\n      } else {\n        formData.append(\"JSESSIONID\", form.properties.sessionId);\n      }\n    } catch (e) {\n      formData.append(\"JSESSIONID\", form.properties.sessionId);\n    }\n\n    return formData;\n  },\n\n  /**\r\n      * Builds the upload item url\r\n      * @param params\r\n      * @returns {*}\r\n      */\n  buildItemUrl: function buildItemUrl() {\n    var self = this;\n    var form = self.getFormContainer();\n    var properties = self.properties;\n    var isVersion2OrSuperior = form.properties.compatibilityVersion >= 2;\n    var url = \"\";\n\n    if (!this.isExecutionMode()) return $.Deferred().resolve(url).promise();\n\n    var parameters = {\n      url: properties.dataUrl,\n      xpath: properties.xpath,\n      idRender: properties.id,\n      xpathContext: properties.xpathContext,\n      idPageCache: properties.idPageCache,\n      property: \"fileFullContent\",\n      queue: \"onlineimages\",\n      sessionId: form.properties.sessionId,\n      contexttype: properties.contexttype || undefined,\n      dataType: \"text\" };\n\n\n    if (isVersion2OrSuperior) {\n\n      if (bizagi.util.isEmpty(self.properties.value) && !self.hasValue()) return $.Deferred().resolve(\"\").promise();\n\n      parameters.property = \"fileBinaryContent\";\n      parameters.sessionId = form.properties.sessionId;\n\n      return self.dataService.downloadFile(parameters).\n      then(function (blob) {\n        self.setData(blob);\n        if (blob == null || window.Blob && blob instanceof Blob && blob.size === 0) return null;\n        return bizagi.util.blobTob64(blob, false);\n      }).\n      then(function (base64) {\n        return bizagi.util.getDataUrl(base64, properties.url);\n      });\n    }\n\n    return self.dataService.multiaction().getPropertyData(parameters, \"text\").\n    then(function (data) {\n      if (data.charAt(0) === \"\\\"\") data = data.slice(1, -1);\n      if (data !== \"\") url = self.BASE_IMAGE + data;\n      self.setData(bizagi.util.b64toBlob(data));\n      return url;\n    });\n  },\n\n  /**\r\n      * Call the form failhandler with an specific error\r\n      * @param {} error\r\n      * @returns {}\r\n      */\n  executeFormFailHandler: function executeFormFailHandler(error) {\n    var error_obj = bizagi.util.getErrorFormatted(error);\n    var message = error_obj;\n\n    if (typeof error_obj === \"undefined\" || error_obj && !error_obj.message) {\n      message = Object.assign({}, _typeof(error_obj) === \"object\" ? error_obj : {}, {\n        \"message\": bizagi.localization.getResource(\"workportal-general-error\") });\n\n    }\n\n    this.getFormContainer().failHandler(message);\n  },\n\n  /**\r\n      * Save data control\r\n      * @returns {*}\r\n      */\n  saveSignature: function saveSignature(dataImage) {\n    var self = this;\n\n    return $.when(self.postSignature(dataImage)).\n    then(function (base64) {\n      self.setData(base64);\n      self.properties.url = bizagi.util.getDataUrl(base64, self.EMPTY_VALUE);\n      self.executePartialSaveForm();\n    }).fail(function (error) {\n      self.executeFormFailHandler(error);\n    });\n  },\n\n  executePartialSaveForm: function executePartialSaveForm() {\n    var self = this;\n    var data = {};\n    var form = this.getFormContainer();\n\n    if (!form.isOfflineForm) return;\n    self.collectDataToSave(data);\n    form.partialSubmitFormOffline(data).then(function () {\n      //console.log(\"Signature saved\");\n    });\n  },\n\n  /**\r\n      * Delete image\r\n      * @returns {*}\r\n      */\n  deleteImage: function deleteImage() {\n    return this.dataService.deleteImage({\n      url: this.properties.deleteUrl,\n      idRender: this.properties.id,\n      xpath: this.properties.xpath,\n      xpathContext: this.properties.xpathContext,\n      idPageCache: this.properties.idPageCache,\n      contexttype: this.properties.contexttype });\n\n  },\n\n  /**\r\n      * Execute upload image\r\n      * @param dataImage\r\n      * @returns {*}\r\n      */\n  postSignature: function postSignature(dataImage) {\n    var signature = dataImage.replace(/^data:image\\/(png|jpg|jpeg);base64,/, \"\");\n    return this.postSignatureOnline(signature);\n  },\n\n  /**\r\n      * Execute upload image for online mode\r\n      * @param signature\r\n      * @returns {*}\r\n      */\n  postSignatureOnline: function postSignatureOnline(signature) {\n    var self = this;\n    var dataFile = self.getDataFileFromSignature(signature);\n\n    if (bizagi.util.isEmpty(dataFile)) {\n      return self.getData();\n    }\n\n    return self.processUploadFile(dataFile).then(function () {\n      self.properties.isChanged = true;\n      return signature;\n    });\n  },\n\n  /**\r\n      * Clean html because some scenarios render twice\r\n      */\n  emptyControlByAsyncRenderDeferred: function emptyControlByAsyncRenderDeferred() {\n    var $control = this.getControl();\n    $control.empty();\n  },\n\n  // region // #region METHODS TO OFFLINE\n\n  /**\r\n   * Create an image offline\r\n   * @param path File in Browser or Path in Mobile Devices\r\n   * @param promise Promise to be resolved when save is completed\r\n   */\n  saveImageOffline: function saveImageOffline(path) {\n    var self = this;\n    var id = self.buildOfflineImageId();\n\n    return $.when(function () {\n      return path;\n    }()).then(function (blobImage) {\n      // Save the image as attachment\n      var formParams = self.getFormParams();\n      var parameters = {\n        idCase: formParams.idCase,\n        idWorkitem: formParams.idWorkitem,\n        id: id,\n        operationType: \"edition\",\n        offlineType: formParams.offlineType };\n\n\n      return self.dataService.saveOfflineImage(parameters, blobImage);\n    });\n  },\n\n  /**\r\n      * Add the render data to the given collection in order to send data to the server\r\n      * @param {} renderValues\r\n      * @returns {}\r\n      */\n  collectDataToSave: function collectDataToSave(renderValues) {\n    var self = this;\n    if (self.isOfflineForm && bizagi.util.isOfflineFormsV2Supported()) {\n      if (!self.properties.isChanged) return;\n\n      renderValues[self.properties.xpath] = {\n        offlineId: self.buildOfflineImageId(),\n        name: self.dataService.fileService.getOfflineImageName(self.getValue()),\n        isSignature: true };\n\n    }\n  },\n\n  /**\r\n      * This method allows wait until the signature is persisted to execute the form save \r\n      * @param {*} renderValues \r\n      * @returns \r\n      */\n  collectData: function collectData(renderValues) {\n    var self = this;\n    if (self.saveTimestamp == 0) return;\n    var tmpTimeStamp = new Date().getTime() - self.saveTimestamp;\n\n    if (tmpTimeStamp < self.DELAY_TO_SAVE) {\n      var def = new $.Deferred();\n      setTimeout(function () {\n        $.when(self.saveDeferred).always(function () {\n          def.resolve();\n        });\n      }, self.DELAY_TO_SAVE + 10 - tmpTimeStamp);\n      renderValues.deferreds = renderValues.deferreds || [];\n      renderValues.deferreds.push(def.promise());\n    } else\n    if (self.saveDeferred) {\n      renderValues.deferreds = renderValues.deferreds || [];\n      renderValues.deferreds.push(self.saveDeferred.promise());\n    }\n  },\n\n  /**\r\n      * Builds the upload item url\r\n      * @returns {*}\r\n      */\n  buildItemUrlOffline: function buildItemUrlOffline() {\n    var self = this;\n    var properties = self.properties;\n    var formParams = self.getFormParams();\n    var imageId = self.buildOfflineImageId();\n    var loadImageFromForm = !properties.isChanged;\n\n    var parameters = {\n      idCase: formParams.idCase,\n      idWorkitem: formParams.idWorkitem,\n      id: imageId,\n      offlineType: formParams.offlineType,\n      loadImageFromForm: loadImageFromForm };\n\n\n    return $.when(self.dataService.getOfflineImage(parameters, bizagi.util.db.AttachmentType.Blob)).\n    then(function (blob) {\n      self.setData(blob);\n      if (blob == null || window.Blob && blob instanceof Blob && blob.size === 0) return null;\n      return bizagi.util.blobTob64(blob, false);\n    }).\n    then(function (base64) {\n      return bizagi.util.getDataUrl(base64, properties.url);\n    });\n  },\n\n  // endregion // #endregion\n\n  // region // #region UTILS TO CONTROL\n\n  /**\r\n   * Update actions\r\n   * @param state\r\n   */\n  setState: function setState(state) {\n    var self = this;\n    var $actions = $(\".bz-actions\", this.getControl());\n    var message = \"\";\n\n    self.currentState = state;\n\n    switch (state) {\n      case self.STATE_TYPE.edit:\n        message = self.getResourceByKey(\"render-signature-title-edit\", self.RESOURCES_FALLBACK.TITLE_EDIT);\n        break;\n      case self.STATE_TYPE.draw:\n        message = self.getResourceByKey(\"render-signature-title-draw\", self.RESOURCES_FALLBACK.TITLE_DRAW);\n        break;\n      case self.STATE_TYPE.done:\n        message = self.getResourceByKey(\"render-signature-title-done\", self.RESOURCES_FALLBACK.TITLE_DONE);\n        break;}\n\n\n    // Update message\n    $(\".bz-actions__status\", $actions).text(message);\n\n    // Update actions\n    self.setActions(state);\n  },\n\n  /**\r\n      * Update action state\r\n      * @param state\r\n      */\n  setActions: function setActions(state) {\n    var self = this;\n    var $actions = $(\".bz-actions\", this.getControl());\n\n    if ([self.STATE_TYPE.draw].includes(state)) {\n      // Hidden action\n      $actions.find(\"[data-action='edit']\").addClass(\"bz-hidden\");\n\n      // Show actions\n      $actions.find(\"[data-action='clear']\").removeClass(\"bz-hidden\");\n      $actions.find(\"[data-action='save']\").removeClass(\"bz-hidden\");\n    } else if ([self.STATE_TYPE.edit].includes(state)) {\n      // Show actions\n      $actions.find(\"[data-action='edit']\").removeClass(\"bz-hidden\");\n\n      // Hidden action\n      $actions.find(\"[data-action='clear']\").addClass(\"bz-hidden\");\n      $actions.find(\"[data-action='save']\").addClass(\"bz-hidden\");\n    }\n  },\n\n  buildOfflineImageId: function buildOfflineImageId() {\n    var self = this;\n    var form = self.getFormContainer();\n    var isVersion2OrSuperior = form.properties.compatibilityVersion >= 2;\n    var isStartForm = !form.properties.isTaskForm;\n\n    return self.dataService.fileService.buildOfflineImageId(self.properties.value, self.properties.xpathContext, self.properties.xpath, isVersion2OrSuperior, isStartForm);\n  },\n\n  buildOfflineFileLoadingKey: function buildOfflineFileLoadingKey() {\n    var self = this;\n    var form = self.getFormContainer();\n    var idCase = form.getParams().idCase;\n    var idWorkitem = form.getParams().idWorkitem;\n\n    var key = idCase;\n    if (!bizagi.util.isEmpty(idWorkitem)) key += \"-\" + idWorkitem;\n    key += \"-\";\n    if (!bizagi.util.isEmpty(self.properties.xpathContext)) key += \"-\" + self.properties.xpathContext;\n    key += self.properties.xpath;\n\n    return key;\n  },\n\n  getDataFileFromSignature: function getDataFileFromSignature(signature) {\n    try {\n      var binary = atob(signature);\n      var array = bizagi.util.stringToByteArray(binary);\n\n      return new Blob([new Uint8Array(array)], { type: \"image/png\" });\n    } catch (e) {\n      return \"\";\n    }\n  },\n\n  setSignature: function setSignature($container) {\n    var url = this.properties && this.properties.url;\n\n    try {\n      if (!bizagi.util.isEmpty(url)) {\n        $container.BzjSignature(\"reset\");\n        $container.BzjSignature(\"setData\", url);\n      }\n    } catch (err) {\n    }\n  },\n\n  /**\r\n      * Provides a way to asynchronously observe changes in the resize\r\n      * of a target element\r\n      * @param $context\r\n      * @param callbackFn\r\n      */\n  setResizeObserver: function setResizeObserver($context, callbackFn) {\n    var self = this;\n    var initialWidth = 0;\n\n    var resizeObserver = new ResizeObserver(function (entries) {\n      var entry = entries[0];\n      if (entry.contentRect) {\n        if (initialWidth !== entry.contentRect.width && entry.contentRect.width !== 0) {\n          initialWidth = entry.contentRect.width;\n          if (typeof callbackFn === \"function\") {\n            callbackFn();\n          }\n        }\n      }\n    });\n\n    resizeObserver.observe($context.get(0));\n  },\n\n  /**\r\n      * Get container of control\r\n      * @param selectorClass\r\n      * @returns {*}\r\n      */\n  getSignatureContainer: function getSignatureContainer(selectorClass) {\n    var contextClass = selectorClass || \".bz-signature__container\";\n    return this.getSignatureContext(contextClass);\n  },\n\n  /**\r\n      * Get context of control\r\n      * @param selectorClass\r\n      * @returns {jQuery|HTMLElement}\r\n      */\n  getSignatureContext: function getSignatureContext(selectorClass) {\n    var $control = this.getControl();\n    return $(selectorClass, $control);\n  }\n\n  // endregion // #endregion\n});","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /**\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Name: Bizagi Render Column Decorator Class\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Author: Bizagi UI Forms\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Comments:\r\n                                                                                                                                                                                                                                                                                                                                                                                *   -   This script will define basic stuff for Columns\r\n                                                                                                                                                                                                                                                                                                                                                                                */\n\nbizagi.rendering.element.extend(\"bizagi.rendering.columns.column\", {}, {\n  /*\r\n                                                                         *   Constructor\r\n                                                                         */\n  init: function init(params) {\n    // Call base\n    this._super(params);\n\n    // Save original properties\n    this.originalProperties = JSON.parse(JSON.encode(this.properties));\n\n    this.decoratedClass = params.decorated;\n    this.data = params.data;\n    if (params.singleInstance) {\n      this.decorated = new this.decoratedClass({\n        data: this.data,\n        parent: this.parent,\n        renderFactory: this.renderFactory,\n        dataService: this.dataService });\n\n      this.decorated.getControl = this.getControl;\n      params.decorated = this.decorated;\n      this.decorated.properties.isColumn = true;\n    } else {\n      this.decorateRenders = [];\n    }\n    this.grid = params.parent;\n\n    // Set base column styles\n    var properties = this.properties;\n\n    properties.columnVisible = bizagi.util.parseBoolean(properties.columnVisible) != null ? bizagi.util.parseBoolean(properties.columnVisible) : true;\n    properties.align = properties.align || 'center';\n    properties.textFormat = properties.textFormat || {};\n    properties.submitOnChange = typeof properties.submitOnChange != \"undefined\" ? bizagi.util.parseBoolean(properties.submitOnChange) : false;\n    properties.singleInstance = params.singleInstance;\n    properties.editable = typeof properties.editable != \"undefined\" ? bizagi.util.parseBoolean(properties.editable) : true;\n    properties.visible = typeof properties.visible != \"undefined\" ? bizagi.util.parseBoolean(properties.visible) : true;\n    properties.required = typeof properties.required != \"undefined\" ? bizagi.util.parseBoolean(properties.required) : false;\n    properties.showColumn = typeof properties.showColumn != \"undefined\" ? bizagi.util.parseBoolean(properties.showColumn) : true;\n    properties.isSortable = typeof properties.isSortable != \"undefined\" ? bizagi.util.parseBoolean(properties.isSortable) : true;\n\n    // Define if it is editable or not        \n    try {\n      if (params.parent && typeof params.parent.properties.editable == \"boolean\" && !params.parent.properties.editable) {\n        properties.editable = false;\n      }\n    } catch (e) {\n    }\n\n    // Define if the column is readonly\n    this.readonly = properties.readonly !== undefined ? properties.readonly : false;\n    if (this.readonly) properties.editable = required = false;\n  },\n\n  /*\r\n     *   Return true if the column is read-only, so we can make a quick render\r\n     */\n  isReadonly: function isReadonly() {\n    return false;\n  },\n\n  /*\r\n     *   Method to retrieve the decorated control\r\n     */\n  getControl: function getControl() {\n    var self = this;\n    return $(\".ui-bizagi-render-control\", self.element || self.observableElement);\n  },\n  /*\r\n     *   Returns the decorated cell instance to use\r\n     */\n  getDecorated: function getDecorated(surrogateKey) {\n    var self = this;\n    var properties = self.properties;\n    if (properties.singleInstance) {\n      return self.decorated;\n    } else {\n      var decorated = self.decorateRenders[surrogateKey];\n      if (decorated == undefined) {\n        if (_typeof(self.decorateRenders) != \"object\") {\n          self.decorateRenders = [];\n        }\n        var instanceDecoratedClass = new this.decoratedClass({\n          data: bizagi.clone(this.data),\n          parent: this.parent,\n          renderFactory: this.renderFactory,\n          dataService: this.dataService });\n\n        decorated = instanceDecoratedClass;\n        self.decorateRenders[surrogateKey] = instanceDecoratedClass;\n\n        // Set surrogate key to all controls\n        decorated.surrogateKey = surrogateKey;\n\n        // Execute decorated overrides\n        self.applyOverrides(decorated);\n\n        var dataType = bizagi.util.normalizeType(decorated.properties.type);\n        // Also override setDisplayValue on summary row for non numeric columns\n        if (surrogateKey === \"summary\" && !/columnMoney/i.test(dataType) && !/columnNumber/i.test(dataType)) {\n\n          decorated.setDisplayValue = function (value) {\n            var control = this.getControl();\n\n            // Replace line breaks for html line breaks\n            control.html(value);\n          };\n        }\n      }\n      return decorated;\n    }\n  },\n  /*\r\n     *   Set a ready function to execute when the render has been inserted in the dom\r\n     */\n  ready: function ready() {\n    return this.readyDeferred.promise();\n  },\n  /*\r\n     *   Load stuff needed for the column\r\n     *   It could return a promise if the column need to load async stuff\r\n     */\n  initialize: function initialize() {\n    // Override to do any stuff needed here\n  },\n  /* \r\n     *  Method to determine if the render value can be sent to the server or not\r\n     */\n  canBeSent: function canBeSent(surrogateKey, cellOverrides) {\n    var self = this;\n    var decorated = self.getDecorated(surrogateKey);\n\n    if (cellOverrides) {\n      decorated.properties.visible = cellOverrides.visible;\n      decorated.properties.editable = cellOverrides.editable;\n    }\n    return decorated.canBeSent() || !self.properties.editable && self.hasChanged() || !decorated.properties.editable && self.hasChanged();\n  },\n  /*\r\n     *   Method to check if a value is valid or not in this render\r\n     */\n  isValueValid: function isValueValid(surrogateKey, value, messages, propertyOverrides) {\n    var self = this;\n    var decorated = self.getDecorated(surrogateKey);\n    var invalidElements = [];\n\n    if (propertyOverrides.visible) {\n      self.setValue(surrogateKey, value);\n\n      // Override properties\n      decorated.properties = $.extend(decorated.properties, propertyOverrides);\n\n      if (self.grid && typeof decorated.grid === \"undefined\") {\n        decorated.grid = self.grid;\n      }\n\n      // Validate field\n      decorated.isValid(invalidElements);\n    }\n\n    if (invalidElements.length > 0) {\n      $.each(invalidElements, function (i, invalidElement) {\n        messages.push(invalidElement.message);\n      });\n      return false;\n    }\n\n    return true;\n  },\n  /*\r\n     *   Apply custom overrides to each decorated instance\r\n     */\n  applyOverrides: function applyOverrides(decorated) {\n  },\n  /*\r\n     *   Returns the in-memory processed element \r\n     *   so the caller could append it to any place\r\n     */\n  render: function render(surrogateKey, value) {\n    var self = this;\n    var properties = self.properties;\n    // Set grid and id references to the control in order to render the content\n    var decorated = self.getDecorated(surrogateKey);\n    decorated.grid = self.grid;\n    decorated.column = this;\n    decorated.surrogateKey = surrogateKey;\n\n    // Set cell value\n    self.setValue(surrogateKey, value);\n\n    // Override render properties\n    self.overrideDecoratedRenderProperties(surrogateKey);\n\n    // Set flag to check when a render has changed\n    self.changed = false;\n\n    // If the render is not editable return the readonly version of the column\n    //Fix: Uncaught RangeError: Maximum call stack size exceeded\n    if (!properties.editable && arguments[3] !== \"CALLER_RENDER_READ_ONLY_COLUMNSLINK\")\n    return self.renderReadOnly.apply(self, arguments);\n\n    // Returns the decorated render inside a custom layout for columns\n    self.readyDeferred = new $.Deferred();\n    var cell = decorated.render(\"cell\");\n\n    // If the render changes set the flag on\n    decorated.bind(\"renderchange\", function () {\n      self.changed = true;\n    });\n\n    self.bind(\"rendered\", function () {\n      self.readyDeferred.resolve();\n    });\n\n    return cell;\n  },\n  /*\r\n     *   Post process the element after it has been rendered\r\n     */\n  postRender: function postRender(surrogateKey, cell) {\n    var self = this;\n    var decorated = self.getDecorated(surrogateKey);\n    decorated.postRenderElement(cell);\n  },\n  /*\r\n     *   Returns the in-memory processed element when the element is read-only\r\n     */\n  renderReadOnly: function renderReadOnly(surrogateKey, value) {\n    var self = this;\n    // Set grid and id references to the control in order to render the content\n    var decorated = self.getDecorated(surrogateKey);\n    decorated.grid = self.grid;\n    decorated.column = this;\n    decorated.surrogateKey = surrogateKey;\n\n    // Set cell value\n    self.setValue(surrogateKey, value);\n\n    // Override render properties\n    self.overrideDecoratedRenderProperties(surrogateKey);\n\n    // Changes editable to false to render read-only\n    decorated.properties.editable = false;\n\n    // Perform the internal render\n    self.readyDeferred = new $.Deferred();\n    var result = decorated.render(\"cell.readonly\");\n\n    self.bind(\"rendered\", function () {\n      self.readyDeferred.resolve();\n    });\n\n    // Returns the decorated render inside a custom layout for columns\n    return result;\n  },\n\n  /*\r\n     *  Returns the html template to draw the summary cell\r\n     */\n  renderSummary: function renderSummary(key, value) {\n    var self = this;\n    var result = self.renderFactory.getTemplate(\"cell.summary\");\n    return $.tmpl(result).html();\n  },\n\n  /*\r\n     *   Post process the element after it has been rendered\r\n     */\n  postRenderReadOnly: function postRenderReadOnly(surrogateKey, cell) {\n    var self = this;\n    var decorated = self.getDecorated(surrogateKey);\n    var editable = self.properties.editable;\n    decorated.properties.editable = false;\n    if (self.properties.singleInstance) {\n      decorated.element = cell;\n    }\n    decorated.postRenderElement(cell);\n    decorated.properties.editable = editable;\n  },\n\n  /*\r\n     * Return false to all columns that doesn't need special treatment (like number or currency)\r\n     */\n  postRenderSummary: function postRenderSummary() {\n    return false;\n  },\n\n  /*\r\n     *   Returns the cell html to be inserted in the table\r\n     */\n  getCell: function getCell() {\n    return this.decorated.getDisplayValue();\n  },\n  /*\r\n     *   Sets the surrogate key for this row\r\n     */\n  setSurrogateKey: function setSurrogateKey(key) {\n    this.surrogateKey = key;\n  },\n  /*\r\n     *   Sets the internal value, only must be called internally\r\n     */\n  setValue: function setValue(surrogateKey, value) {\n    var self = this;\n\n    var decorated = self.getDecorated(surrogateKey);\n    if (decorated != \"undefined\" && decorated != null) {\n\n      decorated.properties.originalValue = value;\n      decorated.properties.previousValue = value;\n\n      if ((value === null || value === undefined) && (self.properties.defaultvalue !== undefined || self.properties.defaultValue !== undefined) && decorated.grid != undefined) {\n        value = self.setDefaultValue(surrogateKey, decorated);\n      }\n\n      decorated.properties.value = value;\n      decorated.setValue(value, false);\n    }\n  },\n\n  /*\r\n     * Set the cell default value and make this action as a change to send it to server\r\n     */\n  setDefaultValue: function setDefaultValue(surrogateKey, decorated) {\n    var self = this;\n    var value = undefined;\n\n    if (self.properties.defaultvalue !== null && self.properties.defaultvalue !== undefined) {\n      value = self.properties.defaultvalue;\n    } else {\n      if (self.properties.defaultValue !== null && self.properties.defaultValue !== undefined) {\n        value = self.properties.defaultValue;\n      }\n    }\n\n    decorated.grid.changes[surrogateKey] = decorated.grid.changes[surrogateKey] || {};\n    decorated.grid.changes[surrogateKey][self.properties.xpath] = value;\n\n    return value;\n  },\n  /*\r\n     *   Gets the internal value\r\n     */\n  getValue: function getValue(surrogateKey) {\n    var self = this;\n    var decorated = self.getDecorated(surrogateKey);\n    return decorated.getValue();\n  },\n  /*\r\n     *   Gets the composite value (applies for non-standard render values)\r\n     */\n  getCompositeValue: function getCompositeValue(surrogateKey) {\n    return this.getValue(surrogateKey);\n  },\n  /*\r\n     *   Returns the element type\r\n     */\n  getElementType: function getElementType() {\n    return bizagi.rendering.element.ELEMENT_TYPE_COLUMN;\n  },\n  /*\r\n     *   Determines if a render has changed its value\r\n     */\n  hasChanged: function hasChanged() {\n    return this.changed;\n  },\n  /*\r\n     *   Triggers an event inside the control\r\n     */\n  trigger: function trigger(eventType, data) {\n    if (this.decorated)\n    this.decorated.trigger(eventType, data);\n  },\n  /*\r\n     *   Triggers an event handler inside the control\r\n     */\n  triggerHandler: function triggerHandler(eventType, data) {\n    if (this.decorated)\n    this.decorated.triggerHandler(eventType, data);\n  },\n  /*\r\n     *   Binds to an event\r\n     */\n  bind: function bind(eventType, fn) {\n    if (this.decorated)\n    this.decorated.bind(eventType, fn);\n  },\n  /*\r\n     *   Unbinds to an event\r\n     */\n  unbind: function unbind(eventType, fn) {\n    if (this.decorated)\n    this.decorated.unbind(eventType, fn);\n  },\n  /*\r\n     *   Override decorated properties\r\n     */\n  overrideDecoratedRenderProperties: function overrideDecoratedRenderProperties(surrogateKey) {\n    var self = this;\n    var decorated = self.getDecorated(surrogateKey);\n\n    // Override decorated control properties\n    decorated.properties.editable = this.properties.editable;\n    decorated.properties.visible = this.properties.visible;\n    decorated.properties.required = this.properties.required;\n  },\n\n  overrideProperties: function overrideProperties(properties) {\n    var self = this;\n\n    self.properties.editable = properties.editable || self.properties.editable;\n    self.properties.visible = properties.visible || self.properties.visible;\n    self.properties.required = properties.required || self.properties.required;\n  },\n\n  /*\r\n     *   Returns the xpath used to sort the grid\r\n     */\n  getSortName: function getSortName() {\n    var self = this;\n\n    // Check if there is an override for the default behaviour \n    var decorated = self.getAnyDecoratedInstance();\n    if (decorated && decorated.getSortColumn) {\n      return decorated.getSortColumn();\n    }\n\n    // Default behaviour\n    return self.properties.xpath;\n  },\n\n  /*\r\n     *   Returns any of the decorated instances, if there are none, return null\r\n     */\n  getAnyDecoratedInstance: function getAnyDecoratedInstance() {\n    var self = this;\n    var first;\n\n    // Get the first key for the hash\n    for (first in this.decorateRenders) {break;}\n\n    // Return the first decorated render\n    if (first) return this.decorateRenders[first];\n\n    return null;\n  },\n\n  dispose: function dispose() {\n    var self = this;\n\n    var timeOutDecorated = setTimeout(function () {\n      if (self.decorated) {\n        self.decorated.unbind(\"renderchange\");\n        self.decorated.dispose();\n      }\n\n      if (self.decorateRenders) {\n        bizagi.util.arrayEach(self.decorateRenders, function (key, render) {\n          if (render) {\n            render.unbind(\"renderchange\");\n            render.dispose();\n          }\n        });\n      }\n      clearTimeout(timeOutDecorated);\n    }, bizagi.override.disposeTime || 50);\n\n    // Call base\n    self._super();\n  } });","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);} /*\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Name: BizAgi Rendering\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Author: Diego Parra\r\n                                                                                                                                                                                                                                                                                                                                                                                *   Comments:\r\n                                                                                                                                                                                                                                                                                                                                                                                *   -   This script will process a rendering page by calling an ajax service to retrieve the model,\r\n                                                                                                                                                                                                                                                                                                                                                                                *       and then process it to create base layout, and then call the device render factory\r\n                                                                                                                                                                                                                                                                                                                                                                                */\n\n// Define BizAgi Rendering namespace\nbizagi.rendering = bizagi.rendering || {};\n\n/*\r\n                                            *   This class will define a method to process the page\r\n                                            *   1. Fetch the data\r\n                                            *   2. Call the device factory to appropriately render the content\r\n                                            */\n$.Class.extend(\"bizagi.rendering.facade\", {\n  form: undefined,\n  executionDeferred: new $.Deferred() },\n{\n  /*\r\n  *   Constructor\r\n  */\n  init: function init(params) {\n    params = params || {};\n\n    // Set observable element\n    this.observableElement = $({});\n\n    // Injection of Device, only for print version purpose\n    var device = params.device || \"\";\n\n    // Defines a device factory for all rendering\n    this.deviceFactory = new bizagi.rendering.device.factory();\n\n    // Creates a data service instance\n    this.dataService = new bizagi.render.services.service(params);\n\n    // Retrieves the render factory\n    this.renderFactory = this.deviceFactory.getRenderFactory(this.dataService, device);\n  },\n  getFactory: function getFactory() {\n    var self = this;\n    return {\n      deviceFactory: self.deviceFactory,\n      dataService: self.dataService,\n      renderFactory: self.renderFactory };\n\n  },\n  /*\r\n     *   Subscribe method\r\n     */\n  subscribe: function subscribe() {\n    this.observableElement.bind.apply(this.observableElement, arguments);\n  },\n  /*\r\n     *   Unsubscribe method\r\n     */\n  unsubscribe: function unsubscribe() {\n    this.observableElement.unbind.apply(this.observableElement, arguments);\n  },\n  /*\r\n     *   Publish method\r\n     */\n  publish: function publish() {\n    return this.observableElement.triggerHandler.apply(this.observableElement, arguments);\n  },\n  /*\r\n     *   This method will re-execute the process\r\n     */\n  update: function update(params) {\n    var self = this;\n\n    // Update rendering mode\n    if (params.mode)\n    self.mode = params.mode;\n\n    // Enable form buttons on desktop view\n    return self.execute($.extend({\n      canvas: self.canvas,\n      mode: self.mode },\n    params));\n  },\n  /*\r\n     *   Start point method to use in the main javascript pages\r\n     *   This method will process everything and attach the html directly to the dom\r\n     */\n  execute: function execute(params) {\n    var self = this;\n    var doc = this.ownerDocument;\n    var body = $(\"body\", doc);\n    params = params || {};\n\n    // Creates ready deferred\n    if (self.executionDeferred && self.executionDeferred.state) {\n      if (self.executionDeferred.state() == \"resolved\") {\n        self.executionDeferred = $.Deferred();\n      }\n    } else {\n      self.executionDeferred = $.Deferred();\n    }\n\n    // Performance measurement stuff\n    bizagi.chrono.initAndStart(\"rendering+data\", true);\n    bizagi.rendering.render.startOptimization();\n\n    // Override mode\n    if (typeof params.mode === \"undefined\") {\n      if (!bizagi.util.isEmpty(window.location.search)) {\n        var queryString = bizagi.util.getQueryString();\n        params.mode = queryString[\"mode\"];\n      }\n    }\n\n    // If the canvas is not given, we need to create one\n    var canvas = self.canvas = params.canvas = params.canvas || $(\"<div />\").appendTo(body);\n    self.mode = params.mode;\n\n    self.sendExecutingPostMessageWebparts();\n\n    self.process(params).done(function (form) {\n\n      // Clear canvas    \n      if (!params.refreshing) {\n        canvas.empty();\n      }\n\n      // Append content\n      canvas.append(form.container);\n\n      // Include process path\n      $(form.pathProcess).insertBefore(form.container);\n\n      // Keep reference in class\n      self.form = form;\n      self.form.setSize({ width: self.lastWidth, height: self.lastHeight });\n\n      // Save window size variables\n      var timeoutResize = setTimeout(function () {\n        self.lastWidth = $(window).width();\n        self.lastHeight = $(window).height();\n        if (window.self !== window.top)\n        self.resizeInPopUpHTML();\n        clearTimeout(timeoutResize);\n      }, 2000);\n\n      // Publish an event to check if the form has been set in the DOM\n      form.triggerHandler(\"ondomincluded\");\n\n      // Notify to module users that the form has been rendered\n      self.publish(\"rendering-formRendered\", { form: form });\n      //Configure triggers\n      self.configureOpenForm(form);\n\n      // Configure handlers\n      self.configureRefresh(form, canvas);\n      self.configureRouting(form, canvas);\n      self.configureRenderError(form, canvas);\n      self.configureResize(form);\n      self.configureGlobalHandlers(form);\n\n      // Check if it is a summary form\n      if (params.summaryForm) {\n        form.container.addClass(\"ui-bizagi-summary-form\");\n      }\n\n      // Ends main timer and log everything\n      bizagi.chrono.stopAndLog(\"rendering\");\n      bizagi.chrono.stopAndLog(\"rendering+data\");\n      bizagi.chrono.stopAndLog(\"submitForm\");\n      bizagi.chrono.stopAndLog(\"submitForm-ajax\");\n      bizagi.chrono.stopAndLog(\"waiting\");\n\n      // Resolves deferred\n      bizagi.rendering.render.stopOptimization();\n\n      // Expose public reference of form\n      if (bizagi.override.enableE2EInterface) {\n        self.Class.form = self.form;\n        self.Class.executionDeferred.resolve(self.form);\n      }\n\n      self.executionDeferred.resolve(self.form);\n\n    }).fail(function (message, errorType) {\n\n      $.when(self.renderFactory).\n      done(function (renderFactory) {\n\n        if (typeof message === \"undefined\" || message === \"\") {\n          message = bizagi.localization.getResource(\"render-error-unknown\");\n        }\n\n        var errorTemplate = renderFactory.getCommonTemplate(\"form-error\");\n        // Fill canvas\n        canvas.empty();\n        canvas.append($.tmpl(errorTemplate, {\n          message: message }));\n\n        self.publish(\"rendering-formRenderedError\", message);\n        self.canvas.triggerHandler(\"errorform\", message);\n        // Ends main timer and log everything\n        bizagi.chrono.stopAndLog(\"rendering\");\n        bizagi.chrono.stopAndLog(\"rendering+data\");\n\n        self.executionDeferred.reject();\n      });\n    });\n\n    return self.executionDeferred.promise();\n  },\n  /*\r\n     *   Returns the execution deferred to determine if the component is ready or not\r\n     */\n  ready: function ready() {\n    return this.executionDeferred.promise();\n  },\n  /*\r\n     *   Loads data and render factory in order to process the form\r\n     *   Returns a deferred to set callbacks when the process is done\r\n     */\n  process: function process(params) {\n    var self = this;\n    var defer = new $.Deferred();\n\n    // Call get form data service\n    var dataPromise = self.dataService.getFormData(params);\n\n    var canvas = self.canvas || params.canvas;\n\n    bizagi.showErrorAlertDialog = false;\n    // Set callback when requests have been done\n    $.when(dataPromise, self.renderFactory).\n    done(function (data, renderFactory) {\n      bizagi.showErrorAlertDialog = true;\n\n      // When there is no data trigger an event\n      if (bizagi.util.isEmpty(data)) {\n        self.publish(\"no-data-found\");\n        defer.fail();\n        return;\n      }\n\n      if (data && data.type == \"reload\") {\n        var form = self.form;\n        if (form) {\n          form.endLoading();\n          form.dispose();\n        }\n        // Trigger handler on canvas\n        canvas.triggerHandler(\"routing\", data);\n\n      } else if (data && data.type == \"suspended\") {\n        var errorTemplate = renderFactory.getTemplate(\"info-message\");\n        var message = bizagi.localization.getResource(\"render-case-suspended\");\n        var errorHtml = $.tmpl(errorTemplate, {\n          message: message });\n\n        // Remove loading icon from summary container\n        errorHtml.appendTo(canvas);\n\n        defer.fail();\n\n      } else if (data && data.type != \"error\") {\n        if (params.hasOwnProperty('printversion')) {\n          data = self.transformGridControl(data);\n          data.form.properties.editable = \"False\";\n        }\n\n        bizagi.chrono.initAndStart(\"rendering\");\n        params.type = data.form && data.form.properties.type || params.type;\n        var form = self.processForm(data.form, renderFactory, params);\n\n        // Resolve deferred\n        defer.resolve(form);\n\n      } else {\n        self.getFailDeferred(data, defer);\n      }\n    }).fail(function (errorMessage) {\n      self.getFailDeferred(errorMessage, defer);\n    });\n\n    return defer.promise();\n  },\n  /**\r\n      * In the print version widget when grid control was rendered, the main render has broken\r\n      * Is necesary change id of grid control to fixed these  problems\r\n      */\n  transformGridControl: function transformGridControl(data) {\n    var self = this;\n    if (data == null) {\n      return data;\n    }\n\n    if (data.hasOwnProperty('type') && data.type == 'grid') {\n      data.id = data.id + \"-print\";\n      data.allowAdd = \"False\";\n      data.allowDelete = \"False\";\n      data.allowEdit = \"False\";\n      data.allowGrouping = \"False\";\n      data.allowMore = \"False\";\n      data.allowSearch = \"False\";\n    } else {\n      $.each(data, function (key, value) {\n        if (_typeof(value) == 'object') {\n          data[key] = self.transformGridControl(data[key]);\n        }\n      });\n    }\n    return data;\n  },\n  /**\r\n      * Resolve deferred\r\n      */\n  getFailDeferred: function getFailDeferred(errorMessage, defer) {\n    var self = this;\n    var message = \"\";\n    var jsonErrorMessage = {};\n    try {\n      jsonErrorMessage = JSON.parse(errorMessage.responseText);\n    } catch (e) {\n      jsonErrorMessage = { message: errorMessage.responseText, errorType: \"ERRORUNKNOWN\" };\n    }\n\n\n    if (jsonErrorMessage.message) {\n      message += \"<br>Error Type: \" + jsonErrorMessage.errorType;\n      message += \"<br>Error Message: \" + jsonErrorMessage.message;\n    } else {\n      if (jsonErrorMessage.errorType == \"JSharpNotSupportedException\") {\n        message += \"<br>Error Message: \" + bizagi.localization.getResource(\"jsharp-required\");\n      }\n    }\n\n    // Error in metadata InvalidFormMetadata\n    if (jsonErrorMessage.errorType == 'ERRORUNKNOWN') {\n      defer.reject(message, jsonErrorMessage.errorType);\n    } else {\n\n      defer.reject(message);\n    }\n  },\n  /*\r\n     *   Process the form\r\n     */\n  processForm: function processForm(data, renderFactory, params) {\n    var form = renderFactory.getContainer($.extend(params, {\n      type: params.type || \"form\",\n      data: data }));\n\n\n    // Render the full form\n    form.render();\n\n    return form;\n  },\n  /*\r\n     *   Performs a resize\r\n     */\n  resize: function resize(args) {\n    var self = this;\n    if (self.form) {\n      self.form.trigger(\"renderresize\", args);\n    }\n  },\n  /*\r\n     *   Binds a refresh handler to detect when the whole form needs to fetch all data from server\r\n     */\n  configureRefresh: function configureRefresh(form, canvas) {\n    var self = this;\n\n    // Attach a refresh handler to recreate all the form\n    form.bind(\"refresh\", function (_, refreshParams) {\n\n      // Find the scroll top\n      var parent = form.container.parent();\n      parent = bizagi.util.scrollTop(parent);\n      var scrollTop = parent.scrollTop();\n\n      $(self.form).trigger(\"onRefreshStarted\");\n\n      //Dispose current form\n      form.dispose(refreshParams);\n      canvas.fastEmpty();\n      var canvasParent = canvas.parent();\n      if (canvasParent.find(\".ui-bizagi-button-container\").length > 0) {\n        canvasParent.find(\".ui-bizagi-button-container\").remove();\n      }\n\n      if (self.executionDeferred && self.executionDeferred.state) {\n        if (self.executionDeferred.state() == \"resolved\") {\n          self.executionDeferred = $.Deferred();\n        }\n      }\n\n      var formParams = self.form.getParams();\n      if (bizagi.util.isMobileDevice() && formParams.isOfflineForm === true) {\n        $.extend(refreshParams, {\n          isOfflineForm: true,\n          offlineType: formParams.offlineType,\n          isOpen: formParams.isOpen });\n\n        refreshParams.online = (\"\" + BIZAGI_ENVIRONMENT).toLowerCase() === \"debug\" ?\n        form.online : bizagi.util.isConnected();\n      }\n\n      // Re-execute process\n      $.when(self.execute($.extend(refreshParams, {\n        canvas: canvas,\n        refreshing: true,\n        idCase: formParams.idCase,\n        displayName: formParams.displayName }))).\n      done(function () {\n\n        // Restore scroll at same position\n        var timeoutTrigger = setTimeout(function () {\n          parent.scrollTop(scrollTop);\n          $(self.form).trigger(\"onRefreshFinished\");\n          clearTimeout(timeoutTrigger);\n        }, 100);\n      });\n\n      return self.executionDeferred.promise();\n    });\n  },\n  /*\r\n     *   Binds a resize hanlder to configure the resize behaviour\r\n     */\n  configureResize: function configureResize(form) {\n    var self = this;\n\n    // Attach resize handler\n    form.bind(\"renderresize\", function (_, args) {\n      args = args || {};\n      // Just allow one resize at a time\n      if (self.resizeTimeout)\n      return;\n      var resizeFn = function resizeFn() {\n        // Call resize event in form\n        var width = $(window).width();\n        var height = $(window).height();\n        if (args.forceResize || width != self.lastWidth) {\n\n          // Logging stuff\n          bizagi.chrono.initAndStart(\"resize\");\n\n          // Perform resize\n          form.resize({\n            width: width,\n            height: height });\n\n          self.lastWidth = width;\n          self.lastHeight = height;\n\n          // Logging stuff\n          bizagi.chrono.stopAndLog(\"resize\");\n          bizagi.chrono.log(\"resize\");\n        }\n\n        self.resizeTimeout = null;\n        clearTimeout(self.resizeTimeout);\n      };\n      self.resizeTimeout = setTimeout(resizeFn, 0);\n\n    });\n    self.resize();\n  },\n  /*\r\n     *   Binds a routing handler to detect when the workportal need to enroute the case\r\n     */\n  configureRouting: function configureRouting(form, canvas) {\n    // Attach a routing handler to notify to the caller\n    form.bind(\"routing\", function (context, triggerParams) {\n      //Dispose current form\n      form.dispose();\n\n      // Trigger handler on canvas\n      canvas.triggerHandler(\"routing\", triggerParams);\n    });\n  },\n  /*\r\n     *   Binds a generic handler that will be replicated to facade instantiators\r\n     */\n  configureGlobalHandlers: function configureGlobalHandlers(form) {\n    var self = this;\n\n    // Attach a routing handler to notify to the caller\n    form.bind(\"globalHandler\", function (_, args) {\n      // Trigger handler on canvas\n      return self.publish(args.eventType, args.data);\n    });\n  },\n  /*\r\n     *   Bind trigger for form opening\r\n     */\n  configureOpenForm: function configureOpenForm(form) {\n    $(document).trigger(\"openForm\", { form: form });\n  },\n\n  /*\r\n     * Binds error form handler to detect when the render element nop posible get information or error in server\r\n     */\n  configureRenderError: function configureRenderError(form, canvas) {\n    var self = this;\n\n    form.bind(\"formRenderingError\", function (event, errorMessage) {\n      $.when(self.renderFactory).\n      done(function (renderFactory) {\n        var message = \"<br>Error: \";\n\n        errorMessage = errorMessage.replace(/(\\r\\n|\\n|\\r)/gm, \"\");\n\n        var jsonErrorMessage = JSON.parse(errorMessage);\n        if (jsonErrorMessage.message) {\n          message += jsonErrorMessage.message;\n          message += \"<br>Error Type: \" + jsonErrorMessage.errorType;\n        }\n        var errorTemplate = renderFactory.getCommonTemplate(\"form-error\");\n        // Fill canvas\n        canvas.empty();\n        canvas.append($.tmpl(errorTemplate, {\n          message: message }));\n\n        //send the type error to differentiate between a form and an item for render\n        self.canvas.triggerHandler(\"errorform\", \"renderItemError\");\n        // Ends main timer and log everything\n        bizagi.chrono.stopAndLog(\"rendering+data\");\n        bizagi.chrono.stopAndLog(\"rendering\");\n      });\n    });\n  },\n\n  dispose: function dispose() {\n    var self = this;\n    if (self.form) {\n      self.form.dispose();\n    }\n    bizagi.util.dispose(self);\n  },\n\n  resizeInPopUpHTML: function resizeInPopUpHTML() {\n    if ($(\".activitiFormContainer\").length > 0 && bizagi.util.getQueryString().type != \"cases\") {\n      var heightActivitiFormContainer = $(\".activitiFormContainer\").height() || 0;\n      var renderForm = $(\".activitiFormContainer #ui-bizagi-webpart-render-container\");\n      var buttonContainer = $(\".ui-bizagi-button-container\", \".activitiFormContainer\");\n      var heightButtonContainer = buttonContainer.outerHeight() || 0;\n      var renderBehavior = bizagi.util.getQueryString().renderBehavior || \"\";\n      renderBehavior = renderBehavior.replace(\"#\", \"\");\n\n      if (renderBehavior == \"PopUp\") {\n        if (typeof self.postMessageSocket == \"undefined\") {\n          var heightCanvas = $(\".activitiFormContainer\").height() - 50 || 396;\n          $(\"#render-canvas\").height(heightCanvas);\n          $(\"#render-canvas\").css(\"overflowY\", \"scroll\");\n        } else $(\".activitiFormContainer\").height($(\".activitiFormContainer\").height() + $(\".ui-bizagi-button-container\").height() + 30);\n        $(\".ui-bizagi-button-container\").css(\"position\", \"absolute\");\n        $(\".ui-bizagi-button-container\").appendTo(\".activitiFormContainer\");\n        if ($(\".ui-bizagi-button-container\").length > 1) {\n          $(\".ui-bizagi-button-container:first\").hide();\n          renderForm.css(\"marginTop\", \"-17px\");\n        }\n      }\n      if (buttonContainer.length > 0) {\n        //display buttons\n        renderForm.height(heightActivitiFormContainer - 97 - heightButtonContainer);\n      }\n      if ($(\".ui-bizagi-button-container\").children().length == 0)\n      $(\"#render-canvas\").height($(\"#render-canvas\").height() + heightButtonContainer);else\n      {\n        buttonContainer.width(\"100%\");\n        buttonContainer.css(\"marginLeft\", 0);\n        buttonContainer.css(\"bottom\", 0);\n      }\n    } else if (bizagi.util.getQueryString().type == \"render\") {\n      $(\"html\").css(\"overflowX\", \"hidden\");\n      $(\"#render\").height() <= window.innerHeight + 5 ? $(\"html\").css(\"overflowY\", \"hidden\") :\n      $(\"html\").css(\"overflowY\", \"scroll\");\n      $(\".ui-widget-overlay\").height(650);\n    }\n  },\n\n  sendExecutingPostMessageWebparts: function sendExecutingPostMessageWebparts() {\n    if (bizagi && bizagi.iframeCommunicator) {\n      bizagi.iframeCommunicator.trigger(\"executing-rendering\", {});\n    }\n  } });","/**\r\n * Autor: Ricardo Pérez\r\n */\n\n(function ($) {\n\n  $.fn.material_bizagi_tabs = function (options, params) {\n\n    var opts = $.extend({}, $.fn.material_bizagi_tabs.defaults, options);\n\n    var base = {\n      index: 0,\n      tabs: [],\n      $el: undefined,\n      $active: undefined,\n      $active_content: undefined,\n      init: function init(el, params) {\n        var self = this;\n        var $tabs = $(\">ul.bz-tabs\", el);\n        var $content_tabs = self.$el = $(el);\n        var $ind;\n        self.index = opts.active_index_tab;\n\n        function updatePositions(active, $indicator) {\n          if (typeof $indicator !== \"undefined\") {\n            var info = updateIndicatorState($tabs.get(0), active.get(0), opts.direction);\n            $indicator.css(\"left\", info.left).css(\"width\", info.width);\n          }\n\n          var scroll_info = scrollSelectedIntoView($tabs.get(0), active.get(0), opts.direction);\n          $tabs.scrollLeft(scroll_info);\n          $tabs.trigger(\"updatePositions\", getTabsMetaInfo($tabs.get(0), active.get(0), opts.direction));\n        }\n\n        $(\">li.bz-tab\", $tabs).each(function (index, element) {\n          if (index === opts.active_index_tab) {\n            self.$active = $(this);\n            self.$active.addClass(\"active\");\n          } else\n          {\n            $($(element).data(\"reference\"), $content_tabs).hide();\n          }\n          self.tabs.push({ index: index, element: element });\n        });\n\n        self.$active_content = $(self.$active.data(\"reference\"), $content_tabs);\n\n        //Updates the initial position\n        updatePositions(self.$active);\n\n        $tabs.on(\"click\", '> li.bz-tab', function (e) {\n          e.stopPropagation();\n\n          if (typeof $ind === \"undefined\") {\n            $ind = $(\"<li class='bz-indicator-bar'></li>\");\n            var info = updateIndicatorState($tabs.get(0), self.$active.get(0), opts.direction);\n            $ind.css(\"left\", info.left).css(\"width\", info.width);\n            $ind = $tabs.prepend($ind).find(\".bz-indicator-bar\");\n          }\n\n          self.$active.removeClass('active');\n          self.$active_content.hide();\n\n          self.$active = $(this);\n\n          var reference = self.$active.data(\"reference\");\n          self.index = self.$active.data(\"index\");\n\n          self.$active_content = $(reference, $content_tabs);\n\n          self.$active.addClass('active');\n\n          //Updates to the current position\n          updatePositions(self.$active, $ind);\n          $tabs.trigger(\"updateActive\", { index: self.index });\n\n          self.$active_content.show();\n          e.preventDefault();\n        });\n\n      },\n      getActiveTab: function getActiveTab() {\n        return {\n          index: this.index,\n          tab: this.$active,\n          contantTab: this.$active_content };\n\n      },\n      moveToNextTab: function moveToNextTab() {\n        var index = this.index + 1 < this.tabs.length ? this.index + 1 : 0;\n        this.tabs[index].element.click();\n      },\n      refreshPositions: function refreshPositions() {\n        this.tabs[this.index].element.click();\n      },\n      refreshTab: function refreshTab(id) {\n        var self = this;\n        var tab = this.tabs.find(function (el) {\n          var el_id = $(el.element).data(\"reference\");\n          return el_id && el_id.indexOf(id) !== -1;\n        });\n\n        if (tab) {\n          if (tab.index === this.index) {\n            self.$active = $(tab.element);\n            self.$active.addClass(\"active\");\n\n            var $content_tabs = self.$el;\n            var reference = self.$active.data(\"reference\");\n            self.index = self.$active.data(\"index\");\n\n            self.$active_content = $(reference, $content_tabs);\n          } else\n          {\n            $($(tab.element).data(\"reference\"), this.$el).hide();\n          }\n        }\n      } };\n\n\n\n    if (typeof options == \"string\" && options) {\n      base = $(this).data(\"base\");\n      if (typeof base == \"undefined\") {\n        console.error(\"this plugin is has not been initialized!!\");\n      }\n      return base[options](params);\n    } else\n    {\n      return this.each(function () {\n        base.init(this, params);\n        $(this).data(\"base\", base);\n      });\n    }\n  };\n\n  $.fn.material_bizagi_tabs.defaults = {\n    direction: 'ltr',\n    active_index_tab: 0 };\n\n\n  function updateIndicatorState(tabs, active_tab, direction) {\n    var tabs_meta = getTabsMetaInfo(tabs, active_tab, direction);\n    var tabs_info = tabs_meta.tabsMetaInfo;\n    var tab_info = tabs_meta.tabMetaInfo;\n\n    var left = 0;\n    if (tabs_info && tab_info) {\n      var tmp_left = \"rtl\" === direction ? tabs_info.scrollLeftNormalized + tabs_info.clientWidth - tabs_info.scrollWidth : tabs_info.scrollLeft;\n      left = tab_info.left - tabs_info.left + tmp_left;\n    }\n    return {\n      left: left,\n      width: tab_info ? tab_info.width : 0 };\n\n  }\n\n  function getTabsMetaInfo(tabs, active_tab, direction) {\n    var tabs_meta_info = void 0;\n    if (tabs) {\n      var r = tabs.getBoundingClientRect();\n      tabs_meta_info = {\n        clientWidth: tabs ? tabs.clientWidth : 0,\n        scrollLeft: tabs ? tabs.scrollLeft : 0,\n        scrollLeftNormalized: tabs ? getNormalizedScrollLeft(tabs, direction) : 0,\n        scrollWidth: tabs ? tabs.scrollWidth : 0,\n        left: r.left,\n        right: r.right };\n\n    }\n    var tab_meta_info = void 0;\n    if (tabs && false !== active_tab) {\n      tab_meta_info = active_tab.getBoundingClientRect();\n    }\n\n    return {\n      tabsMetaInfo: tabs_meta_info,\n      tabMetaInfo: tab_meta_info };\n\n  }\n\n  function getNormalizedScrollLeft(tabs, direction) {\n    var a = tabs.scrollLeft;\n    if (\"rtl\" !== direction)\n    return a;\n    var n = getScrollType(tabs);\n    if (\"indeterminate\" === n)\n    return Number.NaN;\n    switch (n) {\n      case \"negative\":\n        return e.scrollWidth - e.clientWidth + a;\n      case \"reverse\":\n        return e.scrollWidth - e.clientWidth - a;}\n\n    return a;\n  }\n\n  function getScrollType(tabs) {\n    if (!tabs || !window.document.body)\n    return \"indeterminate\";\n\n    var e = window.document.createElement(\"div\");\n    e.appendChild(document.createTextNode(\"ABCD\"));\n    e.dir = \"rtl\";\n    e.style.fontSize = \"14px\";\n    e.style.width = \"4px\";\n    e.style.height = \"1px\";\n    e.style.position = \"absolute\";\n    e.style.top = \"-1000px\";\n    e.style.overflow = \"scroll\";\n    document.body.appendChild(e);\n    type = \"reverse\";\n    if (e.scrollLeft > 0)\n    type = \"default\";else\n    {\n      e.scrollLeft = 1;\n      0 === e.scrollLeft && (type = \"negative\");\n    }\n    document.body.removeChild(e);\n    return type;\n  }\n\n  scrollSelectedIntoView = function scrollSelectedIntoView(tabs, active_tab, direction) {\n    var tabs_meta = getTabsMetaInfo(tabs, active_tab, direction);\n    var tabs_info = tabs_meta.tabsMetaInfo;\n    var tab_info = tabs_meta.tabMetaInfo;\n\n    if (!tab_info || !tabs_info)\n    return;\n\n    var scroll_info = void 0;\n    if (tab_info.left < tabs_info.left) {\n      scroll_info = tabs_info.scrollLeft + (tab_info.left - tabs_info.left);\n    } else if (tab_info.right > tabs_info.right) {\n      scroll_info = tabs_info.scrollLeft + (tab_info.right - tabs_info.right);\n    }\n    return scroll_info;\n  };\n\n})($);","/**\r\n * Material floating button\r\n * By: Nobita\r\n * Repo and docs: https://github.com/nobitagit/material-floating-button\r\n *\r\n * License: MIT\r\n */\n\n// build script hook - don't remove\n(function ($) {\n  $.fn.mfb = function (options) {\n    \"use strict\";\n\n    var animations = [\"mfb-zoomin\", \"mfb-slidein\", \"mfb-slidein-spring\", \"mfb-fountain\"];\n    var placements = [\"mfb-component--tl\", \"mfb-component--tr\", \"mfb-component--bl\", \"mfb-component--br\"];\n\n    /**\r\n                                                                                                            * Some defaults\r\n                                                                                                            */\n    var self = this;\n    var overlay = {\n      element: $(\"<div class='mfb-component__overlay'></div>\"),\n      opened: false };\n\n\n    options = options || {};\n    options.buttons = options.buttons || [];\n    options.activePrincipalButton = options.activePrincipalButton || false;\n    options.placement = typeof options.placement !== \"undefined\" ? placements.indexOf(options.placement) !== -1 ? options.placement : \"mfb-component--br\" : \"mfb-component--br\";\n    options.efect = typeof options.efect !== \"undefined\" ? animations.indexOf(options.efect) !== -1 ? options.efect : \"mfb-slidein\" : \"mfb-slidein\";\n    options.clickHoverOpt = options.clickHoverOpt || \"click\";\n    options.toggleMethod = options.toggleMethod || \"data-mfb-toggle\";\n    options.menuState = options.menuState || \"data-mfb-state\";\n    options.menuStateValue = options.menuStateValue || \"closed\";\n    options.isOpen = options.isOpen || \"open\";\n    options.isClosed = options.isClosed || \"closed\";\n    options.mainButtonClass = options.mainButtonClass || \"mfb-component__button--main\";\n    options.restingIcon = options.restingIcon || \"mo-icon bz-plus\";\n    options.activeIcon = options.activeIcon || \"mo-icon bz-cross\";\n\n    /**\r\n                                                                    * @todo ask: I think this is useless cause we don't need to remove the main button, remove the complete component will be cleaner\r\n                                                                    */\n    // $(\"[\" + options.toggleMethod + \"='\" + options.clickHoverOpt + \"'] .\" + options.mainButtonClass, this).remove();\n    $(this).children(\".mfb-component-holder\").remove();\n    /**\r\n                                                         * @fix How about the events that was bind before?\r\n                                                         */\n\n    var tmpl =\n    \"<ul class=\\\"mfb-component-holder #: data.placement # #: data.efect #\\\" #: data.toggleMethod #=\\\"#: data.clickHoverOpt #\\\" #: data.menuState#=\\\"#: data.menuStateValue #\\\">\" +\n    \"   <li class=\\\"mfb-component__wrap\\\">\" +\n    \"      #if (data.activePrincipalButton && data.buttons.length >= 1){#\" +\n    \"       <a #if(typeof data.buttons[0].label !== \\\"undefined\\\"){# data-mfb-label=\\\"#: data.buttons[0].label #\\\"#}# class=\\\"mfb-component__button--main\\\">\" +\n    \"           <i class=\\\"mfb-component__main-icon--resting mfb-icon-font bz-#:data.restingIcon#\\\"></i><i class=\\\"mfb-component__main-icon--active mfb-icon-font bz-#:data.buttons[0].icon#\\\"></i>\" +\n    \"       </a>\" +\n    \"       #}else{#\" +\n    \"       <a #if(typeof data.label !== \\\"undefined\\\"){# data-mfb-label=\\\"#: data.label #\\\"#}# class=\\\"mfb-component__button--main\\\">\" +\n    \"           <i class=\\\"mfb-component__main-icon--resting mfb-icon-font bz-#:data.restingIcon#\\\"></i><i class=\\\"mfb-component__main-icon--active mfb-icon-font bz-#:data.activeIcon#\\\"></i>\" +\n    \"       </a>\" +\n    \"       #}#\" +\n    \"       # if(data.buttons.length > 0){#\" +\n    \"       <ul class=\\\"mfb-component__list\\\">\" +\n    \"           #for(var i = (data.activePrincipalButton ? 1 : 0), len = data.buttons.length; i< len; i++){#\" +\n    \"           <li data-id=\\\"#: data.buttons[i].id #\\\">\" +\n    \"               <a href=\\\"#: data.buttons[i].link #\\\" data-index=\\\"#: i#\\\" #if(typeof data.buttons[i].label !== \\\"undefined\\\"){# data-mfb-label=\\\"#: data.buttons[i].label #\\\"#}# class=\\\"mfb-component__button--child\\\">\" +\n    \"                  <i class=\\\"mfb-component__child-icon mfb-icon-font bz-#: data.buttons[i].icon #\\\"></i>\" +\n    \"               </a>\" +\n    \"           </li>\" +\n    \"           #}#\" +\n    \"       </ul>\" +\n    \"       #}#\" +\n    \"   </li>\" +\n    \"</ul>\";\n\n    /**\r\n              * Internal references\r\n              */\n    var target,\n    currentState;\n\n    /**\r\n                   * For every menu we need to get the main button and attach the appropriate evt.\r\n                   */\n    function attachEvt(elems, evt, handler) {\n      for (var i = 0, len = elems.length; i < len; i++) {\n        elems[i].addEventListener(evt, handler, false);\n      }\n    }\n\n    function configureBlur(element, blur) {\n      if (blur) {\n        element.siblings().addClass(\"mfb-component__overlay--blur\");\n        element.closest(\"[data-role]\").siblings().addClass(\"mfb-component__overlay--blur\");\n      } else {\n        element.siblings().removeClass(\"mfb-component__overlay--blur\");\n        element.closest(\"[data-role]\").siblings().removeClass(\"mfb-component__overlay--blur\");\n      }\n    }\n\n    /**\r\n       * The open/close action is performed by toggling an attribute\r\n       * on the menu main element.\r\n       *\r\n       * First, check if the target is the menu itself. If it's a child\r\n       * keep walking up the tree until we found the main element\r\n       * where we can toggle the state.\r\n       */\n    function toggleButton(evt) {\n      target = evt.target;\n      while (target && !target.getAttribute(options.toggleMethod)) {\n        target = target.parentNode;\n        if (!target) {\n          return;\n        }\n      }\n      currentState = target.getAttribute(options.menuState) === options.isOpen ? options.isClosed : options.isOpen;\n\n      if (options.activePrincipalButton && currentState !== \"open\") {\n        var button = options.buttons[0];\n        if (options.click) {\n          options.click(evt, $.extend(button, { principal: true }), this);\n        }\n        configureBlur($(target), true);\n      }\n\n      if (currentState === \"open\" && !overlay.opened) {\n        overlay.element.appendTo(target).bind(\"click\", function () {\n          this.remove();\n          overlay.opened = false;\n          target.setAttribute(options.menuState, \"close\");\n          configureBlur($(target), false);\n        });\n        configureBlur($(target), true);\n      } else {\n        overlay.element.remove();\n        configureBlur($(target), false);\n      }\n\n      overlay.opened = !overlay.opened;\n\n      target.setAttribute(options.menuState, currentState);\n    }\n\n    function clickChildButton(evt) {\n      var index = $(this).data(\"index\");\n      var button = options.buttons[index];\n\n      $(\".mfb-component__overlay\", self).click();\n\n      if (options.click) {\n        evt.preventDefault();\n        options.click(evt, $.extend(button, { principal: false }), this);\n      }\n    }\n\n    function clickPrincipalButton(evt) {\n      if (options.click) {\n        evt.preventDefault();\n        options.click(evt, { principal: true }, this);\n      }\n    }\n\n    var template = kendo.template(tmpl, { useWithBlock: false });\n    var html = template(options);\n\n    if (options.position === \"prepend\") {\n      this.prepend(html);\n    } else {\n      this.append(html);\n    }\n\n    // Principal button to toggle\n    var toggle = options.buttons.length > 0 ? toggleButton : clickPrincipalButton;\n    attachEvt($(\"[\" + options.toggleMethod + \"='\" + options.clickHoverOpt + \"'] .\" + options.mainButtonClass, this), \"click\", toggle);\n\n    // Secondary buttons to click\n    attachEvt($(\".mfb-component__button--child\", this), \"click\", clickChildButton);\n  };\n\n  // build script hook - don't remove\n})(jQuery);\n\n\n(function ($) {\n  $.fn.bz_navigation_buttons = function (options) {\n    options = options || {};\n    var MARGIN = 2;\n    var buttons = options.buttons || [];\n    var isDesign = options.isDesign || false;\n    var buttonSelected = options.buttonSelected;\n    var lastActionExecuted = options.lastActionExecuted || false;\n    var allowAddButtons = options.allowAddButtons || false;\n    var $element = this;\n\n\n    var addButtonTemplate = '<div class=\"bz-button--add\"><svg class=\"ico_16x16\" ><use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#icon-plus\"></use></svg></div>';\n    var containerTemplate = '<ul class=\"bz-buttons--container\"></ul>';\n    var buttonTemplate = '<li class=\"bz-button--container\" data-id=\"{1}\"><button class=\"bz-btn\">{0}</button></li>';\n    var rightNavigationButton = '<div class=\"bz-button--rigth\"><svg class=\"ico_16x16\" ><use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#icon-arrow-rigth\"></use></svg></div>';\n    var leftNavigationButton = '<div class=\"bz-button--left\"><svg class=\"ico_16x16\" ><use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#icon-arrow-left\"></use></svg></div>';\n\n    $element.empty();\n    $element.addClass('bz-buttons--navigation');\n\n    var $container = $(containerTemplate);\n    $container.appendTo($element);\n\n\n    var processButtons = function processButtons() {\n      var result = MARGIN;\n      for (var index = 0; index < buttons.length; index++) {\n        (function (button) {\n          var caption = button.properties.caption;\n          var $elementButton = $(buttonTemplate.replace(\"{0}\", caption).replace(\"{1}\", button.properties.id));\n          var height = 0;\n\n          var handlerOnClickButton = function handlerOnClickButton() {\n            $container.trigger('onSelectButton', {\n              $element: $elementButton,\n              button: button });\n\n\n            var targetElement = $container.get(0);\n            var clientWidth = targetElement.clientWidth;\n            var offset = isDesign ? 35 : 0;\n\n            if (targetElement.scrollWidth > clientWidth) {\n              if (height > clientWidth) {targetElement.scrollLeft = height - clientWidth + offset;} else\n              {\n                if (height - targetElement.scrollLeft < targetElement.scrollLeft) {targetElement.scrollLeft = height - (targetElement.scrollLeft + offset);}\n              }\n            }\n          };\n\n          $elementButton.\n          on('click', handlerOnClickButton).\n          appendTo($container);\n\n          height = result = result + $elementButton.get(0).offsetWidth + MARGIN;\n\n          if (isDesign && typeof buttonSelected == \"string\" && button.properties.id == buttonSelected) {\n            setTimeout(handlerOnClickButton, 100);\n          }\n\n        })(buttons[index].button), result;\n      };\n\n\n      if (isDesign) {\n        var $addButton = $(addButtonTemplate);\n\n        if (allowAddButtons) {\n          $addButton.click(function () {\n            $container.trigger('onAddButton');\n          });\n\n          $addButton.appendTo($element);\n        }\n\n        var htmlButtons = $container.get(0);\n\n        var heightAddButton = $addButton.get(0).scrollWidth;\n        var heightWrapper = $element.get(0).scrollWidth;\n        var heightButtons = htmlButtons.scrollWidth;\n\n\n        var $rightNavigationButton = $(rightNavigationButton);\n        var rightNavigationButtonIsLocated = heightButtons > heightWrapper - heightAddButton;\n\n        if (rightNavigationButtonIsLocated) {$rightNavigationButton.insertAfter($container);}\n\n        $rightNavigationButton.on(\"click\", function () {\n          htmlButtons.scrollLeft += 40;\n        });\n\n        var leftNavigationButtonIsLocated = false;\n        var $leftNavigationButton = $(leftNavigationButton);\n\n\n        $leftNavigationButton.on(\"click\", function () {\n          htmlButtons.scrollLeft -= 40;\n        });\n\n        $container.on(\"scroll\", function (ev) {\n          var targetElement = ev.target;\n          var maxScrollLeft = targetElement.scrollWidth - targetElement.clientWidth;\n          var scrollLeft = targetElement.scrollLeft;\n\n          if (scrollLeft === 0 && leftNavigationButtonIsLocated) {\n            leftNavigationButtonIsLocated = false;\n            $leftNavigationButton.detach();\n          }\n\n          if (rightNavigationButtonIsLocated && scrollLeft === maxScrollLeft) {\n            rightNavigationButtonIsLocated = false;\n            $rightNavigationButton.detach();\n          }\n\n          if (!leftNavigationButtonIsLocated && scrollLeft > 0) {\n\n            $leftNavigationButton.prependTo($element);\n            leftNavigationButtonIsLocated = true;\n          }\n\n          if (!rightNavigationButtonIsLocated && scrollLeft < maxScrollLeft) {\n            rightNavigationButtonIsLocated = true;\n            $rightNavigationButton.insertAfter($container);\n          }\n        });\n\n        if (lastActionExecuted === \"addButton\") {\n          if (rightNavigationButtonIsLocated) {\n            htmlButtons.scrollLeft = htmlButtons.scrollWidth - htmlButtons.clientWidth;\n          }\n        }\n      }\n    };\n\n    processButtons();\n\n    return $container;\n  };\n\n})(jQuery);","/*\r\nAdd the Material Design Style Ripple Effect on Click / Touch.\r\n*/\n(function ($) {\n  var transparent;\n  //only run this once. this addes an empty elment in boody root and gets the defintion of the browsers transparent color scheme.\n  if (typeof transparent == \"undefined\") {\n    // Get this browser's definition of no back ground / transprent, rgba(0,0,0,0) etc..\n    // Must be appended else Chrome etc return 'initial'\n    var $temp = $('<div style=\"background:none;display:none;\"/>').appendTo('body');\n    //now we just get the value given back to use by the browser for its spcific transparent color scheme.\n    transparent = $temp.css('backgroundColor');\n    //remove the temp object since were done with it.\n    $temp.remove();\n  }\n\n\n  //add Material desing style rippple effect to a given element that animates on click / touch.\n  $.fn.rippleEffect = function (options) {\n    // Extend our default options with those provided.\n    var opts = $.extend({}, $.fn.rippleEffect.defaults, options);\n\n\n    return this.each(function () {\n      $(this).on(\"click\", function (e) {\n        var $thisElement = $(this),\n        eventPageX,\n        eventPageY,\n        inkX,\n        inkY,\n        maxDiameter,\n        eventType = e.type,\n        rippleColor,\n        $inkSpan,\n        $inkparent;\n\n        //default append\n        $inkparent = $thisElement;\n\n        function getRippleColorFromTraverse() {\n          if (opts.inkColor != \"\") {\n            return opts.inkColor;\n          } else {\n            //try and get from elemnt or parent what ever has a bg color and it will lighten or dark based on color.\n            return getInkColor($inkparent, opts.inkDefaultColor);\n          }\n        }\n        //check to see if were appending ink to a parent element other than the trigger\n        //if you append to a parent item that item will have the ripple span and it may block access to links\n        //all i had to do was give any of the siblings of the ripple a z-index of 1, some i had to set position to relative.\n        if (opts.appendInkTo != \"\") {\n          $inkparent = $thisElement.closest(opts.appendInkTo);\n        }\n        // check to se if we have an ink, if not we need to add it in, we only need to do this once.\n        if ($inkparent.find(\".\" + opts.inkClass).length == 0) {\n          //add ink \n          $inkparent.append('<span class=\"' + opts.inkContainerClass + '\"><span class=\"' + opts.inkClass + '\"></span></span>');\n        }\n        //set the ink var targeting the ink within the element to prevent dup ink animates.\n        $inkSpan = $inkparent.find(\".\" + opts.inkContainerClass + \" > \" + \" .\" + opts.inkClass);\n        //incase of quick double click or animate is present. remove the animation\n        $inkSpan.removeClass(\"animate\");\n\n        //now if the ink has no height set we need to add it in.\n        if (!$inkSpan.height() && !$inkSpan.width()) {\n          //use $thisElement width or height whichever is larger for the diameter to make a circle which can cover the entire element.\n          maxDiameter = Math.max($inkparent.outerWidth(), $inkparent.outerHeight());\n          //set width and height and get bg color for the\n          //see if ripple color was provided via data attr.\n          if (typeof $thisElement.data(\"ripple\") != \"undefined\" && $thisElement.data(\"ripple\") != \"\") {\n            rippleColor = $thisElement.data(\"ripple\");\n          } else {\n            //check if a target element id to get a ripple color from is provided\n            if (typeof $thisElement.data(\"ripple-getcolorfromid\") != \"undefined\" && $thisElement.data(\"ripple-getcolorfromid\") != \"\") {\n              var idToUse = $thisElement.data(\"ripple-getcolorfromid\");\n              //make sure element is on page.\n              if ($(idToUse).length > 0) {\n                //set from given elmements bgcolor.\n                rippleColor = $(idToUse).css(\"background-color\");\n              } else {\n                //get from default ways\n                rippleColor = getRippleColorFromTraverse();\n              }\n            } else {\n              //get from default ways\n              rippleColor = getRippleColorFromTraverse();\n            }\n          }\n          //set h and w and ripple color.\n          $inkSpan.css({ height: maxDiameter, width: maxDiameter, \"background-color\": rippleColor });\n        }\n\n        //now that the ink is taken care of we need to set the position where it starts, which if from click.\n        //get event type.\n        if (eventType === \"click\") {\n          eventPageX = e.pageX;\n          eventPageY = e.pageY;\n        } else if (eventType === \"touchstart\") {\n          var touch = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];\n          eventPageX = touch.pageX;\n          eventPageY = touch.pageY;\n        }\n\n        inkX = eventPageX - $inkparent.offset().left - $inkSpan.width() / 2;\n        inkY = eventPageY - $inkparent.offset().top - $inkSpan.height() / 2;\n        $inkSpan.css({ top: inkY + 'px', left: inkX + 'px' }).addClass(\"animate\");\n        //remove animation after a little bit.\n        setTimeout(function () {\n          $inkSpan.removeClass(\"animate\");\n        }, 400);\n\n      });\n    });\n  };\n  // Plugin defaults – added as a property on our plugin function.\n  $.fn.rippleEffect.defaults = {\n    inkContainerClass: \"ripple\",\n    inkClass: \"ink\",\n    //to avoid a global default you can add data-ripple=\"#ff00ff\" to the element that will have the ripple and that color will be used.\n    //or to use a tagrget elements background color for the ripple you can set the data-ripple=\"\" and data-ripple-getcolorfromid=\"#elmentWIthBGColorToUSe\"\n    inkDefaultColor: \"#F0F0F0\", //falback color to use if using parent traversing to get a bg color.\n    inkColor: \"\", //the ink color you want the element to use, this will override any bg checks for element and parent traversing, but if the ement has data-ripple=\"#fff\" the #fff will be used above all else\n    //if you append to a parent item that item will have the ripple span and it may block access to links and child elements\n    //all i had to do was give any of the children of the appended element a z-index of 1, some i had to set position to relative.\n    appendInkTo: \"\" //append ink to a diffrent element. will find closest element matching.\n  };\n\n  //Now users can include a line like this in their scripts:\n  //$.fn.rippleEffect.defaults.inkDefaultColor = \"#0000FF\";\n\n  // Define our get background color function.\n  //this will try and get a background color for the ink color manipulation \n  //by starting with the element provided and going as far back to the body unless a value is found.\n  //providing a falback value will make sure that an actual color is returned\n  function getBackgroundColorForInk($element, fallback) {\n    function getBgColor($elementToCheckForBg) {\n      //here we check against the @transparent var that is set on load.\n      if ($elementToCheckForBg.css('backgroundColor') == transparent) {\n        //here we check if were not at body, if not, then run again on the elments parent, if were at body use fallback or the browers take on transparent.\n        return !$elementToCheckForBg.is('body') ? getBgColor($elementToCheckForBg.parent()) : fallback || transparent;\n      } else {\n        //it was not transparent return this color.\n        return $elementToCheckForBg.css('backgroundColor');\n      }\n    }\n    //run the function which will repeate as long as it needs until it hits body to find a color to use.\n    return getBgColor($element);\n  };\n\n  //create as a property so users can set make there own lum check.\n  //returns the direction lumination should go for ink contrast.\n  //get the lumination value for a given color.\n  $.fn.rippleEffect.getLuminationValue = function (hexcolor) {\n    var hexcolor = hexcolor.substring(1); // strip #\n    var rgb = parseInt(hexcolor, 16); // convert rrggbb to decimal\n    var r = rgb >> 16 & 0xff; // extract red\n    var g = rgb >> 8 & 0xff; // extract green\n    var b = rgb >> 0 & 0xff; // extract blue\n\n    var luma = 0.2126 * r + 0.7152 * g + 0.0722 * b; // per ITU-R BT.709\n    return luma;\n  };\n\n  //create as property, for user override. \n  //this was from a site point article.\n  //get a new color luminance -0.15 is darker by 15% and 0.20 is lighter by 20%\n  $.fn.rippleEffect.getColorLuminance = function (hexcolor, lum) {\n    // validate hex string\n    hexcolor = String(hexcolor).replace(/[^0-9a-f]/gi, '');\n    if (hexcolor.length < 6) {\n      hexcolor = hexcolor[0] + hexcolor[0] + hexcolor[1] + hexcolor[1] + hexcolor[2] + hexcolor[2];\n    }\n    //set a default lum value.\n    lum = lum || 0;\n\n    // convert to decimal and change luminosity\n    var resultHex = \"#\",c,i;\n    for (i = 0; i < 3; i++) {\n      c = parseInt(hexcolor.substr(i * 2, 2), 16);\n      c = Math.round(Math.min(Math.max(0, c + c * lum), 255)).toString(16);\n      resultHex += (\"00\" + c).substr(c.length);\n    }\n\n    return resultHex;\n  };\n\n  //create property for overide if wanted, this converts an rgb value to hex.\n  //it does not work right with rgba though it just returns the bas rgb part so the trans is not claculated in.\n  $.fn.rippleEffect.colorToHex = function (rgb) {\n    //first echeck to see if we already have a hex color, if so just return.\n    if (rgb.substr(0, 1) === '#') {\n      return color;\n    }\n    rgb = rgb.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n    return rgb && rgb.length === 4 ? \"#\" +\n    (\"0\" + parseInt(rgb[1], 10).toString(16)).slice(-2) +\n    (\"0\" + parseInt(rgb[2], 10).toString(16)).slice(-2) +\n    (\"0\" + parseInt(rgb[3], 10).toString(16)).slice(-2) : '';\n  };\n\n  //this is the base function that does all of the magic, it gets a bkg color, \n  //then changes the colors lumanince so the ink is visiable when being animated.\n  function getInkColor($element, fallBackColor) {\n    var backgroundOrInhreitedBackGround,\n    hex,\n    luma,\n    returnLumintion;\n    //get back ground color of element / or parent with an actual color or use fallback of a lighter gray \n    // Call our getBackgroundColorForInk function.\n\n    backgroundOrInhreitedBackGround = getBackgroundColorForInk($element, fallBackColor);\n    //convert to hex, this returns hex if it is already hex.\n    //call our colorToHex function\n    hex = $.fn.rippleEffect.colorToHex(backgroundOrInhreitedBackGround);\n    //now get the lumination value of this bg.\n    //call our getLuminationValue function\n    luma = $.fn.rippleEffect.getLuminationValue(hex);\n\n    //239 for lighter lumination ok \n    if (luma <= 239) {\n      //go lighter alwasy prefered.\n      //we need to make sure we are light enough though\n      if (luma <= 70) {\n        returnLumintion = $.fn.rippleEffect.getColorLuminance(hex, 0.80);\n      } else {\n        returnLumintion = $.fn.rippleEffect.getColorLuminance(hex, 0.20);\n      }\n    } else {\n      //go darker\n      returnLumintion = $.fn.rippleEffect.getColorLuminance(hex, -0.15);\n    }\n    return returnLumintion;\n  };\n\n})(jQuery);","/*\r\n*   Name: Bizagi Grid for tablet\r\n*   Author: UI Forms Team\r\n*   Comments:\r\n*   -   This widget will extend the bizagi grid widget to specialize into a tablet view\r\n*\r\n*   Markup: <div></div>\r\n*\r\n*   Styles:\r\n*   - css/bizagi/tablet/controls/bizagi.grid.css\r\n*/\n\n(function ($) {\n  $.widget(\"ui.bizagi_grid_tablet\", $.ui.bizagi_grid, {\n\n    /**\r\n                                                         * Constructor\r\n                                                         * @private\r\n                                                         */\n    _init: function _init() {\n      this._super();\n\n      this.isOfflineForm = typeof this.options.isOfflineForm !== \"undefined\" && bizagi.util.parseBoolean(this.options.isOfflineForm);\n    },\n\n    /**\r\n        * Method to attach any handler to the grid\r\n        * @returns {}\r\n        */\n    attachHandlers: function attachHandlers() {\n      var self = this;\n\n      // Add paging events\n      self._getComponent(\"pager\").find(\"ul li button\").bind(\"click\", function () {\n        var pageNumber = parseInt($(this).attr(\"data-page-number\"));\n\n        if (pageNumber) {\n          self.changePage(pageNumber);\n        }\n      });\n\n      //TODO falta implementar\n      self._getComponent(\"dynamicPager\").find(\"input\").bind(\"click\", function () {\n        self.selectDynamicPager();\n      });\n\n      // Add sort events\n      self._getComponent(\"columns\").find(\".bz-tablet-grid__label.bz-table__column-sort\").bind(\"click\", function () {\n        if (!self.isOfflineForm) {\n          var columnIndex = $(this).attr(\"data-column-index\");\n          self.sortBy(columnIndex);\n        }\n      });\n\n      // Bind button actions\n      self._getComponent(\"buttons\").find(\"[data-action]\").bind(\"click\", function () {\n        if ($(this).attr(\"data-action\") === \"totalizer\") {\n          self.totalizer();\n        } else {\n          self.processAction($(this).attr(\"data-action\"));\n          self.unselectRow();\n        }\n      });\n\n      self._getComponent(\"rowButtons\").find(\"[data-action]\").bind(\"click\", function () {\n        self.processAction($(this).attr(\"data-action\"));\n        self.unselectRow();\n      });\n\n      if (bizagi.util.isiOSDevice()) {\n        //Horizontal scroll issue\n        self._resizeListener();\n      }\n\n      if (this.isOfflineForm) {\n        self._getComponent(\"rows\").on(\"click\", \".bz-tablet-grid__cell-actions [data-action=more]\", function (evt) {\n          var $context = $(evt.target).parents(\"[data-bizagi-component=cells]\");\n\n          if ($context && $context.hasClass(\"bz-tablet-grid__row\")) {\n            var businessKey = $context.attr(\"data-business-key\");\n            var isNewRow = bizagi.util.parseBoolean($context.attr(\"data-new-row\")) || false;\n\n            if (isNewRow) {\n              self.onRemoveNewRow(businessKey);\n            } else {\n              self.processAction(\"remove\", { key: businessKey });\n            }\n          }\n        });\n      } else {\n\n        self._getComponent(\"rows\").find(\"tr\").bind(\"click\", function (evt) {\n          var $context = $(evt.target).closest(\".bz-tablet-grid__cell\");\n\n          evt.stopPropagation();\n\n          if ($context && $context.hasClass(\"bz-tablet-grid__cell\")) {\n            var key = $(this).attr(\"data-key\");\n            var businessKey = $(this).attr(\"data-business-key\");\n\n            self.selectRow(key, businessKey);\n          }\n        });\n\n        // Bind special cell button action\n        self._addColumnActions();\n      }\n    },\n\n    /**\r\n        * Popup Total\r\n        * @returns {}\r\n        */\n    totalizer: function totalizer() {\n      this.options.totalData();\n    },\n    /**\r\n        * Executes the row selected handler\r\n        * @returns {}\r\n        */\n    onRowSelected: function onRowSelected() {\n      // Call base\n      $.ui.bizagi_grid.prototype.onRowSelected.apply(this, arguments);\n\n      // Show row buttons             \n      this._showRowButtons();\n    },\n\n    /**\r\n        * Executes the row un-selected handler\r\n        * @returns {}\r\n        */\n    onRowUnselected: function onRowUnselected() {\n      // Call base\n      $.ui.bizagi_grid.prototype.onRowUnselected.apply(this, arguments);\n\n      // Hide row buttons           \n      this._hideRowButtons();\n    },\n\n    getCell: function getCell(key, xpath, index) {\n      var self = this;\n      var row = self._getComponent(\"rows\").find(\"[data-business-key=\" + key + \"]\");\n      var allVisibleTd,cell = \"\";\n\n      allVisibleTd = $(\"td\", $(row));\n      cell = allVisibleTd[index + 1];\n\n      return $(cell);\n    },\n\n    /**\r\n        * Template method to check if buttons component must be rendered\r\n        * @returns {}\r\n        */\n    _canShowButtons: function _canShowButtons() {\n      var actions = this.options.actions;\n\n      if (this.isOfflineForm) {\n        return actions[\"add\"] || actions[\"remove\"] || actions[\"edit\"] || actions[\"inlineAdd\"];\n      } else {\n        return actions[\"add\"] || actions[\"hasTotalizer\"];\n      }\n    },\n\n    /*\r\n       *   This method draws a grid row\r\n       */\n    drawRow: function drawRow(rowData, isNewRow) {\n      var self = this;\n      var options = self.options;\n      var key = rowData[self.columnKeyIndex];\n      var newRow = isNewRow || false;\n      var rnd = Math.floor(Math.random() * 10000);\n      var row = $.fasttmpl(options.template.row, {\n        key: rnd,\n        isNewRow: isNewRow,\n        businessKey: key });\n\n\n      // Resolve cells\n      var cells = \"\";\n      $.each(rowData, function (i, cell) {\n        // Draw normal cell\n        cells += self.drawCell(i, key, cell, newRow);\n      });\n\n      if (self._canShowRowButtons()) {\n        // Draw special column\n        cells += self.drawSpecialCell(self.options.columns.length + 1);\n      }\n\n      // Resolve cells template\n      row = self._replaceElement(row, \"cells\", cells);\n      return row;\n    },\n\n    /*\r\n       *   This method draws a grid pager\r\n       */\n    drawPager: function drawPager() {\n      var self = this;\n      var options = self.options;\n\n      // Calculate pages\n      var pages = [];\n      var renderPages = [];\n\n      for (var i = 1; i <= self.data.total; i++) {\n        pages.push({\n          number: i,\n          active: i == self.data.page });\n\n      }\n\n      if (self.data.page < 3 || self.data.page > self.data.total - 2) {\n        renderPages = [];\n      } else {\n        renderPages = [self.data.page - 1, self.data.page, self.data.page + 1];\n      }\n\n      var pagination = {\n        renderPages: renderPages,\n        pages: pages,\n        pagination: {\n          totalPages: self.data.total,\n          currentPage: self.data.page } };\n\n\n\n      // Resolve pager template\n      return $.fasttmpl(options.template.pager, pagination);\n    },\n\n    /**\r\n        * Template method to check if row buttons must be displayed when the row is selected\r\n        * @returns {}\r\n        */\n    _canShowRowButtons: function _canShowRowButtons() {\n      var actions = this.options.actions;\n\n      if (this.isOfflineForm) {\n        return actions[\"remove\"];\n      } else {\n        return actions[\"edit\"] || actions[\"details\"] || actions[\"remove\"] || this.options.subType == \"adhocGrid\";\n      }\n    },\n\n    /**\r\n        * Show the row buttons\r\n        * @returns {}\r\n        */\n    _showRowButtons: function _showRowButtons() {\n      var self = this;\n      var doc = window.document;\n      var element = self.element;\n\n      // Add selected style to row\n      var tr = element.find(\"[data-bizagi-component=rows] tr[data-key=\" + self.selectedRow + \"]\");\n      tr.addClass(\"ui-bizagi-state-selected\");\n    },\n\n    /**\r\n        * Hide the row buttons\r\n        * @returns {}\r\n        */\n    _hideRowButtons: function _hideRowButtons() {\n      var self = this;\n\n      // Call base\n      $.ui.bizagi_grid.prototype.onRowUnselected.apply(self, arguments);\n\n      var tr = self._getComponent(\"rows\").find(\"tr[data-key=\" + self.selectedRow + \"]\");\n      tr.removeClass(\"ui-bizagi-state-selected\");\n\n      // Hide floating buttons for the row\n      if (!self.isOfflineForm) {\n        var floatingButtons = self._getComponent(\"rowButtons\");\n        floatingButtons.hide();\n      }\n    },\n\n    /**\r\n        * Return the new created ids\r\n        * @param {} rows\r\n        * @returns {}\r\n        */\n    getNewRowKeys: function getNewRowKeys(rows) {\n      var self = this;\n\n      rows = rows || self._getComponent(\"rows\").find(\"[data-new-row=true]\");\n\n      return $.map(rows, function (row, i) {\n        return $(row).data(\"business-key\");\n      });\n    },\n\n    /**\r\n        * Process an action in order to do something with the grid\r\n        * @param {} action\r\n        * @returns {}\r\n        */\n    processAction: function processAction(action) {\n      var self = this;\n\n      // Call base\n      $.ui.bizagi_grid.prototype.processAction.apply(self, arguments);\n\n      if (action === \"save\") {\n        self.onSaveAddedRows();\n      }\n      if (action === \"cancel\") {\n        self.onCancelEdition();\n      }\n    },\n\n    /**\r\n        * Check if row its new\r\n        * @param {} businessKey\r\n        * @returns {}\r\n        */\n    isNewRecord: function isNewRecord(businessKey) {\n      var self = this;\n      var row = self._getComponent(\"rows\");\n\n      if (row) {\n        businessKey = row.find(\"[data-business-key='\" + businessKey + \"']\");\n        if ($(businessKey).data(\"new-row\")) {\n          return true;\n        }\n      }\n      return false;\n    },\n\n    /**\r\n        * Add inline row\r\n        * @returns {}\r\n        */\n    addInlineRow: function addInlineRow() {\n      var self = this;\n\n      // Draw the new row\n      self._triggerHandler(\"beforeInlineAdd\");\n      var html = self.drawRow(self.createAddRowData(), true);\n      var newRow = $(html);\n\n      // Execute the postrender\n      self.postRenderRow(newRow);\n\n      // Append to rows component\n      self._getComponent(\"rows\").append(newRow);\n\n      var buttons = self._getComponent(\"buttons\");\n\n      if (self.isOfflineForm) {\n        buttons.find(\"[data-action=save]\").removeClass(\"bz-tablet-grid__buttons--hidden\");\n        buttons.find(\"[data-action=cancel]\").removeClass(\"bz-tablet-grid__buttons--hidden\");\n      } else {\n        buttons.find(\"[data-action=save]\").css(\"display\", \"inline-block\");\n        buttons.find(\"[data-action=cancel]\").css(\"display\", \"inline-block\");\n      }\n\n      // Show table component if there are no rows\n      if (self.data.rows.length === 0) {\n        self._getComponent(\"table\").show();\n        self._getComponent(\"emptyTable\").hide();\n      }\n\n      self._triggerHandler(\"afterInlineAdd\", newRow.data());\n    },\n\n    /**\r\n        * Creates a dummy data for the new row\r\n        * @returns {}\r\n        */\n    createAddRowData: function createAddRowData() {\n      var self = this;\n      var options = self.options;\n      var row = [];\n\n      $.each(options.columns, function (i) {\n\n        if (i === self.columnKeyIndex) {\n          // Add random key so we can identify them later\n          var key = Math.ceil(Math.random() * 100000);\n          row.push(key);\n        } else {\n          // Add null value\n          row.push(null);\n        }\n      });\n\n      return row;\n    },\n\n    /**\r\n        * Executes the on add row handler\r\n        * @returns {}\r\n        */\n    onAddRow: function onAddRow() {\n      var self = this;\n\n      // Allow add\n      if (self.options.actions.add) {\n        if (self.options.actions.inlineAdd) {\n          return self.addInlineRow();\n        } else {\n          // Open dialog with addform\n          return self._triggerHandler(\"addRow\");\n        }\n      }\n    },\n\n    /**\r\n        * Executes when the user presses the cancel button, after inline add edition\r\n        * @returns {}\r\n        */\n    onCancelEdition: function onCancelEdition() {\n      var self = this;\n\n      // Remove zero key rows\n      var rows = self._getComponent(\"rows\").find(\"[data-new-row=true]\");\n      var savedRows = self._getComponent(\"rows\").find(\"[data-new-row=false]\");\n      rows.detach();\n\n      // Hide buttons\n      var buttons = self._getComponent(\"buttons\");\n\n      if (self.isOfflineForm) {\n        buttons.find(\"[data-action=save]\").addClass(\"bz-tablet-grid__buttons--hidden\");\n        buttons.find(\"[data-action=cancel]\").addClass(\"bz-tablet-grid__buttons--hidden\");\n      } else {\n        buttons.find(\"[data-action=save]\").hide();\n        buttons.find(\"[data-action=cancel]\").hide();\n      }\n\n      // Show table component if there are no rows\n      if (savedRows.length === 0) {\n        self._getComponent(\"table\").hide();\n        self._getComponent(\"emptyTable\").show();\n      }\n\n      return self._triggerHandler(\"cancelEdition\", { keys: self.getNewRowKeys(rows) });\n    },\n\n    /**\r\n        * Executes when the user presses the save button, after inline add edition\r\n        * @returns {}\r\n        */\n    onSaveAddedRows: function onSaveAddedRows() {\n      var self = this;\n\n      // Retrieve key of added rows\n      var newRowKeys = self.getNewRowKeys();\n      var buttons = self._getComponent(\"buttons\");\n\n      // Hide buttons         \n      if (newRowKeys.length >= 1 && self.isValid()) {\n\n        var row = self._getComponent(\"rows\");\n\n        if (self.isOfflineForm) {\n          $.each(newRowKeys, function (key, value) {\n            var businessKey = row.find(\"[data-business-key='\" + value + \"']\");\n            $(businessKey).attr(\"data-new-row\", 'false');\n          });\n\n          buttons.find(\"[data-action=save]\").addClass(\"bz-tablet-grid__buttons--hidden\");\n          buttons.find(\"[data-action=cancel]\").addClass(\"bz-tablet-grid__buttons--hidden\");\n\n          self._triggerHandler(\"saveAddedRows\", { keys: newRowKeys });\n\n          return true;\n        } else {\n          buttons.find(\"[data-action=save]\").hide();\n          buttons.find(\"[data-action=cancel]\").hide();\n\n          self._triggerHandler(\"saveAddedRows\", { keys: newRowKeys });\n\n          return self._triggerHandler(\"removeNewRecords\", { keys: newRowKeys });\n        }\n\n      } else {\n        return true;\n      }\n    },\n\n    /**\r\n        * Hide buttons\r\n        */\n    hideHeaderButtons: function hideHeaderButtons() {\n      var self = this;\n      var buttons = self._getComponent(\"buttons\");\n\n      if (buttons && buttons.length) {\n        buttons.find(\"[data-action=save]\").addClass(\"bz-tablet-grid__buttons--hidden\");\n        buttons.find(\"[data-action=cancel]\").addClass(\"bz-tablet-grid__buttons--hidden\");\n      }\n    },\n\n    /**\r\n        * Add new column actions\r\n        * @private\r\n        */\n    _addColumnActions: function _addColumnActions() {\n      var self = this;\n      var items = [];\n\n      if (self.options.actions.details) {\n        items.push({\n          name: bizagi.localization.getResource(\"render-collection-navigator-details-form\"),\n          fn: function fn(e) {\n            var businessKey = $(e).parents(\"[data-bizagi-component=cells]\").attr(\"data-business-key\");\n\n            if (self.options.actions.details) {\n              self.processAction(\"details\", { key: businessKey });\n            } else {\n              self.processAction(\"more\", { key: businessKey });\n            }\n          } });\n\n      }\n\n      if (self.options.actions.edit) {\n        items.push({\n          name: bizagi.localization.getResource(\"render-grid-edit-label\"),\n          fn: function fn(e) {\n            var businessKey = $(e).parents(\"[data-bizagi-component=cells]\").attr(\"data-business-key\");\n\n            self.processAction(\"edit\", { key: businessKey });\n          } });\n\n      }\n\n      if (self.options.actions.remove) {\n        items.push({\n          name: bizagi.localization.getResource(\"render-ecm-confirm-bt-delete\"),\n          fn: function fn(e) {\n            var businessKey = $(e).parents(\"[data-bizagi-component=cells]\").attr(\"data-business-key\");\n\n            self.processAction(\"remove\", { key: businessKey });\n          } });\n\n      }\n\n      self._getComponent(\"rows\").find(\"[data-action=more]\").overflowMenu({ items: items });\n    },\n\n    /**\r\n        * Executes when the user presses the cancel button, after inline add edition\r\n        * @param key\r\n        * @param businessKey\r\n        */\n    onRemoveNewRow: function onRemoveNewRow(businessKey) {\n      var self = this;\n      var buttons = self._getComponent(\"buttons\");\n\n      // Remove zero key rows\n      var cancelNewRow = self._getComponent(\"rows\").find(\"tr[data-business-key=\" + businessKey + \"]\");\n      var savedRows = self._getComponent(\"rows\").find(\"[data-new-row=false]\");\n      var newRows = self._getComponent(\"rows\").find(\"[data-new-row=true]\");\n\n      cancelNewRow.detach();\n\n      // Hide buttons\n      if (newRows.length === 1) {\n        buttons.find(\"[data-action=save]\").addClass(\"bz-tablet-grid__buttons--hidden\");\n        buttons.find(\"[data-action=cancel]\").addClass(\"bz-tablet-grid__buttons--hidden\");\n      }\n\n      // Show table component if there are no rows\n      if (savedRows.length === 0 && newRows.length === 1) {\n        self._getComponent(\"table\").hide();\n        self._getComponent(\"emptyTable\").show();\n      }\n\n      return self._triggerHandler(\"cancelEdition\", { keys: self.getNewRowKeys(cancelNewRow) });\n    },\n\n    /**\r\n        * Replaces a matched element in the container for the specified \"replace\" element\r\n        * @param html\r\n        * @param element\r\n        * @param replace\r\n        * @returns {*}\r\n        * @private\r\n        */\n    _replaceElement: function _replaceElement(html, element, replace) {\n      return html.replace(new RegExp(\"{{element \" + element + \"}}\", 'g'), replace);\n    },\n\n    _resizeListener: function _resizeListener() {\n      var randomNumber = Math.ceil(Math.random() * 100000);\n      var prevWidth = 0;\n      var self = this;\n      var tableComp = self._getComponent(\"table\");\n      var intersectionObserver = new IntersectionObserver(function (args) {\n        args.forEach(function (entry) {\n          if (entry.isIntersecting) {\n            $(window).on(\"resize.\" + randomNumber, self._fixHorizontalScroll.bind(self));\n          } else {\n            $(window).off(\"resize.\" + randomNumber);\n          }\n        });\n        if (prevWidth != tableComp.width()) {\n          prevWidth = tableComp.width();\n          self._fixHorizontalScroll();\n        }\n      });\n      intersectionObserver.POLL_INTERVAL = 100; // Time in milliseconds.\n      intersectionObserver.observe(self._getComponent(\"table\").get(0));\n    },\n\n    _fixHorizontalScroll: function _fixHorizontalScroll() {\n      var self = this;\n      var tableComp = self._getComponent(\"table\");\n      tableComp.css({ webkitOverflowScrolling: 'auto', 'overflow-x': 'hidden' });\n      setTimeout(function () {\n        tableComp.css({ webkitOverflowScrolling: 'touch', 'overflow-x': 'auto' });\n      }, 10);\n    } });\n\n\n\n})(jQuery);","/**\r\n * Name:\r\n *   Author: Bizagi Mobile team\r\n *   Comments:\r\n * Structure to applicate plugin\r\n *  <div class=\"bz-bizagi-container-tap-popup\"> //container\r\n    <div class=\"cell bz-container-items-tabs\"> // represent item of tab\r\n    <span >${displayName}</span>// the first span always is the title                                    \r\n    <span> ........</span> // after the span can place the items you want\r\n    <div> .........</div> // etc\r\n    </div> <!-- end cell-->\r\n    </div><!-- end bz-bizagi-container-tap-popup-->\r\n**/\n(function ($) {\n  $.fn.bztabs = function (params) {\n\n    var self = $(this);\n\n    params = params || {};\n    params.activeTab = params.activeTab || 0;\n    params.tabNumber = params.tabNumber || 1;\n\n\n    var activate = params.activate && typeof params.activate === \"function\" ? params.activate : function () {};\n    var beforeActivate = params.beforeActivate && typeof params.beforeActivate === \"function\" ? params.beforeActivate : function () {};\n\n    // PopUp control\n    var popUp = self.find(\">div.bz-bizagi-container-tap-popup\").hide();\n    // Depending on tabNumber a percentage will be in the width of each tab\n    var tabCountPopup = popUp.children().length;\n    // Base to build the header of tabs\n    var tabHeader = $(\"<div class='bz-header_select'></div>\");\n\n    var tabCountReal = params.tabNumber > tabCountPopup ? tabCountPopup : params.tabNumber;\n\n    // round down\n    var widthRow = Math.floor(100 / Number(tabCountReal));\n\n    // Duplicate the tabs to create the header\n    popUp.children().each(function (i, item) {\n      tabHeader.append(\n      \"<div class='bz-wp-tabs-ui bz-wp-tabs-item' data-index='\" + i + \"' data-reference-tab='\" +\n      item.getAttribute(\"data-reference-tab\") + \"'><span>\" +\n      item.textContent + \"</span></div>\");\n    });\n\n    tabHeader.find(\"> .bz-wp-tabs-ui\").css(\"width\", widthRow + \"%\");\n    tabHeader.append(\"<div class='bz-wp-tabs-arrow-container'><div class='bz-cm-icon bz-mo-icon bz-plus'></div></div>\");\n\n    self.prepend(tabHeader);\n\n    var tabCurrent = self.find(\"> .bz-bizagi-container-tap-popup > .bz-container-items-tabs\").eq(params.activeTab);\n    var itemCurrent = $($(tabCurrent).data(\"reference-tab\"), self);\n\n    itemCurrent.addClass(\"childrenActive\");\n    tabCurrent.addClass(\"tabSelected\");\n\n    // Mark the selected tab in the header\n    var activeTab = $(\".bz-wp-tabs-ui:nth-child(\" + (params.activeTab + 1) + \")\", tabHeader).addClass(\"tabSelected\");\n\n    // The new width will be added to the tabSelected in order to complete the 100% on tabs\n    var widthTabSelected = widthRow + (100 - widthRow * tabCountReal);\n    activeTab.css(\"width\", widthTabSelected + \"%\");\n\n    function updateTabSize() {\n      if (params.tabNumber < tabCountPopup) {\n        // Select the current tab\n        $(\".bz-wp-tabs-arrow-container\", self).first().addClass(\"show-pluss\");\n        tabHeader.addClass(\"show-pluss\");\n        activeTab.trigger(\"click\", { origin: \"popUp\" });\n      } else {\n        $(\".bz-wp-tabs-arrow-container\", self).removeClass(\"show-pluss\");\n        tabHeader.removeClass(\"show-pluss\");\n        tabHeader.find(\"> .bz-wp-tabs-ui:last\").addClass(\"bz-wp-no-border\");\n      }\n    }\n\n    // Reorder tabs\n    function reorderTabs(dataRef) {\n\n      var tempTabs = tabHeader.find(\".bz-wp-tabs-ui\");\n      var moveAtTheEnd = true;\n\n      tempTabs.each(function (i, item) {\n        if (dataRef !== item.getAttribute(\"data-reference-tab\") && moveAtTheEnd) {\n          tabHeader.remove(\"[data-reference-tab='\" + dataRef + \"']\");\n          tabHeader.append(item);\n        } else {\n          moveAtTheEnd = false;\n        }\n      });\n    }\n\n    // Change tabs\n    function changeTab(e, params) {\n\n      params = params || {};\n      params.origin = params.origin || \"header\";\n\n      e.stopPropagation();\n      e.preventDefault();\n\n      if ($(this).hasClass(\"tabSelected\") && params.origin !== \"popUp\") {\n        return;\n      }\n\n      var dataRef = e.currentTarget.getAttribute(\"data-reference-tab\");\n      var tabChildren = $(dataRef, self);\n\n      activeTab = $(e.currentTarget);\n      // Changes the visibility of the contents of the tabs\n      self.find(\">div.childrenActive\").removeClass(\"childrenActive\");\n      tabChildren.addClass(\"childrenActive\");\n\n      // Add the normal width\n      tabHeader.find(\">div.tabSelected\").removeClass(\"tabSelected\").css(\"width\", widthRow + \"%\");\n\n      if (popUp.css(\"display\") === \"block\") {\n        popUp.toggle();\n      }\n\n      if (params.origin && params.origin === \"popUp\") {\n        activeTab = $(\"[data-reference-tab='\" + dataRef + \"']\", tabHeader);\n        reorderTabs(dataRef);\n      }\n\n      // Add the new width for tabSelected to complete the 100%\n      activeTab.addClass(\"tabSelected\").css(\"width\", widthTabSelected + \"%\");\n      activate(e, params);\n    }\n\n    if (typeof params.domIncluded !== \"undefined\") {\n      // Until the control is added to the DOM can be known widths to add the icon popup         \n      $.when(params.domIncluded).done(function () {\n        updateTabSize();\n      });\n    } else {\n      updateTabSize();\n    }\n\n    // Attach events\n    self.find(\".bz-wp-tabs-arrow-container\").first().bind(\"click\", function (event) {\n\n      // Determine if an item is visible or not\n      var headerWidth = tabHeader.innerWidth() - 29;\n      var totalWidth = 0;\n\n      // Remove the visible elements\n      $(\".bz-container-items-tabs\", popUp).removeClass(\"show\");\n\n      tabHeader.find(\".bz-wp-tabs-ui\").each(function (i, item) {\n\n        totalWidth += $(\":first-child\", item).outerWidth();\n\n        // If \"true\" then it is a tab to display the popup\n        if (totalWidth > headerWidth) {\n\n          popUp.children().each(function (j, pop) {\n            if (pop.textContent === item.textContent) {\n              $(pop).addClass(\"show\");\n              $(\".cell.bz-container-items-tabs\").css(\"border-bottom\", \"\");\n              $(\".cell.bz-container-items-tabs.show\").last().css(\"border-bottom\", \"none\");\n\n              return;\n            }\n          });\n        }\n      });\n\n      event.stopPropagation();\n      event.preventDefault();\n      popUp.toggle();\n    });\n\n    $(\">div.cell\", popUp).bind(\"click\", function (e) {\n      changeTab(e, { origin: \"popUp\" });\n    });\n\n    $(\".bz-wp-tabs-ui\", tabHeader).bind(\"click\", changeTab);\n\n    tabHeader.bind(\"resizeHeader\", function () {\n      updateTabSize();\n    });\n  };\n})(jQuery);","(function (a) {\n  var defaulti18n = {\n    rtl: false,\n    setText: 'Set',\n    cancelText: 'Cancel',\n    clearText: 'Clear',\n    selectedText: '{count} selected',\n    selectedPluralText: '{count} selected',\n    dateFormat: 'dd/mm/yy',\n    dayNames: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n    dayNamesShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n    dayNamesMin: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n    dayText: 'Day',\n    hourText: 'Hours',\n    minuteText: 'Minutes',\n    monthNames: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n    monthNamesShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n    monthText: 'Month',\n    secText: 'Seconds',\n    amText: 'am',\n    pmText: 'pm',\n    timeFormat: 'hh:ii A',\n    yearText: 'Year',\n    nowText: 'Now',\n    firstDay: 0,\n    dateText: 'Date',\n    timeText: 'Time',\n    calendarText: 'Calendar',\n    closeText: 'Close',\n    todayText: 'Today',\n    prevMonthText: 'Previous Month',\n    nextMonthText: 'Next Month',\n    prevYearText: 'Previous Year',\n    nextYearText: 'Next Year',\n    eventText: 'event',\n    eventsText: 'events',\n    fromText: 'Start',\n    toText: 'End',\n    wholeText: 'Whole',\n    fractionText: 'Fraction',\n    unitText: 'Unit',\n    delimiter: '/',\n    decimalSeparator: '.',\n    thousandsSeparator: ',',\n    labels: ['Years', 'Months', 'Days', 'Hours', 'Minutes', 'Seconds', ''],\n    labelsShort: ['Yrs', 'Mths', 'Days', 'Hrs', 'Mins', 'Secs', ''],\n    startText: 'Start',\n    stopText: 'Stop',\n    resetText: 'Reset',\n    lapText: 'Lap',\n    hideText: 'Hide',\n    offText: 'Off',\n    onText: 'On',\n    backText: 'Back',\n    undoText: 'Undo' };\n\n  mobiscroll.i18n.de = {\n    setText: \"OK\",\n    cancelText: \"Abbrechen\",\n    clearText: \"Löschen\",\n    selectedText: \"{count} ausgewählt\",\n    dateFormat: \"dd.mm.yy\",\n    dayNames: [\"Sonntag\", \"Montag\", \"Dienstag\", \"Mittwoch\", \"Donnerstag\", \"Freitag\", \"Samstag\"],\n    dayNamesShort: [\"So\", \"Mo\", \"Di\", \"Mi\", \"Do\", \"Fr\", \"Sa\"],\n    dayNamesMin: [\"S\", \"M\", \"D\", \"M\", \"D\", \"F\", \"S\"],\n    dayText: \"Tag\",\n    delimiter: \".\",\n    hourText: \"Stunde\",\n    minuteText: \"Minuten\",\n    monthNames: [\"Januar\", \"Februar\", \"März\", \"April\", \"Mai\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"Dezember\"],\n    monthNamesShort: [\"Jan\", \"Feb\", \"Mär\", \"Apr\", \"Mai\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dez\"],\n    monthText: \"Monat\",\n    secText: \"Sekunden\",\n    timeFormat: \"HH:ii\",\n    yearText: \"Jahr\",\n    nowText: \"Jetzt\",\n    pmText: \"pm\",\n    amText: \"am\",\n    todayText: \"Heute\",\n    firstDay: 1,\n    dateText: \"Datum\",\n    timeText: \"Zeit\",\n    closeText: \"Schließen\",\n    allDayText: \"Ganztägig\",\n    noEventsText: \"Keine Ereignisse\",\n    eventText: \"Ereignis\",\n    eventsText: \"Ereignisse\",\n    moreEventsText: \"{count} weiteres Element\",\n    moreEventsPluralText: \"{count} weitere Elemente\",\n    fromText: \"Von\",\n    toText: \"Bis\",\n    wholeText: \"Ganze Zahl\",\n    fractionText: \"Bruchzahl\",\n    unitText: \"Maßeinheit\",\n    labels: [\"Jahre\", \"Monate\", \"Tage\", \"Stunden\", \"Minuten\", \"Sekunden\", \"\"],\n    labelsShort: [\"Jahr.\", \"Mon.\", \"Tag.\", \"Std.\", \"Min.\", \"Sek.\", \"\"],\n    startText: \"Starten\",\n    stopText: \"Stoppen\",\n    resetText: \"Zurücksetzen\",\n    lapText: \"Lap\",\n    hideText: \"Ausblenden\",\n    backText: \"Zurück\",\n    undoText: \"Rückgängig machen\",\n    offText: \"Aus\",\n    onText: \"Ein\",\n    decimalSeparator: \",\",\n    thousandsSeparator: \" \" };\n\n  mobiscroll.i18n.es = {\n    setText: \"Aceptar\",\n    cancelText: \"Cancelar\",\n    clearText: \"Borrar\",\n    selectedText: \"{count} seleccionado\",\n    selectedPluralText: \"{count} seleccionados\",\n    dateFormat: \"dd/mm/yy\",\n    dayNames: [\"Domingo\", \"Lunes\", \"Martes\", \"Miércoles\", \"Jueves\", \"Viernes\", \"Sábado\"],\n    dayNamesShort: [\"Do\", \"Lu\", \"Ma\", \"Mi\", \"Ju\", \"Vi\", \"Sá\"],\n    dayNamesMin: [\"D\", \"L\", \"M\", \"M\", \"J\", \"V\", \"S\"],\n    dayText: \"Día\",\n    hourText: \"Horas\",\n    minuteText: \"Minutos\",\n    monthNames: [\"Enero\", \"Febrero\", \"Marzo\", \"Abril\", \"Mayo\", \"Junio\", \"Julio\", \"Agosto\", \"Septiembre\", \"Octubre\", \"Noviembre\", \"Diciembre\"],\n    monthNamesShort: [\"Ene\", \"Feb\", \"Mar\", \"Abr\", \"May\", \"Jun\", \"Jul\", \"Ago\", \"Sep\", \"Oct\", \"Nov\", \"Dic\"],\n    monthText: \"Mes\",\n    secText: \"Segundos\",\n    timeFormat: \"HH:ii\",\n    yearText: \"A&ntilde;o\",\n    nowText: \"Ahora\",\n    pmText: \"pm\",\n    amText: \"am\",\n    todayText: \"Hoy\",\n    firstDay: 1,\n    dateText: \"Fecha\",\n    timeText: \"Tiempo\",\n    closeText: \"Cerrar\",\n    allDayText: \"Todo el día\",\n    noEventsText: \"No hay eventos\",\n    eventText: \"Evento\",\n    eventsText: \"Eventos\",\n    moreEventsText: \"{count} más\",\n    fromText: \"Iniciar\",\n    toText: \"Final\",\n    wholeText: \"Entero\",\n    fractionText: \"Fracción\",\n    unitText: \"Unidad\",\n    labels: [\"Años\", \"Meses\", \"Días\", \"Horas\", \"Minutos\", \"Segundos\", \"\"],\n    labelsShort: [\"Año\", \"Mes\", \"Día\", \"Hora\", \"Min\", \"Seg\", \"\"],\n    startText: \"Iniciar\",\n    stopText: \"Deténgase\",\n    resetText: \"Reinicializar\",\n    lapText: \"Lap\",\n    hideText: \"Esconder\",\n    backText: \"Atrás\",\n    undoText: \"Deshacer\",\n    offText: \"No\",\n    onText: \"Sí\",\n    decimalSeparator: \",\",\n    thousandsSeparator: \" \" };\n\n  mobiscroll.i18n.fr = {\n    setText: \"Terminer\",\n    cancelText: \"Annuler\",\n    clearText: \"Effacer\",\n    selectedText: \"{count} sélectionné\",\n    selectedPluralText: \"{count} sélectionnés\",\n    dateFormat: \"dd/mm/yy\",\n    dayNames: [\"Dimanche\", \"Lundi\", \"Mardi\", \"Mercredi\", \"Jeudi\", \"Vendredi\", \"Samedi\"],\n    dayNamesShort: [\"Dim.\", \"Lun.\", \"Mar.\", \"Mer.\", \"Jeu.\", \"Ven.\", \"Sam.\"],\n    dayNamesMin: [\"D\", \"L\", \"M\", \"M\", \"J\", \"V\", \"S\"],\n    dayText: \"Jour\",\n    monthText: \"Mois\",\n    monthNames: [\"Janvier\", \"Février\", \"Mars\", \"Avril\", \"Mai\", \"Juin\", \"Juillet\", \"Août\", \"Septembre\", \"Octobre\", \"Novembre\", \"Décembre\"],\n    monthNamesShort: [\"Janv.\", \"Févr.\", \"Mars\", \"Avril\", \"Mai\", \"Juin\", \"Juil.\", \"Août\", \"Sept.\", \"Oct.\", \"Nov.\", \"Déc.\"],\n    hourText: \"Heures\",\n    minuteText: \"Minutes\",\n    secText: \"Secondes\",\n    timeFormat: \"HH:ii\",\n    yearText: \"Année\",\n    nowText: \"Maintenant\",\n    pmText: \"pm\",\n    amText: \"am\",\n    todayText: \"Aujourd'hui\",\n    firstDay: 1,\n    dateText: \"Date\",\n    timeText: \"Heure\",\n    closeText: \"Fermer\",\n    allDayText: \"Toute la journée\",\n    noEventsText: \"Aucun événement\",\n    eventText: \"Événement\",\n    eventsText: \"Événements\",\n    moreEventsText: \"{count} autre\",\n    moreEventsPluralText: \"{count} autres\",\n    fromText: \"Démarrer\",\n    toText: \"Fin\",\n    wholeText: \"Entier\",\n    fractionText: \"Fraction\",\n    unitText: \"Unité\",\n    labels: [\"Ans\", \"Mois\", \"Jours\", \"Heures\", \"Minutes\", \"Secondes\", \"\"],\n    labelsShort: [\"Ans\", \"Mois\", \"Jours\", \"Hrs\", \"Min\", \"Sec\", \"\"],\n    startText: \"Démarrer\",\n    stopText: \"Arrêter\",\n    resetText: \"Réinitialiser\",\n    lapText: \"Lap\",\n    hideText: \"Cachez\",\n    backText: \"Retour\",\n    undoText: \"Annuler\",\n    offText: \"Non\",\n    onText: \"Oui\",\n    decimalSeparator: \",\",\n    thousandsSeparator: \" \" };\n\n  mobiscroll.i18n.it = {\n    setText: \"OK\",\n    cancelText: \"Annulla\",\n    clearText: \"Chiarire\",\n    selectedText: \"{count} selezionato\",\n    selectedPluralText: \"{count} selezionati\",\n    dateFormat: \"dd/mm/yy\",\n    dayNames: [\"Domenica\", \"Lunedì\", \"Mertedì\", \"Mercoledì\", \"Giovedì\", \"Venerdì\", \"Sabato\"],\n    dayNamesShort: [\"Do\", \"Lu\", \"Ma\", \"Me\", \"Gi\", \"Ve\", \"Sa\"],\n    dayNamesMin: [\"D\", \"L\", \"M\", \"M\", \"G\", \"V\", \"S\"],\n    dayText: \"Giorno\",\n    hourText: \"Ore\",\n    minuteText: \"Minuti\",\n    monthNames: [\"Gennaio\", \"Febbraio\", \"Marzo\", \"Aprile\", \"Maggio\", \"Giugno\", \"Luglio\", \"Agosto\", \"Settembre\", \"Ottobre\", \"Novembre\", \"Dicembre\"],\n    monthNamesShort: [\"Gen\", \"Feb\", \"Mar\", \"Apr\", \"Mag\", \"Giu\", \"Lug\", \"Ago\", \"Set\", \"Ott\", \"Nov\", \"Dic\"],\n    monthText: \"Mese\",\n    secText: \"Secondi\",\n    timeFormat: \"HH:ii\",\n    yearText: \"Anno\",\n    nowText: \"Ora\",\n    pmText: \"pm\",\n    amText: \"am\",\n    todayText: \"Oggi\",\n    firstDay: 1,\n    dateText: \"Data\",\n    timeText: \"Volta\",\n    closeText: \"Chiudere\",\n    allDayText: \"Tutto il giorno\",\n    noEventsText: \"Nessun evento\",\n    eventText: \"Evento\",\n    eventsText: \"Eventi\",\n    moreEventsText: \"{count} altro\",\n    moreEventsPluralText: \"altri {count}\",\n    fromText: \"Inizio\",\n    toText: \"Fine\",\n    wholeText: \"Intero\",\n    fractionText: \"Frazione\",\n    unitText: \"Unità\",\n    labels: [\"Anni\", \"Mesi\", \"Giorni\", \"Ore\", \"Minuti\", \"Secondi\", \"\"],\n    labelsShort: [\"Anni\", \"Mesi\", \"Gio\", \"Ore\", \"Min\", \"Sec\", \"\"],\n    startText: \"Inizio\",\n    stopText: \"Arresto\",\n    resetText: \"Ripristina\",\n    lapText: \"Lap\",\n    hideText: \"Nascondi\",\n    backText: \"Indietro\",\n    undoText: \"Annulla\",\n    offText: \"Via\",\n    onText: \"Su\",\n    decimalSeparator: \",\",\n    thousandsSeparator: \" \" };\n\n  mobiscroll.i18n.zh = {\n    setText: \"确定\",\n    cancelText: \"取消\",\n    clearText: \"明确\",\n    selectedText: \"{count} 选\",\n    dateFormat: \"yy年mm月d日\",\n    dayNames: [\"周日\", \"周一\", \"周二\", \"周三\", \"周四\", \"周五\", \"周六\"],\n    dayNamesShort: [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"],\n    dayNamesMin: [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"],\n    dayText: \"日\",\n    hourText: \"时\",\n    minuteText: \"分\",\n    monthNames: [\"1月\", \"2月\", \"3月\", \"4月\", \"5月\", \"6月\", \"7月\", \"8月\", \"9月\", \"10月\", \"11月\", \"12月\"],\n    monthNamesShort: [\"一\", \"二\", \"三\", \"四\", \"五\", \"六\", \"七\", \"八\", \"九\", \"十\", \"十一\", \"十二\"],\n    monthText: \"月\",\n    secText: \"秒\",\n    timeFormat: \"HH:ii\",\n    yearText: \"年\",\n    nowText: \"当前\",\n    pmText: \"下午\",\n    amText: \"上午\",\n    yearSuffix: \"年\",\n    monthSuffix: \"月\",\n    daySuffix: \"日\",\n    todayText: \"今天\",\n    dateText: \"日\",\n    timeText: \"时间\",\n    closeText: \"关闭\",\n    allDayText: \"全天\",\n    noEventsText: \"无事件\",\n    eventText: \"活动\",\n    eventsText: \"活动\",\n    moreEventsText: \"他 {count} 件\",\n    fromText: \"开始时间\",\n    toText: \"结束时间\",\n    wholeText: \"合计\",\n    fractionText: \"分数\",\n    unitText: \"单位\",\n    labels: [\"年\", \"月\", \"日\", \"小时\", \"分钟\", \"秒\", \"\"],\n    labelsShort: [\"年\", \"月\", \"日\", \"点\", \"分\", \"秒\", \"\"],\n    startText: \"开始\",\n    stopText: \"停止\",\n    resetText: \"重置\",\n    lapText: \"圈\",\n    hideText: \"隐藏\",\n    backText: \"返回\",\n    undoText: \"复原\",\n    offText: \"关闭\",\n    onText: \"开启\",\n    decimalSeparator: \",\",\n    thousandsSeparator: \" \" };\n\n  mobiscroll.i18n.nl = {\n    setText: \"Instellen\",\n    cancelText: \"Annuleren\",\n    clearText: \"Leegmaken\",\n    selectedText: \"{count} gekozen\",\n    dateFormat: \"dd-mm-yy\",\n    dayNames: [\"Zondag\", \"Maandag\", \"Dinsdag\", \"Woensdag\", \"Donderdag\", \"Vrijdag\", \"Zaterdag\"],\n    dayNamesShort: [\"zo\", \"ma\", \"di\", \"wo\", \"do\", \"vr\", \"za\"],\n    dayNamesMin: [\"z\", \"m\", \"d\", \"w\", \"d\", \"v\", \"z\"],\n    dayText: \"Dag\",\n    hourText: \"Uur\",\n    minuteText: \"Minuten\",\n    monthNames: [\"januari\", \"februari\", \"maart\", \"april\", \"mei\", \"juni\", \"juli\", \"augustus\", \"september\", \"oktober\", \"november\", \"december\"],\n    monthNamesShort: [\"jan\", \"feb\", \"mrt\", \"apr\", \"mei\", \"jun\", \"jul\", \"aug\", \"sep\", \"okt\", \"nov\", \"dec\"],\n    monthText: \"Maand\",\n    secText: \"Seconden\",\n    timeFormat: \"HH:ii\",\n    yearText: \"Jaar\",\n    nowText: \"Nu\",\n    pmText: \"pm\",\n    amText: \"am\",\n    todayText: \"Vandaag\",\n    firstDay: 1,\n    dateText: \"Datum\",\n    timeText: \"Tijd\",\n    closeText: \"Sluiten\",\n    allDayText: \"Hele dag\",\n    noEventsText: \"Geen activiteiten\",\n    eventText: \"Activiteit\",\n    eventsText: \"Activiteiten\",\n    moreEventsText: \"nog {count}\",\n    fromText: \"Start\",\n    toText: \"Einde\",\n    wholeText: \"geheel\",\n    fractionText: \"fractie\",\n    unitText: \"eenheid\",\n    labels: [\"Jaren\", \"Maanden\", \"Dagen\", \"Uren\", \"Minuten\", \"Seconden\", \"\"],\n    labelsShort: [\"j\", \"m\", \"d\", \"u\", \"min\", \"sec\", \"\"],\n    startText: \"Start\",\n    stopText: \"Stop\",\n    resetText: \"Reset\",\n    lapText: \"Ronde\",\n    hideText: \"Verbergen\",\n    backText: \"Terug\",\n    undoText: \"Onged. maken\",\n    offText: \"Uit\",\n    onText: \"Aan\",\n    decimalSeparator: \",\",\n    thousandsSeparator: \" \" };\n\n  mobiscroll.i18n.ja = {\n    setText: \"セット\",\n    cancelText: \"キャンセル\",\n    clearText: \"クリア\",\n    selectedText: \"{count} 選択\",\n    dateFormat: \"yy年mm月dd日\",\n    dayNames: [\"日\", \"月\", \"火\", \"水\", \"木\", \"金\", \"土\"],\n    dayNamesShort: [\"日\", \"月\", \"火\", \"水\", \"木\", \"金\", \"土\"],\n    dayNamesMin: [\"日\", \"月\", \"火\", \"水\", \"木\", \"金\", \"土\"],\n    dayText: \"日\",\n    hourText: \"時\",\n    minuteText: \"分\",\n    monthNames: [\"1月\", \"2月\", \"3月\", \"4月\", \"5月\", \"6月\", \"7月\", \"8月\", \"9月\", \"10月\", \"11月\", \"12月\"],\n    monthNamesShort: [\"1月\", \"2月\", \"3月\", \"4月\", \"5月\", \"6月\", \"7月\", \"8月\", \"9月\", \"10月\", \"11月\", \"12月\"],\n    monthText: \"月\",\n    secText: \"秒\",\n    timeFormat: \"HH:ii\",\n    yearText: \"年\",\n    nowText: \"今\",\n    pmText: \"午後\",\n    amText: \"午前\",\n    yearSuffix: \"年\",\n    monthSuffix: \"月\",\n    daySuffix: \"日\",\n    todayText: \"今日\",\n    dateText: \"日付\",\n    timeText: \"時間\",\n    closeText: \"クローズ\",\n    allDayText: \"終日\",\n    noEventsText: \"イベントはありません\",\n    eventText: \"イベント\",\n    eventsText: \"イベント\",\n    moreEventsText: \"他 {count} 件\",\n    fromText: \"開始\",\n    toText: \"終わり\",\n    wholeText: \"全数\",\n    fractionText: \"分数\",\n    unitText: \"単位\",\n    labels: [\"年間\", \"月間\", \"日間\", \"時間\", \"分\", \"秒\", \"\"],\n    labelsShort: [\"年間\", \"月間\", \"日間\", \"時間\", \"分\", \"秒\", \"\"],\n    startText: \"開始\",\n    stopText: \"停止\",\n    resetText: \"リセット\",\n    lapText: \"ラップ\",\n    hideText: \"隠す\",\n    backText: \"バック\",\n    undoText: \"アンドゥ\" };\n\n  mobiscroll.i18n.pt = mobiscroll.i18n[\"pt-PT\"] = {\n    setText: \"Seleccionar\",\n    cancelText: \"Cancelar\",\n    clearText: \"Claro\",\n    selectedText: \"{count} selecionado\",\n    selectedPluralText: \"{count} selecionados\",\n    dateFormat: \"dd-mm-yy\",\n    dayNames: [\"Domingo\", \"Segunda-feira\", \"Terça-feira\", \"Quarta-feira\", \"Quinta-feira\", \"Sexta-feira\", \"Sábado\"],\n    dayNamesShort: [\"Dom\", \"Seg\", \"Ter\", \"Qua\", \"Qui\", \"Sex\", \"Sáb\"],\n    dayNamesMin: [\"D\", \"S\", \"T\", \"Q\", \"Q\", \"S\", \"S\"],\n    dayText: \"Dia\",\n    hourText: \"Horas\",\n    minuteText: \"Minutos\",\n    monthNames: [\"Janeiro\", \"Fevereiro\", \"Março\", \"Abril\", \"Maio\", \"Junho\", \"Julho\", \"Agosto\", \"Setembro\", \"Outubro\", \"Novembro\", \"Dezembro\"],\n    monthNamesShort: [\"Jan\", \"Fev\", \"Mar\", \"Abr\", \"Mai\", \"Jun\", \"Jul\", \"Ago\", \"Set\", \"Out\", \"Nov\", \"Dez\"],\n    monthText: \"Mês\",\n    secText: \"Segundo\",\n    timeFormat: \"HH:ii\",\n    yearText: \"Ano\",\n    nowText: \"Actualizar\",\n    pmText: \"pm\",\n    amText: \"am\",\n    todayText: \"Hoy\",\n    firstDay: 1,\n    dateText: \"Data\",\n    timeText: \"Tempo\",\n    closeText: \"Fechar\",\n    allDayText: \"Todo o dia\",\n    noEventsText: \"Nenhum evento\",\n    eventText: \"Evento\",\n    eventsText: \"Eventos\",\n    moreEventsText: \"mais {count}\",\n    fromText: \"Início\",\n    toText: \"Fim\",\n    wholeText: \"Inteiro\",\n    fractionText: \"Fracção\",\n    unitText: \"Unidade\",\n    labels: [\"Anos\", \"Meses\", \"Dias\", \"Horas\", \"Minutos\", \"Segundos\", \"\"],\n    labelsShort: [\"Ano\", \"Mês\", \"Dia\", \"Hora\", \"Min\", \"Seg\", \"\"],\n    startText: \"Começar\",\n    stopText: \"Parar\",\n    resetText: \"Reinicializar\",\n    lapText: \"Lap\",\n    hideText: \"Esconder\",\n    backText: \"Anterior\",\n    undoText: \"Anular\",\n    offText: \"Desl\",\n    onText: \"Lig\",\n    decimalSeparator: \",\",\n    thousandsSeparator: \" \" };\n\n  mobiscroll.i18n[\"pt-BR\"] = {\n    setText: \"Selecionar\",\n    cancelText: \"Cancelar\",\n    clearText: \"Claro\",\n    selectedText: \"{count} selecionado\",\n    selectedPluralText: \"{count} selecionados\",\n    dateFormat: \"dd/mm/yy\",\n    dayNames: [\"Domingo\", \"Segunda-feira\", \"Terça-feira\", \"Quarta-feira\", \"Quinta-feira\", \"Sexta-feira\", \"Sábado\"],\n    dayNamesShort: [\"Dom\", \"Seg\", \"Ter\", \"Qua\", \"Qui\", \"Sex\", \"Sáb\"],\n    dayNamesMin: [\"D\", \"S\", \"T\", \"Q\", \"Q\", \"S\", \"S\"],\n    dayText: \"Dia\",\n    hourText: \"Hora\",\n    minuteText: \"Minutos\",\n    monthNames: [\"Janeiro\", \"Fevereiro\", \"Março\", \"Abril\", \"Maio\", \"Junho\", \"Julho\", \"Agosto\", \"Setembro\", \"Outubro\", \"Novembro\", \"Dezembro\"],\n    monthNamesShort: [\"Jan\", \"Fev\", \"Mar\", \"Abr\", \"Mai\", \"Jun\", \"Jul\", \"Ago\", \"Set\", \"Out\", \"Nov\", \"Dez\"],\n    monthText: \"Mês\",\n    secText: \"Segundo\",\n    timeFormat: \"HH:ii\",\n    yearText: \"Ano\",\n    nowText: \"Agora\",\n    pmText: \"pm\",\n    amText: \"am\",\n    todayText: \"Hoje\",\n    dateText: \"Data\",\n    timeText: \"Tempo\",\n    closeText: \"Fechar\",\n    allDayText: \"Dia inteiro\",\n    noEventsText: \"Nenhum evento\",\n    eventText: \"Evento\",\n    eventsText: \"Eventos\",\n    moreEventsText: \"Mais {count}\",\n    fromText: \"In&iacute;cio\",\n    toText: \"Fim\",\n    wholeText: \"Inteiro\",\n    fractionText: \"Fração\",\n    unitText: \"Unidade\",\n    labels: [\"Anos\", \"Meses\", \"Dias\", \"Horas\", \"Minutos\", \"Segundos\", \"\"],\n    labelsShort: [\"Ano\", \"M&ecirc;s\", \"Dia\", \"Hora\", \"Min\", \"Seg\", \"\"],\n    startText: \"Começar\",\n    stopText: \"Pare\",\n    resetText: \"Reinicializar\",\n    lapText: \"Lap\",\n    hideText: \"Esconder\",\n    backText: \"Anterior\",\n    undoText: \"Desfazer\",\n    offText: \"Desl\",\n    onText: \"Lig\",\n    decimalSeparator: \",\",\n    thousandsSeparator: \" \" };\n\n  mobiscroll.i18n.cs = {\n    setText: \"Zadej\",\n    cancelText: \"Storno\",\n    clearText: \"Vymazat\",\n    selectedText: \"Označený: {count}\",\n    dateFormat: \"dd.mm.yy\",\n    dayNames: [\"Neděle\", \"Pondělí\", \"Úterý\", \"Středa\", \"Čtvrtek\", \"Pátek\", \"Sobota\"],\n    dayNamesShort: [\"Ne\", \"Po\", \"Út\", \"St\", \"Čt\", \"Pá\", \"So\"],\n    dayNamesMin: [\"N\", \"P\", \"Ú\", \"S\", \"Č\", \"P\", \"S\"],\n    dayText: \"Den\",\n    hourText: \"Hodiny\",\n    minuteText: \"Minuty\",\n    monthNames: [\"Leden\", \"Únor\", \"Březen\", \"Duben\", \"Květen\", \"Červen\", \"Červenec\", \"Srpen\", \"Září\", \"Říjen\", \"Listopad\", \"Prosinec\"],\n    monthNamesShort: [\"Led\", \"Úno\", \"Bře\", \"Dub\", \"Kvě\", \"Čer\", \"Čvc\", \"Spr\", \"Zář\", \"Říj\", \"Lis\", \"Pro\"],\n    monthText: \"Měsíc\",\n    secText: \"Sekundy\",\n    timeFormat: \"HH:ii\",\n    yearText: \"Rok\",\n    nowText: \"Teď\",\n    amText: \"am\",\n    pmText: \"pm\",\n    todayText: \"Dnes\",\n    firstDay: 1,\n    dateText: \"Datum\",\n    timeText: \"Čas\",\n    closeText: \"Zavřít\",\n    allDayText: \"Celý den\",\n    noEventsText: \"Žádné události\",\n    eventText: \"Událostí\",\n    eventsText: \"Události\",\n    moreEventsText: \"{count} další\",\n    fromText: \"Začátek\",\n    toText: \"Konec\",\n    wholeText: \"Celý\",\n    fractionText: \"Část\",\n    unitText: \"Jednotka\",\n    labels: [\"Roky\", \"Měsíce\", \"Dny\", \"Hodiny\", \"Minuty\", \"Sekundy\", \"\"],\n    labelsShort: [\"Rok\", \"Měs\", \"Dny\", \"Hod\", \"Min\", \"Sec\", \"\"],\n    startText: \"Start\",\n    stopText: \"Stop\",\n    resetText: \"Resetovat\",\n    lapText: \"Etapa\",\n    hideText: \"Schovat\",\n    backText: \"Zpět\",\n    undoText: \"Zpět\",\n    offText: \"O\",\n    onText: \"I\",\n    decimalSeparator: \",\",\n    thousandsSeparator: \" \" };\n\n  mobiscroll.i18n.ru = mobiscroll.i18n[\"ru-RU\"] = {\n    setText: \"Установить\",\n    cancelText: \"Отмена\",\n    clearText: \"Очистить\",\n    selectedText: \"{count} Выбрать\",\n    dateFormat: \"dd.mm.yy\",\n    dayNames: [\"воскресенье\", \"понедельник\", \"вторник\", \"среда\", \"четверг\", \"пятница\", \"суббота\"],\n    dayNamesShort: [\"вс\", \"пн\", \"вт\", \"ср\", \"чт\", \"пт\", \"сб\"],\n    dayNamesMin: [\"в\", \"п\", \"в\", \"с\", \"ч\", \"п\", \"с\"],\n    dayText: \"День\",\n    delimiter: \".\",\n    hourText: \"Час\",\n    minuteText: \"Минут\",\n    monthNames: [\"Январь\", \"Февраль\", \"Март\", \"Апрель\", \"Май\", \"Июнь\", \"Июль\", \"Август\", \"Сентябрь\", \"Октябрь\", \"Ноябрь\", \"Декабрь\"],\n    monthNamesShort: [\"Янв\", \"Фев\", \"Мар\", \"Апр\", \"Май\", \"Июн\", \"Июл\", \"Авг\", \"Сен\", \"Окт\", \"Ноя\", \"Дек\"],\n    monthText: \"Месяц\",\n    secText: \"Секунд\",\n    timeFormat: \"HH:ii\",\n    yearText: \"Год\",\n    nowText: \"Сейчас\",\n    amText: \"am\",\n    pmText: \"pm\",\n    todayText: \"Cегодня\",\n    firstDay: 1,\n    dateText: \"Дата\",\n    timeText: \"Время\",\n    closeText: \"Закрыть\",\n    allDayText: \"Весь день\",\n    noEventsText: \"Нет событий\",\n    eventText: \"Мероприятия\",\n    eventsText: \"Мероприятия\",\n    moreEventsText: \"Ещё {count}\",\n    fromText: \"Начало\",\n    toText: \"Конец\",\n    wholeText: \"Целое\",\n    fractionText: \"Дробное\",\n    unitText: \"Единица\",\n    labels: [\"Лет\", \"Месяцев\", \"Дней\", \"Часов\", \"Минут\", \"Секунд\", \"\"],\n    labelsShort: [\"Лет\", \"Мес\", \"Дн\", \"Час\", \"Мин\", \"Сек\", \"\"],\n    startText: \"Старт\",\n    stopText: \"Стоп\",\n    resetText: \"Сбросить\",\n    lapText: \"Круг\",\n    hideText: \"Скрыть\",\n    backText: \"назад\",\n    undoText: \"ОтменитЬ\",\n    offText: \"O\",\n    onText: \"I\",\n    decimalSeparator: \",\",\n    thousandsSeparator: \" \" };\n\n  mobiscroll.i18n.ar = {\n    rtl: !0,\n    setText: \"تعيين\",\n    cancelText: \"إلغاء\",\n    clearText: \"مسح\",\n    selectedText: \"{count} المحدد\",\n    dateFormat: \"dd/mm/yy\",\n    dayNames: [\"الأحد\", \"الاثنين\", \"الثلاثاء\", \"الأربعاء\", \"الخميس\", \"الجمعة\", \"السبت\"],\n    dayNamesShort: [\"أحد\", \"اثنين\", \"ثلاثاء\", \"أربعاء\", \"خميس\", \"جمعة\", \"سبت\"],\n    dayNamesMin: [\"ح\", \"ن\", \"ث\", \"ر\", \"خ\", \"ج\", \"س\"],\n    dayText: \"يوم\",\n    hourText: \"ساعات\",\n    minuteText: \"الدقائق\",\n    monthNames: [\"كانون الثاني\", \"شهر فبراير\", \"مارس\", \"أبريل\", \"قد\", \"يونيو\", \"يوليو\", \"أغسطس\", \"سبتمبر\", \"شهر اكتوبر\", \"شهر نوفمبر\", \"ديسمبر\"],\n    monthNamesShort: [\"كانون الثاني\", \"شهر فبراير\", \"مارس\", \"أبريل\", \"قد\", \"يونيو\", \"يوليو\", \"أغسطس\", \"سبتمبر\", \"شهر اكتوبر\", \"شهر نوفمبر\", \"ديسمبر\"],\n    monthText: \"شهر\",\n    secText: \"ثواني\",\n    amText: \"ص\",\n    pmText: \"م\",\n    timeFormat: \"hh:ii A\",\n    yearText: \"عام\",\n    nowText: \"الآن\",\n    firstDay: 0,\n    dateText: \"تاريخ\",\n    timeText: \"وقت\",\n    closeText: \"إغلاق\",\n    todayText: \"اليوم\",\n    prevMonthText: \"الشهر السابق\",\n    nextMonthText: \"الشهر القادم\",\n    prevYearText: \"السنه السابقة\",\n    nextYearText: \"العام القادم\",\n    allDayText: \"اليوم كله\",\n    noEventsText: \"لا توجد احداث\",\n    eventText: \"الحدث\",\n    eventsText: \"أحداث\",\n    moreEventsText: \"واحد آخر\",\n    moreEventsPluralText: \"اثنان آخران {count}\",\n    fromText: \"يبدا\",\n    toText: \"ينتهي\",\n    wholeText: \"كامل\",\n    fractionText: \"جزء\",\n    unitText: \"وحدة\",\n    delimiter: \"/\",\n    decimalSeparator: \".\",\n    thousandsSeparator: \",\",\n    labels: [\"سنوات\", \"أشهر\", \"أيام\", \"ساعة\", \"دقائق\", \"ثواني\", \"\"],\n    labelsShort: [\"سنوات\", \"أشهر\", \"أيام\", \"ساعة\", \"دقائق\", \"ثواني\", \"\"],\n    startText: \"بدء\",\n    stopText: \"إيقاف\",\n    resetText: \"إعادة ضبط\",\n    lapText: \"الدورة\",\n    hideText: \"إخفاء\",\n    offText: \"إيقاف\",\n    onText: \"تشغيل\",\n    backText: \"رجوع\",\n    undoText: \"تراجع\" };\n\n  mobiscroll.i18n.ko = {\n    setText: \"설정\",\n    cancelText: \"취소\",\n    clearText: \"삭제\",\n    selectedText: \"{count} 선택된\",\n    dateFormat: \"yy년mm월dd일\",\n    dayNames: [\"일요일\", \"월요일\", \"화요일\", \"수요일\", \"목요일\", \"금요일\", \"토요일\"],\n    dayNamesShort: [\"일\", \"월\", \"화\", \"수\", \"목\", \"금\", \"토\"],\n    dayNamesMin: [\"일\", \"월\", \"화\", \"수\", \"목\", \"금\", \"토\"],\n    dayText: \"일\",\n    delimiter: \"-\",\n    hourText: \"시간\",\n    minuteText: \"분\",\n    monthNames: [\"1월\", \"2월\", \"3월\", \"4월\", \"5월\", \"6월\", \"7월\", \"8월\", \"9월\", \"10월\", \"11월\", \"12월\"],\n    monthNamesShort: [\"1월\", \"2월\", \"3월\", \"4월\", \"5월\", \"6월\", \"7월\", \"8월\", \"9월\", \"10월\", \"11월\", \"12월\"],\n    monthText: \"달\",\n    secText: \"초\",\n    timeFormat: \"H:ii\",\n    yearText: \"년\",\n    nowText: \"지금\",\n    pmText: \"오후\",\n    amText: \"오전\",\n    yearSuffix: \"년\",\n    monthSuffix: \"월\",\n    daySuffix: \"일\",\n    firstDay: 0,\n    dateText: \"날짜\",\n    timeText: \"시간\",\n    todayText: \"오늘\",\n    prevMonthText: \"이전 달\",\n    nextMonthText: \"다음 달\",\n    prevYearText: \"이전 년\",\n    nextYearText: \"다음 년\",\n    closeText: \"닫기\",\n    eventText: \"이벤트\",\n    eventsText: \"이벤트\",\n    allDayText: \"종일\",\n    noEventsText: \"이벤트 없음\",\n    moreEventsText: \"{count}개 더보기\",\n    fromText: \"시작\",\n    toText: \"종료\",\n    wholeText: \"정수\",\n    fractionText: \"분수\",\n    unitText: \"단위\",\n    labels: [\"년\", \"달\", \"일\", \"시간\", \"분\", \"초\", \"\"],\n    labelsShort: [\"년\", \"달\", \"일\", \"시간\", \"분\", \"초\", \"\"],\n    startText: \"시작\",\n    stopText: \"중지 \",\n    resetText: \"초기화\",\n    lapText: \"기록\",\n    hideText: \"숨는 장소\",\n    backText: \"뒤로\",\n    undoText: \"실행취소\",\n    offText: \"끔\",\n    onText: \"켬\",\n    decimalSeparator: \",\",\n    thousandsSeparator: \" \" };\n\n  mobiscroll.i18n.ua = {\n    setText: \"встановити\",\n    cancelText: \"відміна\",\n    clearText: \"очистити\",\n    selectedText: \"{count} вибрані\",\n    dateFormat: \"dd.mm.yy\",\n    dayNames: [\"неділя\", \"понеділок\", \"вівторок\", \"середа\", \"четвер\", \"п’ятниця\", \"субота\"],\n    dayNamesShort: [\"нед\", \"пнд\", \"вів\", \"срд\", \"чтв\", \"птн\", \"сбт\"],\n    dayNamesMin: [\"Нд\", \"Пн\", \"Вт\", \"Ср\", \"Чт\", \"Пт\", \"Сб\"],\n    dayText: \"День\",\n    delimiter: \".\",\n    hourText: \"година\",\n    minuteText: \"хвилина\",\n    monthNames: [\"Січень\", \"Лютий\", \"Березень\", \"Квітень\", \"Травень\", \"Червень\", \"Липень\", \"Серпень\", \"Вересень\", \"Жовтень\", \"Листопад\", \"Грудень\"],\n    monthNamesShort: [\"Січ\", \"Лют\", \"Бер\", \"Кві\", \"Тра\", \"Чер\", \"Лип\", \"Сер\", \"Вер\", \"Жов\", \"Лис\", \"Гру\"],\n    monthText: \"Місяць\",\n    secText: \"Секунд\",\n    timeFormat: \"H:ii\",\n    yearText: \"Рік\",\n    nowText: \"Зараз\",\n    pmText: \"pm\",\n    amText: \"am\",\n    firstDay: 1,\n    dateText: \"дата\",\n    timeText: \"Час\",\n    todayText: \"Сьогодні\",\n    prevMonthText: \"Попередній місяць\",\n    nextMonthText: \"Наступного місяця\",\n    prevYearText: \"Попередній рік\",\n    nextYearText: \"Наступного року\",\n    closeText: \"Закрити\",\n    eventText: \"подія\",\n    eventsText: \"події\",\n    allDayText: \"Увесь день\",\n    noEventsText: \"Жодної події\",\n    moreEventsText: \"та ще {count}\",\n    fromText: \"від\",\n    toText: \"кінець\",\n    wholeText: \"всі\",\n    fractionText: \"фракція\",\n    unitText: \"одиниця\",\n    labels: [\"Рік\", \"Місяць\", \"День\", \"година\", \"хвилина\", \"Секунд\", \"\"],\n    labelsShort: [\"Рік\", \"Місяць\", \"День\", \"година\", \"хвилина\", \"Секунд\", \"\"],\n    startText: \"Початок\",\n    stopText: \"СТОП\",\n    resetText: \"скинути\",\n    lapText: \"коло\",\n    hideText: \"сховати\",\n    backText: \"назад\",\n    undoText: \"відмінити\",\n    offText: \"Вимикати\",\n    onText: \"Увімкнути\",\n    decimalSeparator: \",\",\n    thousandsSeparator: \" \" };\n\n  setI18nMobiscroll();\n  if (bizagi.localization && bizagi.localization.observableElement) {\n    bizagi.localization.observableElement.bind(\"setLanguage\", function () {\n      setI18nMobiscroll();\n    });\n  }\n  function setI18nMobiscroll() {\n    if (typeof bizagi !== \"undefined\" &&\n    typeof bizagi.localization !== \"undefined\" &&\n    typeof bizagi.localization.language !== \"undefined\" &&\n    typeof bizagi.util !== \"undefined\" &&\n    typeof bizagi.util.languages !== \"undefined\") {\n\n      var bizagiLang = typeof BIZAGI_LANGUAGE !== \"undefined\" ? BIZAGI_LANGUAGE : \"en\";\n      var language = bizagi.util.languages[bizagiLang] || bizagi.localization.language;\n\n      if (!mobiscroll.i18n[language]) {\n        var baseLanguageTag = language.toLowerCase().replace(/([^a-z]+)/g, \"-\").split(\"-\").shift();\n        if (mobiscroll.i18n[baseLanguageTag]) {\n          mobiscroll.i18n[language] = mobiscroll.i18n[baseLanguageTag];\n        } else {\n          mobiscroll.i18n[language] = defaulti18n;\n        }\n      }\n\n      var currentLanguage = mobiscroll.i18n[language];\n      var dateRegional = bizagi.localization.getResource(\"datePickerRegional\");\n      var firstDay = dateRegional.firstDay ? parseInt(dateRegional.firstDay) : currentLanguage.firstDay;\n\n      currentLanguage.closeText = dateRegional.closeText || currentLanguage.closeText;\n      currentLanguage.clearText = bizagi.localization.getResource(\"render-search-clear-label\", currentLanguage.clearText);\n      currentLanguage.nowText = bizagi.localization.getResource(\"render-timeentry-now\", currentLanguage.nowText);\n      currentLanguage.todayText = dateRegional.currentText || currentLanguage.todayText;\n      currentLanguage.dateFormat = dateRegional.dateFormat || currentLanguage.dateFormat;\n      currentLanguage.dayNames = dateRegional.dayNames || currentLanguage.dayNames;\n      currentLanguage.dayNamesMin = dateRegional.dayNamesMin || currentLanguage.dayNamesMin;\n      currentLanguage.dayNamesShort = dateRegional.dayNamesShort || currentLanguage.dayNamesShort;\n      currentLanguage.firstDay = firstDay;\n      currentLanguage.rtl = typeof dateRegional.isRTL !== \"undefined\" ? dateRegional.isRTL : currentLanguage.rtl;\n      currentLanguage.monthNames = dateRegional.monthNames || currentLanguage.monthNames;\n      currentLanguage.monthNamesShort = dateRegional.monthNamesShort || currentLanguage.monthNamesShort;\n      currentLanguage.nextMonthText = dateRegional.nextText || currentLanguage.nextMonthText;\n      currentLanguage.nextYearText = dateRegional.nextText || currentLanguage.nextYearText;\n      currentLanguage.prevMonthText = dateRegional.prevText || currentLanguage.prevMonthText;\n      currentLanguage.prevYearText = dateRegional.prevText || currentLanguage.prevYearText;\n      currentLanguage.yearSuffix = dateRegional.yearSuffix = dateRegional.yearSuffix || \"\";\n    }\n  }\n})(jQuery);","/*\r\n*   Name: BizAgi Element Class\r\n*   Author: Diego Parra\r\n*   Comments:\r\n*   -   This script will define a base class with common stuff related to all renders and containers\r\n*/\n\n$.Class.extend(\"bizagi.rendering.element\", {\n  ELEMENT_TYPE_CONTAINER: 1,\n  ELEMENT_TYPE_RENDER: 2,\n  ELEMENT_TYPE_COLUMN: 3 },\n{\n\n  /*\r\n  *   Constructor\r\n  */\n  init: function init(params) {\n    // Set render factory\n    this.renderFactory = params.renderFactory;\n\n    // Set data service\n    this.dataService = params.dataService;\n\n    // Set reference to parent\n    this.parent = params.parent;\n\n    // Set l10n service\n    this.resources = bizagi.localization;\n\n    // Set the observable element\n    this.observableElement = $(\"<div />\");\n\n    // Set the dispose flag\n    this.disposed = false;\n\n    // Update data\n    this.initializeData(params.data);\n\n    // Define an object to hold the subscribe collection\n    this.subscribers = [];\n  },\n\n  /*\r\n     *   Update or init the element data\r\n     */\n  initializeData: function initializeData(data) {\n    var self = this;\n\n    // Set the internal data\n    this.properties = {};\n    if (data && data.properties) this.properties = data.properties;\n\n    // Set xpath context\n    this.properties.xpathContext = this.getXpathContext();\n\n    // Set page cache\n    this.properties.idPageCache = this.getPageCache();\n\n    //History of visual changes from actions\n    self.visualChanges = self.visualChanges || {};\n  },\n\n  /*\r\n     *   Returns the xpath context of the element\r\n     */\n  getXpathContext: function getXpathContext() {\n    // By default return parent's xpath context\n    // This method is overriden in form container which contains the real xpath context\n\n    return this.parent != undefined && typeof this.parent.getXpathContext == \"function\" ? this.parent.getXpathContext() : \"\";\n  },\n\n  /*\r\n     *   Returns the xpath of the element\r\n     */\n  getXpath: function getXpath() {\n    return this.properties.xpath;\n  },\n  /*\r\n     *   Returns the page cache for the current element\r\n     */\n  getPageCache: function getPageCache() {\n    // By default return parent's page cache\n    // This method is overriden in form container which contains the real page cache\n\n    return this.parent != undefined && typeof this.parent.getPageCache == \"function\" ? this.parent.getPageCache() : \"\";\n  },\n\n  /*\r\n     *   Returns the form containing the element\r\n     */\n  getFormContainer: function getFormContainer() {\n    // By default return parent's form container\n    // This method is overriden in form container which returns itself\n    if (typeof this.parent != \"undefined\")\n    return this.parent.getFormContainer();\n  },\n\n\n  /*\r\n     *   Returns the mapped resource\r\n     */\n  getResource: function getResource(key) {\n    return this.resources.getResource(key);\n  },\n\n  /*\r\n     *   Returns the element type\r\n     */\n  getElementType: function getElementType() {},\n\n  /*\r\n                                                *   Resizes the element\r\n                                                */\n  resize: function resize(size) {\n\n  },\n\n  /*\r\n     *   Focus on the current element\r\n     */\n  focus: function focus() {\n\n    if (this.properties.required) {\n      var layout = $(\"#ui-bizagi-wp-app-render-form-content\");\n      // Check if element is visible into scroll\n      if (!bizagi.util.isScrolledIntoView(this.element, layout)) {\n        $(this.element).attr('tabindex', -1).focus();\n      }\n      if (this.element) {\n        this.element.effect('highlight', 2000);\n      }\n    }\n\n    //Check if the element has parent\n    if (this.parent && typeof this.parent.focus == 'function') {\n      this.parent.focus();\n    }\n  },\n\n  /*\r\n     *   Publish a global event that the facade will replicate\r\n     */\n  triggerGlobalHandler: function triggerGlobalHandler(eventType, data) {\n    if (this.disposed) return null;\n    if (this.parent) return this.parent.triggerGlobalHandler(eventType, data);\n    return null;\n  },\n\n  /*\r\n     *   Triggers an event inside the control\r\n     */\n  trigger: function trigger(eventType, data) {\n    if (this.disposed) return null;\n    if (this.observableElement) return this.observableElement.trigger(eventType, data);\n    return null;\n  },\n\n  /*\r\n     *   Triggers an event handler inside the control\r\n     */\n  triggerHandler: function triggerHandler(eventType, data) {\n    if (this.disposed) return null;\n    if (this.observableElement) return this.observableElement.triggerHandler(eventType, data);\n    return null;\n  },\n\n  /*\r\n     *   Binds to an event\r\n     */\n  bind: function bind(eventType, fn) {\n    if (this.disposed) return null;\n    if (this.observableElement) return this.observableElement.bind(eventType, fn);\n    this.subscribers.push({ event: eventType });\n    return null;\n  },\n\n  /*\r\n     *   Un-binds to an event\r\n     */\n  unbind: function unbind(eventType, fn) {\n    if (this.disposed) return null;\n    if (this.observableElement) return this.observableElement.unbind(eventType, fn);\n    return null;\n  },\n\n  /*\r\n     *   Binds a one time event\r\n     */\n  one: function one(eventType, fn) {\n    if (this.disposed) return null;\n    if (this.observableElement) return this.observableElement.one(eventType, fn);\n    this.subscribers.push({ event: eventType });\n    return null;\n  },\n\n  /*\r\n     *   Return the rendered element\r\n     */\n  getRenderedElement: function getRenderedElement() {},\n\n  /*\r\n                                                        *   Get current rendering mode\r\n                                                        */\n  getMode: function getMode() {\n    if (this.parent) return this.parent.getMode();\n  },\n\n  /*\r\n     *   Get current rendering params\r\n     */\n  getParams: function getParams() {\n    if (this.parent) return this.parent.getParams();\n  },\n\n  /*\r\n     * Get current form type (ex. queryform, form)\r\n     */\n  getFormType: function getFormType() {\n    var self = this;\n\n    var form = self.getFormContainer();\n    return form.properties.type || \"form\";\n  },\n\n  /*\r\n     *   Returns a promise that will resolve when the element is ready\r\n     */\n  ready: function ready() {},\n\n  /*\r\n                              *   Returns a promise that will resolve when the element is ready to save\r\n                              */\n  isReadyToSave: function isReadyToSave() {},\n\n  /*\r\n                                              *   Get the custom handlers set for this execution\r\n                                              */\n  getCustomHandlers: function getCustomHandlers() {\n    return null;\n  },\n\n  /*\r\n     *   Dispose the class so we can detect when a class is invalid already\r\n     */\n  dispose: function dispose() {\n    var self = this;\n    self.disposed = true;\n\n    var timeOutDispose = setTimeout(function () {\n      if (self.subscribers != null) {\n        // Remove all subcriptions\n        $.each(self.subscribers, function (i, item) {\n          self.unbind(item.event);\n        });\n      }\n      delete self.subscribers;\n\n      if (self.observableElement) self.observableElement.off();\n      bizagi.util.dispose(self);\n      clearTimeout(timeOutDispose);\n    }, bizagi.override.disposeTime || 50);\n  },\n\n  /*\r\n     *   Check if the current object is disposed\r\n     */\n  isDisposed: function isDisposed() {\n    return this.disposed;\n  },\n\n  /*\r\n     *   This method process the error or alert messages coming from the server, and adds them to the validation controller\r\n     */\n  processFailMessage: function processFailMessage(message) {\n    var self = this;\n    var form = self.getFormContainer();\n    var isOfflineForm = bizagi.util.isOfflineForm({ context: self });\n\n    if (message.errorType === \"CustomMessageException\") {\n      // Clear previous validations\n      form.validationController.clearValidationMessages();\n      var error = bizagi.localization.getResource(message.message);\n      form.validationController.showErrorMessage(error);\n    } else if (message.errorType === \"InvalidCaseStateException\") {\n      var params = form.getParams();\n\n      form.validationController.clearValidationMessages();\n\n      // Redirection Here\n      form.container.trigger(\"routing\", { idCase: params.idCase || bizagi.context.idCase });\n    } else {\n      var message = message || {};\n      message = typeof message == \"string\" ? JSON.parse(message) : message;\n      var type = message.type || \"error\";\n      var code = message.code || \"code\";\n      message = message.responseText || message.message || message;\n\n      // Omit processing when the ajax didn't process\n      if (type === \"not-processed\") return;\n      if (type === \"not-shown\") return;\n      if (isOfflineForm && code === \"AUTH_ERROR\") return;\n\n      // Clear previous validations\n      form.validationController.clearValidationMessages();\n      if (type == \"alert\") {\n        form.validationController.showAlertMessage(message);\n      } else {\n        form.validationController.showErrorMessage(message);\n      }\n    }\n\n    return message;\n  },\n\n  /*\r\n     *   Sets a waiting overlay above the current element\r\n     */\n  startLoading: function startLoading() {/* Override in implementations */},\n\n  /*\r\n                                                                             *   Removes the waiting overlay\r\n                                                                             */\n  endLoading: function endLoading() {/* Override in implementations */},\n\n  /**\r\n                                                                          *   Prepare control to remove it from the render, that allows to\r\n                                                                          *   clean all elements of the control or to do any stuff before to remove\r\n                                                                          */\n  beforeToRefresh: function beforeToRefresh() {\n    /* Implement in each render and container if you need */\n  },\n\n  /**\r\n      *   Run before that the control has been refreshed\r\n      */\n  afterToRefresh: function afterToRefresh() {\n    /* Implement in each render and container if you need */\n  },\n\n  /**\r\n      * This method returns the localized version of the resource\r\n      * @param resource\r\n      * @param fallback\r\n      * @returns {string}\r\n      */\n  getResourceByKey: function getResourceByKey(resource, fallback) {\n    fallback = fallback || resource;\n\n    return bizagi.localization.getResource(resource, fallback);\n  },\n  /**\r\n      * Restore appearance using type of command\r\n      */\n  restoreAppearance: function restoreAppearance() {\n    var self = this;\n\n    for (var command in self.visualChanges) {\n\n      switch (command) {\n        case \"color\":\n          self.changeColor(self.visualChanges[command]);\n          break;\n        case \"backgroundColor\":\n          self.changeBackgroundColor(self.visualChanges[command]);\n          break;\n        case \"required\":\n          self.changeRequired(self.visualChanges[command]);\n          break;\n        case \"editability\":\n          self.changeEditability(self.visualChanges[command]);\n          break;\n        case \"visibility\":\n          self.changeVisibility(self.visualChanges[command]);\n          break;\n        case \"minValue\":\n          self.changeMinValue(self.visualChanges[command]);\n          break;\n        case \"maxValue\":\n          self.changeMaxValue(self.visualChanges[command]);\n          break;}\n\n    }\n  },\n\n  getOrientation: function getOrientation() {\n    var control = this;\n    while (control) {\n      properties = control.properties || {};\n      if (properties.orientation !== \"auto\") return properties.orientation;\n      control = control.parent;\n    }\n    return \"auto\";\n  } });","/*\r\n *   Name: BizAgi Container Class\r\n *   Author: Diego Parra\r\n *   Comments:\r\n *   -   This script will define a base container class with common stuff related to all containers\r\n */\n\nbizagi.rendering.element.extend(\"bizagi.rendering.container\", {\n  TYPE_QUERY_FORM: \"queryForm\" },\n{\n\n  /*\r\n  *   Update or init the element data\r\n  */\n  initializeData: function initializeData(data) {\n    var self = this;\n\n    // Call base\n    self._super(data);\n\n    // Set defaults\n    var properties = self.properties;\n    properties.uniqueId = Math.ceil(Math.random() * 1000000);\n    properties.editable = typeof properties.editable != \"undefined\" ? bizagi.util.parseBoolean(properties.editable) : true;\n    properties.visible = typeof properties.visible != \"undefined\" ? bizagi.util.parseBoolean(properties.visible) : true;\n\n    // Override orientation from parent if not set\n    properties.orientation = properties.orientation || \"auto\";\n\n    // Save original properties\n    this.originalProperties = JSON.parse(JSON.encode(properties));\n\n    // Create children\n    this.children = [];\n    this.childrenHash = {};\n\n    if (data.elements) {\n      $.each(data.elements, function (i, element) {\n        if (element.render) {\n          self.createRenderElement(element);\n        } else if (element.container) {\n          self.createContainerElement(element);\n        } else if (element.form) {\n          self.createFormElement(element);\n        }\n      });\n    }\n  },\n\n  /*\r\n     *   Creates a render element\r\n     */\n  createRenderElement: function createRenderElement(element) {\n    var self = this;\n    var properties = self.properties;\n    var originalElement;\n\n    // Replicate editable property when container is not editable\n    if (properties.editable == false) {\n      element.render.properties.editable = properties.editable;\n      /*if (element.render.properties.type == \"grid\")\r\n                                                                    element.render.properties.inlineEdit = false;*/\n    }\n\n    // Replicate required property when container is not required\n    if (properties.required === false) {\n      element.render.properties.required = properties.required;\n    }\n\n    //clone originalElement to apply duplicate render properties correctly\n    if (element.render.properties.retype == \"duplicate\") {\n      originalElement = bizagi.clone(element);\n    }\n\n    var render = self.renderFactory.getRender({\n      type: element.render.properties.type,\n      data: element.render,\n      dataService: self.dataService,\n      parent: self,\n      mode: self.getMode() });\n\n\n    // Add to children\n    self.children.push(render);\n\n    // Check for duplicate\n    if (element.render.properties.retype == \"duplicate\") {\n      self.processDuplicateRender(render, originalElement);\n    }\n\n    //TODO: at this point not posible add the retype double at this point not exist input\n\n    // Register in form container\n    self.getFormContainer().registerRender(render);\n  },\n  /*\r\n     *   Creates a container element\r\n     */\n  createContainerElement: function createContainerElement(element) {\n    var self = this;\n    var properties = self.properties;\n\n    // Replicate editable property when container is not editable\n    if (properties.editable == false) {\n      element.container.properties.editable = properties.editable;\n    }\n\n    // Replicate required property when container is not required\n    if (properties.required === false) {\n      element.container.properties.required = properties.required;\n    }\n\n    var container = self.renderFactory.getContainer({\n      type: element.container.properties.type,\n      data: element.container,\n      parent: self,\n      dataService: self.dataService,\n      mode: self.getMode(),\n      isDesign: self.getMode() === \"design\" });\n\n\n    self.children.push(container);\n\n    // Register in form container\n    self.getFormContainer().registerRender(container);\n  },\n  /*\r\n     *   Creates a form element\r\n     */\n  createFormElement: function createFormElement(element) {\n    var self = this;\n    var properties = self.properties;\n\n    // Replicate editable property when container is not editable\n    if (properties.editable == false) {\n      element.container.properties.editable = properties.editable;\n    }\n\n    var form = self.renderFactory.getContainer({\n      type: element.form.properties.type || \"form\",\n      data: element.form,\n      parent: self,\n      dataService: self.dataService,\n      mode: self.getMode() });\n\n    self.children.push(form);\n  },\n  /*\r\n     *   Gets the current container\r\n     */\n  getElement: function getElement() {\n    var self = this;\n    return self.container;\n  },\n  /*\r\n     *   Gets a collection for all elements matching a type\r\n     */\n  getElementsByType: function getElementsByType(type, elements) {\n    elements = elements || [];\n    var self = this;\n\n    // Iterate through elements\n    $.each(self.children, function (i, child) {\n      if (child.properties.type == type) {\n        elements.push(child);\n      }\n      if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_CONTAINER) {\n        child.getElementsByType(type, elements);\n      }\n    });\n\n    return elements;\n  },\n  /*\r\n     *   Process renders with duplicate property\r\n     */\n  processDuplicateRender: function processDuplicateRender(render, element) {\n    var self = this;\n    var clonedElement = JSON.parse(JSON.encode(element.render));\n\n    // Changes properties\n    clonedElement.properties.displayName = clonedElement.properties.displayName + \" \" + self.getResource(\"render-text-duplicate-label-sufix\");\n    clonedElement.properties.xpath = clonedElement.properties.xpath + \".clone\";\n    clonedElement.properties.isClone = true;\n\n    // Creates clone\n    var clone = self.renderFactory.getRender({\n      type: clonedElement.properties.type,\n      data: clonedElement,\n      parent: self,\n      mode: self.getMode() });\n\n\n    // Associates with main render\n    render.cloneRender = clone;\n\n    // Add to collection\n    self.children.push(clone);\n  },\n  /*\r\n     *   Returns the element type\r\n     */\n  getElementType: function getElementType() {\n    return bizagi.rendering.element.ELEMENT_TYPE_CONTAINER;\n  },\n  /*\r\n     *   Returns the in-memory processed element\r\n     */\n  render: function render() {\n    var self = this,\n    mode = self.getMode(),\n    result;\n\n    // Render container\n    result = self.internalRender();\n\n    // Apply container defaults\n    self.applyContainerDefaults();\n\n    // Add container id\n    result.attr(\"data-container-id\", self.properties.id);\n\n    //Add container tag property\n    if (self.properties.tag) {\n      result.attr(\"data-tag\", self.properties.tag);\n    }\n\n    //Add class to the requested form, to specify if is add form, edit form, or detail form\n    if (self.params)\n    if (self.params.requestedForm)\n    result.addClass(self.params.requestedForm);\n\n    return result;\n  },\n  /*\r\n     *   Internal  rendering\r\n     */\n  internalRender: function internalRender() {\n    var self = this;\n\n    // Render the container\n    var html = self.renderContainerHtml();\n\n    // Convert html string to jquery object\n    var container = self.container = $(html);\n\n    // Post-render\n    self.postRenderContainer(container);\n\n    return self.container;\n  },\n  /*\r\n     *   Renders container html\r\n     */\n  renderContainerHtml: function renderContainerHtml() {\n    var self = this;\n    // Start rendering deferred\n    self.renderingDeferred = self.renderingDeferred || new $.Deferred();\n\n    return this.renderContainer();\n  },\n  /*\r\n     *   Check if the jquery element is ready or not\r\n     */\n  isRendered: function isRendered() {\n    var self = this;\n    if (!self.renderingDeferred)\n    return false;\n    return self.renderingDeferred.promise();\n  },\n  /*\r\n     *   Return the rendered element\r\n     */\n  getRenderedElement: function getRenderedElement() {\n    if (bizagi.util.isEmpty(this.container))\n    alert(\"container hasn't been rendered!\");\n\n    return this.container;\n  },\n  /*\r\n     *   Set container defaults\r\n     */\n  applyContainerDefaults: function applyContainerDefaults() {\n    var self = this,\n    properties = self.properties;\n\n    // Set customizations\n    if (properties.backgroundColor)\n    self.changeBackgroundColor(properties.backgroundColor);\n\n    // Set editability and visiblity\n    if (!properties.visible)\n    self.changeVisibility(properties.visible);\n  },\n  /*\r\n     *  Changes background color\r\n     */\n  changeBackgroundColor: function changeBackgroundColor(color) {\n    var self = this;\n    var properties = self.properties;\n\n    properties.backgroundColor = color;\n\n    // Iterate through elements\n    $.each(self.children, function (i, child) {\n      if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_CONTAINER) {\n        child.changeBackgroundColor(color);\n\n      } else if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_RENDER) {\n        child.changeBackgroundColor(color);\n      }\n    });\n  },\n  /*\r\n     *   Hides / Show container\r\n     */\n  changeVisibility: function changeVisibility(argument) {\n    var self = this;\n    var properties = self.properties;\n\n    // Store in properties\n    properties.visible = bizagi.util.parseBoolean(argument);\n\n    // Hide - show the render\n    if (properties.visible) {\n      self.container.show();\n\n    } else {\n      self.container.hide();\n    }\n  },\n  /* Changes editability */\n  changeEditability: function changeEditability(argument) {\n    var self = this;\n    var properties = self.properties;\n\n    // Store in properties\n    properties.editable = argument == \"Default\" ? self.originalProperties.editable : bizagi.util.parseBoolean(argument);\n\n    // Iterate through elements\n    $.each(self.children, function (i, child) {\n      if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_CONTAINER) {\n        $.when(child.ready()).done(function () {\n          child.changeEditability(argument);\n        });\n      } else if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_RENDER) {\n        child.changeEditability(argument);\n      }\n    });\n  },\n  /*\r\n     *   Replaces a <x/> tag in the container for the specified \"replace\" element\r\n     */\n  replaceTag: function replaceTag(container, tag, replace) {\n    bizagi.util.replaceSelector(container, tag, replace);\n  },\n  /*\r\n     *   Replaces a <children/> tag in the container for the specified \"replace\" element\r\n     */\n  replaceChildrenTag: function replaceChildrenTag(container, replace) {\n    this.replaceTag(container, \".children\", replace);\n  },\n  /*\r\n     *   Replaces a {{children}} string in the specified element\r\n     */\n  replaceChildrenHtml: function replaceChildrenHtml(html, replace) {\n    return html.replaceFirstWithoutPatterns(\"{{children}}\", replace);\n  },\n  /*\r\n     *   Template method to render the container layout, returns a string with all the builded html,\r\n     *   must be overriden in all children\r\n     */\n  renderContainer: function renderContainer() {\n  },\n  /*\r\n     *   Template method to process each jquery object\r\n     *   must be overriden in each container\r\n     */\n  postRenderContainer: function postRenderContainer(container) {\n    var self = this;\n    var mode = self.getMode();\n\n    // Resolve rendering deferred\n    if (self.renderingDeferred)\n    self.renderingDeferred.resolve();\n\n    // Process children elements\n    self.container = container;\n    self.executeChildrenPostRender(container);\n\n    if (mode == \"execution\") {\n      // Apply handlers\n      self.configureHandlers();\n      self.applyPlaceHolderPolyfill();\n\n    }\n    if (mode == \"design\") {\n      // Configure view\n      self.configureDesignView();\n    }\n    if (mode == \"layout\") {\n      // Configure view\n      self.configureDesignView();\n      self.configureLayoutView();\n    }\n  },\n\n  applyPlaceHolderPolyfill: function applyPlaceHolderPolyfill() {\n    var self = this;\n    var config = window.placeHolderConfig || {};\n    if (('placeholder' in $('<input>')[0] || 'placeHolder' in $('<input>')[0]) && !config.forceApply) {\n      // don't run the polyfill when the browser has native support\n      return;\n    }\n    Placeholders.enable();\n  },\n  /*\r\n     *   Process container children\r\n     */\n  executeChildrenPostRender: function executeChildrenPostRender(container) {\n    var self = this;\n    var childrenElements = container.children();\n\n    $.each(childrenElements, function (i, childElement) {\n      childElement = $(childElement);\n      var id = Number(childElement.data(\"unique-id\"));\n      if (id) {\n        var child = self.childrenHash[id];\n        if (child) {\n          var type = child.getElementType();\n          if (type == bizagi.rendering.element.ELEMENT_TYPE_RENDER)\n          child.postRenderElement(childElement);\n          if (type == bizagi.rendering.element.ELEMENT_TYPE_CONTAINER)\n          child.postRenderContainer(childElement);\n        }\n      } else {\n        self.executeChildrenPostRender(childElement);\n      }\n    });\n  },\n  /*\r\n     *   Template method to implement in each device to customize the container's behaviour to add handlers\r\n     */\n  configureHandlers: function configureHandlers() {\n  },\n  /*\r\n     *   Template method to implement in each device to customize the render's behaviour when rendering in design mode\r\n     */\n  configureDesignView: function configureDesignView() {\n  },\n  /*\r\n     *   Template method to implement in each device to customize the container's behaviour to show layout\r\n     */\n  configureLayoutView: function configureLayoutView() {\n\n  },\n  /**\r\n      *   Renders all children html\r\n      */\n  renderChildrenHtml: function renderChildrenHtml() {\n    var self = this;\n    var temp = \"\";\n\n    $.each(self.children, function (i, child) {\n      var type = child.getElementType();\n      if (type == bizagi.rendering.element.ELEMENT_TYPE_RENDER)\n      temp += child.renderElement();\n      if (type == bizagi.rendering.element.ELEMENT_TYPE_CONTAINER)\n      temp += child.renderContainerHtml();\n      self.childrenHash[child.properties.uniqueId] = child;\n    });\n\n    return temp;\n  },\n  /*\r\n     *   Iterate through all the renders in the container and fills the hashtable\r\n     */\n  collectRenderValues: function collectRenderValues(renderValues) {\n    var self = this;\n    if (self.children) {\n      $.each(self.children, function (i, child) {\n        if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_CONTAINER) {\n          // Go though container\n          child.collectRenderValues(renderValues);\n\n        } else if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_RENDER) {\n          // Check if the render can be sent to the server\n          if (child.canBeSent()) {\n            child.collectData(renderValues);\n          }\n        }\n      });\n    }\n  },\n\n  /*\r\n     *   Iterate through all the renders and check if has changed\r\n     */\n  hasChanged: function hasChanged(result) {\n    var self = this;\n    result = result || [];\n\n    if (!result.length) {\n      if (self.children) {\n        $.each(self.children, function (i, child) {\n          if (result.length || child.hasChanged(result)) {\n            return false;\n          }\n        });\n      }\n    } else {\n      return result;\n    }\n  },\n\n  /*\r\n     *    Creates a json array parameters to search result\r\n     */\n  collectRenderValuesQueryForm: function collectRenderValuesQueryForm(renderValues) {\n    var self = this;\n    $.each(self.children, function (i, child) {\n      if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_CONTAINER) {\n        // Go though container\n        child.collectRenderValuesQueryForm(renderValues);\n\n      } else if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_RENDER) {\n        // Check if the render can be sent to the server\n        if (child.canBeSentQueryForm()) {\n          child.collectDataQueryForm(renderValues);\n        }\n      }\n    });\n  },\n  /*\r\n     *   Gets the first child\r\n     */\n  firstChild: function firstChild() {\n    return this.children[0];\n  },\n  /*\r\n     *   Method to find all the renders matching an xpath inside the container\r\n     */\n  getRenders: function getRenders(xpath, renders) {\n    var self = this;\n\n    renders = renders || [];\n\n    // Remove [] filters for grid columns xpaths to fully identify the grid as the xpath target\n    if (xpath.indexOf(\"[\") > 0) {\n      xpath = xpath.substring(0, xpath.indexOf(\"[\"));\n    }\n\n    $.each(self.children, function (i, child) {\n      if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_CONTAINER) {\n        // Go though container\n        child.getRenders(xpath, renders);\n\n      } else if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_RENDER) {\n        if (xpath == child.properties.xpath) {\n          renders.push(child);\n        }\n      }\n    });\n\n    return renders;\n  },\n  /*\r\n     *   Gets the first editable render\r\n     */\n  getRender: function getRender(xpath) {\n    var self = this;\n    var renders = self.getRenders(xpath);\n    var result = null;\n    $.each(renders, function (i, render) {\n      if (render.properties.editable) {\n        if (result == null)\n        result = render;\n      }\n    });\n\n    // if no render has been found, skip editable condition\n    if (result == null) {\n      $.each(renders, function (i, render) {\n        result = render;\n      });\n    }\n\n    return result;\n  },\n\n  /*\r\n      *   Gets all renders by xpath\r\n      */\n  getRendersByXpath: function getRendersByXpath(xpath) {\n    var self = this;\n    return self.getRenders(xpath);\n  },\n\n  /*\r\n     *   Gets a container by the id\r\n     */\n  getContainer: function getContainer(id) {\n    var self = this;\n\n    if (self.properties.id == id)\n    return this;\n\n    var result;\n    $.each(self.children, function (i, child) {\n      if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_CONTAINER) {\n        // Go though container\n        var o = child.getContainer(id);\n        if (o != null) {\n          result = o;\n          return false;\n        }\n      }\n    });\n\n    return result;\n  },\n  /*\r\n     *   Validate all renders in the container\r\n     */\n  isValid: function isValid(invalidElements) {\n    var self = this;\n\n    if (self.children) {\n      $.each(self.children, function (i, child) {\n        if (child.properties.visible) {\n          if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_CONTAINER) {\n            // Go though container\n            child.isValid(invalidElements);\n          } else if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_RENDER) {\n            // Go to the render\n            child.isValid(invalidElements);\n          }\n        }\n      });\n    }\n\n    return invalidElements.length == 0;\n  },\n\n  /*\r\n     *   Validate all grids in the container\r\n     */\n  hasValidGrids: function hasValidGrids(invalidElements) {\n    var self = this;\n\n    $.each(self.children, function (i, child) {\n      if (child.properties.visible) {\n        if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_CONTAINER) {\n          // Go though container\n          child.hasValidGrids(invalidElements);\n\n        } else if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_RENDER && typeof child.grid != \"undefined\") {\n          // Go to the render\n          child.isValid(invalidElements);\n        }\n      }\n    });\n\n    return invalidElements.length == 0;\n  },\n  /*\r\n     *   Returns a promise that will resolve when the element is ready\r\n     */\n  ready: function ready() {\n    var self = this;\n    return $.when(self.parent.ready(), self.isRendered());\n  },\n  /*\r\n     *   Returns a promise that will resolve when the element is ready to save\r\n     */\n  isReadyToSave: function isReadyToSave() {\n    var self = this;\n    var childrenPromises = $.map(self.children, function (child) {\n      return child.isReadyToSave();\n    });\n    return $.when.apply($, childrenPromises);\n  },\n  /*\r\n     *   Return the current focuses container\r\n     */\n  getFocus: function getFocus() {\n    var self = this;\n    var focus;\n    $.each(self.children, function (i, child) {\n      if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_CONTAINER) {\n        var result = child.getFocus();\n        if (!bizagi.util.isEmpty(result)) {\n          focus = result;\n        }\n      }\n    });\n\n    return focus;\n  },\n  /*\r\n     *   Get the custom handlers set for this execution\r\n     */\n  getCustomHandlers: function getCustomHandlers() {\n    var self = this;\n    var form = self.getFormContainer();\n\n    if (form) {\n      return form.getCustomHandlers();\n    }\n  },\n  /*\r\n     *   Get the custom handlers set for this execution\r\n     */\n  getCustomHandler: function getCustomHandler(key) {\n    var self = this;\n    var customHandlers = self.getCustomHandlers();\n\n    if (customHandlers) {\n      return customHandlers[key];\n    }\n  },\n  /*\r\n     *   Dispose the class so we can detect when a class is invalid already\r\n     */\n  dispose: function dispose() {\n    var self = this;\n\n    // Iterate through elements\n    var timeOutChildrenDispose = setTimeout(function () {\n      if (self.children) {\n        $.each(self.children, function (i, child) {\n          child.dispose();\n        });\n      }\n      clearTimeout(timeOutChildrenDispose);\n    }, bizagi.override.disposeTime || 50);\n\n    // Call base\n    self._super();\n  },\n\n  /*\r\n     *   Refresh the current container\r\n     */\n  refreshContainer: function refreshContainer(args) {\n    var self = this;\n    var properties = self.properties;\n    var form = self.getFormContainer();\n\n    // Start waiting\n    self.startLoading();\n\n    // Execute personalized stuff before to refresh it\n    self.beforeToRefresh();\n\n    // Call the service\n    return $.when(self.dataService.multiaction().refreshControl({\n      xpath: properties.xpath,\n      idRender: properties.id,\n      idPageCache: properties.idPageCache,\n      xpathContext: properties.xpathContext || args.xpathContext,\n      contexttype: self.properties.contexttype || \"\",\n      idForm: form && form.properties && form.properties.id ? form.properties.id : \"\" //To fix BA56877.\n    })).done(function (data) {\n\n      if (!self.isDisposed()) {\n        self.saveChildrenVisualChanges(self);\n\n        // Unregister children of container to replace in hash self.rendersById and self.rendersByXpath\n        self.unregisterChildren();\n        delete self.children;\n        delete self.childrenHash;\n\n        self.getFormContainer().removeActions();\n\n        // update editable\n        if (self.properties.editable === false) {\n          data.container && data.container.properties ? data.container.properties.editable = false : \"\";\n        }\n\n        // Update the data\n        self.initializeData(data.container);\n\n        // Render the container again\n        var currentContainer = self.container;\n        var result = self.render();\n\n        if (self.properties.type == \"tabItem\") {\n          $(result).addClass(\"childrenActive\");\n        }\n\n        currentContainer.replaceWith(result);\n\n        // Rebind the actions\n        var actions = data.container && data.container.actions ? data.container.actions : [];\n        self.getFormContainer().refreshActions(actions);\n\n        self.triggerChildrenActions();\n        self.restoreChildrenVisualChanges(self);\n\n        if (bizagi.override.restoreAppearanceAfterRefresh) {\n          self.restoreContainerAppearance(data.container);\n        }\n\n        // Execute personalized stuff after to refresh it\n        self.afterToRefresh();\n\n      }\n    }).fail(function (message) {\n      message = self.processFailMessage(message);\n\n    }).always(function () {\n      self.endLoading();\n    });\n  },\n\n  /*\r\n      *   Refresh the current container\r\n      */\n  refreshDesignContainer: function refreshDesignContainer(data) {\n    var self = this;\n    var properties = self.properties;\n\n    // Execute personalized stuff before to refresh it\n    self.beforeToRefresh(data);\n    //self.setActiveTab(data.elements);\n\n    $.extend(data.properties, {\n      editable: properties.editable,\n      contexttype: properties.contexttype || \"\",\n      idPageCache: properties.idPageCache,\n      idRender: properties.id,\n      messageValidation: properties.messageValidation,\n      uniqueId: properties.uniqueId,\n      visible: properties.visible,\n      xpath: properties.xpath,\n      mode: \"design\",\n      xpathContext: properties.xpathContext || \"\" });\n\n\n\n    if (!self.isDisposed()) {\n      // Unregister children of container to replace in hash self.rendersById and self.rendersByXpath\n      self.unregisterChildren();\n      delete self.children;\n      delete self.childrenHash;\n\n      // update editable\n      if (self.properties.editable === false) {\n        data.container && data.container.properties ? data.container.properties.editable = false : \"\";\n      }\n\n      // Update the data\n      self.initializeData(data.container);\n\n      // Render the container again\n      var currentContainer = self.container;\n      var result = self.render();\n\n      if (self.properties.type == \"tabItem\") {\n        $(result).addClass(\"childrenActive\");\n      }\n\n      currentContainer && currentContainer.replaceWith(result);\n\n      // Execute personalized stuff after to refresh it\n      self.afterToRefresh();\n    }\n  },\n\n  beforeToRefresh: function beforeToRefresh() {\n    var self = this;\n\n    // Call beforeToRefresh of each children\n    for (var i = 0; i < self.children.length; i++) {\n      self.children[i].beforeToRefresh();\n    }\n  },\n\n  afterToRefresh: function afterToRefresh() {\n    var self = this;\n\n    // Call beforeToRefresh of each children\n    for (var i = 0; i < self.children.length; i++) {\n      self.children[i].afterToRefresh();\n    }\n  },\n\n  /*\r\n     *   Re-execute children actions\r\n     */\n  triggerChildrenActions: function triggerChildrenActions() {\n    var self = this;\n    var children = self.children;\n\n    for (var i = 0, l = children.length; i < l; i++) {\n      var child = children[i];\n      var type = child.getElementType();\n\n      if (type === bizagi.rendering.element.ELEMENT_TYPE_CONTAINER) {\n        child.triggerChildrenActions();\n      } else if (type === bizagi.rendering.element.ELEMENT_TYPE_RENDER) {\n        child.triggerRenderChange({ changed: false });\n      }\n    }\n  },\n\n\n  /*\r\n     * register actions container\r\n     */\n  registerActions: function registerActions(actions) {\n    var self = this;\n    var form = self.getFormContainer();\n\n    if (actions) {\n      form.actionController.buildActions(actions);\n    }\n  },\n\n  /*\r\n     * unregister children container\r\n     */\n  unregisterChildren: function unregisterChildren() {\n    var self = this;\n\n    var form = self.getFormContainer();\n    var children = self.children;\n\n    for (var i = 0, l = children.length; i < l; i++) {\n      var child = children[i];\n      var type = child.getElementType();\n\n      if (type === bizagi.rendering.element.ELEMENT_TYPE_CONTAINER) {\n        child.unregisterChildren();\n      } else if (type === bizagi.rendering.element.ELEMENT_TYPE_RENDER) {\n        form.unregisterRender(child);\n      }\n    }\n  },\n  /*\r\n     * Replace child\r\n     */\n  replaceChild: function replaceChild(element) {\n    var self = this;\n\n    var children = self.children;\n\n    for (var i = 0, l = children.length; i < l; i++) {\n      var child = children[i];\n\n      if (child.properties.uniqueId == element.properties.uniqueId) {\n        children.splice(i, 1);\n        children.splice(i, 0, element);\n        break;\n      }\n    }\n  },\n  /*\r\n     * Gets child\r\n     */\n  getChildById: function getChildById(id) {\n\n    var self = this;\n\n    var children = self.children;\n\n    for (var i = 0, l = children.length; i < l; i++) {\n      var child = children[i];\n\n      if (child.properties.id == id) {\n        return child;\n      }\n    }\n\n    return null;\n  },\n\n  /**\r\n      * Restore appearance of container\r\n      * @param data\r\n      */\n  restoreContainerAppearance: function restoreContainerAppearance(data) {\n    var self = this;\n\n    self.restoreAppearance();\n\n    (data.elements || []).forEach(function (element) {\n      if (element.container) {\n        self.restoreContainerAppearance(element.container);\n      } else if (element.render) {\n        self.restoreElementAppearance(element.render);\n      }\n    });\n\n  },\n\n  /**\r\n      * Restore appearance of control\r\n      * @param data\r\n      */\n  restoreElementAppearance: function restoreElementAppearance(data) {\n    var self = this;\n    var element = self.getChildById(data.properties.id);\n\n    if (!!element) element.restoreAppearance();\n  },\n\n  /**\r\n      * Save visual changes of children\r\n      * @param data\r\n      */\n  saveChildrenVisualChanges: function saveChildrenVisualChanges(data) {\n    var self = this;\n    self.childrenVisualChanges = self.childrenVisualChanges || {};\n\n    (data.children || []).forEach(function (element) {\n      var type = element.getElementType();\n\n      if (type === bizagi.rendering.element.ELEMENT_TYPE_CONTAINER) {\n        self.childrenVisualChanges[element.properties.id] = element.visualChanges;\n        self.saveChildrenVisualChanges(element);\n      } else if (type === bizagi.rendering.element.ELEMENT_TYPE_RENDER) {\n        self.childrenVisualChanges[element.properties.id] = element.visualChanges;\n      }\n    });\n\n  },\n\n  /**\r\n      * Restore visual changes of children\r\n      * @param data\r\n      */\n  restoreChildrenVisualChanges: function restoreChildrenVisualChanges(data) {\n    var self = this;\n\n    (data.children || []).forEach(function (element) {\n\n      var type = element.getElementType();\n      var visualChanges = self.childrenVisualChanges && self.childrenVisualChanges[element.properties.id] || {};\n\n      if (type === bizagi.rendering.element.ELEMENT_TYPE_CONTAINER) {\n        element.visualChanges = visualChanges;\n        self.restoreChildrenVisualChanges(element);\n      } else if (type === bizagi.rendering.element.ELEMENT_TYPE_RENDER) {\n        element.visualChanges = visualChanges;\n      }\n\n    });\n\n    delete self.childrenVisualChanges;\n  } });","/*\r\n *   Name: Bizagi Render Base Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define a base render class with common stuff related to all renders\r\n */\n\n$.Class.extend(\"bizagi.rendering.render.base\", {}, {\n\n  /**\r\n                                                      * Method to process the render the layout\r\n                                                      * @param {boolean} isLabelFormat\r\n                                                      * @param {string} format\r\n                                                      */\n  processLayout: function processLayout(isLabelFormat, format) {\n    var properties = this.properties;\n\n    if (typeof isLabelFormat !== \"boolean\") {\n      console.warm(\"error calling processLayout, 'isLabelFormat' is not boolean\");\n      return;\n    }\n\n    if (isLabelFormat) {\n      this.processLabelLayout(format);\n    } else {\n      this.processControlLayout(format);\n\n      // Set required and visiblity\n      properties.required = typeof properties.required !== \"undefined\" ? bizagi.util.parseBoolean(properties.required) : false;\n      var visible = typeof properties.visible !== \"undefined\" ? bizagi.util.parseBoolean(properties.visible) : true;\n\n      if (properties.required) {\n        this.changeRequired(properties.required);\n      }\n\n      if (!visible) {\n        this.changeVisibility(visible);\n      }\n    }\n  },\n\n  /**\r\n      * Method to process the label in the layout\r\n      * @param {} format\r\n      * @returns {}\r\n      */\n  processLabelLayout: function processLabelLayout(format) {\n    var $label = this.getLabel();\n    if ($label == null) return;\n\n    // Set customizations\n    format = format || {};\n    if (typeof format.bold === \"undefined\") {\n      format.bold = true; // Default value\n    }\n\n    this.changeBackgroundColor(format.background).\n    changeFontColor($label, format.color).\n    changeFontBold($label, format.bold).\n    changeFontSize($label, format.size).\n    changeFontItalic($label, format.italic).\n    changeTextDecoration($label, (format.underline ? \"underline\" : \"\") + (format.strikethru ? \" line-through\" : \"\"));\n  },\n\n  /**\r\n      * Method to process the control in the layout\r\n      * @param {} format\r\n      * @returns {}\r\n      */\n  processControlLayout: function processControlLayout(format) {\n    var $control = this.getControl();\n    var $elements = this.getElementsToStylize($control);\n\n    // Set customizations\n    format = format || {};\n\n    this.changeFontColor($elements, format.color).\n    changeFontBold($elements, format.bold).\n    changeFontItalic($elements, format.italic).\n    changeFontSize($elements, format.size).\n    changeTextDecoration($elements, (format.underline ? \"underline\" : \"\") + (format.strikethru ? \" line-through\" : \"\"));\n  },\n\n  /**\r\n      * Customizes render color\r\n      * @param {} color\r\n      * @returns {}\r\n      */\n  changeColor: function changeColor(color) {\n    var $label = this.getLabel();\n    var $control = this.getControl();\n    var $elements = this.getElementsToStylize($control);\n\n    return this.\n    changeFontColor($label, color).\n    changeFontColor($elements, color);\n  },\n\n  /**\r\n      * Customizes render color\r\n      * @param {} $element\r\n      * @param {} color\r\n      * @returns {}\r\n      */\n  changeFontColor: function changeFontColor($element, color) {\n    if ($element === undefined) return this;\n    if (color === undefined) return this;\n\n    var style = color !== \"none\" ? color : \"\";\n    $element.css(\"color\", style);\n\n    return this;\n  },\n\n  /**\r\n      * Customizes the font size property\r\n      * @param {} $element\r\n      * @param {} size\r\n      * @returns {}\r\n      */\n  changeFontSize: function changeFontSize($element, size) {\n    if (size === undefined) return this;\n    if ($element === undefined) return this;\n\n    if (size !== \"0\") {\n      var newFontSize = 100 + Number(size) * 10 + \"%\";\n      $element.css(\"font-size\", newFontSize);\n    }\n\n    return this;\n  },\n\n  /**\r\n      * Customizes the font Strikethrough or underline property\r\n      * @param {} $element\r\n      * @param {} textDecoration\r\n      * @returns {}\r\n      */\n  changeTextDecoration: function changeTextDecoration($element, textDecoration) {\n    if (textDecoration === undefined) return this;\n    if ($element === undefined) return this;\n\n    textDecoration && $element.css(\"text-decoration\", textDecoration);\n\n    return this;\n  },\n\n  /**\r\n      * Customizes the font italic style\r\n      * @param {} $element\r\n      * @param {} italic\r\n      * @returns {}\r\n      */\n  changeFontItalic: function changeFontItalic($element, italic) {\n    var style = bizagi.util.parseBoolean(italic) ? \"italic\" : \"normal\";\n\n    $element.css(\"font-style\", style);\n\n    return this;\n  },\n\n  /**\r\n      * Customizes the font weight\r\n      * @param {} $label\r\n      * @param {} bold\r\n      * @returns {}\r\n      */\n  changeFontBold: function changeFontBold($label, bold) {\n    var style = bizagi.util.parseBoolean(bold) ? \"bold\" : \"normal\";\n\n    $label.css(\"font-weight\", style);\n\n    return this;\n  },\n\n  /**\r\n      * Customizes render background color\r\n      * @param {} color\r\n      * @returns {}\r\n      */\n  changeBackgroundColor: function changeBackgroundColor(color) {\n    if (typeof color === \"undefined\") return this;\n\n    if (color !== \"none\") {\n      this.element.css(\"background-color\", color);\n    } else {\n      this.element.css(\"background-color\", \"\");\n    }\n\n    return this;\n  },\n\n  /**\r\n      * Customizes render cell background color\r\n      * @param {} color\r\n      * @returns {}\r\n      */\n  changeCellBackgroundColor: function changeCellBackgroundColor(color) {\n    return this.getCellBackgroundFunction(this.properties.editable.toString(), this.properties.type)(color);\n  },\n\n  getCellBackgroundFunction: function getCellBackgroundFunction(editable, type) {\n    var options = {\n      'true': { //editable\n        'columnDate': this.changeInputBackgroundColor.bind(this) },\n\n      'false': { //no editable\n        'default': this.changeBackgroundColor.bind(this) //labels o valores no editables \n      },\n      'default': this.changeBackgroundColor.bind(this) //labels o valores no editables \n    };\n\n    return options[editable][type] || options['default'];\n  },\n\n  changeInputBackgroundColor: function changeInputBackgroundColor(color) {\n    if (typeof color === \"undefined\") return this;\n\n    if (color !== \"none\") {\n      $(\".bz-input-icon\", this.element).css(\"background-color\", color);\n    } else {\n      $(\".bz-input-icon\", this.element).css(\"background-color\", \"\");\n    }\n\n    return this;\n  },\n\n  /**\r\n      * This method just make a toggle of red label indicator\r\n      * @argument {boolean} argument\r\n      */\n  changeRequiredLabel: function changeRequiredLabel() {\n  },\n\n  /**\r\n      * Change cell required and attach bindings\r\n      * @param argument\r\n      */\n  changeCellRequired: function changeCellRequired(argument) {\n    this.changeRequired(argument);\n  },\n\n  /**\r\n      * \r\n      */\n  getRTLAlign: function getRTLAlign(align) {\n    if (typeof align == \"undefined\" || align == \"\") {\n      return \"default\";\n    }\n    return align;\n  },\n\n  /**\r\n      * TODO: This override should be removed after genome, just because the align shoudnt be depend of the display type\r\n      */\n  getDefaultLabelAlign: function getDefaultLabelAlign() {\n    return \"default\";\n  },\n\n  /**\r\n      * TODO: This override should be removed after genome, just because the align shoudnt be depend of the display type\r\n      */\n  getDefaultValueAlign: function getDefaultValueAlign() {\n    return \"default\";\n  } });","/**\r\n * Render a new type of form called template\r\n *\r\n * @author Edward Morales\r\n */\n$.Class.extend(\"bizagi.rendering.formTemplate\", {\n\n  /**\r\n                                                   *   Constructor\r\n                                                   */\n  init: function init(params) {\n    this._super(params);\n    if (params.paramsRender && params.paramsRender.contextEvent) {\n      self.contextEvent = params.paramsRender.contextEvent;\n    }\n  },\n\n  /**\r\n      * Process controls on template\r\n      * @param template\r\n      * @param controls\r\n      * @return {*}\r\n      */\n  processTemplate: function processTemplate(template, controls) {\n    var regexControl = /\\{\\{([\\w:]*)\\s*(\\{[\"':,-\\[\\]\\w\\s]*\\})\\}\\}/g;\n    var regexRepeater = /\\{\\{(((repeater)\\s*(\\{[\"':,-\\[\\]\\w\\s]*\\}))|([\\/repeater]+:item)|(\\/repeater)|(repeater)|(separator))\\}\\}/g;\n\n    // Remove all repeaters key words\n    var processedTemplate = template.replace(regexRepeater, \"\");\n\n    // replace controls\n    processedTemplate = processedTemplate.replace(regexControl, function (match, g1, g2, offset, string) {\n      var parameters = JSON.parse(g2);\n\n      return controls[parameters.id] || '';\n    });\n\n    processedTemplate = processedTemplate.replace(/{{([\\w:]*)\\s*}}/g, function () {\n      return '';\n    });\n\n\n    return processedTemplate;\n  },\n\n  /**\r\n      * Render layout container\r\n      * @return {*}\r\n      */\n  renderContainer: function renderContainer() {\n    var self = this;\n    var layoutCollection = self.getRenderByType(\"layout\");\n    var layout = layoutCollection.length > 0 ? layoutCollection[0] : {};\n    var template = typeof layout.getTemplate == \"function\" ? layout.getTemplate() : \"\";\n    var css = typeof layout.getCss == \"function\" ? layout.getCss() : \"\";\n    var mode = self.getMode();\n    var layoutGuid = self.properties.layoutguid || Math.guid();\n\n    var controls = {};\n\n    /**\r\n                        * Render all elements within first layout container\r\n                        */\n    if (layout.children) {\n      $.each(layout.children, function (i, child) {\n        // ignore layoutPlaceholder control in execution\n        if (!(mode == 'execution' && child.properties.type == 'layoutPlaceholder')) {\n\n          var type = child.getElementType();\n          if (type == bizagi.rendering.element.ELEMENT_TYPE_RENDER) {\n            controls[child.properties.id] = child.renderElement();\n          }\n          if (type == bizagi.rendering.element.ELEMENT_TYPE_CONTAINER) {\n            controls[child.properties.id] = child.renderContainerHtml();\n          }\n          self.childrenHash[child.properties.uniqueId] = child;\n        }\n      });\n    }\n\n    // Load css\n    bizagi.util.loadStyle(css, layoutGuid);\n\n    return self.processTemplate(template, controls);\n  },\n\n  /**\r\n      * Get the context in which loads the formTemplate\r\n      *\r\n      */\n  getContextEvent: function getContextEvent() {\n    return self.contextEvent;\n  } });","$.Class.extend(\"bizagi.rendering.layout\", {}, {\n\n  /**\r\n                                                 * Get html template\r\n                                                 * @return {*}\r\n                                                 */\n  getTemplate: function getTemplate() {\n    var self = this;\n    var mode = self.getMode();\n    var html = self.properties.html || \"\";\n\n    // Add a container, this is important in design to calculate the scroll \n    if (mode == 'design' && html) {\n      html = \"<div class='bz-design-template'>\" + html + \"</div>\";\n    }\n\n    return bizagi.util.stripslashes(html);\n  },\n\n  /**\r\n      * Get string css of layout container\r\n      * @return {*}\r\n      */\n  getCss: function getCss() {\n    var self = this;\n    var css = self.properties.css || \"\";\n\n    var mode = self.getMode();\n    if (mode == \"design\") {\n      css = css && css.desktop;\n    }\n\n    return bizagi.util.stripslashes(css);\n  },\n\n\n  /*\r\n      *   Template method to process each jquery object\r\n      *   must be overriden in each container\r\n      */\n  postRenderContainer: function postRenderContainer(container) {\n    var self = this;\n    var mode = self.getMode();\n\n    // Resolve rendering deferred\n    if (self.renderingDeferred)\n    self.renderingDeferred.resolve();\n\n    // Process children elements\n    self.container = container;\n    self.executeChildrenPostRender(container);\n\n    if (mode == \"execution\") {\n      // Apply handlers\n      self.configureHandlers();\n    }\n    if (mode == \"design\") {\n      // Configure view\n      self.configureDesignView();\n    }\n    if (mode == \"layout\") {\n      // Configure view\n      self.configureDesignView();\n      self.configureLayoutView();\n    }\n  } });","/*\r\n*   Name: BizAgi Accordion Container Class\r\n*   Author: Diego Parra\r\n*   Comments:\r\n*   -   This script will define a accordion container class for all devices\r\n*/\n\n$.Class.extend(\"bizagi.rendering.accordion\", {}, {\n\n  /*\r\n                                                   *   Constructor\r\n                                                   */\n  initializeData: function initializeData(params) {\n    var self = this;\n\n    // Call base\n    this._super(params);\n\n    // Enumerate the children appending a property\n    $.each(self.children, function (i, child) {\n      child.properties.ordinal = i;\n    });\n  },\n\n\n  /*\r\n     *   Render the container layout\r\n     */\n  renderContainer: function renderContainer() {\n    var self = this;\n    var properties = self.properties;\n    var template = self.renderFactory.getTemplate(\"accordion\");\n\n    // Render the accordion\n    var html = $.fasttmpl(template, {\n      uniqueId: properties.uniqueId });\n\n\n    // Render children\n    html = self.replaceChildrenHtml(html, self.renderChildrenHtml());\n    return html;\n  } });","/*\r\n*   Name: BizAgi Accordion Item Container Class\r\n*   Author: Diego Parra\r\n*   Comments:\r\n*   -   This script will define a accordion item class for all devices\r\n*/\n\n$.Class.extend(\"bizagi.rendering.accordionItem\", {}, {\n\n  /*\r\n                                                       *   Render the container layout\r\n                                                       */\n  renderContainer: function renderContainer() {\n    var self = this;\n    var properties = this.properties;\n    var template = self.renderFactory.getTemplate(\"accordionItem\");\n\n    // Render the accordionItem\n    var html = $.fasttmpl(template, {\n      id: properties.id,\n      ordinal: properties.ordinal,\n      displayName: properties.displayName,\n      orientation: properties.orientation,\n      uniqueId: properties.uniqueId });\n\n\n    // Render children\n    html = self.replaceChildrenHtml(html, self.renderChildrenHtml());\n    return html;\n  },\n\n  /*\r\n     *   Fires when the accordionItem is selected \r\n     */\n  activate: function activate() {\n    var self = this;\n    self.active = true;\n  },\n\n  /*  \r\n     *   Return the current focuses container\r\n     */\n  getFocus: function getFocus() {\n    var self = this;\n    var focus = self._super();\n    if (bizagi.util.isEmpty(focus) && self.active) {\n      focus = self.properties.id;\n    }\n\n    return focus;\n  } });","/*\r\n*   Name: Bizagi Render CollectionNavigator\r\n*   Author: UI Forms Team\r\n*   Comments:\r\n*   -   This script will define basic stuff for collection navigator renders\r\n*/\n\n$.Class.extend(\"bizagi.rendering.collectionnavigator\", {}, {\n\n  initializeData: function initializeData(params) {\n    var self = this;\n\n    self._super(params);\n\n    var properties = self.properties;\n    properties.allowAdd = typeof properties.allowAdd != \"undefined\" ? bizagi.util.parseBoolean(properties.allowAdd) : true;\n    properties.withAddForm = properties.withAddForm && properties.allowAdd;\n    properties.allowEdit = typeof properties.allowEdit != \"undefined\" ? bizagi.util.parseBoolean(properties.allowEdit) : true;\n    properties.withEditForm = properties.withEditForm && properties.allowEdit;\n    properties.allowDetail = typeof properties.allowDetail != \"undefined\" ? bizagi.util.parseBoolean(properties.allowDetail) : false;\n    properties.inlineAdd = typeof properties.inlineAdd != \"undefined\" ? bizagi.util.parseBoolean(properties.inlineAdd) : true;\n    properties.inlineAdd = properties.inlineAdd && properties.allowAdd;\n    properties.inlineEdit = typeof properties.inlineEdit != \"undefined\" ? bizagi.util.parseBoolean(properties.inlineEdit) : true;\n    properties.inlineEdit = properties.inlineEdit && properties.allowEdit;\n    properties.allowDelete = typeof properties.allowDelete != \"undefined\" ? bizagi.util.parseBoolean(properties.allowDelete) : true;\n\n    self.orientation = self.properties.orientation || \"ltr\",\n    self.data = self.properties.data;\n    self.keys = self.data ? self.getKeys(self.data.rows) : [];\n    self.pointer = 0;\n    self.totalRows = 0;\n    self.inlineAddRecords = [];\n\n    if (self.data) {\n      self.totalRows = self.data.rows.length;\n    }\n  },\n  /*\r\n     * Normalize keys\r\n     */\n  getKeys: function getKeys(rows) {\n    rows = rows || [];\n    var keys = [];\n\n    for (var i = 0, l = rows.length; i < l; i++) {\n      var row = rows[i];\n      keys.push(row[0]);\n    }\n    return keys;\n  },\n\n  /*\r\n     *   Render the control\r\n     */\n  renderControl: function renderControl() {\n    var self = this;\n    var properties = this.properties;\n    var templateItem = \"collectionnavigator\";\n    var template = self.renderFactory.getTemplate(templateItem);\n    var mode = self.getMode();\n\n    // Render the container\n    var html = $.fasttmpl(template, {\n      uniqueId: properties.uniqueId,\n      displayName: properties.displayName ? properties.displayName : \"\",\n      id: properties.id,\n      guid: properties.guid,\n      showPreview: self.showPreview(),\n      mode: mode,\n      orientation: self.getFormContainer().properties.orientation });\n\n\n    html = self.drawControls(html);\n\n    return html;\n  },\n\n  /*\r\n     * Render version readonly of control\r\n     */\n  renderReadOnly: function renderReadOnly() {\n    return this.renderControl();\n  },\n\n  /*\r\n     * Draw navigation controls\r\n     */\n  drawControls: function drawControls(html) {\n\n  },\n\n  /*\r\n     *  render several actions in the navigation palete\r\n     *  ex. save, cancel \r\n     */\n  drawActions: function drawActions(controls) {\n\n  },\n\n  /*\r\n     * Render navigation controls (next, previous, last, first. etc )\r\n     */\n  drawControl: function drawControl(controls) {\n\n  },\n\n  /*\r\n     * Draw forms options (add form, edit form, navigation form)\r\n     */\n  drawForms: function drawForms(controls) {\n\n  },\n\n  /*\r\n     * Draw a preview views, it will be show when the collection hasn't records\r\n     */\n  drawPreview: function drawPreview() {\n    var self = this;\n    var mode = self.getMode();\n    var templateItem = mode === \"execution\" ? \"collectionnavigator-execution\" : \"collectionnavigator-preview\";\n    var template = self.renderFactory.getTemplate(templateItem);\n    var html = $.tmpl(template);\n\n    self.canvas.append(html);\n\n  },\n\n  /*\r\n     * Returns true if the collection has data\r\n     */\n  hasData: function hasData() {\n    return this.getTotalRows() > 0;\n  },\n\n  /*\r\n     * Returns the key of current row\r\n     */\n  getRow: function getRow() {\n    return this.keys[this.pointer];\n  },\n\n  /*\r\n     * Returns the key of next row\r\n     */\n  getNextRow: function getNextRow() {\n    var self = this;\n\n    if (self.getTotalRows() > self.pointer + 1)\n    self.pointer += 1;\n\n    return self.getRow();\n  },\n\n  /*\r\n     * Returns the key of previous row\r\n     */\n  getPreviousRow: function getPreviousRow() {\n    var self = this;\n\n    if (self.pointer > 0)\n    self.pointer -= 1;\n\n    return self.getRow();\n  },\n\n  /*\r\n     * Returns the key of first row\r\n     */\n  getFirstRow: function getFirstRow() {\n    var self = this;\n\n    self.pointer = 0;\n    return self.getRow();\n  },\n\n  /*\r\n     * Returns the key of last row\r\n     */\n  getLastRow: function getLastRow() {\n    var self = this;\n\n    self.pointer = self.keys.length - 1;\n    return self.getRow();\n  },\n\n  /*\r\n     * Returns the total numbers of rows in collection\r\n     */\n  getTotalRows: function getTotalRows() {\n    return this.keys.length;\n  },\n\n  getIndexes: function getIndexes() {\n    return this.properties.data.rows;\n  },\n\n  /*\r\n     * Sets the pointer to a specific position\r\n     */\n  setPointer: function setPointer(index) {\n    this.pointer = index - 1;\n  },\n\n  /*\r\n     * Returns true is there is a inline row pending to save\r\n     */\n  isTherePendingInlineRow: function isTherePendingInlineRow() {\n    return this.inlineAddRecords.length > 0;\n  },\n\n  /*\r\n     * Adds new row to collection\r\n     */\n  addKey: function addKey(newId) {\n    this.keys.push(newId);\n  },\n\n  /*\r\n     * Removes row in collection\r\n     */\n  removeKey: function removeKey() {\n    var self = this;\n    var index = self.pointer;\n\n    if (index >= 0) {\n      self.keys.splice(index, 1);\n\n      var totalRows = self.getTotalRows();\n      if (totalRows > 0 && index >= totalRows) {\n        self.setPointer(totalRows);\n      }\n    }\n  },\n\n  /*\r\n     * Returns true if the control should show the preview view\r\n     * ex. if the collection is empty \r\n     */\n  showPreview: function showPreview() {\n    var self = this;\n    var mode = self.getMode();\n    var properties = self.properties;\n\n    if (mode == \"execution\") {\n      return !self.hasData();\n    } else {\n      return !bizagi.util.parseBoolean(properties.navigationform);\n    }\n  },\n\n  /*\r\n     * Returns the parameters needed for the request\r\n     */\n  getParameters: function getParameters(params) {\n    var self = this;\n\n    var parameters = {};\n    var properties = self.properties;\n    var recordXpath = properties.xpath + \"[id=\" + params.id + \"]\";\n\n    parameters.idRender = properties.id;\n    parameters.recordXPath = recordXpath;\n    parameters.xpathContext = properties.xpathContext;\n    parameters.idPageCache = properties.idPageCache;\n    parameters.requestedForm = params.requestedForm;\n    parameters.contextType = properties.contextType || properties.contexttype;\n    parameters.url = params.url;\n    parameters.editable = params.editable;\n    orientation: properties.orientation || \"ltr\";\n\n\n    return parameters;\n  },\n\n  /*\r\n     *   Submits a collection navigator add record request\r\n     *   Returns a deferred when done, the server returns an id for the new record\r\n     */\n  submitAddRequest: function submitAddRequest() {\n    var self = this;\n    var properties = self.properties;\n\n    var request = self.dataService.addGridRecord({\n      url: properties.addUrl,\n      idRender: properties.id,\n      xpath: properties.xpath,\n      xpathContext: properties.xpathContext,\n      contexttype: properties.contextType || properties.contexttype,\n      idPageCache: properties.idPageCache,\n      orientation: properties.orientation || \"ltr\" });\n\n\n    var filterResponse = request.pipe(function (data) {\n      // Parses response\n      return data.idEntity;\n    });\n\n    return filterResponse.promise();\n  },\n\n  /*\r\n     *   Submits a edit record request for the given id \r\n     *   Returns a deferred\r\n     */\n  submitEditRequest: function submitEditRequest(id) {\n    var self = this;\n    var properties = self.properties;\n    var xpath = properties.xpath + \"[id=\" + id + \"]\";\n\n    return self.dataService.editGridRecord({\n      url: properties.editUrl,\n      idRender: properties.id,\n      xpath: xpath,\n      xpathContext: properties.xpathContext,\n      idPageCache: properties.idPageCache,\n      contexttype: properties.contextType || properties.contexttype || '',\n      orientation: properties.orientation || \"ltr\" });\n\n  },\n\n  /*\r\n     *   Submits a collection delete record request for the given id \r\n     *   Returns a deferred\r\n     */\n  submitDeleteRequest: function submitDeleteRequest(id) {\n    var self = this;\n    var properties = self.properties;\n    var xpath = properties.xpath + \"[id=\" + id + \"]\";\n\n    return self.dataService.deleteGridRecord({\n      url: properties.deleteUrl,\n      idRender: properties.id,\n      xpath: xpath,\n      xpathContext: properties.xpathContext,\n      idPageCache: properties.idPageCache,\n      contexttype: properties.contextType || properties.contexttype }).\n    pipe(function (data) {\n      if (data.type == \"validationMessages\") {\n        var form = self.getFormContainer();\n        var message = data.messages.join(\" \");\n        form.failHandler({ message: message });\n      }\n\n      return data;\n    });\n  },\n\n  /*\r\n     *   Submits a collection navigator edit record request for the given id \r\n     *   Returns a deferred\r\n     */\n  submitSaveRequest: function submitSaveRequest(id, data) {\n    var self = this;\n    var properties = self.properties;\n    var defer = $.Deferred();\n\n    // Calculate xpath context\n    var xpathContext = properties.xpathContext.length > 0 ? properties.xpathContext + \".\" + properties.xpath + \"[id=\" + id + \"]\" : properties.xpath + \"[id=\" + id + \"]\";\n\n    var deferredsToWait = null;\n    if (data.deferreds) {\n      deferredsToWait = $.when.apply($, data.deferreds);\n      delete data.deferreds;\n    }\n\n    $.when(deferredsToWait).then(function () {\n      if (!bizagi.util.isEmpty(data)) {\n        data.idPageCache = data.idPageCache || self.form.getPageCache();\n        self.dataService.saveGridRecord({\n          url: properties.saveUrl,\n          idRender: properties.id,\n          xpath: properties.xpath,\n          xpathContext: xpathContext,\n          contexttype: properties.contextType || properties.contexttype || \"\",\n          submitData: data }).\n        done(function (response) {\n          defer.resolve(response);\n        }).fail(function (dataFail) {\n          var form = self.getFormContainer();\n          var message = dataFail.responseText ? dataFail.responseText : typeof dataFail == \"string\" ? dataFail : dataFail.toString();\n          //Convert String to object\n          if (typeof message == \"string\") {\n            try {\n              message = JSON.parse(message).message;\n            } catch (e) {\n              message = message.match(/\"message\":(.*)\",/)[0];\n              message = message.substr(11, message.length - 13);\n            }\n\n          } else if (!message.message) {\n            message = dataFail;\n          }\n          form.validateForm();\n          form.clearValidationMessages();\n          form.addValidationMessage(message);\n        });\n      } else {\n        defer.resolve();\n      }\n    });\n\n    return defer.promise();\n  },\n\n  /*\r\n     *   Submits a collection navigator rollback request\r\n     *   Returns a deferred when done\r\n     */\n  submitRollbackRequest: function submitRollbackRequest(error) {\n    var self = this;\n    var properties = self.properties;\n\n    return self.dataService.rollbackGridAction({\n      url: properties.rollbackUrl,\n      idRender: properties.id,\n      xpath: properties.xpath,\n      xpathContext: properties.xpathContext,\n      idPageCache: error.idPageCache,\n      contexttype: self.properties.contexttype || \"\" });\n\n  },\n  /*\r\n     *   Fetch the data into a deferred\r\n     */\n  getRemoteData: function getRemoteData(params) {\n    var self = this;\n    var properties = self.properties;\n\n    // Set params\n    params = params || {};\n    $.extend(params, {\n      url: properties.dataUrl,\n      xpath: properties.xpath,\n      idRender: properties.id,\n      xpathContext: properties.xpathContext,\n      contexttype: properties.contextType || properties.contexttype,\n      idPageCache: properties.idPageCache });\n\n\n\n    return self.dataService.getData(params);\n  },\n\n  isValid: function isValid(invalidElements) {\n    var form = this.form;\n\n    if (typeof form !== \"undefined\") {\n      (form.children || []).forEach(function (child) {\n        if (child.properties.visible) {\n          if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_CONTAINER) {\n            // Go though container\n            child.isValid(invalidElements);\n\n          } else if (child.getElementType() == bizagi.rendering.element.ELEMENT_TYPE_RENDER) {\n            // Go to the render\n            if (!child.isValid(invalidElements)) {\n              var content = invalidElements[invalidElements.length - 1];\n              invalidElements[invalidElements.length - 1] = $.extend(content, {\n                id: child.properties.id });\n\n            }\n          }\n        }\n      });\n    }\n\n    return invalidElements.length === 0;\n  },\n\n  validateControls: function validateControls(invalidElements) {\n    if (!this.form) return false;\n    return this.form.validationController.performValidations(invalidElements);\n  } });","/*\r\n*   Name: Bizagi Group Container Class\r\n*   Author: Diego Parra\r\n*   Comments:\r\n*   -   This script will define a group container class for all devices\r\n*/\n\n$.Class.extend(\"bizagi.rendering.group\", {}, {\n\n  /*\r\n                                               *   Constructor\r\n                                               */\n  initializeData: function initializeData(params) {\n    var self = this;\n\n    // Call base\n    self._super(params);\n\n    // Default properties\n    var properties = self.properties;\n\n    properties.helpText = properties.helpText || properties.displayName;\n\n    // Extend css property \n    properties.cssclass = properties.cssclass || \"cssClassContainer\";\n\n    properties.collapse = typeof properties.collapse != \"undefined\" && bizagi.util.parseBoolean(properties.collapse) ? true : false;\n  },\n\n  /*\r\n     *   Render the container layout\r\n     */\n  renderContainer: function renderContainer() {\n    var self = this;\n    var properties = this.properties;\n    var template = self.renderFactory.getTemplate(\"group\");\n\n    // Define icons\n    self.expandedIcon = self.getExpandedIcon();\n    self.collapsedIcon = self.getCollapsedIcon();\n\n    // Render the panel\n    var html = $.fasttmpl(template, {\n      expandedClassIcon: self.expandedIcon,\n      displayName: properties.displayName,\n      editable: properties.editable,\n      orientation: properties.orientation,\n      uniqueId: properties.uniqueId,\n      collapse: properties.collapse,\n      isDesign: self.getMode() !== \"execution\",\n      messageValidation: properties.messageValidation,\n      cssclass: properties.cssclass,\n      guid: properties.guid });\n\n\n    // Render children\n    html = self.replaceChildrenHtml(html, self.renderChildrenHtml());\n    return html;\n  },\n\n  /*\r\n     *   Returns the expanded icon\r\n     */\n  getExpandedIcon: function getExpandedIcon() {},\n\n  /*\r\n                                                  *   Returns the collapsed icon\r\n                                                  */\n  getCollapsedIcon: function getCollapsedIcon() {},\n\n  /* \r\n                                                    *   Expands or collapse the container \r\n                                                    */\n  toogleContainer: function toogleContainer(argument, bImmediate) {} });","/*\r\n *   Name: Bizagi Section Container Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define a section container class for all devices\r\n */\n\n$.Class.extend(\n\"bizagi.rendering.section\",\n{},\n{\n  /**\r\n   * Constructor\r\n   * @param {object} params - section information\r\n   */\n  initializeData: function initializeData(params) {\n    var self = this;\n\n    // Call base\n    self._super(params);\n\n    // Default properties\n    var properties = self.properties;\n\n    properties.helpText = properties.helpText || properties.displayName;\n    properties.displayAs = properties.displayAs || \"section\";\n  },\n\n  /**\r\n      * Render the trigger of the section.\r\n      * @returns string with html code.\r\n      */\n  renderContainer: function renderContainer() {\n    var self = this;\n    var properties = this.properties;\n    var template = this.renderFactory.getTemplate(\"section-header\");\n\n    // Render the section trigger\n    var html = $.fasttmpl(template, {\n      displayName: properties.displayName,\n      editable: properties.editable,\n      orientation: properties.orientation,\n      uniqueId: properties.uniqueId,\n      isDesign: self.getMode() !== \"execution\",\n      messageValidation: properties.messageValidation,\n      guid: properties.guid });\n\n    this.sectionContent = $(this.renderSectionContent())[0];\n    return html;\n  },\n\n  /**\r\n      * Render the content of the section.\r\n      * Overwritable on devices.\r\n      */\n  renderSectionContent: function renderSectionContent() {},\n\n  /**\r\n                                                             * Return the breadcrumb of the section.\r\n                                                             * @returns An array with breadcrumb. For example: [\"activity\", \"parent section\", \"child section\"]\r\n                                                             */\n  getBreadcrumb: function getBreadcrumb() {\n    var container = this;\n    var breadCrumb = [];\n\n    while (container) {\n      var properties = container.properties || {};\n      var params = container.params || {};\n\n      if (properties.type === \"section\") {\n        var displayName = properties.displayName ? properties.displayName : \"\";\n        breadCrumb.unshift(displayName);\n      } else if (params.type === \"form\") {\n        breadCrumb.unshift(this.getResourceByKey(\"render-section-breadcrumb-main-form\", \"Main form\"));\n      }\n      container = container.parent;\n    }\n    return breadCrumb;\n  },\n\n  /**\r\n      * Gets the display name of the previous section or form.\r\n      * @returns String with the display name\r\n      */\n  getParentDisplayName: function getParentDisplayName() {\n    var self = this;\n    var parent = self.getSectionParent(self.parent);\n    var displayName = \"\";\n\n    //TODO Improve this code implementation \n    if (parent.properties.type == \"form\") {\n      if (parent.properties.formtype && parent.properties.formtype == \"startform\") {\n        displayName = parent.params && parent.params.originalParams && parent.params.originalParams.displayName ? parent.params.originalParams.displayName : \"\";\n      } else\n      {\n        displayName = parent.properties.displayName || parent.params.displayName || parent.params.radNumber || parent.params.idCase;\n      }\n    } else {\n      displayName = parent.properties.displayName || \"\";\n    }\n\n    return displayName;\n  },\n\n  /**\r\n      * Gets the section's parent.\r\n      * @returns Object parent\r\n      */\n  getSectionParent: function getSectionParent(parent) {\n    if (parent.properties.type === \"section\" || !parent.parent) {\n      return parent;\n    } else {\n      return this.getSectionParent(parent.parent);\n    }\n  },\n\n  /**\r\n      * Gets if the section's  orientation is RTL.\r\n      * @returns Object\r\n      */\n  getSectionOrientationRTL: function getSectionOrientationRTL(obj) {\n    if (obj && obj.properties && obj.properties.orientation && obj.properties.orientation === \"ltr\") return false;\n    if (obj && obj.properties && obj.properties.orientation && obj.properties.orientation === \"rtl\") return true;\n    if (obj.parent) return this.getSectionOrientationRTL(obj.parent);\n    return false;\n  } });","/*\r\n*   Name: BizAgi Horizontal Container Class\r\n*   Author: Diego Parra\r\n*   Comments:\r\n*   -   This script will define a tab item class for all devices\r\n*/\n\n\n$.Class.extend(\"bizagi.rendering.horizontal\", {}, {\n\n  /*\r\n                                                    *   Render the container layout\r\n                                                    */\n  renderContainer: function renderContainer() {\n    var self = this;\n    var properties = this.properties;\n    var template = self.renderFactory.getTemplate(\"horizontal\");\n\n    // Render the container\n    var html = $.fasttmpl(template, {\n      uniqueId: properties.uniqueId });\n\n\n    // Render children\n    html = self.replaceChildrenHtml(html, self.renderChildrenHtml());\n    return html;\n  } });","/*\r\n*   Name: Bizagi Panel Container Class\r\n*   Author: Diego Parra\r\n*   Comments:\r\n*   -   This script will define a panel container class for all devices\r\n*/\n\n$.Class.extend(\"bizagi.rendering.panel\", {}, {\n\n  /*\r\n                                               *   Constructor\r\n                                               */\n  initializeData: function initializeData(params) {\n    var self = this;\n\n    // Call base\n    self._super(params);\n\n    // Override properties\n    var properties = self.properties;\n    properties.displayName = properties.displayName || \"\";\n\n    if (properties.type == \"nestedForm\") {\n      var formContainer = self.getFormContainer();\n      formContainer.rendersById[properties.idForm] = self;\n    }\n  },\n\n\n  /*\r\n     *   Render the container layout\r\n     */\n  renderContainer: function renderContainer() {\n    var self = this;\n    var properties = this.properties;\n    var template = self.renderFactory.getTemplate(\"panel\");\n\n    // Render the panel\n    var html = $.fasttmpl(template, {\n      displayName: properties.displayName,\n      loading: properties.loading,\n      message: properties.message,\n      orientation: properties.orientation,\n      uniqueId: properties.uniqueId,\n      cssClass: properties.cssclass });\n\n\n    // Render children\n    html = self.replaceChildrenHtml(html, self.renderChildrenHtml());\n    return html;\n  },\n\n  /*\r\n     *   Process the html rendering object\r\n     */\n  postRenderContainer: function postRenderContainer(panel) {\n    var self = this;\n    var properties = self.properties;\n\n    // Set height\n    if (properties.height) {\n      panel.height(properties.height);\n    }\n\n    // Call base\n    self._super(panel);\n  } });","/*\r\n*   Name: Bizagi Panel Container Class\r\n*   Author: David Romero\r\n*   Comments:\r\n*   -   This script will define a panel container class for all devices\r\n*/\n\n$.Class.extend(\"bizagi.rendering.contentPanel\", {}, {\n\n  /*\r\n                                                      *   Constructor\r\n                                                      */\n  initializeData: function initializeData(params) {\n    var self = this;\n\n    // Call base\n    self._super(params);\n\n    // Override properties\n    var properties = self.properties;\n    properties.displayName = properties.displayName || \"\";\n  },\n\n\n  /*\r\n     *   Render the container layout\r\n     */\n  renderContainer: function renderContainer() {\n    var self = this;\n    var properties = this.properties;\n    var template = self.renderFactory.getTemplate(\"contentPanel\");\n\n    // Render the panel\n    var html = $.fasttmpl(template, {\n      displayName: properties.displayName,\n      mode: self.getMode(),\n      uniqueId: properties.uniqueId,\n      isDesign: self.getMode() === \"design\",\n      messageValidation: properties.messageValidation,\n      cssClass: properties.cssclass,\n      guid: properties.guid });\n\n\n    // Render children\n    html = self.replaceChildrenHtml(html, self.renderChildrenHtml());\n    return html;\n  },\n\n  /*\r\n     *   Process the html rendering object\r\n     */\n  postRenderContainer: function postRenderContainer(panel) {\n    // Call base\n    this._super(panel);\n  } });","/**\r\n *   Name: Bizagi Panel Container Class\r\n *   Author: Bizagi UI Forms\r\n *   Comments:\r\n *   -   This script will define a panel container class for all devices\r\n */\n\n$.Class.extend(\"bizagi.rendering.searchForm\", {}, {\n\n  /*\r\n                                                    *   Render the container layout\r\n                                                    */\n  renderContainer: function renderContainer() {\n    var self = this;\n    var properties = this.properties;\n    var template = self.renderFactory.getTemplate(\"searchForm\");\n\n    if (properties.contexttype !== \"entity\" && self.parent) {\n      properties.contexttype = typeof self.parent.getContextType == 'function' ? self.parent.getContextType() : \"\";\n    }\n\n    // Render the panel\n    var html = $.fasttmpl(template, {\n      displayName: properties.displayName,\n      uniqueId: properties.uniqueId });\n\n\n    // Render children\n    html = self.replaceChildrenHtml(html, self.renderChildrenHtml());\n\n    // Render result\n    html = html.replaceFirstWithoutPatterns(\"{{result}}\", self.renderResult());\n\n    return html;\n  },\n\n  /*\r\n     *   Perform a search and render the results\r\n     */\n  performSearch: function performSearch(searchParams) {\n    var properties = this.properties;\n\n    // Set parameter to search\n    properties.searchParams = searchParams;\n\n    // Submit the search to the server\n    this.submitSearch();\n  },\n\n  /*\r\n     *   Submits the query to the server\r\n     */\n  submitSearch: function submitSearch() {\n    // Makes the results to update its contents\n    this.refreshResults();\n  },\n\n  /*\r\n     *   Returns a promise that will resolve when the element is ready\r\n     */\n  ready: function ready() {\n    return this.parent.ready();\n  },\n\n  /*\r\n     *   Method to fill the result data\r\n     *   (THIS IS CALLED WITHIN GRID RENDER SCOPE)\r\n     */\n  getRemoteData: function getRemoteData(params) {\n    var self = this;\n    var properties = self.properties;\n    var defer = new $.Deferred();\n\n    // Collect data\n    var data = self.collectSearchValues();\n\n    if (bizagi.util.isMapEmpty(data)) {\n      bizagi.showMessageBox(this.getResource(\"render-search-advanced-no-filters\"), this.getResource(\"render-form-dialog-box-search\"), \"error\");\n      return null;\n    }\n\n    params.rows = properties.searchParams && properties.searchParams.maxRecords && properties.searchParams.maxRecords > 0 ? properties.searchParams.maxRecords : params.rows;\n\n    // The Grid only support one row per page in smartphone (DRAGON-41733 / QAF-3916)         \n    if (properties.searchParams && typeof properties.searchParams.maxRows !== \"undefined\") {\n      params.rows = properties.searchParams.maxRows || params.rows;\n    }\n\n    // Resolve with remote data\n    self.dataService.submitSearch($.extend(params, {\n      url: properties.dataUrl,\n      idRender: properties.idRender,\n      idPageCache: properties.idPageCache,\n      idSearchForm: properties.id,\n      allowFullSearch: properties.searchParams.allowFullSearch ? properties.searchParams.allowFullSearch : null,\n      maxRecords: properties.searchParams.maxRecords > 0 ? properties.searchParams.maxRecords : null,\n      criteria: data })).\n\n    done(function (response) {\n\n      // Resolve with fetched data    \n      properties.page = response.page;\n      properties.records = response.records;\n      properties.totalPages = response.totalPages || 0;\n\n      //In tablets are allowed about 10000 records as maximum\n      if (response.records > 10000) {\n        properties.deviceMaxRecordsExceeded = true;\n        response.deviceMaxRecordsExceeded = true;\n      } else {\n        delete properties.deviceMaxRecordsExceeded;\n      }\n\n      defer.resolve(response);\n\n      // Call virtual method\n      self.onSearchFinished();\n    }).fail(function (errorObject) {\n      bizagi.showErrorAlertDialog = false;\n      if (errorObject.responseText) {\n        try {\n          var message = JSON.parse(errorObject.responseText).message;\n          bizagi.showMessageBox(message, \"\", \"error\");\n        } catch (e) {\n        }\n      }\n      defer.reject();\n    });\n\n    return defer.promise();\n  },\n\n  /*\r\n     *   Iterate through all the renders in the container and fills the hashtable\r\n     *   - Overriden because server needs this in array\r\n     */\n  collectSearchValues: function collectSearchValues() {\n    var self = this;\n\n    // Collect data\n    var data = {};\n    this.collectRenderValues(data);\n\n    // Changes to array\n    var submitArray = [];\n    for (key in data) {\n      var xpath = key;\n      var value = data[key];\n      var operation = self.getCriteriaOperation(self.getRender(xpath));\n      var criteriaData = {};\n      if (!bizagi.util.isEmpty(value)) {\n        criteriaData[\"xpath\"] = xpath;\n        criteriaData[\"value\"] = value;\n        criteriaData[\"operation\"] = operation;\n        submitArray.push(criteriaData);\n      }\n    }\n\n    return submitArray;\n  },\n\n  /*\r\n     *   This method find out the criterial operation to be executed according to\r\n     *   data type. Text renders use LIKE operation, but other data types such like\r\n     *   numerics use exact match operatiors\r\n     */\n  getCriteriaOperation: function getCriteriaOperation(render) {\n    var self = this;\n    var properties = self.properties;\n\n    var operation = \"EQUALS\";\n    if (render.properties.dataType == \"15\") {\n      if (typeof render.properties.typeSearch === \"undefined\" || render.properties.typeSearch === \"approx\") {\n        if (properties.allowFullSearch) {\n          operation = \"FULLLIKE\";\n        } else {\n          operation = \"LIKE\";\n        }\n      }\n    }\n    return operation;\n  },\n\n  /*\r\n     *   Render the result controls for the query\r\n     *   Resolved in each device\r\n     */\n  renderResult: function renderResult() {\n  },\n\n  /*\r\n     *   Refresh the result panel, making it to query data with current criteria\r\n     */\n  refreshResults: function refreshResults() {\n  },\n\n  /*\r\n     *   Function to parse the dataType\r\n     */\n  parseAdditionalProperties: function parseAdditionalProperties(dataType) {\n\n    // Number\n    if (dataType == 1 || dataType == 2 || dataType == 3 ||\n    dataType == 4 || dataType == 6 || dataType == 7 ||\n    dataType == 10 || dataType == 11) {\n      return { type: \"columnNumber\" };\n    }\n\n    // Oracle Number\n    if (dataType == 29) {\n      return { type: \"columnNumberScientificNotation\" };\n    }\n\n    // Money\n    if (dataType == 8) {\n      return { type: \"columnMoney\" };\n    }\n\n    // Date\n    if (dataType == 12 || dataType == 13) {\n      return { type: \"columnDate\" };\n    }\n\n    // Boolean\n    if (dataType == 5) {\n      return { type: \"columnBoolean\" };\n    }\n\n    // Text\n    return { type: \"columnText\" };\n  },\n\n  /*\r\n     *\r\n     */\n  onSearchFinished: function onSearchFinished() {\n    // Empty function, overrided for Tablet version for now\n  } });","/*\r\n *   Name: BizAgi Tab Container Class\r\n *   Author: Diego Parra\r\n *   Comments:\r\n *   -   This script will define a tab container class for all devices\r\n */\n\n$.Class.extend(\"bizagi.rendering.tab\", {}, {\n\n  /*\r\n                                              *   Constructor\r\n                                              */\n  initializeData: function initializeData(params) {\n    var self = this;\n\n    // Call base\n    this._super(params);\n\n    // Default properties\n    var properties = self.properties;\n    properties.helpText = properties.helpText || properties.displayName;\n\n    // Extend css property\n    properties.cssclass = properties.cssclass || \"\";\n  },\n\n  /*\r\n      *   Render the container layout\r\n      */\n  renderContainer: function renderContainer() {\n    var self = this;\n    var properties = this.properties;\n    var tabItems = $.map(self.children, function (child, key) {\n      child.properties.counter = key;\n      child.properties.tooltip = child.properties.tooltip || child.properties.displayName || \"\";\n      return child.properties;\n    });\n    var template = self.renderFactory.getTemplate(\"tab\");\n    var mode = self.getMode();\n\n    // Render the tab\n    var html = $.fasttmpl(template, {\n      id: properties.id,\n      tabs: tabItems,\n      mode: mode,\n      isDesign: self.getMode() !== \"execution\",\n      editable: properties.editable,\n      tabOrientation: properties.orientation,\n      uniqueId: properties.uniqueId,\n      cssclass: properties.cssclass });\n\n\n    // Get active container based on focus\n    var activeTab = self.activeTab = self.getActiveTab();\n\n    // Render children\n    for (var i = 0, length = self.children.length; i < length; i++) {\n      // Load on demand other tabs besides the first one\n      self.children[i].properties.loadOnDemand = i != activeTab;\n    }\n    html = self.replaceChildrenHtml(html, self.renderChildrenHtml());\n    return html;\n  },\n\n  /*\r\n      *   Return the active tab containing the focus, or the first tab\r\n      */\n  getActiveTab: function getActiveTab() {\n    var self = this;\n    var properties = self.properties;\n    var formParams = this.getFormContainer().getParams();\n    var mode = self.getMode();\n\n    if (mode === \"execution\") {\n      if (!formParams.isRefresh && properties.activeTab) {\n        self.getFormContainer().setFocusedElement(properties.activeTab);\n      }\n    }\n\n    var selectedTabs = formParams && formParams.selectedTabs ? formParams.selectedTabs : {};\n\n    // Fetch from selected tabs collection\n    if (selectedTabs[self.properties.id] >= 0) {\n      return selectedTabs[self.properties.id];\n    }\n\n    // Check for focused elements\n    for (var i = 0, length = self.children.length; i < length; i++) {\n      // Load on demand other tabs besides the first one\n      if (self.children[i].containsFocusedElement()) return i;\n    }\n    return 0;\n  },\n\n  /**\r\n      * Update position of tab\r\n      * @param index\r\n      */\n  setActiveTab: function setActiveTab(index) {\n    var self = this;\n\n    self.triggerHandler(\"selected\", { index: index, tab: self.children[index] });\n\n    if (self.children[index]) {\n      var form = self.getFormContainer();\n\n      self.children[index].activate();\n      self.activeTab = index;\n\n      var selectedTab = {};\n      selectedTab[self.children[index].parent.properties.id] = index;\n      form.setParam(\"selectedTabs\", selectedTab);\n    }\n  } });","/**\r\n *   Name: Bizagi Tab Item Container Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define a tab item class for all devices\r\n */\n\n$.Class.extend(\"bizagi.rendering.tabItem\", {}, {\n\n  /*\r\n                                                 *   Render the container layout\r\n                                                 */\n  renderContainer: function renderContainer() {\n    var self = this;\n    var properties = this.properties;\n    var template = self.renderFactory.getTemplate(\"tabItem\");\n\n    // Render the tabItem\n    var html = $.fasttmpl(template, {\n      id: properties.id,\n      uniqueId: properties.uniqueId,\n      counter: properties.counter,\n      tabOrientation: properties.orientation,\n      isDesign: self.getMode() !== \"execution\" });\n\n\n    // Render content\n    html = self.renderTabContent(html);\n\n    return html;\n  },\n\n  /*\r\n     * Renders the tab content\r\n     */\n  renderTabContent: function renderTabContent(html) {\n    // Render children\n    return this.replaceChildrenHtml(html, this.renderChildrenHtml());\n  },\n\n  /*\r\n     *   Fires when the tab is selected \r\n     */\n  activate: function activate() {\n    this.active = true;\n  },\n\n  /*  \r\n     *   Return the current focuses container\r\n     */\n  getFocus: function getFocus() {\n    var self = this;\n    var focus = self._super();\n    if (bizagi.util.isEmpty(focus) && self.active) {\n      focus = self.properties.id;\n    }\n\n    return focus;\n  },\n\n  /*\r\n     *   Return true if this tab contains the active focused element\r\n     */\n  containsFocusedElement: function containsFocusedElement() {\n    var self = this;\n    var focus = self.getFormContainer().getFocusedElement();\n\n    if (focus) {\n\n      // Locate element\n      if (focus.xpath) {\n        // Search by xpath and id\n        var elements = self.getFormContainer().getRenders(focus.xpath);\n        var element;\n\n        $.each(elements, function (i, item) {\n          // Just select editable control\n          if (item.properties.id == focus.id && item.properties.editable) {\n            element = item;\n          }\n        });\n      } else {\n        // Search just using id\n        var element = self.getFormContainer().getContainer(focus) || self.getFormContainer().getRenderById(focus);\n      }\n\n      // Search element parent\n      if (element) {\n        while (element.parent) {\n          if (element.properties.id == self.properties.id || element.parent.properties.id == self.properties.id) return true;\n          element = element.parent;\n        }\n      }\n    }\n\n    return false;\n  } });","/*\r\n*   Name: BizAgi Nested Form Container Class\r\n*   Author: Diego Parra\r\n*   Comments:\r\n*   -   This script will define a nested form container class for all devices\r\n*/\n\n$.Class.extend(\"bizagi.rendering.nestedForm\", {}, {});","/**\r\n *   Name: Bizagi Render Check Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for check renders\r\n */\n\n$.Class.extend(\"bizagi.rendering.check\", {}, {\n\n  /**\r\n                                                * Update or init the element data\r\n                                                * @param {} data\r\n                                                */\n  initializeData: function initializeData(data) {\n    // Call base\n    this._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n    properties.value = typeof properties.value != \"undefined\" ? bizagi.util.parseBoolean(properties.value) : null;\n\n    properties.showLetters = bizagi.override && bizagi.override.enableCheck === true && !properties.editable;\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      */\n  renderControl: function renderControl() {\n    var template = this.renderFactory.getTemplate(\"check\");\n    var randomId = bizagi.util.randomNumber(100, 10000000);\n\n    // Render template\n    var html = $.fasttmpl(template, {\n      id: randomId,\n      editable: this.properties.editable });\n\n\n    return html;\n  },\n\n  /**\r\n      * Method to render non editable values\r\n      * @returns {*|jQuery}\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    return this.renderControl();\n  },\n\n  /**\r\n      * Template method to implement in each device to customize each render after processed\r\n      */\n  postRender: function postRender() {\n    // Call base\n    this._super();\n  },\n\n  /**\r\n      * Gets the display value of the render\r\n      */\n  getDisplayValue: function getDisplayValue() {\n    var value = this.getValue();\n\n    if (bizagi.util.parseBoolean(value) === true) {\n      return this.getResource(\"render-boolean-yes\");\n    } else if (bizagi.util.parseBoolean(value) === false) {\n      return this.getResource(\"render-boolean-no\");\n    } else {\n      return \"\";\n    }\n  },\n\n  /**\r\n      * Check if a render has no value for required validation\r\n      */\n  hasValue: function hasValue() {\n    var value = this.getValue();\n\n    if (bizagi.util.isEmpty(value)) return false;\n\n    var booleanValue = bizagi.util.parseBoolean(value);\n\n    return !(booleanValue === false && this.properties.required);\n  } });","/*\r\n*   Name: Bizagi Render Number Class\r\n*   Author: UI Forms Team\r\n*   Comments:\r\n*   -   This script will define basic stuff for numbers\r\n*/\n\n$.Class.extend(\"bizagi.rendering.number\", {}, {\n\n  /**\r\n                                                 * Update or init the element data\r\n                                                 * @param data\r\n                                                 */\n  initializeData: function initializeData(data) {\n    var self = this;\n\n    // Call base\n    self._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n    var format = this.getResource(\"numericFormat\");\n\n    properties.allowDecimals = typeof properties.allowDecimals !== \"undefined\" ? bizagi.util.parseBoolean(properties.allowDecimals) : this.getDefaultAllowDecimals(properties.dataType);\n    properties.numDecimals = properties.allowDecimals ? properties.numDecimals ? properties.numDecimals : typeof BIZAGI_DEFAULT_CURRENCY_INFO !== \"undefined\" ? BIZAGI_DEFAULT_CURRENCY_INFO.decimalDigits : 2 : 0;\n    properties.symbol = '';\n    properties.positiveFormat = format.positiveFormat;\n    properties.negativeFormat = format.negativeFormat;\n    properties.decimalSymbol = typeof BIZAGI_DEFAULT_CURRENCY_INFO !== \"undefined\" ? BIZAGI_DEFAULT_CURRENCY_INFO.decimalSeparator : format.decimalSymbol;\n    properties.digitGroupSymbol = typeof BIZAGI_DEFAULT_CURRENCY_INFO !== \"undefined\" ? BIZAGI_DEFAULT_CURRENCY_INFO.groupSeparator : format.digitGroupSymbol;\n    properties.groupDigits = this.setGroupDigits();\n    properties.colorize = properties.colorizeOnNegative || false;\n    properties.dataTypeMinValue = this.calculateMinValue(properties.dataType);\n    properties.dataTypeMaxValue = this.calculateMaxValue(properties.dataType);\n\n    if (typeof properties.value != \"undefined\" && /[e][-+]/gi.test(properties.value) && Math.abs(parseFloat(properties.value)) < 1) {\n      properties.value = self.value = parseFloat(properties.value).toFixed(properties.numDecimals);\n    }\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @returns {*|jQuery}\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var template = self.renderFactory.getTemplate(\"number\");\n\n    // Render template\n    var html = $.fasttmpl(template, {\n      editable: self.properties.editable,\n      value: bizagi.isMobile() ? self.getDisplayValue() : \"\", // Only apply to mobile because in the template value is required (Bug: 11624)\n      type: bizagi.util.isAndroidDevice() ? \"tel\" : \"text\", // Change type control for android device\n      isDesign: self.getMode() !== \"execution\" });\n\n\n    return html;\n  },\n\n  /**\r\n      * Template method to implement in each device to customize each render after processed\r\n      */\n  postRender: function postRender() {\n    var self = this;\n\n    self._super();\n\n    var control = self.getControl();\n    var properties = self.properties;\n\n    self.numericInput = control.find(\"input\");\n\n    // Add numeric plugin to avoid invalid keystrokes\n    self.numericInput.numeric(self.properties.decimalSymbol);\n\n    // Attach event for retype double\n    if (properties.retype === \"double\") {\n      self.attachRetypeDouble();\n    }\n  },\n\n  /**\r\n      * Method to customize the render's behaviour to add handlers\r\n      */\n  configureHandlers: function configureHandlers() {\n    // Attach Format Currency Plugin to format the input\n    this.attachFormatCurrency();\n  },\n\n  /**\r\n      * Removes Validation Messages\r\n      */\n  removeValidations: function removeValidations() {\n    var form = this.getFormContainer().parent || this.getFormContainer();\n\n    form.clearValidationMessages();\n  },\n\n  /**\r\n      * Function virtual implements on children (desktop,smartphone...).\r\n      * @returns {}\r\n      */\n  attachRetypeDouble: function attachRetypeDouble() {\n  },\n  formatNumericInput: function formatNumericInput($input) {\n    var self = this;\n    var properties = self.properties;\n    var message = bizagi.localization.getResource(\"render-number-retype-fail\");\n    var form = self.getFormContainer();\n\n    if (typeof form.validationController == \"undefined\") {\n      var $canvas = form.getValidationsContainer();\n      form.validationController = new bizagi.command.controllers.validation(form, self.validations, $canvas);\n    }\n\n    var validationController = form.validationController || form.parent.validationController;\n    var decimalSeparator = \".\";\n    var digitGroupSeparator = \",\";\n\n    if (typeof BIZAGI_DEFAULT_CURRENCY_INFO == \"undefined\") {\n      decimalSeparator = self.getResource(\"numericFormat\").decimalSymbol || \".\";\n      digitGroupSeparator = self.getResource(\"numericFormat\").digitGroupSymbol || \",\";\n    } else\n    {\n      decimalSeparator = BIZAGI_DEFAULT_CURRENCY_INFO.decimalSeparator;\n      digitGroupSeparator = BIZAGI_DEFAULT_CURRENCY_INFO.groupSeparator;\n    }\n\n    var minValue = self.getMinValue();\n    var maxValue = self.getMaxValue();\n\n    if (properties.percentage) self.numericInput.val(self.numericInput.val().replace(\"%\", \"\"));\n    var inputValue = self.numericInput.val();\n    inputValue = decimalSeparator == \",\" ? inputValue.replace(/\\,0+$/, '') : inputValue.replace(/\\.0+$/, '');\n    inputValue = inputValue.replace(properties.symbol, \"\");\n    //Replace all the ocurrences of the digitGroupSeparator\n    inputValue = bizagi.util.replaceAll(inputValue, digitGroupSeparator, \"\");\n    if (inputValue.toString().indexOf(decimalSeparator) != -1) {\n      if (decimalSeparator == \",\") inputValue = inputValue.replace(/([0-9]+(\\,[0-9]+[1-9])?)(\\,?0+$)/, '$1');\n      if (decimalSeparator == \".\") inputValue = inputValue.replace(/([0-9]+(\\.[0-9]+[1-9])?)(\\.?0+$)/, '$1');\n    }\n\n    if (inputValue != undefined && inputValue.length > 0) self.numericInput.val(inputValue);\n\n    if (/(.+)-$/.test(inputValue)) {\n      inputValue = inputValue.replace(/(.+)-$/, '-$1');\n      self.numericInput.val(inputValue);\n    }\n\n    var inputLength = inputValue.replace(/[^0-9]+/g, \"\").length;\n    var xPath = self.properties.xpath;\n    var oldVal = self.numericInput.val();\n\n\n    if (self.isInvalidFormat != null && self.isInvalidFormat == true ||\n    inputValue != \"\" && [\"$\", \"£\", \"€\", \"¥\", properties.symbol].indexOf(inputValue) != -1) {\n      self.setValue(\"\");\n      self.getControl().find(\"input\").val(\"\");\n      self.numericInput.val(\"\");\n      return;\n    }\n\n    if (bizagi.util.trim(inputValue) == \"\") {\n      self.setValue(\"\");\n      return;\n    }\n\n    //The \",\" is changed to \".\" For the correct operation of \"parseFloat ()\"\n    var tempValue = parseFloat(inputValue.replace(\",\", \".\"));\n    if (isNaN(tempValue)) {\n      tempValue = self.numericInput.asNumber();\n    }\n\n    if (minValue !== undefined && minValue != null && tempValue < minValue) {\n      message = bizagi.localization.getResource(\"render-numeric-minimum-validation\").\n      replaceAll(\"#label#\", properties.displayName + \" (\" + oldVal + \")\").\n      replaceAll(\"#minValue#\", minValue.toString());\n    } else\n    if (maxValue !== undefined && maxValue !== null && tempValue > maxValue) {\n      message = bizagi.localization.getResource(\"render-numeric-maximum-validation\").\n      replaceAll(\"#label#\", properties.displayName + \" (\" + oldVal + \")\").\n      replaceAll(\"#maxValue#\", maxValue.toString());\n    } else\n    message = message + \" \" + oldVal + \"\";\n\n\n    // Do datatype validations\n    if (\n    minValue !== undefined && minValue !== null && tempValue < minValue ||\n    maxValue !== undefined && maxValue !== null && tempValue > maxValue ||\n    self.properties.dataType == 10 && inputLength > 15 ||\n    self.properties.dataType == 1 && inputLength > 19 ||\n    self.properties.dataType == 11 && inputLength > 7 ||\n    self.properties.dataType == 11 && inputLength > 7 ||\n    oldVal.match(/[^$£€¥,-.()\\d]/))\n    {\n      if (typeof validationController != \"undefined\" && validationController != null) {\n        self.removeValidations();\n\n        var messageToShow = message;\n        if (messageToShow.indexOf(oldVal) === -1) {\n          messageToShow = message + \" \" + oldVal + \"\";\n        }\n\n        validationController.showValidationMessage(messageToShow, xPath);\n        self.isValidRender = false;\n        self.isValidRenderMessage = messageToShow;\n      }\n      message = message.replace(oldVal, \"\");\n      return;\n    } else\n    {\n      self.isValidRender = true;\n      self.isValidRenderMessage = \"\";\n    }\n\n    // Fix decimals specially when it starts with 0 (0000234 -> 234, 00000 -> 0)\n    if ($input.value.toString().length > 0 && !properties.allowDecimals && !properties.groupDigits) {\n      $input.value = $input.value.toString().replace(/^0+/, '');\n      if (properties.symbol.length > 0) $input.value = $input.value.toString().replace(properties.symbol + \"0\", properties.symbol);\n      $input.value = $input.value.toString().replace(/^0+/, '');\n      if ($input.value.replaceAll('0', '').length == 0)\n      $input.value = properties.symbol + \"0\";else\n      if ($input.value.toString() == parseInt($input.value)) $input.value = properties.symbol + $input.value;\n    } else {\n      //Fix type money when number start with 0 (0000234 -> 234, 00000 -> 0)\n      if (self.properties.type === \"money\" || self.properties.type === \"number\" || self.properties.type === \"columnMoney\" || self.properties.type === \"columnNumber\") {\n        $input.value = $input.value.toString().replace(/^0+/, '');\n        if ($input.value === \"\") {\n          $input.value = 0;\n        }\n      }\n    }\n    self.executeFormatCurrencyPlugin();\n\n    // Updates internal value\n    self.setValue(self.numericInput.asNumber({\n      symbol: properties.symbol,\n      positiveFormat: properties.positiveFormat,\n      negativeFormat: properties.negativeFormat,\n      decimalSymbol: properties.decimalSymbol,\n      digitGroupSymbol: properties.digitGroupSymbol,\n      groupDigits: properties.groupDigits }));\n\n\n    if (properties.percentage) {\n      if (self.numericInput && self.numericInput.val().indexOf(\"%\") == -1)\n      self.numericInput.val(self.numericInput.val() + '%');\n    }\n    message = message.replace(oldVal, \"\");\n\n  },\n  /**\r\n      * Adds the format currency plugin\r\n      * @returns {}\r\n      */\n  attachFormatCurrency: function attachFormatCurrency() {\n    var self = this;\n    var properties = self.properties;\n    self.isValidRender = self.isValidRender || true;\n\n    // Extend formatCurrency language\n    if ($.formatCurrency.regions[bizagi.language] == null)\n    $.formatCurrency.regions[bizagi.language] = this.getResource(\"numericFormat\");\n\n    // Attach events\n    self.numericInput.blur(function () {\n      self.formatNumericInput(this);\n    })\n\n    // Avoiding pasting invalid characters\n    .bind('paste', function (e) {\n      try {\n        var tmpData = bizagi.util.isIE() || bizagi.util.isIE11() ? window.clipboardData.getData(\"text\") : e.originalEvent.clipboardData.getData(\"Text\");\n\n\n\n        // Next lines checks if there is something different to numbers symbol, decimalSymbol and digitGroupSybol\n        var totalVal = \"/[^0-9\";\n        if (properties.decimalSymbol.length > 0) {\n          totalVal += properties.decimalSymbol;\n        }\n        // Next lines only for currency type\n        if (properties.dataType == 8) {\n          if (properties.symbol.length > 0) {\n            totalVal += properties.symbol;\n          }\n          if (properties.digitGroupSymbol.length > 0) {\n            totalVal += properties.digitGroupSymbol;\n          }\n        }\n        totalVal += \"\\\\-\\\\s]/gi\";\n        try {\n          if (tmpData.replace(eval(totalVal), '').length != tmpData.length)\n          e.preventDefault();\n        }\n        catch (e) {\n        }\n      }\n      catch (e) {\n        bizagi.log(\"Error to pasting content\");\n        self.isInvalidFormat = true;\n      }\n    })\n    // Now we implement keydown instead of keyup in order to include preventDefault\n    .keydown(function (e) {\n      self.previousValue = this.value;\n      e = window.event && window.event.preventDefault ? window.event : e;\n      var keyUnicode = e.charCode || e.keyCode;\n      // Validation for currency info\n      if (typeof BIZAGI_DEFAULT_CURRENCY_INFO != \"undefined\")\n      if (BIZAGI_DEFAULT_CURRENCY_INFO.decimalDigits == 0) properties.allowDecimals = false;\n      if (properties.dataType < 5 || properties.dataType == 8 && properties.allowDecimals == false)\n      if (keyUnicode == 188 || keyUnicode == 190 || keyUnicode == 110)\n      e.preventDefault();\n      if (this.value)\n      if (e !== undefined && this.value.length > 0 && (properties.dataType == 8 || properties.dataType == 10)) {\n        // Just numbers\n        if (keyUnicode > 47 && keyUnicode < 58) {\n          if (self.formatTimeout) {\n            clearTimeout(self.formatTimeout);\n          }\n\n          var floatPart = this.value + \"\";\n          //var  floatPart = stringPart.replaceAll(properties.digitGroupSymbol, \"\").replaceAll(properties.symbol,\"\").trim().replaceAll(properties.decimalSymbol,\".\");\n          if (properties.digitGroupSymbol && properties.digitGroupSymbol.length > 0) {\n            floatPart = floatPart.replaceAll(properties.digitGroupSymbol, \"\");\n          }\n          if (properties.symbol.length > 0) {\n            floatPart = floatPart.replaceAll(properties.symbol, \"\");\n          }\n\n          floatPart = $.trim(floatPart);\n          if (properties.decimalSymbol && properties.decimalSymbol.length > 0) {\n            floatPart = floatPart.replaceAll(properties.decimalSymbol, \".\");\n          }\n          // If increasing one digit (x10) will overtake the maxValue\n          if (floatPart * 10 > properties.dataTypeMaxValue) {\n            e.preventDefault();\n          }\n        } else\n        if (keyUnicode == 109 || keyUnicode == 189) {\n          if (this.selectionStart != 0 || this.selectionEnd != this.value.length) {\n            var currentPosition = this.selectionEnd;\n            this.value = properties.symbol + \"-\" + this.value.replace(properties.symbol, \"\");\n            this.selectionStart = this.selectionEnd = currentPosition + 1;\n          } else if (this.selectionStart == 0 && this.selectionEnd == this.value.length) {\n            this.value = \"-\";\n            this.selectionStart = this.selectionEnd = this.value.length;\n          }\n        }\n      }\n    }).\n\n    keyup(function (e) {\n      e = window.event || e;\n      var keyUnicode = e.charCode || e.keyCode;\n      if (e !== undefined) {\n        switch (keyUnicode) {\n          case 16:\n            break; // Shift\n          case 17:\n            break; // Ctrl\n          case 13:\n            break; // Intro\n          case 18:\n            break; // Alt\n          case 27:\n            this.value = '';\n            break; // Esc: clear entry\n          case 35:\n            break; // End\n          case 36:\n            break; // Home\n          case 37:\n            break; // cursor left\n          case 38:\n            break; // cursor up\n          case 39:\n            break; // cursor right\n          case 40:\n            break; // cursor down\n          case 78:\n            break; // N (Opera 9.63+ maps the \".\" from the number key section to the \"N\" key too!) (See: http://unixpapa.com/js/key.html search for \". Del\")\n          case 110:\n            break; // . number block (Opera 9.63+ maps the \".\" from the number block to the \"N\" key (78) !!!)\n          case 188:\n            break; // , comma\n          case 190:\n            break; // .\n          default:\n            {\n\n            }}\n\n      }\n    }).keypress(function (e) {\n      e = window.event && window.event.preventDefault ? window.event : e;\n      var keyUnicode = e.charCode || e.keyCode;\n      if (typeof e !== \"undefined\") {\n        if (keyUnicode == 35 || keyUnicode == 37 || keyUnicode == 39) {\n          e.preventDefault();\n        } else if (properties.dataType != 8 && keyUnicode == 36) {\n          e.preventDefault();\n        }\n\n        // When no decimals are permited\n        var character = String.fromCharCode(keyUnicode);\n        if (properties.allowDecimals === false && properties.numDecimals === 0 && character === properties.decimalSymbol)\n        e.preventDefault();\n      }\n    });\n\n  },\n\n  executeFormatCurrencyPlugin: function executeFormatCurrencyPlugin() {\n    var self = this;\n    var properties = self.properties;\n\n    if (self.numericInput) {\n      self.numericInput.formatCurrency({\n        symbol: properties.symbol,\n        positiveFormat: properties.positiveFormat,\n        negativeFormat: properties.negativeFormat,\n        decimalSymbol: properties.decimalSymbol,\n        digitGroupSymbol: properties.digitGroupSymbol,\n        groupDigits: properties.groupDigits,\n        roundToDecimalPlace: properties.numDecimals,\n        colorize: properties.colorize });\n\n    }\n\n    if (properties.dataType !== 8 && bizagi.override.removeTrailingZeros === true) {\n      var value = self.numericInput.val();\n      var positive = true;\n\n      if (value.indexOf(\")\") !== -1) {\n        positive = false;\n        value = value.replace(\"(\", \"\").replace(\")\", \"\");\n      }\n\n      var regExp = new RegExp(\"(\" + properties.decimalSymbol + \"\\\\d*?[1-9])0+$\", \"g\");\n      value = value.replace(regExp, \"$1\");\n\n      regExp = new RegExp(\"\\\\\" + properties.decimalSymbol + \"0+$\", \"g\");\n      value = value.replace(regExp, \"\");\n      self.numericInput.val(value);\n\n      if (!positive) self.numericInput.val(\"(\" + value + \")\");\n    }\n\n    if (properties.percentage)\n    self.numericInput.val(self.numericInput.val() + '%');\n  },\n\n  /**\r\n      * Returns the display value of the render\r\n      * @returns {*}\r\n      */\n  getDisplayValue: function getDisplayValue() {\n    var self = this;\n    var properties = self.properties;\n    var control = self.getControl();\n    var value = self.getValue() !== undefined ? self.getValue() : $(\"input\", control).val() || \"\";\n\n    // Workaround to get the display value by the format currency plugin, because it requires a control\n    var label = $('<label/>').html(value);\n\n    label.formatCurrency({\n      symbol: properties.symbol,\n      positiveFormat: properties.positiveFormat,\n      negativeFormat: properties.negativeFormat,\n      decimalSymbol: properties.decimalSymbol,\n      digitGroupSymbol: properties.digitGroupSymbol,\n      groupDigits: properties.groupDigits,\n      roundToDecimalPlace: properties.numDecimals,\n      colorize: properties.colorize });\n\n\n    if (properties.percentage)\n    label = $('<label/>').html(label.text() + '%');\n\n    // Removing unrequired zeros as requested by BA26331\n    if (!properties.editable && properties.dataType !== 8 && bizagi.override.removeTrailingZeros === true) {\n      value = label.text();\n      var positive = true;\n\n      if (value.toString().indexOf(\")\") !== -1) {\n        positive = false;\n        value = value.replace(\"(\", \"\").replace(\")\", \"\");\n      }\n\n      var re = new RegExp(\"(\" + properties.decimalSymbol + \"\\\\d*?[1-9])0+$\", \"g\");\n      value = value.replace(re, \"$1\");\n\n      re = new RegExp(\"\\\\\" + properties.decimalSymbol + \"0+$\", \"g\");\n      value = value.replace(re, \"\");\n\n      if (!positive) value = \"(\" + value + \")\";\n      return value;\n    }\n\n    return label.text();\n  },\n\n  /**\r\n      * Public method to determine if a value is valid or not\r\n      * @param invalidElements\r\n      * @returns {*}\r\n      */\n  isValid: function isValid(invalidElements) {\n    var self = this;\n    var properties = self.properties;\n\n    // Call base\n    var bValid = this._super(invalidElements);\n    var value = self.getValue();\n    var message;\n    var minValue = self.getMinValue();\n    var maxValue = self.getMaxValue();\n\n    if (typeof value == \"string\" && value != \"\") {\n      value = Number(value);\n    }\n\n    // Check min value\n    if (self.hasValue()) {\n      if (!bizagi.util.isEmpty(minValue)) {\n        if (value < minValue) {\n          message = this.getResource(\"render-numeric-minimum-validation\").replaceAll(\"#label#\", properties.displayName.toString() + \" (\" + value + \")\").replaceAll(\"#minValue#\", minValue.toString());\n          invalidElements.push({ xpath: properties.xpath, message: message });\n          bValid = false;\n        }\n      }\n      // Check max value\n      if (!bizagi.util.isEmpty(maxValue)) {\n        if (value > maxValue) {\n          message = this.getResource(\"render-numeric-maximum-validation\").replaceAll(\"#label#\", properties.displayName.toString() + \" (\" + value + \")\").replaceAll(\"#maxValue#\", maxValue.toString());\n          invalidElements.push({ xpath: properties.xpath, message: message });\n          bValid = false;\n        }\n      }\n\n    }\n\n    if (self.isValidRender === false && !(bValid && bizagi.util.isMobileDevice())) {\n      bValid = false;\n      var validMessage = self.isValidRenderMessage ? self.isValidRenderMessage : \"error\";\n      invalidElements.push({ xpath: properties.xpath, message: validMessage });\n    }\n\n    return bValid;\n  },\n\n  /**\r\n      * Get minimum value\r\n      * @returns {*}\r\n      */\n  getMinValue: function getMinValue() {\n    var minValue = this.properties.minValue;\n\n    if (minValue !== undefined && minValue !== null)\n    return minValue;\n\n    return this.properties.dataTypeMinValue;\n  },\n\n  /**\r\n      * Get maximum value\r\n      * @returns {*}\r\n      */\n  getMaxValue: function getMaxValue() {\n    var maxValue = this.properties.maxValue;\n\n    if (maxValue !== undefined && maxValue !== null)\n    return maxValue;\n\n    return this.properties.dataTypeMaxValue;\n  },\n\n  /**\r\n      * Return the allow decimals default property based on the datatype\r\n      * @param dataType\r\n      * @returns {boolean}\r\n      */\n  getDefaultAllowDecimals: function getDefaultAllowDecimals(dataType) {\n    if (dataType) {\n      // Integer data types\n      if (dataType === 1 || dataType === 2 || dataType === 3 || dataType === 4 || dataType === 7) {\n        return false;\n      }\n      // Decimal and money data types\n      if (dataType === 6 || dataType === 8 || dataType === 10 || dataType === 11) {\n        return true;\n      }\n    }\n    return false;\n  },\n  /**\r\n      * Return the group digits default property based on the datatype\r\n      * @param dataType\r\n      * @returns {boolean}\r\n      */\n  getDefaultGroupDigits: function getDefaultGroupDigits(dataType) {\n    if (dataType) {\n      // Integer data types\n      if (dataType === 1 || dataType === 2 || dataType === 3 || dataType === 4 || dataType === 7) {\n        return false;\n      }\n\n      // Decimal data types\n      if (dataType === 6 || dataType === 8 || dataType === 10 || dataType === 11) {\n        return true;\n      }\n    }\n    return false;\n  },\n\n  /**\r\n      * Return the group digits default property based on digitGroupSymbol\r\n      * @returns {*}\r\n      */\n  setGroupDigits: function setGroupDigits() {\n    var self = this;\n    if (typeof self.properties.thousands !== \"undefined\") {\n      if (self.properties.digitGroupSymbol) {//some cultures\n        return bizagi.util.parseBoolean(self.properties.thousands);\n      } else {\n        return false;\n      }\n    } else if (self.properties.digitGroupSymbol) {//some cultures\n      return this.getDefaultGroupDigits(self.properties.dataType);\n    } else {\n      return false;\n    }\n  },\n\n  /**\r\n      * Calculate Minimum Value\r\n      * @param dataType\r\n      * @returns {*}\r\n      */\n  calculateMinValue: function calculateMinValue(dataType) {\n    if (dataType === 8 || dataType === 10) {\n      return -922337203685477; // Money\n    }\n    if (dataType === 4) {\n      return 0; // tinyint\n    }\n    if (dataType === 3) {\n      return -32768; // smallint\n    }\n    if (dataType === 2) {\n      return -2147483648; // int\n    }\n    if (dataType === 1) {\n      return -999999999999999; // bigint\n    }\n    return null;\n  },\n\n  /**\r\n      * Calculate Maximum Value\r\n      * @param dataType\r\n      * @returns {*}\r\n      */\n  calculateMaxValue: function calculateMaxValue(dataType) {\n    if (dataType === 8 || dataType === 10) {\n      return 922337203685477; // Money\n    }\n    if (dataType === 4) {\n      return 255; // tinyint\n    }\n    if (dataType === 3) {\n      return 32767; // smallint\n    }\n    if (dataType === 2) {\n      return 2147483647; // int\n    }\n    if (dataType === 1) {\n      return 999999999999999; // bigint\n    }\n    return null;\n  },\n\n  /**\r\n      * Calculate min value\r\n      * @param value\r\n      * @returns {number}\r\n      */\n  performMinValue: function performMinValue(value) {\n    var newValue = Number(value);\n\n    if (isNaN(newValue)) {\n      newValue = this.calculateMinValue(this.properties.dataType);\n    }\n\n    return newValue;\n  },\n\n  /**\r\n      * Calculate min value\r\n      * @param value\r\n      * @returns {number}\r\n      */\n  performMaxValue: function performMaxValue(value) {\n    var newValue = Number(value);\n\n    if (isNaN(newValue)) {\n      newValue = this.calculateMaxValue(this.properties.dataType);\n    }\n\n    return newValue;\n  },\n\n  /**\r\n      * Changes the render minimum value\r\n      * @param value\r\n      */\n  changeMinValue: function changeMinValue(value) {\n    var newValue = this.performMinValue(value);\n\n    this.properties.minValue = this.properties.dataTypeMinValue = newValue;\n  },\n  /**\r\n      * Changes the render maximum value\r\n      * @param value\r\n      */\n  changeMaxValue: function changeMaxValue(value) {\n    var newValue = this.performMaxValue(value);\n\n    this.properties.maxValue = this.properties.dataTypeMaxValue = newValue;\n  },\n\n  createTooltip: function createTooltip(control, currentValue, currentTitle) {\n    control.data(\"oldValue\", currentValue);\n    control.val(\"\");\n\n    try {\n      // Destroy tooltips\n      control.tooltip(\"destroy\");\n    } catch (e) {\n    }\n\n    control.attr(\"title\", currentTitle);\n    control.tooltip();\n\n    var toolTipZindex = $.getMaxZindex();\n    control.tooltip().on(\"tooltipopen\", function (event, ui) {\n      ui.tooltip.zIndex(toolTipZindex);\n    });\n\n    // Create new tooltip\n    control.tooltip(\"open\");\n\n    var timeOutFocus = setTimeout(function () {\n      control.focus();\n      clearTimeout(timeOutFocus);\n    }, 100);\n  } });","\n/*\r\n*   Name: Bizagi Render Number Scientific notation Class\r\n*   Author: Laura Ariza\r\n*   Comments:\r\n*   -   This script will define basic stuff for scientific notation numbers\r\n*/\n\n$.Class.extend(\"bizagi.rendering.numberScientificNotation\", {\n  /*\r\n                                                               *   Update or init the element data\r\n                                                               */\n  initializeData: function initializeData(data) {\n    var self = this;\n\n    // Call base\n    this._super(data);\n\n    // Fill default properties\n    var properties = self.properties;\n\n    properties.decimalSymbol = typeof BIZAGI_DEFAULT_CURRENCY_INFO !== \"undefined\" ?\n    BIZAGI_DEFAULT_CURRENCY_INFO.decimalSeparator : format.decimalSymbol;\n  },\n\n  renderControl: function renderControl() {\n    var self = this;\n    var template = self.renderFactory.getTemplate(\"numberScientificNotation\");\n\n    // Render template\n    var html = $.fasttmpl(template, {});\n    return html;\n  },\n\n  /*\r\n      * Template method to implement in each device to customize each render after processed\r\n      */\n  postRender: function postRender() {\n    var self = this;\n    var control = self.getControl();\n    self.numericInput = control.find(\"input\");\n    // Add numeric plugin to avoid invalid keystrokes\n    self.numericInput.numericSN(self.properties.decimalSymbol);\n\n  },\n\n  getDisplayValue: function getDisplayValue() {\n    var self = this;\n    return self.getValue().replace('.', self.properties.decimalSymbol);\n  },\n\n  setValue: function setValue(value) {\n    var self = this;\n    value = (value || '').toString().replace(self.properties.decimalSymbol, '.');\n    self._super(value);\n  },\n  controlValueIsChanged: function controlValueIsChanged() {\n    var self = this;\n    var properties = self.properties;\n    var value = self.getValue() || \"\";\n    var compareValue = properties.originalValue || \"\";\n    var result = true;\n\n    // Flag to force to collect data\n    if ($.forceCollectData) {\n      return true;\n    }\n    result = compareValue.toLowerCase() == value.toLowerCase() ? false : true;\n    return result;\n  } });","/**\r\n *   Name: Bizagi Render Hidden Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for hiddens\r\n */\n\n$.Class.extend(\"bizagi.rendering.hidden\", {}, {\n\n  /**\r\n                                                 * Returns the in-memory processed element\r\n                                                 */\n  renderControl: function renderControl() {\n    if (this.getMode() === \"design\") {\n      return \"<div>\" + bizagi.localization.getResource(\"render-hidden-displayName\") + \"</div>\";\n    } else {\n      return \"<div />\";\n    }\n  },\n\n  /**\r\n      * Template method to implement in each device to customize each render after processed\r\n      */\n  postRender: function postRender() {\n    var properties = this.properties;\n\n    // Call base\n    this._super();\n\n    // Set the initial value\n    if (properties.value !== undefined) {\n      this.setDisplayValue(properties.value);\n    }\n  } });","/**\r\n *   Name: Bizagi Render Text Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for text renders\r\n */\n\n$.Class.extend(\"bizagi.rendering.text\", {}, {\n\n  /**\r\n                                               * Update or init the element data\r\n                                               * @param data\r\n                                               */\n  initializeData: function initializeData(data) {\n    // Call base\n    this._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n\n    if (properties.regularExpressionExpression) {\n      var message = properties.regularExpressionMessage || this.getResource(\"render-text-regular-expression-default-message\");\n      properties.regularExpression = { \"expression\": properties.regularExpressionExpression, \"message\": message };\n    }\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @returns {*}\r\n      */\n  renderControl: function renderControl() {\n    var template = this.renderFactory.getTemplate(\"text\");\n\n    // Render template\n    var html = $.fasttmpl(template, {\n      value: this.properties.value,\n      isEmptyField: typeof this.properties.value === \"undefined\",\n      helpText: this.properties.helpText,\n      editable: this.properties.editable });\n\n\n    return html;\n  },\n\n  /**\r\n      * Method to render non editable values\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    var template = this.renderFactory.getTemplate(\"text-read-only\");\n    var value = this.getValue();\n\n    if (bizagi.util.isString(value)) {\n      value = value.replaceAll(\"`\", \"&#96;\");\n    }\n\n    // Render template\n    return $.fasttmpl(template, { value: value, editable: this.properties.editable });\n  },\n\n  /**\r\n      * Template method to implement in each device to customize each render after processed\r\n      */\n  postRender: function postRender() {\n    // Call base\n    this._super();\n\n    this.input = this.getControl().find(\"input\");\n\n    //Attach event for retype double\n    if (this.properties.retype === \"double\")\n    this.attachRetypeDouble();\n  },\n\n  /**\r\n      * function virtual implements on children (desktop,samrtphone...).\r\n      */\n  attachRetypeDouble: function attachRetypeDouble() {\n  },\n\n  /**\r\n      * Template method to implement in each device to customize the render's behaviour to add handlers\r\n      */\n  configureHandlers: function configureHandlers() {\n    var self = this;\n    var properties = self.properties;\n\n    // Check mask property\n    if (properties.mask)\n    self.input.mask({ mask: properties.mask });\n\n    // Attach change event\n    self.input.bind(\"change\", function () {\n\n      // Updates internal value\n      self.setValue(self.input.val(), false);\n\n      // Check that the value is valid\n      var validationMessages = [];\n      if (properties.retype !== \"duplicate\") {\n        if (self.isValid(validationMessages) || typeof properties.regularExpression === \"undefined\") {\n          // Update value again triggering handlers\n          self.setValue(self.input.val(), true);\n        }\n      }\n\n    }).keypress(function (e) {\n      e = window.event || e;\n      var keyUnicode = e.charCode || e.keyCode;\n\n      if (e !== undefined) {\n        if (keyUnicode == 13) {\n          $(this).trigger(\"change\");\n        }\n      }\n    });\n    //QA33146 - maxlength does not support in Android Devices. \n    if (bizagi.util.isAndroidDevice() && properties.maxLength > 0) {\n      self.input.bind(\"keyup\", function (e) {\n        var inputLength = $(this).val() && $(this).val().length;\n        if (inputLength >= properties.maxLength) {\n          e.preventDefault();\n          e.target.value = e.target.value.substring(0, properties.maxLength);\n        }\n      });\n    }\n  },\n\n  /**\r\n      * Public method to determine if a value is valid or not\r\n      * @param invalidElements\r\n      * @returns {*}\r\n      */\n  isValid: function isValid(invalidElements) {\n    var self = this;\n    var properties = self.properties;\n    // Call base\n    var bValid = this._super(invalidElements);\n    var value = self.getValue();\n\n    // When the form have big data, block browser executing RegExp. QAF-1418.\n    // Check regular expression\n    if (typeof value == \"string\") {\n      if (properties.regularExpression) {\n        if (properties.editable) {\n          var regex = new RegExp(\"\");\n          try {\n            regex = new RegExp(properties.regularExpression.expression);\n          }\n          catch (e) {\n            if (bizagi.override.showDesignValidations) {\n              bizagi.log(e);\n              invalidElements.push({ xpath: properties.xpath, message: e.message });\n              bValid = false;\n            }\n          }\n\n          if (value && (value.match(new RegExp(\".*?(<|\\\\u003C)(.+?)(>|\\\\u003E)(.?)|eval\\\\(|eval\\\\u0028\", \"g\")) || !value.match(regex) && self.properties && self.properties.xpath === \"userName\")) {\n            var message = properties.regularExpression.message;\n            invalidElements.push({ xpath: properties.xpath, message: message });\n            bValid = false;\n          } else {\n            if (value && (value.match(new RegExp(\".*?(<|\\\\u003C)(.+?)(>|\\\\u003E)(.?)|eval\\\\(|eval\\\\u0028\", \"g\")) || !value.match(regex))) {\n              var message = properties.regularExpression.message;\n              invalidElements.push({ xpath: properties.xpath, message: message });\n              bValid = false;\n            }\n          }\n        }\n      } else {\n        // Strange behavior on IE. When matchs are united on IE have is very slow\n        // solution, divide matchs\n        //.*? means for more information search: \"Lazy matching regexp\"\n        if (value && value.match(new RegExp(\".*?eval\\\\(\", \"g\")) && value.match(new RegExp(\".*?eval\\\\u0028\", \"g\"))) {\n          if (properties.editable) {\n            var message = this.getResource(\"render-text-regular-expression-default-message\");\n\n            invalidElements.push({ xpath: properties.xpath, message: message });\n            bValid = false;\n          }\n        }\n      }\n    }\n\n    return bValid;\n  },\n\n  /**\r\n      * Sets the value in the rendered control\r\n      * @param value\r\n      */\n  setDisplayValue: function setDisplayValue(value) {\n    var self = this;\n    var control = self.getControl();\n    var decodedValue = bizagi.util.decodeURI(value);\n\n    if (!bizagi.util.parseBoolean(self.properties.editable)) {\n      // Render as simple value\n      if (typeof value === \"string\") {\n        // Replace line breaks for html line breaks\n        var valueToDisplay = bizagi.util.encodeHtmlText(self.getDisplayValue());\n\n        control.html(\"<label class='readonly-control'>\" + valueToDisplay + \"</label>\");\n      } else {\n        if (bizagi.util.isNull(value)) {\n          control.html(\"\");\n        }\n      }\n    }\n\n    // Set internal value\n    self.setValue(decodedValue, false);\n  },\n\n  /**\r\n      * Extend setValue to fix all encode data from database\r\n      * @param value\r\n      */\n  setValue: function setValue(value) {\n    this._super(value);\n  },\n\n  /**\r\n      * Helptext tooltip\r\n      * @param {} control\r\n      * @param {} currentValue\r\n      * @param {} currentTitle\r\n      */\n  createTooltip: function createTooltip(control, currentValue, currentTitle) {\n    control.data(\"oldValue\", currentValue);\n    control.val(\"\");\n\n    if (control.data('ui-tooltip')) control.tooltip('destroy');\n\n    control.attr(\"title\", currentTitle);\n    control.tooltip();\n\n    var toolTipZindex = $.getMaxZindex();\n    control.tooltip().on(\"tooltipopen\", function (event, ui) {\n      ui.tooltip.zIndex(toolTipZindex);\n    });\n\n    // Create new tooltip\n    control.tooltip(\"open\");\n\n    var timeOutFocus = setTimeout(function () {\n      control.focus();\n      clearTimeout(timeOutFocus);\n    }, 100);\n  },\n\n\n  //#region No side effects functions\n  /**\r\n   * Gets the string with the correct size\r\n   * @param {string} value String value to validate\r\n   * @param {Integer} maxLength Maximum size of the string\r\n   * @returns {string} String value validated\r\n   */\n  validateValue: function validateValue(value, maxLength) {\n    if (typeof value !== \"string\" || maxLength < 1 || value.length <= maxLength) return value;\n    return value.substr(0, maxLength);\n  }\n  //#endregion No side effects functions\n});","/**\r\n *   Name: Bizagi Render Readonly Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for readonly renders\r\n */\n\n$.Class.extend(\"bizagi.rendering.readonly\", {}, {\n\n  /**\r\n                                                   * Update or init the element data\r\n                                                   * @param data\r\n                                                   */\n  initializeData: function initializeData(data) {\n    // Call base\n    this._super(data);\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @returns {*}\r\n      */\n  renderControl: function renderControl() {\n    var template = this.renderFactory.getTemplate(\"readonly-value\");\n    var value = this.getMode() == 'execution' ?\n    this.getFormattedValue(this.properties.value, this.properties.dataType) :\n    this.getDesignModeValue(this.properties.renderType);\n\n    // Render template\n    var html = $.fasttmpl(template, {\n      id: this.properties.id,\n      value: value });\n\n\n    return html;\n  },\n\n  /**\r\n      * Method to render non editable values\r\n      * @returns {*|jQuery}\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    return this.renderControl();\n  },\n\n  /**\r\n      *  Sets the value in the rendered control\r\n      * @param value\r\n      */\n  setDisplayValue: function setDisplayValue(value) {\n    // DON'T DO ANYTHING\n  },\n\n  /**\r\n      * Sets the internal value\r\n      * @param value\r\n      * @param triggerEvents\r\n      */\n  setValue: function setValue(value, triggerEvents) {\n    // DON'T DO ANYTHING\n  },\n\n  /**\r\n      * Get data value with format\r\n      * @param value\r\n      * @param dataType\r\n      */\n  getFormattedValue: function getFormattedValue(value, dataType) {\n    if (bizagi.util.isEmpty(value)) return \"\";\n\n    // If dataType is integer\n    if ([1, 2, 3, 4, 7].includes(dataType)) return value;\n\n    // If dataType is boolean\n    if ([5, 17].includes(dataType)) return bizagi.util.formatBoolean(value);\n\n    // If dataType is monetary\n    if ([8].includes(dataType)) return bizagi.util.formatMonetaryValue(value);\n\n    // If dataType is real or float\n    if ([6, 10, 11].includes(dataType)) return bizagi.util.formatDecimalValue(value);\n\n    // If dataType is date\n    if ([12, 13].includes(dataType)) return bizagi.util.formatDateValue(value);\n\n    // Otherwise, If dataType is string\n    return bizagi.util.sanitizeHTML(value) || \"\";\n  },\n\n  /***/\n  getDesignModeValue: function getDesignModeValue(renderType) {\n\n    // If dataType is integer\n    if (renderType == 'number') return '123';\n    if (renderType == 'string') return 'abc';\n    if (renderType == 'date') return '1/1/1900';\n    if (renderType == 'boolean') return 'false';\n    if (renderType == 'currency') return '$123';\n\n    return \"\";\n  },\n\n  /** \r\n      * Customizes render background color\r\n      * @param {} color\r\n      * @returns {}\r\n      */\n  changeBackgroundColor: function changeBackgroundColor(color) {\n    if (typeof color === \"undefined\") return this;\n\n    if (color !== \"none\") {\n      this.element.style(\"background\", color, \"important\");\n    } else {\n      this.element.css(\"background\", \"\");\n    }\n\n    return this;\n  },\n\n  /**\r\n      * Gets jQuery Object to stylize\r\n      * @param {jQuery Object} $context jQuery Object\r\n      */\n  getElementsToStylize: function getElementsToStylize($context) {\n    return $(\".bz-input--readonly\", $context);\n  } });","/**\r\n *   Name: Bizagi Render Button Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for button renders\r\n */\n\n$.Class.extend(\"bizagi.rendering.button\", {}, {\n\n  /**\r\n                                                 * Update or init the element data\r\n                                                 * @param {} data\r\n                                                 * @returns {}\r\n                                                 */\n  initializeData: function initializeData(data) {\n    // Call base\n    this._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n    properties.caption = properties.caption || \"\";\n\n    // set default value from normal to value\n    properties.displayType = \"value\";\n\n    // A button cannot be required\n    properties.required = false;\n\n    // This flag enable/disable default behaviors of buttons\n    // auto save and execute rule\n    properties.preventDefault = properties.preventDefault || false;\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @returns {}\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var template = self.renderFactory.getTemplate(\"button\");\n\n    // Render template\n    return $.fasttmpl(template, {\n      caption: self.properties.caption,\n      cssClass: self.properties.cssclass || \"\",\n      editable: self.properties.editable });\n\n  },\n\n  /**\r\n      * Method to render non editable values\r\n      * @returns {}\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    // Executes the same template than normal render\n    return this.renderControl();\n  },\n\n  /**\r\n      * Template method to implement in each device to customize each render after processed in read-only mode\r\n      */\n  postRenderReadOnly: function postRenderReadOnly() {\n    // call base\n    this._super();\n\n    this.getLabel().addClass('bz-form-label--hidden');\n  },\n\n  /**\r\n      * Template method to implement in each device to customize the render behaviour after to be processed\r\n      */\n  postRender: function postRender() {\n    // call base\n    this._super();\n\n    this.getLabel().addClass('bz-form-label--hidden');\n  },\n\n  /**\r\n      * Saves the form\r\n      * @returns {}\r\n      */\n  saveForm: function saveForm() {\n    var form = this.getFormContainer();\n    return form.saveForm();\n  },\n\n  /**\r\n      * Executes the button action\r\n      * @returns {}\r\n      */\n  executeButton: function executeButton() {\n    var self = this;\n    var properties = self.properties;\n    var xpathContext = properties.xpathContext || \"\";\n\n    if (properties.submitOnChangexpathContextRow) {\n      xpathContext = xpathContext ? xpathContext + \".\" + properties.submitOnChangexpathContextRow : properties.submitOnChangexpathContextRow;\n    }\n\n    // Set the loading feedback\n    self.getFormContainer().startLoading();\n\n    return self.dataService.multiaction().executeButton({\n      idRender: properties.id,\n      xpath: properties.xpath || \"\",\n      xpathContext: xpathContext || \"\",\n      idPageCache: properties.idPageCache }).\n    always(function () {\n      self.getFormContainer().endLoading();\n      return arguments ? arguments[0] : undefined;\n    });\n  },\n\n  /**\r\n      * Refresh the current form\r\n      * @returns {}\r\n      */\n  refreshForm: function refreshForm() {\n    var form = this.getFormContainer();\n    form.refreshForm(this.properties.id);\n  },\n\n  /**\r\n      * Process the button actions workflow\r\n      * @returns {}\r\n      */\n  processButton: function processButton() {\n    var self = this;\n\n    if (self.properties.editable) {\n      // Save the form prior opening the dialog\n      self.runButtonAction();\n    }\n  },\n\n  /**\r\n      * Triggers the render change event\r\n      * @param {} params\r\n      * @returns {}\r\n      */\n  triggerRenderChange: function triggerRenderChange(params) {\n    var self = this;\n    params = params || {};\n\n    var pressed = params.pressed || false;\n\n    self.triggerHandler(\"renderchange\", { render: self, pressed: pressed });\n  },\n\n  /**\r\n      * Run button actions\r\n      * @returns {}\r\n      */\n  runButtonAction: function runButtonAction() {\n    var self = this;\n\n    // Save the form prior opening the dialog\n    self.getFormContainer().clearValidationMessages();\n\n    self.saveForm().pipe(function () {\n      return self.executeButton();\n    }).done(function (result) {\n\n      var type = result && result.type ? result.type : \"\";\n\n      if (result == null || result == true || result.result === \"success\" || result.type === \"success\") {\n        return self.refreshForm();\n      } else if ([\"validationMessages\", \"alertMessages\"].includes(type)) {\n        try {\n          if (type === \"alertMessages\") {\n            bizagi.modalError && bizagi.modalError.show(result.messages.join(\"\\n\\n\"), 'workportal-general-word-information', false);\n          } else {\n            // Add validation messages\n            self.getFormContainer().addValidationMessage(result.messages);\n          }\n        } catch (e) {\n        }\n      }\n    }).fail(function (error) {\n\n      try {\n        // Add error messages\n        var error_obj = bizagi.util.getErrorFormatted(error);\n        var message = typeof error_obj === \"undefined\" ? {\n          \"message\": bizagi.localization.getResource(\"workportal-general-error\") } :\n        error_obj;\n\n        self.getFormContainer().failHandler(message);\n      } catch (e) {\n      }\n\n    });\n\n  },\n\n  processLayout: function processLayout(isLabelFormat, format) {\n    if (isLabelFormat) {\n      this.changeBackgroundColor(format.background);\n      this._super(!isLabelFormat, format);\n    }\n  },\n\n  changeBackgroundColor: function changeBackgroundColor(color) {\n    if (typeof color === \"undefined\") return this;\n\n    if (color !== \"none\") {\n      this.getElementsToStylize(this.getControl()).style(\"background\", color, \"important\");\n    } else {\n      this.getElementsToStylize(this.getControl()).css(\"background\", \"\");\n    }\n\n    return this;\n  },\n\n  getElementsToStylize: function getElementsToStylize($context) {\n    return $(\"input\", $context);\n  },\n\n  /**\r\n      *  Method to determine if the render value can be sent to the server or not\r\n      * @returns {}\r\n      */\n  canBeSent: function canBeSent() {\n    // This render cannot be sent because it is full ajax\n    return false;\n  } });","/**\r\n *   Name: Bizagi Render Fileprint Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for fileprint renders\r\n */\n\n$.Class.extend(\"bizagi.rendering.fileprint\", {}, {\n\n  /**\r\n                                                    * Update or init the element data\r\n                                                    * @param data\r\n                                                    */\n  initializeData: function initializeData(data) {\n    // Call base\n    this._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n    var caption = $.trim(properties.caption);\n\n    properties.caption = !bizagi.util.isEmpty(caption) ? caption : \"render-fileprint-property-caption\";\n    properties.filesCount = properties.filesCount ? properties.filesCount : 0;\n\n    // set default value from normal to value\n    properties.displayType = \"value\";\n\n    // Calculate layout properties\n    this.calculateInitialLayoutProperties();\n\n    // A button cannot be required\n    properties.required = false;\n  },\n\n  /**\r\n      * Method to implement in each children to customize each control\r\n      * @returns {*|jQuery}\r\n      */\n  renderControl: function renderControl() {\n    var template = this.renderFactory.getTemplate(\"fileprint\");\n\n    return $.fasttmpl(template, {\n      caption: this.properties.caption });\n\n  },\n\n  /**\r\n      * Method to render non editable values\r\n      * @returns {*}\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    // Executes the same template than normal render\n    return this.renderControl();\n  },\n\n  /**\r\n      * Downloads the file and try to open it\r\n      */\n  downloadFile: function downloadFile() {\n    return this.dataService.getFilePrint({\n      idRender: this.properties.id,\n      xpathContext: this.properties.xpathContext || \"\",\n      idPageCache: this.properties.idPageCache,\n      contexttype: this.properties.contexttype,\n      disposition: \"download\" }).\n    then(function (response) {\n      return bizagi.util.handleJSONResponse(response);\n    });\n  } });","/**\r\n *   Name: Bizagi Render Simple Link Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for link renders\r\n */\n\n$.Class.extend(\"bizagi.rendering.link\", {}, {\n\n  /**\r\n                                               * Update or init the element data\r\n                                               * @param {} data\r\n                                               * @returns {}\r\n                                               */\n  initializeData: function initializeData(data) {\n    // Call base\n    this._super(data);\n\n    // Set properties\n    var properties = this.properties;\n    properties.required = false;\n    properties.displayType = \"value\";\n\n    // Calculate layout properties\n    this.calculateInitialLayoutProperties();\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @returns {}\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var template = self.renderFactory.getTemplate(\"link\");\n\n    // Render template\n    return $.fasttmpl(template, {\n      displayName: self.properties.displayName,\n      align: self.properties.valueAlign,\n      editable: self.properties.editable });\n\n  },\n\n  /**\r\n      * Template method to implement in each device to customize each render after processed\r\n      */\n  postRender: function postRender() {\n    this._super();\n    this.getLabel().addClass(\"bz-form-label--hidden\");\n  },\n\n  /**\r\n      * Method to render non editable values\r\n      * @returns {*}\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    // Executes the same template than normal render\n    return this.renderControl();\n  },\n\n  /**\r\n      * Template method to implement in each device to customize each render after processed in read-only mode\r\n      */\n  postRenderReadOnly: function postRenderReadOnly() {\n    this._super();\n    this.getLabel().addClass(\"bz-form-label--hidden\");\n  },\n\n  /**\r\n      * Public method to determine if a value is valid or not\r\n      * @param invalidElements\r\n      */\n  isValid: function isValid(invalidElements) {\n    // Automatically this render is valid, so we can't check a required link\n  },\n\n  /**\r\n      * Sets the value in the rendered control\r\n      * @param value\r\n      */\n  setDisplayValue: function setDisplayValue(value) {\n    // Do nothing\n  },\n\n  /**\r\n      * Method to determine if the render value can be sent to the server or not\r\n      * @returns {boolean}\r\n      */\n  canBeSent: function canBeSent() {\n    return false;\n  } });","/**\r\n *   Name: Bizagi Render Geolocation control\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for geolocation renders\r\n */\n\n$.Class.extend(\"bizagi.rendering.geolocation\", {}, {\n\n  /**\r\n                                                      * Constructor\r\n                                                      * @param {} data\r\n                                                      */\n  init: function init(data) {\n    // Call base\n    this._super(data);\n    this.geolocation = window.navigator.geolocation;\n\n    var properties = this.properties;\n    properties.allowUpdate = bizagi.util.parseBoolean(properties.allowUpdate) === true;\n\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var template = self.renderFactory.getTemplate(\"geolocation\");\n\n    // Render template\n    var html = $.fasttmpl(template, self.properties);\n    return html;\n  },\n\n  /**\r\n      * Public method to determine if a value is valid or not\r\n      * @param {} invalidElements\r\n      */\n  isValid: function isValid(invalidElements) {\n    // Call base\n    return this._super(invalidElements);\n  },\n\n  /**\r\n      * Sets the value in the rendered control\r\n      * @param {} value\r\n      * @returns {}\r\n      */\n  setDisplayValue: function setDisplayValue(value) {\n    // Set internal value\n    this.setValue(value, false);\n  },\n\n  /**\r\n      * Template method to implement in each device to customize the render's behaviour to add handlers\r\n      * @returns {}\r\n      */\n  configureHandlers: function configureHandlers() {\n\n  },\n\n  /**\r\n      * Sets the value in the rendered control\r\n      * @param {} succes_callback\r\n      * @param {} fail_callback\r\n      */\n  getCurrentPosition: function getCurrentPosition(succes_callback, fail_callback) {\n    var self = this;\n\n    if (typeof self.geolocation === \"undefined\") {\n      if (fail_callback)\n      fail_callback(bizagi.localization.getResource(\"render-control-unsuported-by-browser\").replace(\"{0}\", self.properties.type));\n      return;\n    }\n\n    var onSuccess = function onSuccess(position) {\n      if (succes_callback)\n      succes_callback(position);\n    };\n\n    var onError = function onError(error) {\n      var strMessage = self.getErrorMessage(error);\n\n      if (fail_callback)\n      fail_callback(strMessage);\n    };\n\n    return self.geolocation.getCurrentPosition(onSuccess, onError);\n  },\n\n  /**\r\n      * Get message of error\r\n      * @param error\r\n      * @returns {*|string}\r\n      */\n  getErrorMessage: function getErrorMessage(error) {\n    var strMessage = \"\";\n\n    // Check for known errors\n    switch (error.code) {\n      case error.PERMISSION_DENIED:\n      case 1:\n        strMessage = bizagi.localization.getResource(\"render-geolocation-permission-denied\");\n        break;\n      case error.POSITION_UNAVAILABLE:\n      case 2:\n        strMessage = bizagi.localization.getResource(\"render-geolocation-position-unavailable\");\n        break;\n      case error.TIMEOUT:\n      case 3:\n        strMessage = bizagi.localization.getResource(\"render-geolocation-timeout\");\n        break;\n      default:\n        strMessage = \"WD: \" + bizagi.localization.getResource(\"render-geolocation-permission-denied\");\n        break;}\n\n\n    return strMessage;\n  },\n\n  /**\r\n      * Change precision number of coordinates\r\n      * @param data\r\n      * @returns {*}\r\n      */\n  performPrecision: function performPrecision(data) {\n    var geolocation = data.split(\" \") || \"\";\n\n    if (!geolocation) return data;\n\n    try {\n      var latitude = parseFloat(geolocation[0].trim());\n      var longitude = parseFloat(geolocation[1].trim());\n\n      return latitude.toPrecision(10) + \" \" + longitude.toPrecision(10);\n    } catch (e) {\n      return data;\n    }\n  } });","/*\r\n*   Name: BizAgi Render Association Class\r\n*   Author: Edward Morales\r\n*   Comments:\r\n*   -   This script will define basic stuff for association renders\r\n*/\n\n$.Class.extend(\"bizagi.rendering.association\", {}, {\n\n  /*\r\n                                                     *   Update or init the element data\r\n                                                     */\n  initializeData: function initializeData(data) {\n    var self = this;\n\n    // Call base\n    self._super(data);\n\n    var properties = self.properties;\n\n    // Fill default properties\n    properties.property = \"flipped\";\n    properties.idRender = self.properties.id;\n    properties.allowFlip = typeof properties.allowFlip != \"undefined\" ? bizagi.util.parseBoolean(properties.allowFlip) : true;\n    properties.flipped = typeof properties.flipped != \"undefined\" ? bizagi.util.parseBoolean(properties.flipped) : false;\n    properties.flipstate = properties.flipped;\n\n\n    // data of entities (left and right)\n    properties.leftData = properties.leftData || [];\n    properties.rightData = properties.rightData || [];\n\n    if (properties.value) {\n      self.processPropertyValue();\n    }\n  },\n\n\n\n  /*\r\n     *   Template method to implement in each children to customize each control\r\n     */\n  renderControl: function renderControl() {\n    var self = this;\n    var template = self.renderFactory.getTemplate(\"association\");\n    var def = new $.Deferred();\n\n    self.properties.property = \"flipped\";\n    self.properties.idRender = self.properties.id;\n\n    // Define flipped\n    $.when(self.getFlipAssociation()).\n    done(function (flip) {\n\n      // Make json base, create self.properties.formatJson\n      self.makeJsonBase();\n\n      self.properties.flipped = bizagi.util.parseBoolean(flip) || false;\n\n      var html = $.fasttmpl(template, self.properties, {\n        getColumnData: self.getColumnData,\n        getRightAssociation: self.getRightAssociation });\n\n\n      /* by default need set self.properties.formatJson */\n      self.setValue(JSON.encode(self.properties.formatJson));\n\n      def.resolve(html);\n    });\n\n    return def.promise();\n  },\n\n\n  /*\r\n     * Returns the flip state\r\n     */\n  getFlipAssociation: function getFlipAssociation() {\n    var self = this;\n    var mode = self.getMode();\n\n    if (mode == \"execution\")\n    return self.dataService.getFlipAssociation(self.properties);\n\n    return false;\n  },\n\n  /* \r\n     *   Gets the display value of the render\r\n     */\n  getDisplayValue: function getDisplayValue() {\n    var self = this;\n    var value = self.getValue();\n\n    return value;\n  },\n\n  /*\r\n     *   Get the template \r\n     */\n  getTemplateName: function getTemplateName() {\n    return \"association\";\n  },\n\n\n  /**\r\n     * Get Left Data, verify if flipper flags sets true\r\n     * \r\n     * @param column {'0'||'1'}\r\n     */\n  getColumnData: function getColumnData() {\n    var self = this;\n    var properties = self.data;\n    var data = [];\n    var associationData = properties.flipped ? properties.rightData : properties.leftData;\n\n    $.each(associationData, function (key, item) {\n      data.push({ id: item.id, value: item.value });\n    });\n\n    return data;\n  },\n\n  /**\r\n     * Association of right elements\r\n     */\n  getRightAssociation: function getRightAssociation(leftId) {\n    var self = this;\n    var properties = self.data;\n    var association = [];\n\n\n    var isChecked = function isChecked(leftId, idRight) {\n      var checked = false;\n      $.each(properties.formatJson.value, function (key, value) {\n        if (!checked && value.id == leftId && value.value.indexOf(idRight) >= 0) {\n          checked = true;\n        }\n      });\n\n      return checked;\n    };\n\n    // create association and check element\n    if (properties.flipped) {\n      // left element\n      $.each(properties.leftData, function (key, data) {\n        association.push({\n          id: data.id,\n          name: data.value,\n          checked: isChecked(data.id, leftId) });\n\n\n      });\n    } else {\n      $.each(properties.rightData, function (key, data) {\n        association.push({\n          id: data.id,\n          name: data.value,\n          checked: isChecked(leftId, data.id) });\n\n      });\n    }\n\n    return association;\n  },\n\n\n  removeElement: function removeElement(leftId, rightId) {\n    var self = this;\n\n    $.each(self.properties.formatJson.value, function (key, data) {\n      if (self.properties.flipped) {\n        if (data.id == rightId) {\n          // Remove right element from left panel\n          $.each(self.properties.formatJson.value[key][\"value\"], function (removeKey, removeValue) {\n            if (leftId == removeValue) {\n              // Splice from array\n              self.properties.formatJson.value[key][\"value\"].splice(removeKey, 1);\n            }\n          });\n        }\n      } else if (data.id == leftId) {\n        // Remove right element from left panel\n        $.each(self.properties.formatJson.value[key][\"value\"], function (removeKey, removeValue) {\n          if (rightId == removeValue) {\n            // Splice from array\n            self.properties.formatJson.value[key][\"value\"].splice(removeKey, 1);\n          }\n        });\n      }\n    });\n    self.setValue(JSON.encode(self.properties.formatJson));\n  },\n\n\n  addElement: function addElement(leftId, rightId) {\n    var self = this;\n\n    $.each(self.properties.formatJson.value, function (key, data) {\n      if (self.properties.flipped) {\n        if (data.id == rightId) {\n          // Add right element to left panel\n          self.properties.formatJson.value[key][\"value\"].push(leftId);\n        }\n      } else if (data.id == leftId) {\n        // Add right element to left panel\n        self.properties.formatJson.value[key][\"value\"].push(rightId);\n      }\n    });\n    self.setValue(JSON.encode(self.properties.formatJson));\n  },\n\n  makeJsonBase: function makeJsonBase() {\n    var self = this;\n    self.properties.formatJson = self.properties.formatJson || {\n      leftXpath: self.properties.leftXpath,\n      rightXpath: self.properties.rightXpath,\n      leftFactName: self.properties.leftFactName,\n      rightFactName: self.properties.rightFactName,\n      value: self.properties.value };\n\n  },\n\n\n  /*\r\n     *   Check if a render has no value for required validation\r\n     */\n  hasValue: function hasValue() {\n    var self = this;\n\n    if (self.properties.formatJson) {\n      var values = self.properties.formatJson.value;\n    } else {\n      values = self.properties.value;\n    }\n\n\n    for (var i = 0, l = values.length; i < l; i++) {\n      var data = values[i];\n      if (data && data.value.length > 0) {\n        return true;\n      }\n    }\n\n    return false;\n  },\n\n  /*\r\n     * This method process the value.\r\n     * changes the format to send request\r\n     */\n  processPropertyValue: function processPropertyValue() {\n    var self = this;\n    var properties = self.properties;\n    var values = properties.value;\n    var result = [];\n\n    for (var i = 0, l = values.length; i < l; i++) {\n      var value = values[i];\n      result.push({ id: value[0], value: value[1] });\n    }\n\n    properties.value = result;\n  } });","/**\r\n *   Name: Bizagi Render Upload Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for uploads\r\n */\n\n$.Class.extend(\"bizagi.rendering.upload\", {}, {\n  /***\r\n                                                 * Update or init the element data\r\n                                                 * @param data\r\n                                                 */\n  initializeData: function initializeData(data) {\n    var self = this;\n\n    // Call base\n    self._super(data);\n\n    var form = self.getFormContainer();\n\n    // Fill default properties\n    var properties = this.properties;\n\n    var maxFileSizeOfProperty = Number(properties.maxSize) || 0;\n    var maxFileSizeOfUser = typeof BIZAGI_SETTINGS !== \"undefined\" && typeof BIZAGI_SETTINGS.UploadMaxFileSize !== \"undefined\" ? Number(BIZAGI_SETTINGS.UploadMaxFileSize) : 4091904;\n\n    properties.maxSize = maxFileSizeOfProperty || maxFileSizeOfUser;\n    properties.maxfiles = Number(properties.maxfiles) || 999;\n    properties.validExtensions = properties.validExtensions || \"\";\n\n    if (properties.validExtensions.length > 0 && properties.validExtensions.indexOf(\".\") < 0) {\n      var singleExtensions = properties.validExtensions.replace(/\\ /gi, '').split(\";\");\n      var defExtensions = [];\n\n      for (var i = 0; i < singleExtensions.length; i++) {\n        if (singleExtensions[i].length > 0) {\n          defExtensions.push(\"*.\" + singleExtensions[i]);\n        } else {\n          //Removes the empty element\n          var index = singleExtensions.indexOf(singleExtensions[i]);\n          singleExtensions.splice(i, 1);\n        }\n      }\n\n      properties.validExtensions = defExtensions.join(\";\");\n    }\n\n    properties.addUrl = properties.addUrl || self.dataService.getUploadAddUrl();\n    properties.deleteUrl = properties.deleteUrl || undefined;\n    properties.editable = bizagi.util.parseBoolean(properties.editable) || false;\n    properties.allowDelete = bizagi.util.parseBoolean(properties.allowDelete) !== null && properties.editable ? bizagi.util.parseBoolean(properties.allowDelete) : false;\n\n    properties.contexttype = form.params && form.params.data && form.params.data.contextType ? form.params.data.contextType : \"\";\n    properties.allowSendInMail = properties.allowSendInMail || false;\n\n    // Set files property\n    self.files = properties.value || [];\n    self.filesCount = self.files.length;\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @returns {*|jQuery}\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var properties = self.properties;\n    var template = self.renderFactory.getTemplate(\"upload\");\n\n    // Render template\n    var html = $.fasttmpl(template, {\n      xpath: bizagi.util.encodeXpath(self.getUploadXpath()),\n      editable: properties.editable,\n      haveFiles: self.filesCount !== 0,\n      noFiles: self.filesCount === 0,\n      allowSendInMail: properties.allowSendInMail });\n\n\n    // Render current children\n    var items = \"\";\n    for (var i = 0; i < self.filesCount; i++) {\n      var file = { id: self.files[i][0], fileName: self.files[i][1] };\n      var item = self.renderUploadItem(file);\n\n      items += item;\n    }\n\n    html = self.replaceFilesHtml(html, items);\n    return html;\n  },\n\n  /**\r\n      * Method to render non editable values\r\n      * @returns {*|*|jQuery}\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    return this.renderControl();\n  },\n\n  /**\r\n      * Renders a single upload item\r\n      * @param file\r\n      * @returns {jQuery|*}\r\n      */\n  renderUploadItem: function renderUploadItem(file) {\n    var self = this;\n    var mode = self.getMode();\n    var itemTemplate = self.getTemplateItemName();\n    var template = self.renderFactory.getTemplate(itemTemplate);\n    var form = self.getFormContainer();\n    var printVersion = form.params && form.params.printversion;\n\n    // Don't render urls when not running in execution mode\n    var url = !self.isExecutionMode() ? \"\" : self.buildItemUrl(file); // TODO: Review if need it: javascript:void(0);\n\n    var html = $.fasttmpl(template, {\n      id: file.id,\n      mode: mode,\n      url: url,\n      allowDelete: self.properties.allowDelete,\n      filename: bizagi.util.decodeURI(file.fileName),\n      editable: self.properties.editable,\n      printVersion: printVersion || false });\n\n\n    return html;\n  },\n\n  /**\r\n      * Builds the upload item url\r\n      * @param file\r\n      * @returns {*}\r\n      */\n  buildItemUrl: function buildItemUrl(file) {\n    var self = this;\n    var properties = self.properties;\n    var form = self.getFormContainer();\n\n    return self.dataService.getUploadFileUrl({\n      idRender: properties.id,\n      xpath: self.getUploadXpath(),\n      xpathContext: properties.xpathContext,\n      idPageCache: properties.idPageCache,\n      fileId: file.id,\n      sessionId: form.properties.sessionId,\n      contexttype: properties.contexttype });\n\n  },\n\n  /**\r\n      * Replaces a {{files}} tag in the container for the specified \"replace\" element\r\n      * @param html\r\n      * @param replace\r\n      * @returns {*}\r\n      */\n  replaceFilesHtml: function replaceFilesHtml(html, replace) {\n    return html.replace(\"{{files}}\", replace);\n  },\n\n  /**\r\n      * Removes a file from the upload control\r\n      * @param item\r\n      * @param fileId\r\n      * @returns {*} Returns a deferred\r\n      */\n  deleteUploadItem: function deleteUploadItem(item, fileId) {\n    var self = this;\n    var properties = self.properties;\n    var xpath = self.getUploadXpath() + (bizagi.util.isNumeric(fileId) ? \"[id=\" + fileId + \"]\" : \"[id='\" + fileId + \"']\");\n\n    return self.dataService.deleteUploadFile({\n      url: properties.deleteUrl,\n      idRender: properties.id,\n      xpath: xpath,\n      xpathContext: properties.xpathContext,\n      idPageCache: properties.idPageCache,\n      contexttype: properties.contexttype }).\n    pipe(function () {\n\n      // Subtract counter\n      self.filesCount = self.filesCount - 1;\n\n      // Remove from local collection\n      self.files = $.grep(self.files, function (fileItem) {\n        return fileItem[0] != fileId;\n      });\n    });\n  },\n\n  /**\r\n      * Method to determine if the render value can be sent to the server or not\r\n      * @returns {boolean}\r\n      */\n  canBeSent: function canBeSent() {\n    // This render cannot be sent because it is full ajax\n    return false;\n  },\n\n  /**\r\n      * Sets the internal value\r\n      * @param value\r\n      * @param triggerEvents\r\n      */\n  setValue: function setValue(value, triggerEvents) {\n    var self = this;\n\n    // Set files property\n    self.files = value || []; // Dont remove this line\n    self.filesCount = self.files.length;\n\n    // Call base\n    self._super(value, triggerEvents);\n  },\n\n  /**\r\n      * Returns the internal value\r\n      * @returns {*}\r\n      */\n  getValue: function getValue() {\n    return this.files;\n  },\n\n  /**\r\n      * Public method to determine if a value is valid or not\r\n      * @param invalidElements\r\n      * @returns {boolean}\r\n      */\n  isValid: function isValid(invalidElements) {\n    var self = this;\n    var properties = self.properties;\n    var message;\n    var bValid = true;\n\n    // Clear error message\n    self.setValidationMessage(\"\");\n\n    // Check required\n    if (properties.required && properties.editable) {\n      var newRow = self.grid && self.grid.isFromCreatedRow.apply(self);\n\n      if (self.filesCount <= 0 && !newRow) {\n        var inlineEdit = self.grid ? self.grid.properties.inlineEdit : true;\n\n        if (inlineEdit) {\n          message = self.getResource(\"render-required-upload\").replaceAll(\"#label#\", properties.displayName);\n          invalidElements.push({ xpath: properties.xpath, message: message });\n          bValid = false;\n        }\n      }\n    }\n\n    return bValid;\n  },\n\n  /**\r\n      * Build add params to send to the server\r\n      */\n  buildAddParams: function buildAddParams() {\n    var self = this;\n    var properties = self.properties;\n    var form = self.getFormContainer();\n    var data = {};\n    var prefix = self.Class.BA_CONTEXT_PARAMETER_PREFIX;\n\n    data[prefix + \"xpath\"] = self.getUploadXpath();\n    data[prefix + \"idRender\"] = properties.id;\n    data[prefix + \"xpathContext\"] = properties.xpathContext;\n    data[prefix + self.Class.BA_PAGE_CACHE] = properties.idPageCache;\n    data[self.Class.BA_ACTION_PARAMETER_PREFIX + \"sessionId\"] = form.properties.sessionId;\n    data[prefix + \"contexttype\"] = properties.contexttype;\n\n    try {\n      if (typeof BIZAGI_SESSION_NAME !== \"undefined\") {\n        data[BIZAGI_SESSION_NAME] = form.properties.sessionId;\n      } else {\n        data[\"JSESSIONID\"] = form.properties.sessionId;\n      }\n    } catch (e) {\n      data[\"JSESSIONID\"] = form.properties.sessionId;\n    }\n\n    return data;\n  },\n\n  /**\r\n      * Returns the xpath to be used\r\n      * @returns {*}\r\n      */\n  getUploadXpath: function getUploadXpath() {\n    return this.properties.xpath;\n  },\n\n  /**\r\n      * Returns the xpathContext to be used\r\n      * @returns {*}\r\n      */\n  getUploadXpathContext: function getUploadXpathContext() {\n    return this.getXpathContext() || this.properties.xpathContext;\n  },\n\n  checkRequired: function checkRequired(invalidElements) {\n    var self = this;\n    var properties = self.properties;\n\n    if (bizagi.util.parseBoolean(properties.required)) {\n      if (self.grid && self.grid.properties.inlineAdd === true) {\n        if (!self.hasValue() && !self.getControl().parents(\"tr\").data(\"new-row\")) {\n          self.setRenderRequired(invalidElements, properties);\n          return false;\n        }\n      } else {\n        if (!self.hasValue()) {\n          self.setRenderRequired(invalidElements, properties);\n          return false;\n        }\n      }\n    }\n\n    return true;\n  },\n\n  setRenderRequired: function setRenderRequired(invalidElements, properties) {\n    var self = this;\n    var message = self.getResource(\"render-required-text\").replaceAll(\"#label#\", properties.displayName);\n    invalidElements.push({ xpath: properties.xpath, message: message });\n  },\n\n  /**\r\n      * Templates\r\n      */\n  getTemplateItemName: function getTemplateItemName() {\n    return \"uploadItem\";\n  },\n\n  /**\r\n      * Method to perform the format to value\r\n      * @param value\r\n      * @returns {((*)[]|*)[]}\r\n      */\n  formatValue: function formatValue(value) {\n    var validateObjectStructure = function validateObjectStructure(item) {\n      return !!(item.uploadId && item.fileName);\n    };\n    var validateArrayStructure = function validateArrayStructure(item) {\n      return !!(item[0] && item[1]);\n    };\n\n    return (value || []).reduce(function (result, item) {\n      var isFormatValid = false;\n      var validator = bizagi.util.bzValidator(item).\n      add(validateObjectStructure).\n      validate(function (response) {\n        isFormatValid = response.errors && !response.errors.length;\n        if (isFormatValid) {\n          result.push([item.uploadId, item.fileName]);\n        }\n      });\n\n      if (!isFormatValid) {\n        validator.add(validateArrayStructure, \"The value is not in a valid format\").\n        validate(function (response) {\n          if (response.errors && response.errors.length > 0) {\n            console.warn(response.errors);\n          } else {\n            result.push([item]);\n          }\n        });\n      }\n\n      return result;\n    }, []);\n  } });","/**\r\n *   Name: Bizagi Render ECM upload control\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for ECM Control\r\n */\n\n$.Class.extend(\"bizagi.rendering.ecm\", {}, {\n\n  /**\r\n                                              * Update or init the element data\r\n                                              * @param data\r\n                                              */\n  initializeData: function initializeData(data) {\n    var self = this;\n    // Call base\n    this._super(data);\n\n    var self = this;\n    var properties = self.properties;\n\n    properties.maxSize = Number(properties.maxSize) || (typeof BIZAGI_SETTINGS !== \"undefined\" && typeof BIZAGI_SETTINGS.UploadMaxFileSize !== \"undefined\" ? Number(BIZAGI_SETTINGS.UploadMaxFileSize) : properties.maxSize = Number(properties.maxSize) || 4091904);\n    properties.maxFiles = Number(properties.maxfiles) || 999;\n    properties.validExtensions = properties.validExtensions || \"\";\n\n    if (properties.validExtensions.length > 0 && properties.validExtensions.indexOf(\".\") < 0) {\n      var singleExtensions = properties.validExtensions.split(\";\");\n      for (var i = 0; i < singleExtensions.length; i++) {\n        singleExtensions[i] = \"*.\" + singleExtensions[i];\n      }\n      properties.validExtensions = singleExtensions.join(\";\");\n    }\n\n    properties.addUrl = self.dataService.serviceLocator.getUrl(\"render-ecm-upload-url\") + \"?action=uploadECMFile\";\n    properties.editUrl = self.dataService.serviceLocator.getUrl(\"render-ecm-upload-url\") + \"?action=updateECMFileContent\";\n    properties.deleteUrl = properties.deleteUrl || undefined;\n    properties.allowDelete = bizagi.util.parseBoolean(properties.allowDelete) !== null ? bizagi.util.parseBoolean(properties.allowDelete) : true;\n    properties.q_xpath = bizagi.util.encodeXpath(properties.xpath);\n    properties.showMetadata = properties.showMetadata === undefined || properties.showMetadata === null ? true : bizagi.util.parseBoolean(properties.showMetadata);\n\n    var dateFormat = this.getResource(\"dateFormat\");\n    var timeFormat = this.getResource(\"timeFormat\");\n\n    // We will hold here the value to display\n    properties.displayValue = \"\";\n    properties.showTime = properties.showTime !== undefined ? bizagi.util.parseBoolean(properties.showTime) : false;\n    properties.dateFormat = properties.dateFormat || dateFormat;\n    properties.timeFormat = properties.timeFormat || timeFormat;\n    properties.fullFormat = properties.dateFormat;\n\n    // Set files property\n    self.files = properties.value || [];\n    self.filesCount = self.files.length;\n\n    properties.xpathContext = this.parent.properties.xpathContext || properties.xpathContext || \"\";\n\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @param listControl\r\n      * @param fileProperties\r\n      * @returns {*}\r\n      */\n  renderControl: function renderControl(listControl, fileProperties) {\n    var self = this;\n    var properties = self.properties;\n    var template = self.renderFactory.getTemplate(\"ecm\");\n    var mode = self.getMode();\n    var defer = new $.Deferred();\n\n    properties.value = fileProperties ? [[fileProperties.idFileUpload, fileProperties.fileName]] : self.value;\n    var html = $.fasttmpl(template, properties, {\n      getFileExtension: self.getFileExtension,\n      isImage: self.isImage });\n\n\n    if (self.properties.value != undefined) {\n\n      var lengthValues = self.properties.value.length;\n\n      if (lengthValues === 0) {\n        defer.resolve(html);\n      }\n\n      $.each(self.properties.value, function (key, value) {\n        var data = {};\n\n        data.idFileUpload = value[0];\n        data.fileName = value[1];\n        data.idPageCache = self.properties.idPageCache;\n        data.xpathContext = self.getXpathContext();\n        data.xPath = self.properties.xpath;\n        data.editable = self.properties.editable;\n        data.idAttrib = self.properties.idAttrib;\n\n        var form = self.getFormContainer();\n        if (form && form.properties && form.properties.sessionId) {\n          data.sessionId = form.properties.sessionId;\n        }\n\n        if (mode === \"execution\") {\n          $.when(self.renderFileLayout(data, fileProperties)).done(function (item) {\n            lengthValues--;\n\n            if (bizagi.loader.productBuildToAbout && bizagi.loader.productBuildToAbout.indexOf(\"10.4\") === 0) {\n              item = item.replaceAll(\"Handlers/MetadataFile\", \"Handlers/Metadata\");\n            }\n\n            html = self.replaceItemHtml(html, self.properties.id + \"-\" + data.idFileUpload, item);\n            if (lengthValues === 0) {\n              defer.resolve(html);\n            }\n          });\n\n        }\n      });\n    } else {\n      defer.resolve(html);\n    }\n    return defer.promise();\n  },\n\n  replaceItemHtml: function replaceItemHtml(html, id, replace) {\n    return html.replace(\"{{\" + id + \"}}\", replace);\n  },\n\n  renderFileLayout: function renderFileLayout(data, fileProperties) {\n    var self = this;\n    var form = self.getFormContainer();\n    var metadataTemplate = self.renderFactory.getTemplate(\"ecm-metadata\");\n\n    var deferred = $.Deferred();\n\n    $.when(self.dataService.getECMMetadata(data),\n    fileProperties ? [fileProperties] : self.dataService.getFileProperties(data)).\n    done(function (metaData, fileProperties) {\n\n      fileProperties[0].data = data;\n\n      // Make xpath context\n      fileProperties[0].xpathContext = fileProperties[0].xpathContext || form.properties.xpathContext || \"\";\n      fileProperties[0].xpath = self.properties.xpath;\n\n      metaData[0].filename = data.fileName;\n      metaData[0].url = self.buildItemUrl(fileProperties[0]);\n\n      // Define File Properties\n      metaData[0].ecm_ecmStatus = fileProperties[0].ecmStatus;\n      metaData[0].ecm_isVisible = fileProperties[0].isVisible;\n      metaData[0].ecm_allowUpdateMetadata = fileProperties[0].allowUpdateMetadata;\n      metaData[0].ecm_allowDelete = fileProperties[0].allowDelete;\n      metaData[0].ecm_allowUpdateContent = fileProperties[0].allowUpdateContent;\n      metaData[0].ecm_allowView = fileProperties[0].allowView;\n      metaData[0].ecm_allowCheckOut = fileProperties[0].allowCheckOut;\n      metaData[0].ecm_allowCancelCheckOut = fileProperties[0].allowCancelCheckOut;\n      metaData[0].ecm_allowEdit = data.editable && fileProperties[0].allowEdit;\n      metaData[0].ecm_ecmStatus = fileProperties[0].ecmStatus;\n      metaData[0].idFileUploads = fileProperties[0].idFileUpload;\n      metaData[0].xpath = fileProperties[0].xpath;\n      metaData[0].value = bizagi.util.parseBoolean(fileProperties[0].value);\n      metaData[0].deviceType = bizagi.detectDevice();\n\n      var html = $.fasttmpl(metadataTemplate, metaData[0]);\n      deferred.resolve(html);\n    });\n\n    return deferred.promise();\n  },\n\n  isImage: function isImage(file) {\n    var extension = this.getFileExtension(file);\n    var image = [\"JPG\", \"JPEG\", \"GIF\", \"PNG\", \"BMP\"];\n\n    return image.indexOf(extension.toUpperCase()) > -1 ? true : false;\n  },\n\n  replaceFilesHtml: function replaceFilesHtml(html, replace) {\n    return html.replace(\"{{files}}\", replace);\n  },\n\n  /**\r\n      * Method to render non editable values\r\n      * @returns {*}\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    return this.renderControl();\n  },\n\n  /**\r\n      * Method to determine if the render value can be sent to the server or not\r\n      * @returns {boolean}\r\n      */\n  canBeSent: function canBeSent() {\n    // This render cannot be sent because it is full ajax\n    return false;\n  },\n\n  /**\r\n      * Builds the upload item url\r\n      * @param file\r\n      * @returns {*}\r\n      */\n  buildItemUrl: function buildItemUrl(file) {\n    var self = this;\n    var p_sessionId = bizagi.cookie(\"JSESSIONID\");\n\n    if (!file.data) {\n      file.data = { fileName: file.fileName, idAttrib: file.idAttrib };\n    }\n\n    return self.dataService.getECMFileUrl({\n      idFileUpload: file.idFileUpload,\n      xPath: file.xpath || file.xPath,\n      xpathContext: file.xpathContext,\n      idAttrib: file.data.idAttrib,\n      idPageCache: self.properties.idPageCache,\n      fileName: file.data.fileName.replace(/ /g, \"_\"),\n      p_sessionId: p_sessionId,\n      sessionId: file.data.sessionId || \"\" });\n\n  },\n\n  buildAddParams: function buildAddParams() {\n    var self = this;\n    var properties = self.properties;\n    var data = {};\n\n    // data.fileExt = properties.validExtensions;\n    // data.fileDesc = properties.validExtensions ? self.getResource(\"render-upload-allowed-extensions\") + properties.validExtensions : \"\";\n    data.xPath = properties.xpath;\n    data.idAttrib = properties.idAttrib;\n    data.xpathContext = properties.xpathContext;\n    data.metaValues = [];\n    data[self.Class.BA_CONTEXT_PARAMETER_PREFIX + self.Class.BA_PAGE_CACHE] = properties.idPageCache;\n\n    return data;\n  },\n\n  /**\r\n      * Get name of file extension\r\n      * @param fileName\r\n      * @returns {*}\r\n      */\n  getFileExtension: function getFileExtension(fileName) {\n    fileName = fileName || \"\";\n    return fileName.split(\".\").pop();\n  },\n\n  /**\r\n      * Sets the internal value\r\n      * @param value\r\n      * @param triggerEvents\r\n      */\n  setValue: function setValue(value, triggerEvents) {\n    var self = this;\n    var properties = self.properties;\n\n    // Call base\n    self._super(value, triggerEvents);\n\n    // Set files property\n    self.files = properties.value || [];\n    self.filesCount = self.files.length ? self.files.length : properties.value;\n  },\n\n  /**\r\n      * Gets xpath context\r\n      * @returns {*|string}\r\n      */\n  getXpathContext: function getXpathContext() {\n    return this.properties.xpathContext || \"\";\n  },\n\n  /**\r\n      * Returns the xpath to be used\r\n      * @returns {*}\r\n      */\n  getUploadXpath: function getUploadXpath() {\n    return this.properties.xpath;\n  },\n\n  /**\r\n      * Removes a file from the ECM control\r\n      * @param item\r\n      * @param fileId\r\n      * @returns {*} Returns a deferred\r\n      */\n  deleteUploadItem: function deleteUploadItem(item, fileId) {\n    var self = this;\n    var properties = self.properties;\n\n    var params = {\n      idFileUpload: fileId,\n      xPath: properties.xpath,\n      idAttrib: properties.idAttrib,\n      idPageCache: properties.idPageCache,\n      xpathContext: self.getXpathContext() };\n\n\n    return self.dataService.deleteECMFile(params).pipe(function () {\n\n      // Subtract counter\n      self.filesCount = self.filesCount - 1;\n\n      // Remove from local collection\n      self.files = $.grep(self.files, function (fileItem) {\n        return fileItem[0] != fileId;\n      });\n    });\n  },\n\n  /**\r\n      * Lock a file from the ECM control\r\n      * @param item\r\n      * @param fileId\r\n      * @returns {*} Returns a deferred\r\n      */\n  lockUploadItem: function lockUploadItem(fileId) {\n    var self = this;\n    var properties = self.properties;\n\n    var params = {\n      idFileUpload: fileId,\n      xPath: properties.xpath,\n      idAttrib: properties.idAttrib,\n      idPageCache: properties.idPageCache,\n      xpathContext: self.getXpathContext() };\n\n\n    return self.dataService.checkOutFile(params);\n  },\n\n  /**\r\n      * Unlock a file from the ECM control\r\n      * @param item\r\n      * @param fileId\r\n      * @returns {*} Returns a deferred\r\n      */\n  unlockUploadItem: function unlockUploadItem(fileId) {\n    var self = this;\n    var properties = self.properties;\n\n    var params = {\n      idFileUpload: fileId,\n      xPath: properties.xpath,\n      idAttrib: properties.idAttrib,\n      idPageCache: properties.idPageCache,\n      xpathContext: self.getXpathContext() };\n\n\n    return self.dataService.cancelCheckOut(params);\n  } });","/**\r\n *   Name: Bizagi Render Yes-no Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for yes-no renders\r\n */\n\n$.Class.extend(\"bizagi.rendering.yesno\", {}, {\n\n  /**\r\n                                                * Update or init the element data\r\n                                                * @param {} data\r\n                                                */\n  initializeData: function initializeData(data) {\n    // Call base\n    this._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n    properties.value = typeof properties.value != \"undefined\" ? bizagi.util.parseBoolean(properties.value) : null;\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      */\n  renderControl: function renderControl() {\n    var template = this.renderFactory.getTemplate(\"yesno\");\n    var randomId = bizagi.util.randomNumber(100, 10000000);\n\n    // Render template\n    var html = $.fasttmpl(template, {\n      id: randomId,\n      editable: this.properties.editable });\n\n\n    return html;\n  },\n\n  /**\r\n      * Gets the display value of the render\r\n      */\n  getDisplayValue: function getDisplayValue() {\n    var value = this.getValue();\n\n    if (bizagi.util.parseBoolean(value) === true) {\n      return this.getResource(\"render-boolean-yes\");\n    } else if (bizagi.util.parseBoolean(value) === false) {\n      return this.getResource(\"render-boolean-no\");\n    } else {\n      return \"\";\n    }\n  },\n\n  /**\r\n      * Check if a render has no value for required validation\r\n      * @returns {boolean}\r\n      */\n  hasValue: function hasValue() {\n    var value = this.getValue();\n\n    if (bizagi.util.isEmptyValue(value)) return false;\n    return bizagi.util.parseBoolean(value) !== null;\n  } });","/**\r\n *   Name: Bizagi Render Letter Class\r\n*   Author: Diego Parra\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for letter renders\r\n */\n\n$.Class.extend(\"bizagi.rendering.letter\", {}, {\n\n  /**\r\n                                                 * Update or init the element data\r\n                                                 * @param {} data\r\n                                                 */\n  initializeData: function initializeData(data) {\n    // Call base\n    this._super(data);\n\n    // Create a variable to check if the letter has been opened when editable\n    this.letterOpened = false;\n  },\n\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @returns {}\r\n      */\n  renderControl: function renderControl() {\n    var template = this.renderFactory.getTemplate(\"letter\");\n\n    // Render template\n    return $.fasttmpl(template);\n  },\n\n\n  /**\r\n      * Method to render non editable values\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    var template = this.renderFactory.getTemplate(\"letter.readonly\");\n\n    // Render template\n    return $.fasttmpl(template);\n  },\n\n  /**\r\n      * Returns the letter content from the server\r\n      */\n  getLetterContent: function getLetterContent() {\n    // Set flag to true\n    this.letterOpened = true;\n\n    return this.dataService.getLetterContent({\n      url: this.properties.getUrl,\n      idRender: this.properties.id,\n      xpath: this.getXpath(),\n      xpathContext: this.getContextXpath(),\n      idPageCache: this.properties.idPageCache });\n\n  },\n\n  /**\r\n      * Sends the content to the server in order to save\r\n      * @param {} content\r\n      */\n  saveLetterContent: function saveLetterContent(content) {\n    return this.dataService.saveLetterContent({\n      url: this.properties.saveUrl,\n      idRender: this.properties.id,\n      xpath: this.getXpath(),\n      xpathContext: this.getContextXpath(),\n      idPageCache: this.properties.idPageCache,\n      content: content });\n\n  },\n\n  /**\r\n      * Returns the letter content from the server\r\n      */\n  getCanGenerateLetter: function getCanGenerateLetter() {\n    return this.dataService.getCanGenerateLetter({\n      idRender: this.properties.id,\n      xpath: this.getXpath(),\n      xpathContext: this.getContextXpath(),\n      idPageCache: this.properties.idPageCache });\n\n  },\n\n  /**\r\n      * Saves the form\r\n      */\n  saveForm: function saveForm() {\n    var self = this;\n    var form = self.getFormContainer();\n    return form.saveForm();\n  },\n\n  isValid: function isValid(invalidElements) {\n    var self = this;\n    var properties = self.properties;\n    var message;\n\n    // Don't check non-editable renders\n    if (bizagi.util.parseBoolean(properties.visible) == false) return true;\n\n    // Don't check non-editable renders\n    if (bizagi.util.parseBoolean(properties.editable) == false) return true;\n\n    // Clear error message\n    self.setValidationMessage(\"\");\n\n    // Check required\n    if (properties.required) {\n      if (self.letterOpened == false) {\n        message = self.getResource(\"render-letter-required-text\").replaceAll(\"#label#\", properties.displayName);\n        invalidElements.push({ xpath: properties.xpath, message: message });\n        return false;\n      }\n    }\n\n    return true;\n  },\n\n  /**\r\n      * Returns the current xpath\r\n      */\n  getXpath: function getXpath() {\n    return this.properties.xpath;\n  },\n\n  /**\r\n      * Returns the current context xpath\r\n      */\n  getContextXpath: function getContextXpath() {\n    return this.properties.xpathContext;\n  } });","/**\r\n *   Name: Bizagi Render Form Link Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for form link renders\r\n */\n\n$.Class.extend(\"bizagi.rendering.formLink\", {}, {\n\n  /**\r\n                                                   * Update or init the element data\r\n                                                   * @param data\r\n                                                   */\n  initializeData: function initializeData(data) {\n    // Call base\n    this._super(data);\n\n    // Set properties\n    var properties = this.properties;\n\n    properties.displayType = \"value\";\n    properties.maximized = bizagi.util.parseBoolean(this.properties.maximized) != null ? bizagi.util.parseBoolean(this.properties.maximized) : false;\n\n    // Calculate layout properties\n    this.calculateInitialLayoutProperties();\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @returns {*|jQuery}\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var properties = self.properties;\n    var template = self.renderFactory.getTemplate(\"formLink\");\n\n    // Render template\n    return $.fasttmpl(template, {\n      id: properties.id,\n      align: properties.valueAlign,\n      displayName: properties.displayName,\n      value: properties.value,\n      editable: properties.editable,\n      likeButton: bizagi.util.parseBoolean(properties.likeButton) || false });\n\n  },\n\n  /**\r\n      * Method to render non editable values\r\n      * @returns {*|*|jQuery}\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    // Executes the same template than normal render\n    return this.renderControl();\n\n  },\n\n  /**\r\n      * Method to customize each render after processed\r\n      */\n  postRender: function postRender() {\n    this._super();\n    this.getLabel().addClass(\"bz-form-label--hidden\");\n  },\n\n  /**\r\n      * Method to customize each render after processed in read-only mode\r\n      */\n  postRenderReadOnly: function postRenderReadOnly() {\n    this._super();\n    this.getLabel().addClass(\"bz-form-label--hidden\");\n  },\n\n  /**\r\n      * Submits a edit request for a link display form\r\n      * @returns {*} Returns a deferred\r\n      */\n  submitEditRequest: function submitEditRequest() {\n    var self = this;\n    var properties = self.properties;\n\n    // Don't send request when the link is not editable\n    if (!properties.editable && !properties.value) return null;\n\n    return self.dataService.editLinkForm({\n      url: properties.editUrl,\n      idRender: properties.id,\n      xpath: self.getFormLinkXpath(),\n      xpathContext: properties.xpathContext,\n      idPageCache: properties.idPageCache });\n\n  },\n\n  /**\r\n      * Submits a link save request for the displayed form\r\n      * @param data\r\n      * @returns {*} Returns a deferred\r\n      */\n  submitSaveRequest: function submitSaveRequest(data) {\n    var self = this;\n    var properties = self.properties;\n\n    // Don't send request when the link is not editable\n    if (!properties.editable && !properties.value) return null;\n\n    var xpath = self.getFormLinkXpath();\n    var xpathContext = xpath;\n\n    if (typeof properties.xpathContext !== \"undefined\" && properties.xpathContext !== \"\") {\n      xpathContext = xpath ? properties.xpathContext + \".\" + xpath : properties.xpathContext;\n    }\n\n    return self.dataService.saveLinkForm({\n      url: properties.saveUrl,\n      idRender: properties.id,\n      xpathContext: xpathContext,\n      submitData: data }).\n    done(function (response) {\n      var executeSubmitOnChange = true;\n\n      if (response && response.type === \"validationMessages\")\n      executeSubmitOnChange = false;\n\n      if (executeSubmitOnChange)\n      self.submitOnChange({});\n    });\n  },\n\n  /**\r\n      * Sends all the data to the server then refreshes the form\r\n      * @param data\r\n      * @returns {*} Returns a promise\r\n      */\n  saveFormLinkData: function saveFormLinkData(data) {\n    var self = this;\n    var properties = self.properties;\n\n    var xpath = self.getFormLinkXpath();\n    var xpathContext = xpath;\n\n    if (typeof properties.xpathContext !== \"undefined\" && properties.xpathContext !== \"\") {\n      xpathContext = xpath ? properties.xpathContext + \".\" + xpath : properties.xpathContext;\n    }\n\n    var submitData = $.extend({}, data);\n    delete submitData.idPageCache;\n\n    return $.when(!bizagi.util.isEmpty(submitData) ? self.dataService.multiaction().submitData({\n      action: \"SAVE\",\n      data: submitData,\n      idPageCache: data.idPageCache,\n      xpathContext: xpathContext }) :\n    undefined);\n  },\n\n  /**\r\n      * Submits a rollback request\r\n      * @param params\r\n      * @returns {*} Returns a deferred when done\r\n      */\n  submitRollbackRequest: function submitRollbackRequest(params) {\n    var self = this;\n    var properties = self.properties;\n\n    return $.when(function () {\n      // Don't send request when the link is not editable\n      if (!properties.editable && !properties.value) {\n        return null;\n      } else {\n        return self.dataService.rollbackLinkForm({\n          url: properties.rollbackUrl,\n          idRender: properties.id,\n          xpath: self.getFormLinkXpath(),\n          xpathContext: properties.xpathContext,\n          idPageCache: params ? params.idPageCache : properties.idPageCache });\n\n      }\n    }());\n  },\n\n  /**\r\n      * Submits a commit request\r\n      * @returns {*} Returns a deferred when done\r\n      */\n  submitCommitRequest: function submitCommitRequest() {\n    var self = this;\n    var properties = self.properties;\n\n    return $.when(function () {\n      // Don't send request when the link is not editable\n      if (!properties.editable && !properties.value) {\n        return null;\n      } else {\n        return self.dataService.commitLinkForm({\n          url: properties.commitUrl,\n          idRender: properties.id,\n          xpath: self.getFormLinkXpath(),\n          xpathContext: properties.xpathContext,\n          idPageCache: properties.idPageCache });\n\n      }\n    }());\n  },\n\n  /**\r\n      * Submits a checkpoint request\r\n      * @returns {*} Returns a deferred when done\r\n      */\n  submitCheckpointRequest: function submitCheckpointRequest() {\n    var self = this;\n    var properties = self.properties;\n\n    return $.when(function () {\n      // Don't send request when the link is not editable\n      if (!properties.editable && !properties.value) {\n        return null;\n      } else {\n        return self.dataService.sendCheckpoint({\n          url: properties.checkpointUrl,\n          idRender: properties.id,\n          xpath: self.getFormLinkXpath(),\n          xpathContext: properties.xpathContext,\n          idPageCache: properties.idPageCache });\n\n      }\n    }());\n  },\n\n  /**\r\n      * Submits a submitData request\r\n      * @returns {*} Returns a deferred when done\r\n      */\n  submitDataRequest: function submitDataRequest() {\n    var self = this;\n    var properties = self.properties;\n\n    return $.when(function () {\n      // Don't send request when the link is not editable\n      if (!properties.editable && !properties.value) {\n        return null;\n      } else {\n        return self.dataService.submitData({\n          url: properties.checkpointUrl,\n          action: \"SUBMITDATA\",\n          idRender: properties.id,\n          xpath: self.getFormLinkXpath(),\n          xpathContext: properties.xpathContext,\n          idPageCache: properties.idPageCache });\n\n      }\n    }());\n  },\n\n  /**\r\n      * Public method to determine if a value is valid or not\r\n      * @param invalidElements\r\n      */\n  isValid: function isValid(invalidElements) {\n    // Automatically this render is valid, so we can't check a required link\n  },\n\n  /**\r\n      * Get Form Link xpath to use\r\n      * @returns {*}\r\n      */\n  getFormLinkXpath: function getFormLinkXpath() {\n    return this.properties.xpath;\n  },\n\n  /**\r\n      * Method to determine if the render value can be sent to the server or not\r\n      * @returns {boolean}\r\n      */\n  canBeSent: function canBeSent() {\n    return false;\n  },\n\n  /**\r\n      * Sets the value in the rendered control\r\n      * @param value\r\n      */\n  setDisplayValue: function setDisplayValue(value) {\n    // Don't do anything\n  },\n\n  /*\r\n     * Cleans current value\r\n     */\n  cleanData: function cleanData() {\n    // Don't do anything\n  } });","/*\r\n*   Name: Bizagi Render Cascading Combo Class\r\n*   Author: Diego Parra\r\n*   Comments:\r\n*   -   This script will define basic stuff for cascading combo renders\r\n*/\n\n$.Class.extend(\"bizagi.rendering.cascadingCombo\", {\n  // Statics\n  BA_ACTION_PARAMETER_PREFIX: bizagi.render.services.service.BA_ACTION_PARAMETER_PREFIX,\n  BA_CONTEXT_PARAMETER_PREFIX: bizagi.render.services.service.BA_CONTEXT_PARAMETER_PREFIX },\n{\n\n  /*\r\n  *   Constructor\r\n  */\n  init: function init(params) {\n    var self = this;\n\n    // Call base\n    self._super(params);\n\n    // Create dependency collection\n    self.dependants = [];\n    self.isDependant = false;\n  },\n\n  /*\r\n     *   Update or init the element data\r\n     */\n  initializeData: function initializeData(data) {\n    var self = this;\n\n    // Call base\n    self._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n    properties.hasLocalData = bizagi.util.isEmpty(properties.parentCombo) ? properties.hasLocalData : false;\n\n    if (properties.value && properties.value.id === undefined)\n    properties.value = null;\n\n    self.value = properties.value;\n\n    // Add empty node if configured\n    if (properties.hasLocalData)\n    properties.data = self.complementData(properties.data);\n  },\n\n  /*\r\n     *   Template method to implement in each children to customize each control\r\n     */\n  renderControl: function renderControl() {\n    var self = this;\n    var mode = self.getMode();\n\n    // Check if this is a dependant combo\n    var parentCombo = self.parentCombo = self.getParentCombo();\n    if (parentCombo != null) {\n      var renderType = bizagi.util.normalizeType(parentCombo.properties.type);\n\n      if (/^cascadingcombo$/i.test(renderType)) {\n        self.isDependant = true;\n      }\n    }\n\n    // Apply element plugin, set a flag to avoid dependant combo ajax requests\n    self.initializingCascadingCombo = true;\n\n    // Call base\n    var result = this._super();\n\n    if (mode !== \"execution\") {\n      self.initializingCascadingCombo = false;\n    }\n\n    return result;\n  },\n\n  /*\r\n     *   Template method to implement in each device to customize the render's behaviour to add handlers\r\n     */\n  configureHandlers: function configureHandlers() {\n    var self = this;\n    self.initializingCascadingCombo = false;\n\n    // Bind with parent combo\n    if (self.isDependant) {\n      self.parentCombo.bindDependantCombo(self);\n    }\n  },\n\n  configureHandlersReadOnly: function configureHandlersReadOnly() {\n    var self = this;\n    self.initializingCascadingCombo = false;\n\n    // Bind with parent combo\n    if (self.isDependant) {\n      self.parentCombo.bindDependantCombo(self);\n    }\n  },\n  /*\r\n     *   Refresh the combo, after it has been painted\r\n     */\n  refresh: function refresh(params, isInitialValue) {\n    var self = this;\n\n    // Wait until current element is rendered\n    $.when(self.isRendered()).done(function () {\n\n      // Unbind previous handler\n      // self.parentCombo.unbindDependantCombo(self);\n\n      // Clear current control\n      var control = self.getControl();\n      var mode = self.getMode();\n      control.empty();\n\n      // Render combo again\n      $.when(self.renderCombo(params)).then(function (html) {\n        // Append new element\n        control.html(html);\n\n        // Post-render method\n        self.postRender();\n\n        if (mode == \"execution\") {\n          self.configureHandlers();\n        }\n\n        // Set current value\n        if (self.getValue() !== undefined) {\n          self.setDisplayValue(self.getValue());\n        }\n\n        if (self.deferredVisible) {\n          self.deferredVisible.resolve();\n        }\n\n        self.trigger(\"select\", [self.value, isInitialValue]);\n\n      });\n    });\n  },\n\n  /*\r\n     *   Fetch the data into a deferred\r\n     */\n  getData: function getData(params) {\n    var self = this;\n    var mode = self.getMode();\n\n    // Just execute ajax calls when rendering in execution mode\n    if (mode != \"execution\") return self.getDummyData();\n\n    // Do not load dependant combos when there are no parent id\n    if (self.isDependant) {\n      if (self.parentCombo && params) {\n        self.properties.remoteDataLoaded = false;\n      }\n\n      // Return an empty array when there are no parent defined when the combo is dependant\n\n      var parentValue = self.parentCombo.selectedValue ? self.parentCombo.selectedValue.id : '';\n\n      if (parentValue != '') {\n        params = params || {};\n        if (!params[self.Class.BA_ACTION_PARAMETER_PREFIX + \"parent\"]) {\n          params[self.Class.BA_ACTION_PARAMETER_PREFIX + \"parent\"] = parentValue;\n        }\n        return this._super(params);\n      } else {\n        return [];\n      }\n    }\n\n    return this._super(params);\n  },\n\n\n  /* \r\n     *   Bind the combos to create the cascading feature\r\n     */\n  bindDependantCombo: function bindDependantCombo(dependantCombo) {\n    var self = this;\n    var renderType = bizagi.util.normalizeType(dependantCombo.properties.type);\n\n    // Check it is a cascading combo\n    if (/^cascadingcombo$/i.test(renderType)) {\n\n      // Append to dependant combos\n      self.dependants.push(dependantCombo);\n\n      // When this combo is selected we need to make the other combo to auto fill with an extra filter\n      dependantCombo.onChangeFunction = function (event, item, isInitialValue) {\n        // Fill items for next combo\n        self.refreshDependantCombo(dependantCombo, item.id, self.focusDependant, isInitialValue);\n\n        //if initial value is true, it prevents deleting the next combo\n        if (!isInitialValue) {\n          // Clean next inputs\n          dependantCombo.cleanInput();\n        }\n      };\n\n      if (!self.isEventBinded(\"select\")) {\n        self.bind(\"select\", dependantCombo.onChangeFunction);\n      }\n\n      // After the event binding has been made, we need to fill the new dependant render if this instance (the parent) has a value\n      if (!bizagi.util.isEmpty(self.getValue())) {\n\n        // Auto fill dependant items with current value\n        if (self.properties.hasLocalData) {\n          self.refreshDependantCombo(dependantCombo, self.getValue().id);\n        }\n\n      }\n    }\n  },\n  isEventBinded: function isEventBinded(event) {\n    if (typeof $._data(this.observableElement.get(0), \"events\") === \"undefined\") {\n      return false;\n    } else {\n      if (typeof $._data(this.observableElement.get(0), \"events\")[event] === \"undefined\") {\n        return false;\n      } else {\n        return true;\n      }\n    }\n  },\n\n\n  /* \r\n     *   Unbind the combos that are being redrawn\r\n     */\n  unbindDependantCombo: function unbindDependantCombo(dependantCombo) {\n    // When this combo is selected we need to make the other combo to auto fill with an extra filter\n    this.unbind(\"select\", dependantCombo.onChangeFunction);\n  },\n\n  /*\r\n     *   Fills the next dependant combo based on the given value\r\n     */\n  refreshDependantCombo: function refreshDependantCombo(dependant, parentValue, focus, isInitialValue) {\n    var self = this;\n    var params = {};\n    params[self.Class.BA_ACTION_PARAMETER_PREFIX + \"parent\"] = parentValue;\n\n    dependant.deferredVisible = $.Deferred();\n\n    if (!isInitialValue) {\n      // Clear dependant value\n      dependant.setValue(\"\", false);\n    }\n\n    dependant.refresh(params, isInitialValue);\n\n    if (focus) {\n      $.when(dependant.deferredVisible.promise()).done(function () {\n        dependant.inputCombo.trigger(\"click\");\n      });\n    }\n  },\n\n  /*\r\n     *   Empty html when render from action\r\n      */\n\n  emptyControlByChangeEditability: function emptyControlByChangeEditability() {\n    var control = this.getControl();\n    control.empty();\n  },\n\n  /* \r\n     *   Cleans the combo value\r\n     */\n  cleanInput: function cleanInput() {\n    this.triggerHandler(\"select\", { id: 0 });\n  },\n\n  /*\r\n     *   Search for the other cascading combo refering this one, by idRender\r\n     */\n  getParentCombo: function getParentCombo() {\n    var self = this;\n    var properties = self.properties;\n\n    // Check if parentCombo is defined\n    if (properties.parentCombo === undefined)\n    return null;\n\n    // Get form reference\n    var form = self.getFormContainer();\n    var renderType = bizagi.util.normalizeType(self.properties.type);\n    var controls = /^cascadingcombo$/i.test(renderType) ? form.getRenderByType(properties.type) : [];\n\n    var i = 0;\n    var j = 0;\n    var parents = [];\n\n    var control = null;\n\n    for (; i < controls.length; i++) {\n      if (properties.parentCombo === controls[i].properties.id) {\n        parents.push({ control: controls[i], index: i });\n      }\n    }\n\n    if (parents.length > 1) {\n      var parentLength, parent, xpathParent, parentArray;\n\n      for (; j < parents.length; j++) {\n        parent = parents[j].control;\n        xpathParent = parent.properties.xpath;\n        parentArray = xpathParent.split(\".\");\n        parentLength = parentArray.length;\n        xpathParent = parentArray.slice(0, parentLength - 1).join(\".\");\n\n        if (xpathParent === properties.xpath) {\n          control = controls[parents[j].index];\n          break;\n        }\n      }\n    } else {\n      control = form.getRenderById(properties.parentCombo);\n    }\n\n    // Return parent combo\n    return control;\n  },\n\n  /* \r\n     *  Method to determine if the render value can be sent to the server or not\r\n     */\n  canBeSent: function canBeSent() {\n    var self = this;\n\n    // If the render has dependants we can't send to the server\n    return self._super() && bizagi.util.isMapEmpty(self.dependants);\n  },\n\n  /*\r\n     *   Determines if we need to show the current data regardless if it belongs to data or not\r\n     *   Can be overriden to change behaviour\r\n     */\n  showCurrentData: function showCurrentData() {\n    var mode = this.getMode();\n\n    if (mode != \"execution\") return true;\n    return false;\n  },\n\n  /*\r\n     *   Enables submit on change feature for the current render\r\n     */\n  configureSubmitOnChange: function configureSubmitOnChange() {\n    var self = this;\n\n    if (!self.configured) {\n      // Call super\n      self._super();\n      self.configured = true;\n    }\n  },\n\n  internalSubmitOnChange: function internalSubmitOnChange(data, bRefreshForm) {\n    var self = this;\n    var defer = new $.Deferred();\n\n    if (self.isDependant && self.canBeSent() && self.itemSelected !== undefined)\n    return self._super(data, bRefreshForm);\n    return defer.resolve();\n  },\n  /*\r\n     *   Sets the initial value for the renders\r\n     */\n  internalSetInitialValue: function internalSetInitialValue() {\n    var self = this;\n    // Call original method\n    self._super();\n\n    if (self.value && self.isDependant == false) {\n      self.internalSetInitialValueFlag = true;\n      self.trigger(\"select\", [self.value, true]);\n    }\n\n    self.internalSetInitialValueFlag = false;\n  } });","/*\r\n*   Name: Bizagi Render List Class\r\n*   Author: Diego Parra\r\n*   Comments:\r\n*   -   This script will define basic stuff for list renders\r\n*/\n\n$.Class.extend(\"bizagi.rendering.list\", {}, {\n\n  /**\r\n                                               * Update or init the element data\r\n                                               * @param {} data \r\n                                               * @returns {} \r\n                                               */\n  initializeData: function initializeData(data) {\n    // Call base\n    this._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n    properties.listSize = properties.listSize || 0;\n  },\n\n  /**\r\n      * Gets the template used by the combo render can be overriden in subclasses\r\n      * to reuse logic and just change the template\r\n      * @returns {} \r\n      */\n  getTemplateName: function getTemplateName() {\n    return \"list\";\n  },\n\n  /**\r\n      * Determines if we need to show the current data regardless if it belongs\r\n      * to data or not Can be overriden to change behaviour    \r\n      * @returns {} \r\n      */\n  showCurrentData: function showCurrentData() {\n    return false;\n  } });","/**\r\n *   Name: Bizagi Render MultiSelect Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for multiselect renders\r\n */\n\n$.Class.extend(\"bizagi.rendering.multiSelect\", {}, {\n\n  /**\r\n                                                      * Update or init the element data\r\n                                                      * @param data\r\n                                                      */\n  initializeData: function initializeData(data) {\n    // Call base\n    this._super(data);\n\n    if (Array.isArray(this.value)) {\n      this.value = this.properties.value = JSON.encode({ \"value\": this.value });\n      this.properties.originalValue = this.properties.previousValue = this.value;\n    }\n\n    // Fill default properties\n    var properties = this.properties;\n    properties.editable = bizagi.util.parseBoolean(properties.editable) !== null ? bizagi.util.parseBoolean(properties.editable) : true;\n    properties.enableTyping = bizagi.util.parseBoolean(properties.enableTyping) !== null ? bizagi.util.parseBoolean(properties.enableTyping) : true;\n    properties.maxRecords = Number(properties.maxRecords) || 20;\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @returns {*|jQuery}\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var properties = self.properties;\n    var template = self.renderFactory.getTemplate(\"list-multiselect\");\n\n    return $.fasttmpl(template, {\n      id: properties.id,\n      xpath: properties.xpath,\n      editable: properties.editable,\n      align: properties.valueAlign },\n    {\n      formatItem: self.formatItem });\n\n  },\n\n  /**\r\n      * Method to render non editable values\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    var self = this;\n    var properties = self.properties;\n    var template = self.renderFactory.getTemplate(\"list-multiselect\");\n\n    return $.fasttmpl(template, {\n      id: properties.id,\n      xpath: properties.xpath,\n      editable: properties.editable,\n      align: properties.valueAlign },\n    {\n      formatItem: self.formatItem });\n\n  },\n\n  /**\r\n      * Fetch the data into a deferred\r\n      * @returns {*[]}\r\n      */\n  getData: function getData() {\n    var self = this;\n    var defer = new $.Deferred();\n    var properties = this.properties;\n\n    // Go to server\n    self.dataService.multiaction().getData({\n      url: properties.dataUrl,\n      xpath: properties.xpath,\n      idRender: properties.id,\n      xpathContext: properties.xpathContext,\n      contexttype: properties.contexttype || null,\n      idPageCache: properties.idPageCache }).\n    done(function (data) {\n      properties.data = self.normalizeData(data);\n\n      defer.resolve(properties.data);\n\n    }).fail(function (data) {\n      var allowActions = true;\n      var form = self.getFormContainer();\n\n      if (bizagi.util.isNativeMobileDevice() && typeof form !== \"undefined\") {\n        allowActions = form.allowOnlineActions();\n      }\n\n      if (data.type === \"not-processed\" && allowActions) return;\n\n      defer.reject(data);\n    });\n\n    return defer.promise();\n  },\n\n  /**\r\n      * Sets the internal value\r\n      * @param value\r\n      * @param triggerEvents\r\n      */\n  setValue: function setValue(value, triggerEvents) {\n    triggerEvents = triggerEvents !== undefined ? triggerEvents : true;\n\n    if (Array.isArray(value)) {\n      value = JSON.encode({ \"value\": value });\n    }\n\n    this._super(value, triggerEvents);\n  },\n\n  /**\r\n      * Sets the value in the rendered control\r\n      * @param value\r\n      */\n  setDisplayValue: function setDisplayValue(value) {\n    var self = this;\n\n    // Set internal value\n    self.setValue(value, false);\n  },\n\n  /**\r\n      * Method to determine if the render value can be sent to the server or not\r\n      * @returns {boolean}\r\n      */\n  canBeSent: function canBeSent() {\n    return true;\n  },\n\n  /**\r\n      * Returns the internal value\r\n      * @returns {*|Array}\r\n      */\n  getValue: function getValue() {\n    return this.value || [];\n  },\n\n  /**\r\n      * Get list of data\r\n      * @returns {*|Array}\r\n      */\n  getDataValue: function getDataValue() {\n    var list;\n\n    try {\n      list = JSON.parse(this.value);\n\n      return list.value || [];\n    } catch (e) {\n      return [];\n    }\n  },\n\n  /**\r\n      * Check if a render has no value for required validation\r\n      * @returns {*|Array|boolean}\r\n      */\n  hasValue: function hasValue() {\n    var values = this.getDataValue();\n\n    return values && values.length > 0;\n  },\n\n  getElementsToStylize: function getElementsToStylize(context) {\n    return $(\".bz-multiselect .bz-multiselect__tag:not(.bz-multiselect__plus)\", context);\n  },\n\n  /**\r\n      * Add elements to global value\r\n      * @param value\r\n      */\n  addElement: function addElement(value) {\n    var newValue = this.getDataValue();\n\n    newValue.push(value);\n\n    this.setValue(newValue);\n  },\n\n  /**\r\n      * Remove elements to global value\r\n      * @param value\r\n      */\n  removeElement: function removeElement(value) {\n    var idToRemove = value.id;\n    var newValue = this.getDataValue().\n    filter(function (item) {\n      return item.id !== idToRemove;\n    });\n\n    this.setValue(newValue);\n  },\n\n  /**\r\n      * Submit the selected data to the server in order to be saved\r\n      */\n  submitData: function submitData() {\n    var data = {};\n\n    // Add current data\n    data[this.properties.xpath] = this.getValue();\n\n    // Executes submit on change\n    this.submitOnChange(data);\n  },\n\n  /**\r\n      * Mark a item how checked\r\n      * @param id\r\n      * @returns {*}\r\n      */\n  markAsChecked: function markAsChecked(id) {\n    var self = this;\n\n    return self.selected.some(function (item, index) {\n      var found = item.id === id;\n\n      if (found) self.selected.splice(index, 1);\n      return found;\n    });\n  },\n\n  isChecked: function isChecked(values, id) {\n    return values.some(function (item) {\n      return item.id == id;\n    });\n  },\n\n  /**\r\n      * Method to verify if can add more items\r\n      * @param $tagsContainer\r\n      * @returns {boolean}\r\n      */\n  canAddMoreItems: function canAddMoreItems($tagsContainer) {\n    var self = this;\n    var containerWidth = parseInt($tagsContainer.css(\"width\"));\n    var $children = $tagsContainer.children();\n\n    var childrenWidth = $children.\n    toArray().\n    reduce(function (acc, child) {\n      acc += self.getElementWidth(child);\n      return acc;\n    }, 0);\n\n    return containerWidth > childrenWidth + self.Class.MORE_OPTION_WIDTH;\n\n  },\n\n  /**\r\n      * getElementWidth\r\n      * @param element\r\n      * @returns {*}\r\n      */\n  getElementWidth: function getElementWidth(element) {\n    var styles = window.getComputedStyle(element);\n    var outerWidth = $(element).outerWidth();\n    return outerWidth + [\n    \"padding-left\",\n    \"padding-right\",\n    \"margin-left\",\n    \"margin-right\"].\n    reduce(function (acc, property) {\n      acc += parseInt(styles[property]);\n      return acc;\n    }, 0);\n  },\n\n  /**\r\n      * Filtering list of elements\r\n      * @param query\r\n      * @param $container\r\n      */\n  filterList: function filterList(query, $container) {\n\n    $container.filter(function () {\n      var stringContainer = $(this).text().toUpperCase();\n      var stringToSearch = query.toUpperCase();\n\n      if (stringContainer.indexOf(stringToSearch) >= 0) {\n        return $(this);\n      } else {\n        $(this).hide();\n      }\n    }).show();\n\n  },\n\n  /**\r\n      * addSelectedElements\r\n      */\n  addSelectedElements: function addSelectedElements() {\n  },\n\n  /**\r\n      * Find item by id\r\n      * @param id\r\n      * @returns {[]}\r\n      */\n  findItemById: function findItemById(id) {\n    return (this.properties.data || []).find(function (item) {\n      return item.id == id;\n    });\n  },\n\n  /**\r\n      * Formats value of each item\r\n      * @param {string, boolean or array} value\r\n      * @example\r\n      * value = \"string\" => \"string\"\r\n      * value = true => \"yes\" or \"si\", the localized value\r\n      * value = false => \"no\", the localized value\r\n      * value = [\"string 1\", \"string 2\"] => \"string 1 - string 2\"\r\n      * @returns {string}\r\n      */\n  formatItem: function formatItem(value) {\n    return bizagi.util.formatItem(value);\n  },\n\n  /**\r\n      * Complement data from server before control implementation\r\n      * @param data\r\n      */\n  normalizeData: function normalizeData(data) {\n    (data || []).forEach(function (item) {\n      item.value = typeof item.value !== \"undefined\" && item.value !== null ? item.value : \"\";\n    });\n\n    return data;\n  } });","/*\r\n*   Name: Bizagi Render Search List Control\r\n*   Author: UI Forms Team\r\n*/\n\n$.Class.extend(\"bizagi.rendering.searchList\", {}, {\n\n  /**\r\n                                                     * Update or init the element data\r\n                                                     * @param {} data \r\n                                                     * @returns {} \r\n                                                     */\n  initializeData: function initializeData(data) {\n    var self = this;\n\n    // Call base\n    self._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n    properties.maxRecords = Number(properties.maxRecords) || 20;\n    properties.editable = bizagi.util.parseBoolean(properties.editable) !== null ? bizagi.util.parseBoolean(properties.editable) : true;\n\n    // Set value\n    self.setValue(properties.value);\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @returns {} \r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var properties = self.properties;\n    var template = self.renderFactory.getTemplate(\"searchList\");\n\n    return $.fasttmpl(template, {\n      id: properties.id,\n      xpath: properties.xpath,\n      value: properties.value,\n      allowTyping: properties.allowTyping,\n      items: properties.value,\n      hasSearchForm: properties.searchForms ? true : false,\n      editable: properties.editable },\n    {\n      formatItem: self.formatItem });\n\n  },\n\n  /**\r\n      * Method to render non editable values\r\n      * @returns {} \r\n      */\n  renderReadOnly: function renderReadOnly() {\n    return this.renderControl();\n  },\n\n  /**\r\n      * Sets the internal value\r\n      * @param {} value \r\n      * @returns {} \r\n      */\n  setValue: function setValue(value) {\n    this.value = JSON.encode({ \"value\": value });\n    this.triggerRenderChange();\n  },\n\n  /**\r\n      * Add elements to global value\r\n      * @param value = { id:integer,value:[string || array] }\r\n      * @returns {} \r\n      */\n  addElement: function addElement(value) {\n    var list = JSON.parse(this.value);\n\n    list.value.push(value);\n\n    this.setValue(list.value);\n  },\n\n  /**\r\n      * Remove elements to global value\r\n      * @param value = { id:integer }\r\n      * @returns {} \r\n      */\n  removeElement: function removeElement(value) {\n    var list = JSON.parse(this.value);\n    var result = [];\n\n    $.each(list.value, function (key, val) {\n      if (val.id != value.id) {\n        result.push({ id: val.id, value: val.value });\n      }\n    });\n\n    this.setValue(result);\n  },\n\n  /**\r\n      * Remove last element to global value\r\n      * @returns {} \r\n      */\n  removeLastElement: function removeLastElement() {\n    var list = JSON.parse(this.value);\n\n    if (list.value.length > 0) {\n      list.value.pop();\n      this.setValue(list.value);\n    }\n  },\n\n  /**\r\n      * Fetch the data into a deferred\r\n      * @param {} params \r\n      * @returns {} \r\n      */\n  getData: function getData(params) {\n    var self = this;\n    var properties = self.properties;\n    var defer = new $.Deferred();\n\n    // Resolve with remote data\n    self.dataService.getSearchData({\n      url: properties.dataUrl,\n      xpath: properties.xpath,\n      idRender: properties.id,\n      xpathContext: properties.xpathContext,\n      idPageCache: properties.idPageCache,\n      term: properties.term,\n      extra: params }).\n    done(function (data) {\n      // Resolve with fetched data\n      properties.data = data;\n      defer.resolve(properties.data);\n    }).fail(function (data) {\n      var hideStatus = data.hideStatus || false;\n\n      defer.resolve({});\n\n      if (!hideStatus) {\n        self.trigger(\"onSearchError\", data);\n      }\n    });\n\n    return defer.promise();\n  },\n\n  /**\r\n      * Submits the selected data to the server in order to be saved\r\n      * @returns {} \r\n      */\n  submitData: function submitData() {\n    var data = {};\n\n    // Add current data\n    data[this.properties.xpath] = this.getValue();\n\n    // Executes submit on change\n    this.submitOnChange(data);\n  },\n\n  /**\r\n      * Method to determine if the render value can be sent to the server or not\r\n      * @returns {} \r\n      */\n  canBeSent: function canBeSent() {\n    return true;\n  },\n\n  /**\r\n      * Check if the control has value\r\n      * @returns {} \r\n      */\n  hasValue: function hasValue() {\n    var list = this.getListItems();\n\n    return list.length > 0;\n  },\n\n  getListItems: function getListItems() {\n    var value = this.getValue();\n    var finalValue = typeof value === \"string\" ? JSON.parse(value).value : value.value;\n\n    return finalValue || [];\n  },\n\n  /**\r\n      * Formats value of each item\r\n      * @param {string, boolean or array} value\r\n      * @example\r\n      * value = \"string\" => \"string\"\r\n      * value = true => \"yes\" or \"si\", the localized value\r\n      * value = false => \"no\", the localized value\r\n      * value = [\"string 1\", \"string 2\"] => \"string 1 - string 2\"\r\n      * @returns {string}\r\n      */\n  formatItem: function formatItem(value) {\n    return bizagi.util.formatItem(value);\n  } });","/**\r\n *   Name: Bizagi Render Money Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for money numbers\r\n */\n\n$.Class.extend(\"bizagi.rendering.money\", {}, {\n\n  /**\r\n                                                * Update or init the element data\r\n                                                * @param {} data\r\n                                                * @returns {}\r\n                                                */\n  initializeData: function initializeData(data) {\n    var self = this;\n\n    // Call base\n    self._super(data);\n\n    // Fill default properties\n    var properties = self.properties;\n    var format = this.getResource(\"numericFormat\");\n\n    // Configures symbol\n    properties.showsymbol = typeof properties.showsymbol !== \"undefined\" ? properties.showsymbol : true;\n\n    if (properties.showsymbol) {\n      var symbol = typeof BIZAGI_DEFAULT_CURRENCY_INFO !== \"undefined\" ? BIZAGI_DEFAULT_CURRENCY_INFO.symbol : format.symbol;\n      properties.symbol = properties.currencySymbol ? properties.currencySymbol : symbol;\n    } else {\n      properties.symbol = \"\";\n    }\n\n    properties.groupDigits = true;\n  } });","/**\r\n *   Name: Bizagi Render Radio Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for radio renders\r\n */\n\n$.Class.extend(\"bizagi.rendering.radio\", {}, {\n\n  /**\r\n                                                * Update or init the element data\r\n                                                * @param data\r\n                                                */\n  initializeData: function initializeData(data) {\n    var self = this;\n    // Call base\n    this._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n    properties.horizontal = bizagi.util.parseBoolean(properties.horizontal) || false;\n\n    // Set a random identifier to fix a problem when using radio buttons inside grids and the plugin mismatch the elements because all of them have the same name\n    properties.unique = bizagi.util.randomNumber(1000, 1000000);\n  },\n\n  /**\r\n      * Gets the template used by the combo render\r\n      * Can be overridden in subclasses to reuse logic and just change the template\r\n      * @returns {string}\r\n      */\n  getTemplateName: function getTemplateName() {\n    return \"radio\";\n  },\n\n  /**\r\n      * Determines if we need to show the empty node or not\r\n      * Can be overridden to change behaviour\r\n      * @returns {boolean}\r\n      */\n  showEmpty: function showEmpty() {\n    return false;\n  },\n\n  /**\r\n      * Determines if we need to show the current data regardless if it belongs to data or not\r\n      * Can be overridden to change behaviour\r\n      * @returns {boolean}\r\n      */\n  showCurrentData: function showCurrentData() {\n    return false;\n  },\n\n  /**\r\n      * Adds custom parameters to process the template\r\n      * @returns {{vertical: boolean}}\r\n      */\n  getTemplateParams: function getTemplateParams() {\n    var self = this;\n    var properties = self.properties;\n\n    return {\n      vertical: !properties.horizontal,\n      horizontal: properties.horizontal };\n\n  },\n\n  /**\r\n      * Cleans current data\r\n      */\n  cleanData: function cleanData() {\n    var self = this;\n    var value = { id: \"\", label: \"\" };\n    var selectedItem = self.element.find(\".ui-radio-state-checked\");\n\n    selectedItem.removeClass(\"ui-radio-state-checked\");\n    self.setDisplayValue(value);\n    self.setValue(value, false);\n    self.clearDisplayValue();\n  },\n\n  /**\r\n      * Check value of control is changed\r\n      * @returns {boolean}\r\n      */\n  controlValueIsChanged: function controlValueIsChanged() {\n    var self = this;\n    var properties = self.properties;\n\n    var value = self.getValue();\n    var compareValue = properties.originalValue;\n    var baseValue = properties.defaultValue;\n\n    var result = true;\n\n    if (value && value.length !== undefined) {\n      value = value[0];\n    }\n    if (compareValue && compareValue.length !== undefined) {\n      compareValue = compareValue[0];\n    }\n    if (baseValue && baseValue.length !== undefined) {\n      baseValue = baseValue[0];\n    }\n\n    value = value && value.id !== undefined ? value.id : value;\n    compareValue = compareValue && compareValue.id !== undefined ? compareValue.id : compareValue;\n    baseValue = baseValue && baseValue.id !== undefined ? baseValue.id : baseValue;\n\n    if (baseValue !== undefined) {\n      if (baseValue == value && value == compareValue) {\n        result = false;\n      } else {\n        if ((value === null || value === \"\") && (compareValue === null || compareValue === \"\")) {\n          result = false;\n        } else {\n          result = compareValue == value ? false : true;\n        }\n      }\n    } else {\n      if ((value === null || value === \"\") && (compareValue === null || compareValue === \"\")) {\n        result = false;\n      } else {\n        result = compareValue == value ? false : true;\n      }\n    }\n\n    return result;\n  },\n  /**\r\n      * Clean html because some scenarios render twice\r\n      */\n  emptyControlByAsyncRenderDeferred: function emptyControlByAsyncRenderDeferred() {\n    var control = this.getControl();\n    control.empty();\n  } });","/**\r\n *   Name: Bizagi Render Image Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for image control\r\n */\n\n$.Class.extend(\"bizagi.rendering.image\", {\n  // Statics\n  BA_ACTION_PARAMETER_PREFIX: bizagi.render.services.service.BA_ACTION_PARAMETER_PREFIX,\n  BA_CONTEXT_PARAMETER_PREFIX: bizagi.render.services.service.BA_CONTEXT_PARAMETER_PREFIX,\n  BA_PAGE_CACHE: bizagi.render.services.service.BA_PAGE_CACHE },\n{\n\n  BASE_IMAGE: \"data:image/png;base64,\",\n\n  /**\r\n                                         * Update or init the element data\r\n                                         * @param data\r\n                                         */\n  initializeData: function initializeData(data) {\n    var self = this;\n\n    // Call base\n    self._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n    var maxSize = 4091904;\n\n    if (properties.maxSize) {\n      maxSize = Number(properties.maxSize);\n    } else if (typeof BIZAGI_SETTINGS !== \"undefined\" && typeof BIZAGI_SETTINGS.UploadMaxFileSize !== \"undefined\") {\n      maxSize = Number(BIZAGI_SETTINGS.UploadMaxFileSize);\n    }\n\n    properties.maxSize = maxSize;\n    properties.editable = bizagi.util.parseBoolean(properties.editable) === true;\n    properties.validExtensions = properties.validExtensions || \"\";\n    properties.isChanged = false;\n\n    if (properties.validExtensions.length > 0 && properties.validExtensions.indexOf(\".\") < 0) {\n      var singleExtensions = properties.validExtensions.replace(/\\ /gi, '').split(\";\");\n\n      for (var i = 0; i < singleExtensions.length; i++) {\n        if (singleExtensions[i].length != 0) {\n          singleExtensions[i] = \"*.\" + singleExtensions[i].replaceAll(\" \", \"\");\n        } else {\n          //Removes the empty element\n          var index = singleExtensions.indexOf(singleExtensions[i]);\n          singleExtensions.splice(i, 1);\n        }\n      }\n\n      properties.validExtensions = singleExtensions.join(\";\");\n    }\n\n    properties.addUrl = properties.addUrl || self.dataService.getUploadAddFileUrl(properties.isUserPreference);\n    properties.allowDelete = bizagi.util.parseBoolean(properties.allowDelete) !== null;\n    self.initializeWidthAndHeight();\n\n  },\n\n  /**\r\n      * Update or init the element data\r\n      * @param data\r\n      */\n  initializeWidthAndHeight: function initializeWidthAndHeight() {\n    var properties = this.properties;\n\n    properties.isAutoWidth = false;\n    properties.isAutoHeight = false;\n\n    if (properties.width === -1) {\n      properties.width = \"100%\";\n      properties.isAutoWidth = true;\n    } else {\n      properties.width = properties.width + \"px\";\n    }\n\n    if (properties.height === -1) {\n      properties.height = \"auto\";\n      properties.isAutoHeight = true;\n    } else {\n      properties.height = properties.height + \"px\";\n    }\n  },\n\n  setData: function setData(value) {\n    var self = this;\n    var previousValue = self.getData();\n    if (bizagi.util.isEmpty(value)) {\n      this.properties.binaryValue = null;\n    } else {\n      this.properties.binaryValue = value instanceof Blob ? value : bizagi.util.b64toBlob(value, \"image/png\");\n    }\n\n    if (previousValue != this.properties.binaryValue) {\n\n      if (self.properties.required && self.isExecutionMode()) {\n        var isValidField = !self.checkRequired([]);\n        self.changeRequiredLabel(isValidField);\n      }\n\n      if (this.properties.isChanged) {\n        self.triggerRenderChange();\n        self.triggerRenderValidate();\n      }\n    }\n  },\n\n  getData: function getData() {\n    return this.properties.binaryValue || [];\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @returns {*}\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var template = self.renderFactory.getTemplate(\"image\");\n    var form = self.getFormContainer();\n\n    return self.buildItemUrl().\n    then(function (dataUrl) {\n      if (!self.isDisposed()) {\n        self.properties.url = dataUrl !== \"\" ? dataUrl : \"\";\n\n        if (!bizagi.util.isEmpty(self.properties.url)) {\n          if (form.properties.compatibilityVersion < 2)\n          self.properties.value = [[0, \"uploaded\"]];\n        } else {\n          self.properties.value = [];\n        }\n\n        self.setValue(self.properties.value);\n\n        var html = $.fasttmpl(template, { url: self.properties.url });\n        return html;\n      }\n    });\n  },\n\n  /**\r\n      * Method to render non editable values\r\n      * @returns {*}\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    var template = this.renderFactory.getTemplate(\"image-readonly\");\n    var html = $.fasttmpl(template);\n\n    return html;\n  },\n\n  /**\r\n      * This method return the name of template of items, please make a override in each device\r\n      * @returns {*}\r\n      */\n  getTemplateItem: function getTemplateItem() {\n    return this.renderFactory.getTemplate(\"image-item\");\n  },\n\n  /**\r\n      * Renders a single upload item\r\n      * @param file\r\n      * @returns {*}\r\n      */\n  renderUploadItem: function renderUploadItem() {\n    var self = this;\n    var mode = self.getMode();\n    var template = self.getTemplateItem();\n\n    return self.buildItemUrl().\n    then(function (dataUrl) {\n      var url = dataUrl || \"\";\n\n      var html = $.fasttmpl(template, {\n        url: url,\n        allowDelete: self.properties.allowDelete,\n        editable: self.properties.editable,\n        mode: mode });\n\n\n      self.properties.url = url;\n\n      return html;\n    });\n  },\n\n  /**\r\n      * Builds the upload item url\r\n      * @param params\r\n      * @returns {*}\r\n      */\n  buildItemUrl: function buildItemUrl(params) {\n    var self = this;\n    var form = self.getFormContainer();\n    var properties = self.properties;\n    var isVersion2OrSuperior = form.properties.compatibilityVersion >= 2;\n    var url = \"\";\n\n    if (!this.isExecutionMode()) return $.Deferred().resolve(\"\").promise();\n\n    var parameters = {\n      url: properties.dataUrl,\n      xpath: properties.xpath,\n      idRender: properties.id,\n      xpathContext: properties.xpathContext,\n      idPageCache: properties.idPageCache,\n      contexttype: properties.contexttype,\n      property: params && params.property ? params.property : \"fileContent\",\n      dataType: \"text\" };\n\n\n    if (properties.isUserPreference) {\n      self.currentUser = bizagi.currentUser.idUser;\n      parameters.xpathContext = \"@Context.Users[id == \" + self.currentUser + \"]\";\n      parameters.contexttype = \"entity\";\n      parameters.surrogatekey = self.currentUser;\n    }\n\n    if (isVersion2OrSuperior) {\n      if (bizagi.util.isEmpty(self.properties.value) && !self.hasValue()) return $.Deferred().resolve(\"\").promise();\n\n      // forceBase64 - Allow to get the thumbnail image on desktop devices\n      if (!self.properties.forceBase64) {\n        parameters.sessionId = form.properties.sessionId;\n        parameters.property = \"fileBinaryContent\";\n        return self.dataService.downloadFile(parameters).\n        then(function (blob) {\n          self.setData(blob);\n          if (blob == null || window.Blob && blob instanceof Blob && blob.size === 0) return null;\n          return bizagi.util.blobTob64(blob, false);\n        }).\n        then(function (base64) {\n          return bizagi.util.getDataUrl(base64, properties.url);\n        });\n      }\n    }\n\n    return self.dataService.multiaction().getPropertyData(parameters, \"text\").\n    then(function (data) {\n      if (data.charAt(0) === \"\\\"\") data = data.slice(1, -1);\n      if (data !== \"\") url = self.BASE_IMAGE + data;\n      self.setData(bizagi.util.b64toBlob(data));\n      return url;\n    });\n  },\n\n  buildItemUrlOffline: function buildItemUrlOffline() {\n    var self = this;\n    var properties = self.properties;\n    var formParams = self.getFormParams();\n    var loadImageFromForm = !properties.isChanged;\n    var id = self.buildOfflineImageId();\n\n    var parameters = {\n      idCase: formParams.idCase,\n      idWorkitem: formParams.idWorkitem,\n      id: id,\n      offlineType: formParams.offlineType,\n      loadImageFromForm: loadImageFromForm };\n\n\n    return $.when(self.dataService.getOfflineImage(parameters, bizagi.util.db.AttachmentType.Blob)).\n    then(function (blob) {\n      self.setData(blob);\n      if (blob == null || window.Blob && blob instanceof Blob && blob.size === 0) return null;\n      return bizagi.util.blobTob64(blob, false);\n    }).\n    then(function (base64) {\n      return bizagi.util.getDataUrl(base64, properties.url);\n    });\n  },\n\n  /**\r\n      * Create an image offline\r\n      * @param path File in Browser or Path in Mobile Devices\r\n      * @param promise Promise to be resolved when save is completed\r\n      */\n  saveImageOffline: function saveImageOffline(path) {\n    var self = this;\n    var id = self.buildOfflineImageId();\n    var fileName = self.fileProperties !== undefined ? self.fileProperties.name : path.name;\n\n    return self.dataService.getFileService().resolveBlobFromPath(path, fileName).\n    then(function (blobImage) {\n      // Save the image as attachment\n      var formParams = self.getFormParams();\n      var parameters = {\n        idCase: formParams.idCase,\n        idWorkitem: formParams.idWorkitem,\n        id: id,\n        operationType: \"edition\",\n        offlineType: formParams.offlineType };\n\n\n      return self.dataService.saveOfflineImage(parameters, blobImage);\n    });\n  },\n\n  /**\r\n      * Builds the upload item url in real size\r\n      * @returns {*}\r\n      */\n  buildFullItemUrl: function buildFullItemUrl() {\n    return this.buildItemUrl({ \"property\": \"fileFullContent\" });\n  },\n\n  /**\r\n      * Method to determine if the render value can be sent to the server or not\r\n      * @returns {boolean}\r\n      */\n  canBeSent: function canBeSent() {\n    return this.properties.isChanged;\n  },\n\n  /**\r\n      * Returns the internal value\r\n      * @returns {*|Array}\r\n      */\n  getValue: function getValue() {\n    return this.properties.value || [];\n  },\n\n  /**\r\n      * Check if control is valid or not\r\n      * @param invalidElements\r\n      * @returns {boolean}\r\n      */\n  isValid: function isValid(invalidElements) {\n    var self = this;\n\n    // Don't check non-editable renders\n    if (bizagi.util.parseBoolean(self.properties.visible) === false) {\n      return true;\n    }\n\n    // Don't check non-editable renders\n    if (bizagi.util.parseBoolean(self.properties.editable) === false) {\n      return true;\n    }\n\n    // Clear error message\n    self.setValidationMessage(\"\");\n\n    // Check required\n    if (self.properties.required) {\n      var newRow = self.grid && self.grid.isFromCreatedRow.apply(self);\n\n      if (!newRow) {\n        var value = self.getValue();\n\n        if (value.length === 0) {\n          var message = self.getResource(\"render-required-text\").replaceAll(\"#label#\", self.properties.displayName);\n          invalidElements.push({ xpath: self.properties.xpath, message: message });\n          return false;\n        }\n      }\n    }\n\n    return true;\n  },\n\n  /**\r\n      * Build add params to send to the server\r\n      */\n  buildAddParams: function buildAddParams() {\n    var self = this;\n    var properties = self.properties;\n    var form = self.getFormContainer();\n    var data = {};\n\n    data[self.Class.BA_CONTEXT_PARAMETER_PREFIX + \"xpath\"] = self.getUploadXpath();\n    data[self.Class.BA_CONTEXT_PARAMETER_PREFIX + \"idRender\"] = properties.id;\n    data[self.Class.BA_CONTEXT_PARAMETER_PREFIX + \"xpathContext\"] = properties.xpathContext;\n    data[self.Class.BA_CONTEXT_PARAMETER_PREFIX + self.Class.BA_PAGE_CACHE] = properties.idPageCache;\n    data[self.Class.BA_ACTION_PARAMETER_PREFIX + \"sessionId\"] = form.properties.sessionId;\n    data[self.Class.BA_CONTEXT_PARAMETER_PREFIX + \"action\"] = 'savefile';\n\n    if (properties.contexttype) {\n      data[self.Class.BA_CONTEXT_PARAMETER_PREFIX + \"contexttype\"] = properties.contexttype;\n    }\n\n    try {\n      if (typeof BIZAGI_SESSION_NAME !== \"undefined\") {\n        data[BIZAGI_SESSION_NAME] = form.properties.sessionId;\n      } else {\n        data[\"JSESSIONID\"] = form.properties.sessionId;\n      }\n    } catch (e) {\n      data[\"JSESSIONID\"] = form.properties.sessionId;\n    }\n\n    return data;\n  },\n\n  /**\r\n      * Returns the xpath to be used\r\n      * @returns {*}\r\n      */\n  getUploadXpath: function getUploadXpath() {\n    return this.properties.xpath;\n  },\n\n  /**\r\n      * Clean html because some scenarios render twice\r\n      */\n  emptyControlByAsyncRenderDeferred: function emptyControlByAsyncRenderDeferred() {\n    var $control = this.getControl();\n    $control.empty();\n  },\n\n  buildOfflineImageId: function buildOfflineImageId() {\n    var self = this;\n    var form = self.getFormContainer();\n    var isVersion2OrSuperior = form.properties.compatibilityVersion >= 2;\n\n    return self.dataService.fileService.buildOfflineImageId(self.properties.value, self.properties.xpathContext, self.properties.xpath, isVersion2OrSuperior);\n  } });","/*\r\n*   Name: BizAgi User field render\r\n*   Author: Diego Parra\r\n*   Comments:\r\n*   -   This script will define the basic behavior for userfields\r\n*/\n$.Class.extend(\"bizagi.rendering.userfieldDefinition\", {}, {\n\n  /*************************************************************/\n  /* Private section of the userfield                          */\n  /*************************************************************/\n\n  /*\r\n                                                                  *   Method to be overriden by userfields in order to ensure that custom files are loaded before the execution\r\n                                                                  */\n  getFileDependencies: function getFileDependencies() {\n    return null;\n  },\n\n  postRender: function postRender() {\n    var self = this;\n\n    // Call base\n    self._super();\n\n    var defer = $.Deferred();\n    var fileDependencies = self.getFileDependencies();\n    if (fileDependencies && fileDependencies.length > 0) {\n      bizagi.loader.loadFile(fileDependencies).\n      then(function () {\n        // After all dependencies has been resolved\n        self.internalRenderControl();\n        defer.resolve();\n      });\n\n    } else {\n      $.when(self.renderUserfieldControl()).done(function () {\n        defer.resolve();\n      });\n    }\n\n    return defer.promise();\n  },\n\n  renderUserfieldControl: function renderUserfieldControl() {\n    var self = this;\n    var control = self.getControl();\n    var properties = self.properties;\n    var def = new $.Deferred();\n\n    if (properties.extendedData && properties.extendedData.length > 0) {\n      self.extendedData = bizagi.services.ajax.parseJSON(properties.extendedData);\n    } else {\n      self.extendedData = {};\n    }\n\n\n    var loadUserfield = function loadUserfield() {\n      var userEditableControl = self.getEditableControl();\n      if (userEditableControl) {\n        self.input = control.html(userEditableControl);\n      }\n      self.renderComplex();\n      def.resolve();\n    };\n\n\n    loadUserfield();\n\n\n    return def.promise();\n  },\n\n  postRenderReadOnly: function postRenderReadOnly() {\n    var self = this;\n    var control = self.getControl();\n    var properties = self.properties;\n\n    if (properties.extendedData && properties.extendedData.length > 0) {\n      self.extendedData = bizagi.services.ajax.parseJSON(properties.extendedData);\n    } else {\n      self.extendedData = {};\n    }\n\n    var loadUserfieldReadOnly = function loadUserfieldReadOnly() {\n      try {\n        var userReadOnlyControl = self.getReadonlyControl();\n        if (userReadOnlyControl) {\n          self.input = control.html(userReadOnlyControl);\n        }\n        self.renderComplex();\n\n      } catch (error) {\n        var displayName = self.properties.displayName || \"Widget\";\n        control.html(\"<h6>\" + displayName + \"</h6>\");\n      }\n\n    };\n\n    if (self.ready) {\n      self.ready().done(function () {\n        loadUserfieldReadOnly();\n      });\n    } else {\n      loadUserfieldReadOnly();\n    }\n  },\n\n  getDisplayValue: function getDisplayValue() {\n    var self = this;\n    return self.getReadonlyValue();\n  },\n\n  /*\r\n     *   Sets the value in the rendered control \r\n     */\n  setDisplayValue: function setDisplayValue(value) {\n    var self = this;\n\n    // Call base\n    self.setValue(value);\n\n    // Set editable value in control\n    self.setEditableValue(value);\n  },\n\n  getValue: function getValue() {\n    var self = this;\n    return self.getEditableValue();\n  },\n\n  getPropertyValue: function getPropertyValue(propertyName, params) {\n    var self = this;\n    var properties = self.properties;\n    var defer = new $.Deferred();\n    var form = self.getFormContainer();\n\n    form.useOrSetLoaderDeferred();\n    form.appendWaitForLoader({ promise: defer.promise() });\n\n    self.dataService.multiaction().getPropertyData({\n      url: properties.dataUrl,\n      xpath: properties.xpath,\n      idRender: properties.id,\n      xpathContext: properties.xpathContext,\n      idPageCache: properties.idPageCache,\n      property: propertyName,\n      extra: params,\n      dataType: params ? params.dataType : null }).\n    done(function (data) {\n      if (data.type == \"error\") {\n        // Workflow engine error, we gotta show it with error\n        self.getFormContainer().addErrorMessage(data.message);\n        defer.reject(data);\n      } else {\n        defer.resolve(data);\n      }\n    }).fail(function (jqXHR, textStatus, errorThrown) {\n      defer.reject(jqXHR, textStatus, errorThrown);\n    });\n\n    return defer.promise();\n  },\n\n  /*\r\n     *   Saves the form\r\n     */\n  saveForm: function saveForm() {\n    var self = this;\n    var form = self.getFormContainer();\n    return form.saveForm();\n  },\n\n  /**\r\n     * Returns all the elements that match the given xpath\r\n     */\n  getRenderElements: function getRenderElements(xpath) {\n    var self = this;\n    var result = $();\n    var controls = self.getFormContainer().getRenders(xpath);\n    $.each(controls, function (i, item) {\n      result = result.add($(item.element));\n    });\n\n    return result;\n  },\n\n  getServerResourceURL: function getServerResourceURL(resource) {\n    var self = this;\n    var url = \"Rest/Userfields/{0}/resource/{1}/{2}\";\n    url = url.replace(\"{0}\", self.properties.userfieldGuid);\n    resource = resource.replace(\"\\\\\", \"__\").replace(\"/\", \"__\");\n    var device = bizagi.util.detectDevice();\n    url = url.replace(\"{1}\", device);\n    url = url.replace(\"{2}\", resource);\n    //Rest/Userfields/{0}/resource/desktop/{1}\n    return url;\n  },\n\n  /**\r\n     * Returns all the elements that match the given xpath\r\n     */\n  getRenderValue: function getRenderValue(xpath) {\n    var self = this;\n    var controls = self.getFormContainer().getRenders(xpath);\n    var control;\n    $.each(controls, function (index, item) {\n      if (!control || item.properties.editable) {\n        control = item;\n      }\n    });\n    if (control) {\n      return control.getValue();\n    } else {\n      return null;\n    }\n  },\n\n  /*\r\n     *   Refresh the current form\r\n     */\n  refreshForm: function refreshForm() {\n    var self = this;\n    var properties = self.properties;\n\n    var form = self.getFormContainer();\n    form.refreshForm(properties.id);\n  },\n\n  /*\r\n     * Shows a jquery dialog\r\n     */\n  showDialog: function showDialog(url, params) {\n    bizagi.util.mustImplement(\"Must implement the showDialog method\");\n  },\n\n  /*\r\n     *   Shows a browser popup\r\n     */\n  showPopup: function showPopup(url, params) {\n    bizagi.util.mustImplement(\"Must implement the showPopup method\");\n  },\n\n  updateOriginalValue: function updateOriginalValue() {\n    var self = this;\n    self.properties.originalValue = self.value = self.properties.value;\n  } });\n\n\n\n\n\n$.Class.extend(\"bizagi.rendering.basicUserField\", {}, {\n\n  /*************************************************************/\n  /* methods to be overriden by the implementations            */\n  /*************************************************************/\n  getEditableControl: function getEditableControl() {\n  },\n\n  renderComplex: function renderComplex() {\n  },\n\n  // Returns the value of the control\n  getEditableValue: function getEditableValue() {\n    return bizagi.rendering.render.prototype.getValue.apply(this, arguments);\n  },\n\n  // \n  setEditableValue: function setEditableValue(value) {\n    return bizagi.rendering.render.prototype.setValue.apply(this, arguments);\n  },\n\n  getReadonlyControl: function getReadonlyControl() {\n  },\n\n  getReadonlyValue: function getReadonlyValue() {\n    // if the method is not overriden then call the parent method \n    return bizagi.rendering.render.prototype.getDisplayValue.apply(this, arguments);\n  },\n\n  dispose: function dispose() {\n    var self = this;\n\n    // Call base\n    self._super();\n  } });\n\n\n\n/*\r\n        *   This control will wrap any userfield in order to load the code remotely, \r\n        *   when executing renderControl, which is an async method\r\n        */\n$.Class.extend(\"bizagi.rendering.userfieldWrapper\", {}, {\n\n  /*\r\n                                                          *   Constructor\r\n                                                          */\n  init: function init(params) {\n    var self = this;\n\n    // Call base\n    self._super(params);\n    // Save userfield guid and name\n    self.initialParams = params;\n    self.userfieldGuid = this.properties.userfieldGuid;\n    self.userfieldName = this.properties.control;\n  },\n\n  /*\r\n     *   Starts waiting signal for async stuff\r\n     */\n  startUserfieldLoading: function startUserfieldLoading() {\n  },\n\n  /*\r\n     *   Ends waiting for async stuff\r\n     */\n  endUserfieldLoading: function endUserfieldLoading() {\n  },\n\n  /*\r\n     *   Returns the in-memory processed element\r\n     */\n  internalPostRender: function internalPostRender() {\n    var self = this;\n    self.startUserfieldLoading();\n    $.when(self.getUserfieldControl()).\n    done(function (control) {\n      control.element = self.element;\n\n      // Add grid and surrogatekey properties if the userfield is a column userfield\n      if (self.column) {\n        control.isColumn = true;\n        control.grid = self.grid;\n        control.surrogateKey = self.surrogateKey;\n        control.properties.xpathContext = self.getControlXpathContext(control);\n        control.getControl = self.column.getControl;\n      }\n\n      return control.internalPostRender();\n    }).\n    always(function () {\n      self.endUserfieldLoading();\n    });\n  },\n\n  /*\r\n     *   Helper for userfields to fetch the xpathContext\r\n     */\n  getControlXpathContext: function getControlXpathContext(control) {\n    var self = this;\n    var properties = control.properties;\n\n    if (control.isColumn) {\n      return properties.xpathContext.length > 0 ? properties.xpathContext + \".\" + control.grid.properties.xpath + \"[id=\" + control.surrogateKey + \"]\" : control.grid.properties.xpath + \"[id=\" + control.surrogateKey + \"]\";\n    }\n\n    return properties.xpathContext;\n  },\n\n\n  getUserFieldInstance: function getUserFieldInstance(params) {\n    console.log(\"not implemented\");\n  },\n\n  /*\r\n     *   Replicate all userfield methods to this instance in order to create a proxy\r\n     */\n  replicateUserfieldMethods: function replicateUserfieldMethods(control) {\n    var self = this;\n    for (var key in control.Class.prototype) {\n      // Omit the folowing methods\n      if (key == \"init\" || key == \"constructor\" || key == \"Class\" || key == \"subscribe\" || key == \"unsubscribe\" ||\n      key == \"publish\" || key == \"render\" || key == \"triggerHandler\" || key == \"dispose\") continue;\n\n      // Replicate instance methods\n      self[key] = eval('var tmp = function(){ if (this.userfieldInstance) return this.userfieldInstance.' + key + '.apply(this.userfieldInstance, arguments); return null;};tmp');\n    }\n\n    // Replicate properties and value\n    control.properties = self.properties;\n    control.value = self.value;\n  },\n\n  dispose: function dispose() {\n    var self = this;\n\n    var timeOutUserField = setTimeout(function () {\n      if (self.userfieldInstance) {\n        self.userfieldInstance.unbind(\"renderchange\");\n        self.userfieldInstance.dispose();\n      }\n      clearTimeout(timeOutUserField);\n    }, bizagi.override.disposeTime || 50);\n\n    // Call base\n    self._super();\n  } });","/**\r\n *   Name: Bizagi Render Document Generator\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for document generator render\r\n */\n\n$.Class.extend(\"bizagi.rendering.document\", {}, {\n\n  /**\r\n                                                   * Update or init the element data\r\n                                                   * @param data\r\n                                                   */\n  initializeData: function initializeData(data) {\n    // Call base\n    this._super(data);\n\n    var properties = this.properties;\n\n    properties.validate = bizagi.util.parseBoolean(properties.validate) != null ? bizagi.util.parseBoolean(properties.validate) : false;\n    properties.downloadalldocuments = properties.downloadalldocuments ? properties.downloadalldocuments : false;\n    properties.allowGenerate = properties.allowGenerate !== undefined ? properties.allowGenerate : true;\n    properties.append = properties.append ? properties.append : false;\n\n    if (properties.caption) {\n      properties.caption = $.trim(properties.caption);\n\n      if (properties.caption.length === 0) {\n        properties.caption = this.getResource(\"render-documentgenerator-button-label\");\n      }\n    } else {\n      properties.caption = this.getResource(\"render-documentgenerator-button-label\");\n    }\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @returns {*}\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n\n    self.preRenderControl();\n\n    var properties = self.properties;\n    var mode = self.getMode();\n    var downloadAllDocuments = properties.downloadalldocuments;\n    var allowGenerate = properties.allowGenerate;\n    var template = self.renderFactory.getTemplate(self.getTemplate());\n    var documents = properties.value || [];\n    var noFiles = documents ? documents.length === 0 : true;\n\n    // Render template\n    var html = self.getControlHtml(template, mode, downloadAllDocuments, allowGenerate, properties, noFiles);\n\n    // Render current children\n    var items = this.renderDocumentsHtml(documents);\n    items += this.renderActionsHtml(documents, noFiles, downloadAllDocuments);\n\n    html = self.replaceFilesHtml(html, items);\n    return html;\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @param template\r\n      * @param mode\r\n      * @param downloadAllDocuments\r\n      * @param allowGenerate\r\n      * @param properties\r\n      * @param noFiles\r\n      * @returns {*|jQuery}\r\n      */\n  getControlHtml: function getControlHtml(template, mode, downloadAllDocuments, allowGenerate, properties, noFiles) {\n    var self = this;\n\n    return $.fasttmpl(template, {\n      noActivateButton: false,\n      editable: mode !== \"execution\",\n      mode: mode,\n      downloadalldocuments: downloadAllDocuments,\n      required: properties.required,\n      allowgenerate: allowGenerate,\n      xpath: self.getXpath(properties.xpath),\n      append: properties.append,\n      caption: properties.caption,\n      noFiles: noFiles,\n      allowSendInMail: properties.allowSendInMail });\n\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @param xpath\r\n      * @returns {*}\r\n      */\n  getXpath: function getXpath(xpath) {\n    return xpath;\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      */\n  preRenderControl: function preRenderControl() {\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @returns {boolean}\r\n      */\n  activateButton: function activateButton() {\n    return true;\n  },\n\n  /**\r\n      * Returns the xpath to be used\r\n      * @param xpath\r\n      * @returns {*}\r\n      */\n  getDocumentXpath: function getDocumentXpath(xpath) {\n    return xpath;\n  },\n\n  /**\r\n      * Returns the xpath to be used\r\n      * @returns {*}\r\n      */\n  getContextXpath: function getContextXpath() {\n    return this.properties.xpathContext;\n  },\n\n  /**\r\n      * Renders a single document item\r\n      * @param file\r\n      * @returns {*|jQuery}\r\n      */\n  renderDocumentItem: function renderDocumentItem(file) {\n    var self = this;\n    var mode = self.getMode();\n    var template = self.renderFactory.getTemplate(self.getTemplateItem());\n    var url = self.buildItemUrl(file);\n\n    // Don't render urls when not running in execution mode\n    if (mode !== \"execution\") url = \"javascript:void(0);\";\n\n    var html = $.fasttmpl(template, {\n      url: url,\n      allowDelete: self.properties.allowDelete,\n      filename: file.fileName,\n      id: file.id,\n      mode: mode,\n      editable: self.properties.editable,\n      joined: false });\n\n\n    return html;\n  },\n\n  /**\r\n      * Builds the upload item url\r\n      * @param file\r\n      * @returns {*}\r\n      */\n  buildItemUrl: function buildItemUrl(file) {\n    var self = this;\n    var properties = self.properties;\n\n    return self.dataService.getUploadFileUrl({\n      idRender: properties.id,\n      xpath: self.getDocumentXpath(properties.xpath),\n      xpathContext: self.getContextXpath(),\n      idPageCache: properties.idPageCache,\n      fileId: file.id,\n      sessionId: self.getSessionId() });\n\n  },\n\n  /**\r\n      * Builds the download all items item url\r\n      * @returns {*}\r\n      */\n  buildAllDocumentsUrl: function buildAllDocumentsUrl() {\n    var self = this;\n    var properties = self.properties;\n\n    return self.dataService.getAllDocumentsDownloadUrl({\n      xpath: self.getDocumentXpath(properties.xpath),\n      xpathContext: self.getContextXpath(),\n      idPageCache: properties.idPageCache,\n      idCase: properties.caseId,\n      idWorkItem: properties.workitemId,\n      sessionId: self.getSessionId() });\n\n  },\n\n  /**\r\n      * Template method to implement in each device to customize each render after processed (Virtual method)\r\n      * @returns {string}\r\n      */\n  postRender: function postRender() {\n    // Call base\n    this._super();\n\n    return \"<div></div>\";\n  },\n\n  /**\r\n      * Template method to implement in each device to customize each render after processed in read-only mode\r\n      */\n  postRenderReadOnly: function postRenderReadOnly() {\n    var self = this;\n    var mode = self.getMode();\n\n    if (mode !== \"design\") {\n      var control = self.getControl();\n      var htmlControl = self.renderControl();\n\n      control.append(htmlControl);\n\n      self.updateControlForPrintMode(control);\n\n      // Execute the same as post-render\n      self.postRender();\n    }\n  },\n\n  /**\r\n      * Saves the form before the document generation\r\n      * @returns {*}\r\n      */\n  validateContainer: function validateContainer() {\n    // Check if the form is valid, then generate\n    var form = this.getFormContainer();\n    return form.validateForm();\n  },\n\n  /**\r\n      * Saves the form before the document generation\r\n      * @returns {*}\r\n      */\n  save: function save() {\n    var form = this.getFormContainer();\n\n    return form.saveForm();\n  },\n\n  /**\r\n      * Replaces a {{files}} tag in the container for the specified \"replace\" element\r\n      * @param html\r\n      * @param replace\r\n      * @returns {*}\r\n      */\n  replaceFilesHtml: function replaceFilesHtml(html, replace) {\n    return html.replace(\"{{files}}\", replace);\n  },\n\n  /**\r\n      * Replaces a {{actions}} tag in the container for the specified \"replace\" element\r\n      * @param html\r\n      * @param replace\r\n      * @returns {*}\r\n      */\n  replaceActionsHtml: function replaceActionsHtml(html, replace) {\n    return html.replace(\"{{actions}}\", replace);\n  },\n\n  /**\r\n      * Method to determine if the render value can be sent to the server or not\r\n      * @returns {boolean}\r\n      */\n  canBeSent: function canBeSent() {\n    // This render cannot be sent because it is full ajax\n    return false;\n  },\n\n  /**\r\n      * Method to determine if the render value can be sent to the server or not\r\n      * @param invalidElements\r\n      * @returns {boolean}\r\n      */\n  isValid: function isValid(invalidElements) {\n    var self = this;\n    var properties = self.properties;\n    var message;\n\n    // Don't check non-editable renders\n    if (bizagi.util.parseBoolean(properties.visible) === false) return true;\n\n    // Don't check non-editable renders\n    if (bizagi.util.parseBoolean(properties.editable) === false) return true;\n\n    // Clear error message\n    self.setValidationMessage(\"\");\n\n    // Check required\n    if (properties.required && !properties.buttonExecuted) {\n      if (self.value) {\n        if (self.value.length > 0) return true;\n        message = self.getResource(\"render-document-required-text\");\n        invalidElements.push({ xpath: properties.xpath, message: message });\n        return false;\n      }\n    }\n\n    return true;\n  },\n\n  /**\r\n      * Template method to implement in each device to customize the render's behaviour to add handlers\r\n      */\n  configureHandlers: function configureHandlers() {\n    var self = this;\n\n    // Call base\n    self._super();\n\n    // Attach handler\n    var $generateLink = $(\".ui-bizagi-button-documentgenerator\", self.getControl());\n\n    if (self.isExecutionMode()) {\n      $generateLink.click(function (e) {\n        if (e.isPropagationStopped()) return;\n        e.stopPropagation();\n\n        self.properties.buttonExecuted = true;\n\n        if (self.properties.validate) {\n          // Check if the form is valid, then generate\n          var isValid = self.validateContainer();\n          if (isValid) {\n            self.documentTemplateGenerate();\n          }\n        } else {\n          // Just generate the form\n          self.documentTemplateGenerate();\n        }\n\n        self.properties.buttonExecuted = false;\n      });\n\n      // Configure basic handlers\n      self.attachEvents();\n    }\n  },\n\n  /**\r\n      * Method to customize the render's behaviour to add handlers when the control is readonly\r\n      */\n  configureHandlersReadOnly: function configureHandlersReadOnly() {\n    if (this.isExecutionMode()) {\n      this.attachEvents();\n    }\n  },\n\n  /**\r\n      *  Configure event handlers\r\n      */\n  attachEvents: function attachEvents() {\n    var self = this;\n    var $control = self.getControl();\n\n    // Configure download handler for document item\n    $(\".ui-bizagi-document-upload-item a > span\", $control).click(function (e) {\n      if (e.isPropagationStopped()) return;\n      e.stopPropagation();\n\n      var $item = $(this).closest(\".ui-bizagi-document-upload-item\");\n      var file = $item.data();\n\n      if (!file.joined) {\n        self.downloadFile(file);\n      } else {\n        self.downloadAllFiles({ filename: \"TemplatesConcatFilesToPDF.pdf\" });\n      }\n    });\n\n    // Configure preview handler\n    $(\".ui-bizagi-container-documents-item-delete\", $control).click(function (e) {\n      if (e.isPropagationStopped()) return;\n      e.stopPropagation();\n\n      self.deleteDocumentTemplate($(this).data(\"filename\"));\n    });\n  },\n\n  /**\r\n      * Creates the event of generation of templates.\r\n      * @param filename\r\n      */\n  deleteDocumentTemplate: function deleteDocumentTemplate(filename) {\n    var self = this;\n    var params = {\n      xpath: self.properties.xpath + \"[fileName='\" + filename + \"']\",\n      idRender: self.properties.id,\n      xpathContext: self.getContextXpath(),\n      idPageCache: self.properties.idPageCache };\n\n\n    self.startLoading();\n\n    $.when(self.dataService.deleteUploadFile(params)).\n    done(function () {\n      $.when(self.dataService.multiaction().getPropertyData({\n        xpath: self.properties.xpath,\n        idRender: self.properties.id,\n        xpathContext: self.getContextXpath(),\n        idPageCache: self.properties.idPageCache,\n        property: \"value\" })).\n      done(function (documents) {\n        self.resolveDeleteDocumentTemplate(documents, false, self.properties.downloadalldocuments);\n\n        // Finish loading\n        self.endLoading();\n      });\n    });\n  },\n\n  /**\r\n      * Creates the event of generation of templates.\r\n      */\n  documentTemplateGenerate: function documentTemplateGenerate() {\n    var self = this;\n    var properties = self.properties;\n\n    self.startLoading();\n\n    //Get the context xPath\n    properties.xpathcontext = self.getContextXpath();\n    properties.xpath = self.getDocumentXpath(properties.xpath);\n\n    self.save().done(function () {\n\n      bizagi.showErrorAlertDialog = false;\n\n      $.when(self.dataService.generateDocumentTemplate(properties)).\n      done(function () {\n\n        // Fetch again the value property\n        $.when(self.dataService.multiaction().getPropertyData({\n          xpath: properties.xpath,\n          idRender: properties.id,\n          xpathContext: self.getContextXpath(),\n          idPageCache: properties.idPageCache,\n          property: \"value\" })).\n        done(function (documents) {\n          self.resolveDocumentTemplateGenerate(documents, false, properties.downloadalldocuments);\n\n          // Finish loading\n          self.endLoading();\n        });\n\n      }).fail(function (error) {\n        self.endLoading();\n\n        // Add error messages\n        self.showErrorMessage(error);\n      });\n    }).fail(function (message) {\n      self.endLoading();\n\n      // Add error messages\n      self.showErrorMessage(message);\n    });\n  },\n\n  /**\r\n      * Show the error message when something went wrong with the service.\r\n      * @param error\r\n      */\n  showErrorMessage: function showErrorMessage(error) {\n    var self = this;\n    var form = self.getFormContainer();\n    var messageText = self.resources.getResource('render-upload-alert-maxsize').replace(\"{0}\", BIZAGI_SETTINGS.UploadMaxFileSize);\n\n    try {\n      messageText = error && typeof error.responseText !== \"undefined\" ? JSON.parse(error.responseText).message : error;\n    } catch (e) {\n    }\n\n    form.addErrorMessage(messageText);\n    form.endLoading();\n  },\n\n  /**\r\n      * Shows the document if the flag is set. (virtual Function)\r\n      */\n  autoOpenDocuments: function autoOpenDocuments() {\n  },\n\n  /**\r\n      * Template method to implement in each device to customize each render after processed (Virtual method)\r\n      * @param url\r\n      * @param filename\r\n      */\n  showDocumentPreview: function showDocumentPreview(url, filename) {\n  },\n\n  /**\r\n      * Identifies the extension of the file in a simpler way that ECM does\r\n      * @param file\r\n      * @returns {string}\r\n      */\n  returnCssTypeFile: function returnCssTypeFile(file) {\n\n    if (file == undefined || file.lenght === 0) {\n      return \"ui-bizagi-document-upload-item-generic-file\";\n    }\n\n    var extension = file.substr(file.lastIndexOf('.') + 1);\n\n    switch (extension) {\n      case 'docx':\n        return \"ui-bizagi-document-upload-item-doc\";\n      case 'pdf':\n        return \"ui-bizagi-document-upload-item-pdf\";\n      case 'xlsx':\n        return \"ui-bizagi-document-upload-item-xls\";\n      default:\n        return \"ui-bizagi-document-upload-item-generic-file\";}\n\n  },\n\n  /**\r\n      * Redraw documents when needed\r\n      * @param documents\r\n      * @param noFiles\r\n      * @param downloadAllDocuments\r\n      */\n  redrawDocuments: function redrawDocuments(documents, noFiles, downloadAllDocuments) {\n    var self = this;\n    var control = self.getControl();\n    var html = \"\";\n    var documentContainer = $(\"[data-component='files']\", control);\n\n    // Clear current links\n    documentContainer.empty();\n\n    // Draw links again\n    html += this.renderDocumentsHtml(documents);\n\n    // Check if there are documents and the flag to download all are available to show the link.\n    html += this.renderActionsHtml(documents, noFiles, downloadAllDocuments);\n\n    documentContainer.append(html);\n\n    //Set value\n    self.setValue(documents);\n  },\n\n  /**\r\n      * This method must be implemented by the specific class of each device. (Virtual method)\r\n      * @param file\r\n      * @returns {*|*|*}\r\n      */\n  renderAllDocumentDownload: function renderAllDocumentDownload(file) {\n    var self = this;\n    var properties = self.properties;\n    var mode = self.getMode();\n\n    var template = self.renderFactory.getTemplate(self.getTemplateItem());\n    var url = self.buildAllDocumentsUrl();\n\n    // Don't render urls when not running in execution mode\n    if (mode !== \"execution\") url = \"javascript:void(0);\";\n\n    var html = $.fasttmpl(template, {\n      url: url,\n      allowDelete: properties.allowDelete,\n      filename: file.fileName,\n      mode: mode,\n      joined: true });\n\n\n    return self.removeDeleteButton(html);\n  },\n\n  /**\r\n      * removeDeleteButton\r\n      * @param html\r\n      * @returns {*}\r\n      */\n  removeDeleteButton: function removeDeleteButton(html) {\n    var startIndex = html.indexOf(\"<span class=\\\"ui-bizagi-container-documents-item-delete\");\n\n    if (startIndex > 0) {\n      var restOfWord = html.substring(startIndex);\n      var finishIndex = restOfWord.indexOf(\"</span>\") + 7;\n\n      return html.substring(0, startIndex) + restOfWord.substring(finishIndex);\n    } else {\n      return html;\n    }\n  },\n\n  /**\r\n      * Process request of DeleteDocumentTemplate action\r\n      * @param documents\r\n      * @param noFiles\r\n      * @param downloadAllDocuments\r\n      */\n  resolveDocumentTemplateGenerate: function resolveDocumentTemplateGenerate(documents, noFiles, downloadAllDocuments) {\n    // Redraw documents\n    this.redrawDocuments(documents, noFiles, downloadAllDocuments);\n    this.value = documents;\n\n    // This does not apply for mobile.\n    this.autoOpenDocuments();\n    this.configureHandlers();\n  },\n\n  /**\r\n      * Process request of DocumentTemplateGenerate action\r\n      * @param documents\r\n      * @param noFiles\r\n      * @param downloadAllDocuments\r\n      */\n  resolveDeleteDocumentTemplate: function resolveDeleteDocumentTemplate(documents, noFiles, downloadAllDocuments) {\n    // Redraw documents\n    this.redrawDocuments(documents, noFiles, downloadAllDocuments);\n    this.value = documents;\n\n    // This does not apply for mobile.\n    this.configureHandlers();\n  },\n\n  /**\r\n      * Method to renders the documents\r\n      * @param documents\r\n      * @returns {string}\r\n      */\n  renderDocumentsHtml: function renderDocumentsHtml(documents) {\n    var items = \"\";\n\n    for (var i = 0; i < documents.length; i++) {\n      var document = { id: documents[i][0], fileName: documents[i][1] };\n      var item = this.renderDocumentItem(document);\n\n      items += item;\n    }\n\n    return items;\n  },\n\n  /**\r\n      * Methos to renders action of document\r\n      * @param documents\r\n      * @param noFiles\r\n      * @param downloadAllDocuments\r\n      * @returns {string}\r\n      */\n  renderActionsHtml: function renderActionsHtml(documents, noFiles, downloadAllDocuments) {\n    var actions = \"\";\n\n    if (downloadAllDocuments && !noFiles && documents.length > 0) {\n      var downloadAllDocumentsLink = { fileName: this.getResource(\"render-document-downloadalldocuments\") };\n      var action = this.renderAllDocumentDownload(downloadAllDocumentsLink);\n\n      actions += action;\n    }\n\n    return actions;\n  },\n\n  getTemplate: function getTemplate() {\n    return \"document\";\n  },\n\n  getTemplateItem: function getTemplateItem() {\n    return \"document-item\";\n  },\n\n  getErrorTemplate: function getErrorTemplate() {\n    return \"form-error\";\n  },\n\n  getTemplateDownload: function getTemplateDownload() {\n    return \"document-download\";\n  },\n\n  getTemplateReadonly: function getTemplateReadonly() {\n    return \"document-readonly\";\n  },\n\n  /**\r\n      * Get blob file\r\n      * @param file\r\n      * @returns {*}\r\n      */\n  getDocumentFile: function getDocumentFile(file) {\n    var self = this;\n    var properties = self.properties;\n\n    return self.dataService.getFile({\n      idRender: properties.id,\n      xpath: self.getDocumentXpath(properties.xpath),\n      xpathContext: self.getContextXpath(),\n      idPageCache: properties.idPageCache,\n      fileId: file.id,\n      contexttype: properties.contexttype }).\n    then(function (response) {\n      return bizagi.util.handleJSONResponse(response);\n    });\n  },\n\n  /**\r\n      * Get the download all items item\r\n      * @returns {*}\r\n      */\n  getAllDocumentFiles: function getAllDocumentFiles() {\n    return this.dataService.getAllDocuments({\n      xpath: this.getDocumentXpath(this.properties.xpath),\n      xpathContext: this.getContextXpath(),\n      idPageCache: this.properties.idPageCache,\n      idCase: this.properties.caseId,\n      idWorkItem: this.properties.workitemId }).\n    then(function (response) {\n      return bizagi.util.handleJSONResponse(response);\n    });\n  },\n\n  /**\r\n      * Download file\r\n      * @param file\r\n      */\n  downloadFile: function downloadFile(file) {\n    var self = this;\n\n    this.getDocumentFile(file).then(function (blobFile) {\n      bizagi.util.downloadBlobFile(blobFile, file.filename);\n    }).fail(function (error) {\n      var form = self.getFormContainer();\n      form && form.failHandler(error);\n    });\n  },\n\n  /**\r\n      * Download file\r\n      * @param file\r\n      */\n  downloadAllFiles: function downloadAllFiles(file) {\n    var self = this;\n\n    this.getAllDocumentFiles().then(function (blobFile) {\n      bizagi.util.downloadBlobFile(blobFile, file.filename);\n    }).fail(function (error) {\n      var form = self.getFormContainer();\n      form && form.failHandler(error);\n    });\n  } });","/**\r\n * Base definition of a range control\r\n *\r\n * @author: Andres Fernando Munoz\r\n */\n\n$.Class.extend(\"bizagi.rendering.range\", {}, {\n  /*\r\n                                                * Constructor\r\n                                                */\n  init: function init(params) {\n    // Call base\n    this._super(params);\n  },\n\n  /*\r\n      * Initialize the control with data provided\r\n      */\n  initializeData: function initializeData(data) {\n    var self = this;\n    // Call base\n    this._super(data);\n  },\n\n\n  /*\r\n      * Template method to implement in each children to customize each control\r\n      */\n  renderControl: function renderControl() {\n    var self = this,\n    properties = self.properties;\n    var template;\n    var html = \"\";\n    // Render template\n    template = self.renderFactory.getTemplate(\"render-range\");\n    html = $.fasttmpl(template, {});\n    return html;\n  },\n  /**\r\n      * Sets the range controls in DOM\r\n      * @param minControl: min range control\r\n      * @param maxControl: max range control\r\n      */\n  setRanageControls: function setRanageControls(minControl, maxControl) {\n    var self = this;\n    self.minControl = minControl || null;\n    self.maxControl = maxControl || null;\n    var control = self.getControl();\n\n    var $maxCanvas = $(\".bz-range-maximum\", control);\n    var $minCanvas = $(\".bz-range-minimum\", control);\n\n    //var $maxCanvas = $('<div>hola</div>');\n    //var $minCanvas = $('<div>hola</div>');\n\n    self.renderRangeControl($minCanvas, minControl);\n    self.renderRangeControl($maxCanvas, maxControl);\n  },\n\n  /*\r\n      *   Returns the internal value\r\n      */\n  getValue: function getValue() {\n    var self = this;\n    var minValue = self.minControl.getValue();\n    var maxValue = self.maxControl.getValue();\n\n    var value = {\n      min: minValue,\n      max: maxValue };\n\n    return value;\n  },\n\n  renderRangeControl: function renderRangeControl($canvas, control) {\n    $.when(control.render(\"render\")).done(function (html) {\n      $canvas.empty().append(html);\n      control.postRenderElement($canvas);\n    });\n  } });","/**\r\n * Base definition of a range date control\r\n *\r\n * @author: Andres Fernando Munoz\r\n */\n\n$.Class.extend(\"bizagi.rendering.rangeDate\", {}, {\n\n  /**\r\n                                                    * Defines de min date an de max date to the range control\r\n                                                    */\n  defineRangeControl: function defineRangeControl(params) {\n    var self = this;\n\n    var dateMin = bizagi.rendering.date.extend({\n      suscribe: function suscribe(control) {\n        this.observer = this.observer || [];\n        this.observer.push(control);\n      },\n\n      notify: function notify(value) {\n        for (var i = this.observer.length - 1; i >= 0; i--) {\n          this.observer[i].changeMinValue(value);\n        }\n      },\n\n      setValue: function setValue(value) {\n        value = value || \"\";\n        this._super(value);\n        this.notify(value);\n      } });\n\n\n    var dateMax = bizagi.rendering.date.extend({\n      suscribe: function suscribe(control) {\n        this.observer = this.observer || [];\n        this.observer.push(control);\n      },\n\n      notify: function notify(value) {\n        for (var i = this.observer.length - 1; i >= 0; i--) {\n          this.observer[i].changeMaxValue(value);\n        }\n      },\n\n      setValue: function setValue(value) {\n        value = value || \"\";\n        this._super(value);\n        this.notify(value);\n      } });\n\n\n\n    var minControl = new dateMin(self.getRenderProperties(\"min\"));\n    var maxControl = new dateMax(self.getRenderProperties(\"max\"));\n\n    minControl.suscribe(maxControl);\n    maxControl.suscribe(minControl);\n\n\n    self.setRanageControls(minControl, maxControl);\n  },\n\n  getRenderProperties: function getRenderProperties(typeRangeControl) {\n    var self = this;\n    var form = self.getFormContainer();\n    var properties = self.properties;\n\n    var renderProperties = {\n      data: {\n        properties: {\n          \"id\": properties.id,\n          \"xpath\": properties.xpath + \"_\" + typeRangeControl,\n          \"displayType\": \"value\" } },\n\n\n      mode: \"execute\",\n      parent: form,\n      renderFactory: self.renderFactory,\n      resources: bizagi.localization,\n      dataService: self.dataService };\n\n\n    if (typeRangeControl === \"min\") {\n      renderProperties.data.properties.displayName = \"From\";\n    } else {\n      renderProperties.data.properties.displayName = \"To\";\n    }\n\n    return renderProperties;\n  } });","/**\r\n * Base definition of a range money control\r\n *\r\n * @author: Andres Fernando Munoz\r\n */\n\n$.Class.extend(\"bizagi.rendering.rangeMoney\", {}, {\n\n  /**\r\n                                                     * Defines de min money an de max money to the range control\r\n                                                     */\n  defineRangeControl: function defineRangeControl() {\n    var self = this;\n\n    var moneyMin = bizagi.rendering.money.extend({\n      suscribe: function suscribe(control) {\n        this.observer = this.observer || [];\n        this.observer.push(control);\n      },\n\n      notify: function notify(value) {\n        for (var i = this.observer.length - 1; i >= 0; i--) {\n          this.observer[i].changeMinValue(value);\n        }\n      },\n\n      setValue: function setValue(value) {\n        value = value || \"\";\n        this._super(value);\n        this.notify(value);\n      } });\n\n\n    var moneyMax = bizagi.rendering.money.extend({\n      suscribe: function suscribe(control) {\n        this.observer = this.observer || [];\n        this.observer.push(control);\n      },\n\n      notify: function notify(value) {\n        for (var i = this.observer.length - 1; i >= 0; i--) {\n          this.observer[i].changeMaxValue(value);\n        }\n      },\n\n      setValue: function setValue(value) {\n        value = value || \"\";\n        this._super(value);\n        this.notify(value);\n      } });\n\n\n    var minControl = new moneyMin(self.getRenderProperties(\"min\"));\n    var maxControl = new moneyMax(self.getRenderProperties(\"max\"));\n\n    minControl.suscribe(maxControl);\n    maxControl.suscribe(minControl);\n\n    self.setRanageControls(minControl, maxControl);\n  },\n\n\n  getRenderProperties: function getRenderProperties(typeRangeControl) {\n    var self = this;\n    var form = self.getFormContainer();\n    var properties = self.properties;\n\n    var renderProperties = {\n      data: {\n        properties: {\n          \"id\": properties.id,\n          \"xpath\": properties.xpath + \"_\" + typeRangeControl,\n          \"displayType\": \"value\" } },\n\n\n      mode: \"execute\",\n      parent: form,\n      renderFactory: self.renderFactory,\n      resources: bizagi.localization,\n      dataService: self.dataService };\n\n    return renderProperties;\n  } });","/**\r\n * Base definition of a range number control\r\n *\r\n * @author: Andres Fernando Munoz\r\n */\n\n$.Class.extend(\"bizagi.rendering.rangeNumber\", {}, {\n\n  /**\r\n                                                     * Defines de min number an de max number to the range control\r\n                                                     */\n  defineRangeControl: function defineRangeControl() {\n    var self = this;\n\n    var numberMin = bizagi.rendering.number.extend({\n      suscribe: function suscribe(control) {\n        this.observer = this.observer || [];\n        this.observer.push(control);\n      },\n\n      notify: function notify(value) {\n        for (var i = this.observer.length - 1; i >= 0; i--) {\n          this.observer[i].changeMinValue(value);\n        }\n      },\n\n      setValue: function setValue(value) {\n        value = value || \"\";\n        this._super(value);\n        this.notify(value);\n      } });\n\n\n    var numberMax = bizagi.rendering.number.extend({\n      suscribe: function suscribe(control) {\n        this.observer = this.observer || [];\n        this.observer.push(control);\n      },\n\n      notify: function notify(value) {\n        for (var i = this.observer.length - 1; i >= 0; i--) {\n          this.observer[i].changeMaxValue(value);\n        }\n      },\n\n      setValue: function setValue(value) {\n        value = value || \"\";\n        this._super(value);\n        this.notify(value);\n      } });\n\n\n    var minControl = new numberMin(self.getRenderProperties(\"min\"));\n    var maxControl = new numberMax(self.getRenderProperties(\"max\"));\n\n    minControl.suscribe(maxControl);\n    maxControl.suscribe(minControl);\n\n    self.setRanageControls(minControl, maxControl);\n  },\n\n\n  getRenderProperties: function getRenderProperties(typeRangeControl) {\n    var self = this;\n    var form = self.getFormContainer();\n    var properties = self.properties;\n\n    var renderProperties = {\n      data: {\n        properties: {\n          \"id\": properties.id,\n          \"xpath\": properties.xpath + \"_\" + typeRangeControl,\n          \"displayType\": \"value\" } },\n\n\n      mode: \"execute\",\n      parent: form,\n      renderFactory: self.renderFactory,\n      resources: bizagi.localization,\n      dataService: self.dataService };\n\n\n    return renderProperties;\n  } });","/*\r\n *   Name: BizAgi Render Radio Class\r\n *   Author: Ivan Ricardo Taimal Narvaez\r\n *   Comments:\r\n *   -   This script will define basic stuff for radio renders\r\n */\n\n$.Class.extend(\"bizagi.rendering.checkList\", {}, {\n\n  /*\r\n                                                    *   Update or init the element data\r\n                                                    */\n  initializeData: function initializeData(data) {\n    var self = this;\n    // Call base\n    this._super(data);\n\n    // Fill default properties\n    var properties = this.properties;\n    properties.horizontal = bizagi.util.parseBoolean(properties.horizontal) || false;\n    self.setValue(properties.items);\n    self.updateOriginalValue();\n  },\n\n  /*\r\n      *   Template method to implement in each device to customize each render after processed\r\n      */\n  postRender: function postRender() {\n    var self = this;\n    var control = self.getControl();\n\n    // Call base\n    self._super();\n    self.checkListGroup = $(\".ui-bizagi-render-checkList .ui-bizagi-render-checkList-item\", control);\n  },\n\n  /*\r\n      *   Template method to implement in each children to customize each control\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var properties = self.properties;\n    var template = self.renderFactory.getTemplate(self.getTemplateName());\n    var items = self.properties.items || [];\n\n    var html = $.fasttmpl(template, $.extend(self.getTemplateParams(), {\n      id: properties.id,\n      xpath: properties.xpath,\n      unique: bizagi.util.randomNumber(10000, 1000000),\n      idPageCache: properties.idPageCache,\n      items: items }));\n\n    return html;\n  },\n\n  /*\r\n      *   Gets the template used by the combo render\r\n      *   can be overriden in subclasses to reuse logic and just change the template\r\n      */\n  getTemplateName: function getTemplateName() {\n    return \"checkList\";\n  },\n\n  /*\r\n      *   Determines if we need to show the empty node or not\r\n      *   Can be overriden to change behaviour\r\n      */\n  showEmpty: function showEmpty() {\n    return false;\n  },\n\n  /*\r\n      *   Determines if we need to show the current data regardless if it belongs to data or not\r\n      *   Can be overriden to change behaviour\r\n      */\n  showCurrentData: function showCurrentData() {\n    return false;\n  },\n\n  /*\r\n      *   Adds custom parameters to process the template\r\n      */\n  getTemplateParams: function getTemplateParams() {\n    var self = this;\n    var properties = self.properties;\n\n    return {\n      vertical: !properties.horizontal };\n\n  },\n  /*\r\n      * Cleans current data\r\n      */\n  cleanData: function cleanData() {\n\n  },\n\n  setValue: function setValue(value) {;\n    this.value = bizagi.clone(value);\n  },\n\n  getValue: function getValue(data) {;\n    return this.value || [];\n  } });","/**\r\n * Base definition of Action Launcher and Entity template controls\r\n *\r\n * @author: Edward Morales\r\n */\n$.Class.extend(\"bizagi.rendering.actionLauncher\", {}, {\n\n  /*\r\n                                                         * Initialize the control with data provided\r\n                                                         */\n  initializeData: function initializeData(data) {\n    var self = this;\n    // Call base\n    this._super(data);\n    var form = self.getFormContainer();\n    this.typeForm = form.properties.typeForm || \"\";\n    var mode = self.getMode();\n    var properties = self.properties;\n\n    self.deferredActions = new $.Deferred();\n    self.deferredActions.promise();\n\n    if (mode == \"execution\") {\n      self.engine = new bizagi.templateEngine({\n        renderFactory: self.renderFactory,\n        cache: true,\n        autoGenerateData: false,\n        templateGuid: properties.selecttemplate });\n\n    }\n\n    // Data of get process property value\n    self.processPropertyValueArgs = {\n      \"pcaseId\": self.getIdCase(),\n      \"pguidEntity\": self.properties.guidEntity,\n      \"idRender\": self.properties.id,\n      \"xpathContext\": form.properties.xpathContext,\n      \"idPageCache\": form.properties.idPageCache,\n      \"property\": \"data\",\n      \"psurrogatedKey\": self.properties.surrogatedKey,\n      \"ptags\": self.properties.tagslist || [],\n      \"pmaxitems\": self.properties.maxItems,\n      \"pactionXpath\": self.properties.xpathActions };\n\n\n    self.processPropertyValueDataTmplArgs = {\n      \"pactionXpath\": self.properties.xpathActions,\n      \"idRender\": self.properties.id,\n      \"xpathContext\": form.properties.xpathContext,\n      \"idPageCache\": form.properties.idPageCache,\n      \"ptemplateGuid\": properties.selecttemplate,\n      \"property\": \"dataTemplate\",\n      \"xpathActions\": self.properties.xpathActions };\n\n\n    self.properties.valueWidth = 100;\n    self.properties.displayType = \"value\";\n    var defaultAllowActions = data.properties.type === \"entityTemplate\" ? false : true;\n    self.properties.allowactions = typeof data.properties.allowactions == \"undefined\" ?\n    defaultAllowActions : data.properties.allowactions;\n    self.properties.isHorizontal = typeof data.properties.isHorizontal == \"undefined\" ?\n    true : data.properties.isHorizontal;\n    self.properties.allowSearch = typeof data.properties.allowSearch == \"undefined\" ?\n    false : data.properties.allowSearch;\n    self.properties.selecttemplate = typeof data.properties.selecttemplate == \"undefined\" ?\n    \"\" : data.properties.selecttemplate;\n    self.properties.templatetype = typeof properties.templatetype != \"undefined\" ?\n    properties.templatetype : 'none';\n\n    self.properties.sessionId = form.params.data.sessionId;\n\n    if (!self.properties.value) {\n      self.properties.value = self.value = [];\n      self.properties.originalValue = [];\n    } else if (typeof self.properties.value == \"string\") {\n      self.properties.value = self.value = JSON.parse(self.properties.value);\n    }\n  },\n\n  /**\r\n      * Send processpropertyvalue in order to execute an Action\r\n      * This method is used when this control stay in Summary form or Global form\r\n      * @param action\r\n      */\n  executeActionImmediately: function executeActionImmediately(action) {\n    var self = this;\n    //Execute action immediately\n    var form = self.getFormContainer();\n\n    var processPropertyValueExecuteAction = {\n      \"idRender\": self.properties.id,\n      \"xpathContext\": form.properties.xpathContext,\n      \"idPageCache\": form.properties.idPageCache,\n      \"property\": \"executeAction\",\n      \"psurrogatedKey\": self.properties.surrogatedKey,\n      \"pguidAction\": action.guidAction,\n      \"pparameters\": JSON.encode({\n        \"idStartScope\": action.idStartScope,\n        \"pactionXpath\": self.properties.xpathActions,\n        \"idPageCache\": action.idPageCache }) };\n\n\n\n    self.dataService.executeActions(processPropertyValueExecuteAction).done(function (data) {\n      self.notifyExecution(data, action);\n    }).fail(function (error) {\n      // TODO: Create generic mechanism to send notifications\n      self.notifyExecution(\"Error\", action);\n    });\n  },\n\n  /**\r\n      * notify action execution status\r\n      * @param response\r\n      * @param actionName\r\n      */\n  notifyExecution: function notifyExecution(response, actionName) {\n    // To override in each device\n  },\n\n  /**\r\n      * Render control in read only mode: properties.editable = false\r\n      * @return {*}\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    return this.renderControl();\n  },\n\n  /**\r\n      * Make a postrender of readonly control\r\n      */\n  postRenderReadOnly: function postRenderReadOnly() {\n    this.properties.readOnly = true;\n    this.postRender();\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @return {string}\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var properties = self.properties;\n    var mode = self.getMode();\n    var template;\n    var html = \"\";\n\n    // Render template\n    if (mode == \"design\") {\n      template = self.renderFactory.getTemplate(\"render-actionLauncher-design\");\n      var params = {\n        type: properties.type,\n        isHorizontal: properties.isHorizontal,\n        allowSearch: properties.allowSearch,\n        templateDefined: properties.templatetype != 'none',\n        allowactions: properties.allowactions };\n\n      html = $.fasttmpl(template, params);\n    } else if (properties.surrogatedKey) {\n      template = self.renderFactory.getTemplate(\"render-actionLauncher\");\n      html = $.fasttmpl(template, { allowactions: self.properties.allowactions });\n    }\n    return html;\n  },\n\n\n  /**\r\n      * Public method to determine if a value is valid or not\r\n      * @param invalidElements\r\n      * @return {*}\r\n      */\n  isValid: function isValid(invalidElements) {\n    var self = this,\n    properties = self.properties;\n    var value = self.getValue();\n    var bValid = false;\n\n    // Don't check non-editable renders\n    if (bizagi.util.parseBoolean(properties.visible) == false) {\n      return true;\n    }\n    // Don't check non-editable renders\n    if (bizagi.util.parseBoolean(properties.editable) == false) {\n      return true;\n    }\n\n    // Check required\n    if (properties.required) {\n      if (self.value) {\n        if (self.value.length > 0)\n        return true;\n        message = self.getResource(\"render-required-register-action\");\n        invalidElements.push({ xpath: properties.xpath, message: message });\n        return false;\n      }\n    }\n\n    return bValid;\n  },\n\n  /**\r\n      * Sets the value in the rendered control\r\n      * @param value\r\n      */\n  setDisplayValue: function setDisplayValue(value) {\n    var self = this;\n    var control = self.getControl();\n    // TODO: write functionality\n    // Set internal value\n    self.setValue(value, false);\n  },\n\n  /**\r\n      * Process an action\r\n      * @param action\r\n      */\n  actionManager: function actionManager(action) {\n    var self = this;\n    var guidProcess = action.guidProcess || \"\";\n    var def = new $.Deferred();\n\n    action.recordXpath = self.getFormContainer().properties.recordXpath;\n\n    /**\r\n                                                                          * Check if action is a process\r\n                                                                          */\n    switch (action.actionType) {\n      case \"Process\":\n        // Verify if case has startform\n        var params = {\n          guidWFClass: guidProcess };\n\n\n        $.when(self.dataService.hasStartForm(params)).done(function (result) {\n          if (result.hasStartForm) {\n            // Open a dialog with startform and wait for Scope\n            $.when(self.processStartForm({\n              guidprocess: guidProcess,\n              title: action.displayName,\n              recordXpath: action.recordXpath })).\n            done(function (idStartScope) {\n              action.idStartScope = idStartScope;\n              def.resolve(action);\n            });\n          } else {\n            // Just add action to queue to be executed on nextEvent\n            def.resolve(action);\n          }\n        });\n\n        break;\n      case \"Rule\":\n        // Just add action to queue to be executed on nextEvent\n        def.resolve(action);\n        break;\n      case \"Form\":\n        // If it has additional xpath this action is a form of collection\n        if (action.xpathContext) {\n          $.when(self.processActionFormCollection(action)).done(function (idStartScope) {\n            action.idStartScope = idStartScope;\n            def.resolve(action);\n          });\n        } else {\n\n          if (action.actionType === \"Form\") {\n            action.xpathContext = undefined;\n            action.contextType = \"entitytemplate\";\n            action.guidEntity = action.guidEntity || self.properties.guidEntity;\n          }\n\n          $.when(self.processActionForm(action)).done(function (idStartScope) {\n            action.idStartScope = idStartScope;\n            def.resolve(action);\n          });\n        }\n        break;}\n\n\n    return def.promise();\n  },\n\n  /**\r\n      * Add actions within value object\r\n      * @param action\r\n      */\n  addActionToQueue: function addActionToQueue(action) {\n    var self = this;\n    var actionsList = self.getValue();\n    var formParams = self.getFormContainer().getParams();\n\n    action.params = action.params || {};\n\n    var recordXpath = self.properties.xpathContext;\n\n    switch (action.actionType) {\n      case \"Process\":\n        action.params = {\n          idStartScope: action.idStartScope,\n          additionalXpaths: self.properties.additionalXpath.join(\",\"),\n          idParentWorkitem: formParams.idWorkitem || bizagi.context.idWorkItem,\n          recordXpath: recordXpath };\n\n        break;\n      case \"Form\":\n        action.params = {\n          idStartScope: action.idStartScope,\n          additionalXpaths: self.properties.additionalXpath.join(\",\"),\n          entityXpath: self.properties.xpathActions,\n          idParentWorkitem: formParams.idWorkitem || bizagi.context.idWorkItem,\n          idEntity: action.idEntity };\n\n        break;\n      case \"Rule\":\n        action.params = {\n          xpathActions: action.xpathActions || \"\",\n          recordXpath: recordXpath };\n\n        break;}\n\n\n    var newValueActionsList = bizagi.clone(actionsList);\n    newValueActionsList.push(action);\n    self.setValue(newValueActionsList);\n    self.setDisplayValue(newValueActionsList);\n  },\n\n  /**\r\n      * Remove action within value object\r\n      * @param index\r\n      */\n  removeActionToQueue: function removeActionToQueue(index) {\n    var self = this;\n    var newValueActionsList = bizagi.clone(self.getValue());\n    newValueActionsList.splice(index, 1);\n    self.setValue(newValueActionsList);\n    self.setDisplayValue(newValueActionsList);\n  },\n  /**\r\n      * Add the render data to the given collection in order to send data to the server\r\n      * @param renderValues\r\n      */\n  collectData: function collectData(renderValues) {\n    var self = this;\n    if (self.controlValueIsChanged()) {\n      var properties = self.properties;\n      var xpath = properties.xpath;\n      var controlValue = self.getValue();\n      var actions = [];\n      $.each(controlValue, function (index, value) {\n        var action = {};\n        action.params = value.params || {};\n        action.guidAction = value.guidAction;\n\n        actions.push(action);\n      });\n      renderValues[xpath] = actions.length == 0 ? \"\" : JSON.encode(actions);\n    }\n  },\n\n  /**\r\n      * Util to count how many actions are there\r\n      * @param action\r\n      * @return {number}\r\n      */\n  countSameActions: function countSameActions(action) {\n    var self = this;\n    var value = self.getValue();\n    var count = 0;\n    $.each(value, function (key, value) {\n      if (value.guidAction == action.guidAction) {\n        count++;\n      }\n    });\n    return count;\n  },\n\n  /**\r\n     * Normalize action launcher control properties\r\n     * @param actionsLaucher\r\n     * @returns {*}\r\n     */\n  getPropertiesActionLaucher: function getPropertiesActionLaucher(actionsLaucher) {\n    var self = this;\n    var form = self.getFormContainer();\n    /**\r\n                                         * The properties of actionLaucher have to 7 properties mandatory\r\n                                         * 0: guidProcess\r\n                                         * 1: displayName\r\n                                         * 2: title\r\n                                         * 3: actionType\r\n                                         * 4: guidaction\r\n                                         * 5: xpathContext\r\n                                         * 6: readOnlyForm: default: false\r\n                                         */\n    for (var i = 0, length = actionsLaucher.length, j = length; i < j; i += 1) {\n      //some ocassions server return 6 or 7 items\n      //return 6 properties when launch form action from action launcher control.\n      //in this case dont return xpathContext.\n      // So, add item position 5, simulate xpathContext empty.\n      if (actionsLaucher[i].length === 6) {\n        actionsLaucher[i].splice(5, 0, \"\");\n\n        if (actionsLaucher[i][3] == \"Process\" && form.properties.xpathContext) {\n          actionsLaucher[i][5] = form.properties.xpathContext;\n        }\n      }\n    }\n\n    return actionsLaucher;\n  } });","/**\r\n * Base definition of entity template\r\n *\r\n * @author: Andres Fernando Muñoz\r\n * based on action launcher control\r\n */\n$.Class.extend(\"bizagi.rendering.entityTemplate\", {}, {\n  /**\r\n                                                         * Constructor\r\n                                                         */\n  init: function init(params) {\n    // Call base\n    this._super(params);\n  },\n\n  /**\r\n      * Initialize the control with data provided\r\n      */\n  initializeData: function initializeData(data) {\n    var self = this;\n    // Call base\n    this._super(data);\n    var form = self.getFormContainer();\n\n    self.deferredActions = new $.Deferred();\n    self.deferredActions.promise();\n\n    // Data of get process property value\n    self.processPropertyValueArgs = {\n      \"pcaseId\": self.getIdCase(),\n      \"pguidEntity\": self.properties.guidEntity,\n      \"idRender\": self.properties.id,\n      \"xpathContext\": form.properties.xpathContext,\n      \"idPageCache\": form.properties.idPageCache,\n      \"property\": \"data\",\n      \"psurrogatedKey\": self.properties.surrogatedKey };\n\n\n    self.properties.valueWidth = 100;\n    self.properties.displayType = \"value\";\n    self.properties.allowactions = typeof data.properties.allowactions == \"undefined\" ? true : data.properties.allowactions;\n\n    if (!self.properties.value) {\n      self.properties.value = self.value = [];\n    } else if (typeof self.properties.value == \"string\") {\n      self.properties.value = self.value = JSON.parse(self.properties.value);\n    }\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var mode = self.getMode();\n    var template;\n    var html = \"\";\n    // Render template\n    if (mode == \"design\") {\n      template = self.renderFactory.getTemplate(\"render-entityTemplate-design\");\n      html = $.fasttmpl(template, {});\n    } else\n    if (self.properties.surrogatedKey) {\n      template = self.renderFactory.getTemplate(\"render-entityTemplate\");\n      html = $.fasttmpl(template, { allowactions: self.properties.allowactions });\n    }\n    return html;\n  },\n\n  /**\r\n      * Public method to determine if a value is valid or not\r\n      */\n  isValid: function isValid(invalidElements) {\n    var self = this,\n    properties = self.properties;\n    // Call base\n    var bValid = this._super(invalidElements);\n    var value = self.getValue();\n    // TODO: write functionality\n    return bValid;\n  },\n\n  /**\r\n      * Sets the value in the rendered control\r\n      */\n  setDisplayValue: function setDisplayValue(value) {\n    var self = this;\n    var control = self.getControl();\n    // TODO: write functionality\n    // Set internal value\n    self.setValue(value, false);\n  } });","/**\r\n * Base definition of Polymorphic launcher\r\n *\r\n * @author: Edward J Morales\r\n */\n\n$.Class.extend(\"bizagi.rendering.polymorphicLauncher\", {}, {\n  /*\r\n                                                              * Constructor\r\n                                                              */\n  init: function init(params) {\n    // Call base\n    this._super(params);\n  },\n\n  /*\r\n      * Initialize the control with data provided\r\n      */\n  initializeData: function initializeData(data) {\n    var self = this;\n    // Call base\n    this._super(data);\n    var form = self.getFormContainer();\n    this.typeForm = form.properties.typeForm || \"\";\n    var mode = self.getMode();\n\n    self.deferredActions = new $.Deferred();\n    self.deferredActions.promise();\n\n    self.properties.valueWidth = 100;\n    self.properties.displayType = \"value\";\n    self.properties.allowSearch = typeof data.properties.allowSearch == \"undefined\" ? false : data.properties.allowSearch;\n    self.properties.additionalXpath = self.properties.additionalXpath || [];\n\n    if (!self.properties.value) {\n      self.properties.value = self.value = [];\n      self.properties.originalValue = [];\n    } else if (typeof self.properties.value == \"string\") {\n      self.properties.value = self.value = JSON.parse(self.properties.value);\n    }\n\n    // Data of get process property value\n    self.processPropertyValueArgs = {\n      \"pcaseId\": self.getIdCase(),\n      \"pguidEntity\": self.properties.guidEntity,\n      \"idRender\": self.properties.id,\n      \"xpathContext\": form.properties.xpathContext,\n      \"idPageCache\": form.properties.idPageCache,\n      \"property\": \"data\",\n      \"ptags\": self.getTagList(self.properties.tagslist),\n      \"additionalXpaths\": self.properties.additionalXpath };\n\n  },\n\n  /**\r\n      * Send processpropertyvalue in order to execute an Action\r\n      * This method is used when this control stay in Summary form or Global form\r\n      * @param action\r\n      */\n  executeActionImmediately: function executeActionImmediately(action) {\n    var self = this;\n    //Execute action immediately\n    var form = self.getFormContainer();\n\n    var processPropertyValueExecuteConstructor = {\n      \"idRender\": self.properties.id,\n      \"xpathContext\": form.properties.xpathContext,\n      \"idPageCache\": form.properties.idPageCache,\n      \"property\": \"executeConstructor\",\n      \"psurrogatedKey\": self.properties.surrogatedKey,\n      \"pguidConstructor\": action.guidConstructor,\n      \"pparameters\": JSON.encode({\n        \"idStartScope\": action.idStartScope,\n        \"pactionXpath\": self.properties.xpathActions,\n        \"idPageCache\": action.idPageCache }) };\n\n\n\n    self.dataService.executeActions(processPropertyValueExecuteConstructor).done(function (data) {\n      self.notifyExecution(data.response, action);\n    }).fail(function (error) {\n      // TODO: Create generic mechanism to send notifications\n      self.notifyExecution(\"Error\", action);\n    });\n  },\n\n  /**\r\n      * notify action execution status\r\n      * @param response\r\n      */\n  notifyExecution: function notifyExecution(response, actionName) {\n    // To override in each device\n  },\n\n  /**\r\n      * Render control in read only mode: properties.editable = false\r\n      * @return {*}\r\n      */\n  renderReadOnly: function renderReadOnly() {\n    return this.renderControl();\n  },\n\n  /**\r\n      * Make a postrender of readonly control\r\n      */\n  postRenderReadOnly: function postRenderReadOnly() {\n    this.properties.readOnly = true;\n    this.postRender();\n  },\n\n  /**\r\n      * Template method to implement in each children to customize each control\r\n      * @return {string}\r\n      */\n  renderControl: function renderControl() {\n    var self = this;\n    var properties = self.properties;\n    var mode = self.getMode();\n    var template;\n    var html = \"\";\n\n    // Render template\n    if (mode == \"design\") {\n      template = self.renderFactory.getTemplate(\"render-polymorphicLauncher-design\");\n      var params = {\n        type: properties.type,\n        allowSearch: properties.allowSearch };\n\n      html = $.fasttmpl(template, params);\n    } else if (properties.surrogatedKey) {\n      template = self.renderFactory.getTemplate(\"render-polymorphicLauncher\");\n      html = $.fasttmpl(template);\n    }\n    return html;\n  },\n\n\n  /**\r\n      * Public method to determine if a value is valid or not\r\n      * @param invalidElements\r\n      * @return {*}\r\n      */\n  isValid: function isValid(invalidElements) {\n    var self = this,\n    properties = self.properties;\n    // Call base\n    var bValid = this._super(invalidElements);\n    var value = self.getValue();\n    // TODO: write functionality\n    return bValid;\n  },\n\n  /**\r\n      * Sets the value in the rendered control\r\n      * @param value\r\n      */\n  setDisplayValue: function setDisplayValue(value) {\n    var self = this;\n    // Set internal value\n    self.setValue(value, false);\n  },\n\n  /**\r\n      * Process an action\r\n      * @param action\r\n      */\n  actionManager: function actionManager(action) {\n    var self = this;\n    var guidProcess = action.guidObject || \"\";\n    var def = new $.Deferred();\n\n    action.recordXpath = self.getFormContainer().properties.recordXpath;\n\n    /**\r\n                                                                         /**\r\n                                                                          * Check if action is a process\r\n                                                                          */\n    switch (action.actionType) {\n      case \"Process\":\n        // Verify if case has startform\n        var params = {\n          guidWFClass: guidProcess };\n\n\n        $.when(self.dataService.hasStartForm(params)).done(function (result) {\n          if (result.hasStartForm) {\n            // Open a dialog with startform and wait for Scope\n            $.when(self.processStartForm({\n              guidprocess: guidProcess,\n              title: action.displayNamee,\n              recordXpath: action.recordXpath })).\n            done(function (idStartScope) {\n              action.idStartScope = idStartScope;\n              def.resolve(action);\n            });\n          } else {\n            // Just add action to queue to be executed on nextEvent\n            def.resolve(action);\n          }\n        });\n\n        break;\n      case \"Rule\":\n        // Just add action to queue to be executed on nextEvent\n        def.resolve(action);\n        break;\n      case \"Form\":\n        $.when(self.processActionForm(action)).done(function (idStartScope) {\n          action.idStartScope = idStartScope;\n          def.resolve(action);\n        });\n        break;}\n\n\n    return def.promise();\n  },\n\n  /**\r\n      * Add actions within value object\r\n      * @param action\r\n      */\n  addActionToQueue: function addActionToQueue(action) {\n    var self = this;\n    var actionsList = self.getValue();\n    var formParams = self.getFormContainer().getParams();\n\n    action.params = action.params || {};\n\n    var recordXpath = self.properties.xpathContext;\n\n    switch (action.actionType) {\n      case \"Process\":\n        action.params = {\n          additionalXpaths: self.properties.additionalXpath.join(\",\"),\n          idParentWorkitem: formParams.idWorkitem || bizagi.context.idWorkItem,\n          recordXpath: recordXpath };\n\n        if (typeof action.idStartScope !== \"undefined\") {\n          action.params.idStartScope = action.idStartScope;\n        }\n        break;\n      case \"Form\":\n        action.params = {\n          idStartScope: action.idStartScope,\n          additionalXpaths: self.properties.additionalXpath.join(\",\"),\n          entityXpath: self.properties.xpathActions,\n          idParentWorkitem: formParams.idWorkitem || bizagi.context.idWorkItem,\n          idEntity: action.idEntity,\n          guidEntity: action.guidEntity };\n\n        break;\n      case \"Rule\":\n        //TODO\n        break;}\n\n\n    actionsList.push(action);\n    self.setValue(actionsList);\n    self.setDisplayValue(actionsList);\n  },\n\n  /**\r\n      * Remove action within value object\r\n      * @param index\r\n      */\n  removeActionToQueue: function removeActionToQueue(index) {\n    var self = this;\n    var value = self.getValue();\n    value.splice(index, 1);\n    self.setValue(value);\n    self.setDisplayValue(value);\n  },\n  /**\r\n      * Add the render data to the given collection in order to send data to the server\r\n      * @param renderValues\r\n      */\n  collectData: function collectData(renderValues) {\n    var self = this;\n    if (self.controlValueIsChanged()) {\n      var properties = self.properties;\n      var xpath = properties.xpath;\n      var controlValue = self.getValue();\n      var actions = [];\n      $.each(controlValue, function (index, value) {\n        var action = {};\n        action.params = value.params || {};\n        action.guidAction = value.guidObject || value.guidAction;\n        action.displayName = value.displayName;\n        action.guidConstructor = value.guidConstructor;\n        action.actionType = value.actionType;\n        action.xpathContext = value.xpathContext;\n        action.guidEntity = value.guidEntity;\n        actions.push(action);\n      });\n      renderValues[xpath] = actions.length == 0 ? \"\" : JSON.encode(actions);\n    }\n  },\n\n  /**\r\n      * Util to count how many actions are there\r\n      * @param action\r\n      * @return {number}\r\n      */\n  countSameActions: function countSameActions(action) {\n    var self = this;\n    var value = self.getValue();\n    var count = 0;\n    $.each(value, function (key, value) {\n      if (value.guidAction == action.guidAction) {\n        count++;\n      }\n    });\n    return count;\n  },\n\n  /**\r\n      * Get list of tags\r\n      * @param taglist\r\n      * @return {Array}\r\n      */\n  getTagList: function getTagList(taglist) {\n    taglist = taglist || [];\n    var result = [];\n\n    for (var i = taglist.length; i > 0; i--) {\n      result.push(taglist[i - 1].value);\n    }\n    return result.length > 0 ? result : \"\";\n  } });","/**\r\n *   Name: Bizagi Render Column ReadOnly Decorator Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for readonly-columns\r\n */\n\n// Extends itself\n$.Class.extend(\"bizagi.rendering.columns.readonly\", {}, {\n\n  /*\r\n                                                          *   Constructor\r\n                                                          */\n  init: function init(params) {\n    // Call base\n    this._super(params);\n\n    // Set base column styles\n    var properties = this.properties;\n\n    // Define the column as readonly\n    properties.editable = required = false;\n  },\n\n  /**\r\n      * Return true if the column is read-only, so we can make a quick render\r\n      */\n  isReadonly: function isReadonly() {\n    return true;\n  },\n\n  /**\r\n      * Method to check if a value is valid or not in this render\r\n      */\n  isValueValid: function isValueValid() {\n    // It is always valid because the column is readonly\n    return true;\n  } });","/*\r\n*   Name: BizAgi Render Combo Column Decorator Class\r\n*   Author: Diego Parra\r\n*   Comments:\r\n*   -   This script will define basic stuff for Combo Columns\r\n*/\n\n$.Class.extend(\"bizagi.rendering.columns.combo\", {}, {\n\n  /*\r\n                                                       *   Constructor\r\n                                                       */\n  init: function init(params) {\n    // Call base\n    this._super(params);\n\n    // Set base column styles\n    var properties = this.properties;\n    properties.recalculate = bizagi.util.parseBoolean(properties.recalculate) || false;\n\n    if (bizagi.util.isOfflineForm({ context: this })) {\n      properties.recalculate = false;\n    }\n  },\n\n\n  /*\r\n     *   Apply custom overrides to each decorated instance\r\n     */\n  applyOverrides: function applyOverrides(decorated) {\n    var properties = this.properties;\n\n    this._super(decorated);\n\n    if (!properties.recalculate) {\n      decorated.originalGetData = decorated.getData;\n      decorated.getData = this.getDataForAllCells;\n      decorated.findDataById = this.findDataById;\n    }\n  },\n\n  findDataById: function findDataById(id) {\n    var self = this;\n    var result = {};\n    if (this.column && this.column.comboData) {\n      $.each(this.column.comboData, function (key, value) {\n        if (value.id == id) {\n          result = value;\n        }\n      });\n    }\n\n    return result;\n  },\n\n  /*\r\n     *   Single data fetch for all the cells\r\n     */\n  getDataForAllCells: function getDataForAllCells(params) {\n    var column = this.column;\n    if (column.comboData) return column.comboData;\n    if (column.fetchingData) return column.dataPromise;\n\n    // Start fetching\n    column.fetchingData = true;\n    column.dataPromise = $.when(this.originalGetData(params)).\n    pipe(function (result) {\n      column.comboData = result;\n      column.fetchingData = false;\n      return result;\n    });\n\n    return column.dataPromise;\n  },\n\n  /*\r\n     *   Sets the internal value\r\n     */\n  setValue: function setValue(surrogateKey, value) {\n    var self = this;\n    var decorated = self.getDecorated(surrogateKey);\n    if (decorated === null) {\n      return;\n    }\n\n    // Perform default set value when rendering summary row\n    if (surrogateKey == \"summary\") return self._super(surrogateKey, value);\n\n    if (value && bizagi.util.isString(value)) {\n      self._super(surrogateKey, value);\n    } else if (value && value.length > 0) {\n      // Create the value property\n      var newValue = {\n        id: value[0][0],\n        value: value[0].length > 2 ? $.grep(value[0], function (item, i) {return i != 0;}) : value[0][1] };\n\n      // Call base\n      self._super(surrogateKey, newValue);\n      decorated.selectedValue = newValue.value;\n    } else if (value && value.id && value.value) {\n      self._super(surrogateKey, value);\n      decorated.selectedValue = value.value;\n    } else if (self.properties.type == \"columnRadio\") {\n      self._super(surrogateKey, null);\n      decorated.selectedValue = value;\n    } else if (value && typeof value == \"number\") {\n      self._super(surrogateKey, value);\n    } else {\n      // Set null values when the entry array is null\n      self._super(surrogateKey, null);\n      decorated.selectedValue = \"\";\n    }\n  },\n\n  /*\r\n     * Set the cell default value and make this action as a change to send it to server\r\n     */\n  setDefaultValue: function setDefaultValue(surrogateKey, decorated) {\n    var self = this;\n    var value = self.properties.defaultValue[0];\n\n    decorated.grid.changes[surrogateKey] = decorated.grid.changes[surrogateKey] || {};\n    decorated.grid.changes[surrogateKey][self.properties.xpath] = value.id;\n\n    return value;\n  },\n\n  /*\r\n     *   Gets the internal value\r\n     */\n  getCompositeValue: function getCompositeValue(surrogateKey) {\n    var self = this;\n    var decorated = self.getDecorated(surrogateKey);\n    var value = decorated.getValue();\n    var label = decorated.getSelectedValue();\n\n    // Build value for grid data\n    var valueForGrid = [];\n    if (value && (value.id > 0 || bizagi.util.isString(value.id))) {\n      valueForGrid.push([]);\n      valueForGrid[0].push(value.id);\n      valueForGrid[0].push(label);\n    } else {\n      valueForGrid.push([]);\n    }\n\n    return valueForGrid;\n  },\n\n  /*\r\n     *   Gets the internal value\r\n     */\n  getValue: function getValue(surrogateKey) {\n    var self = this;\n    var decorated = self.getDecorated(surrogateKey);\n    var value = decorated.getValue();\n    if (value) return value.id;\n    return value;\n  },\n\n  /*\r\n     *   Returns the in-memory processed element \r\n     *   so the caller could append it to any place\r\n     */\n  render: function render(surrogateKey, value, tableCell) {\n    var self = this;\n    var decorated = self.getDecorated(surrogateKey);\n    var properties = self.properties;\n\n    // If the control needs to recalculate data, reset it on the decorated render\n    if (properties.recalculate) {\n      decorated.resetData();\n    }\n\n    // Change the xpath context\n    var xpathContext = properties.xpathContext.length > 0 ? properties.xpathContext + \".\" + self.grid.properties.xpath + \"[id=\" + surrogateKey + \"]\" : self.grid.properties.xpath + \"[id=\" + surrogateKey + \"]\";\n    decorated.properties.xpathContext = xpathContext;\n\n    // Render the control\n    var result = this._super(surrogateKey, value, tableCell);\n\n    return result;\n  },\n\n  renderReadOnly: function renderReadOnly(key, value) {\n    var self = this;\n    var decorated = self.getDecorated(key);\n    var properties = self.properties;\n\n    // Change the xpath context\n    var xpathContext = properties.xpathContext.length > 0 ? properties.xpathContext + \".\" + self.grid.properties.xpath + \"[id=\" + key + \"]\" : self.grid.properties.xpath + \"[id=\" + key + \"]\";\n    decorated.properties.xpathContext = xpathContext;\n\n    // Render the control\n    var result = this._super(key, value);\n\n    return result;\n  } });","/**\r\n*   Name: Bizagi Render Date Column Decorator Class\r\n*   Author: UI Forms Team\r\n*   Comments:\r\n*   -   This script will define basic stuff for Date Columns\r\n*/\n\n\n$.Class.extend(\"bizagi.rendering.columns.date\", {}, {\n\n  /*\r\n                                                      *   Sets the internal value\r\n                                                      */\n  setValue: function setValue(surrogateKey, value) {\n    var self = this;\n    var decorated = self.getDecorated(surrogateKey);\n    if (decorated === null) return;\n\n    self._super(surrogateKey, value);\n    if ((value === null || value === undefined) && self.properties.defaultvalue !== undefined) {\n      value = self.setDefaultValue(surrogateKey, decorated);\n    }\n\n    // Perform default set value when rendering summary row\n    if (surrogateKey === \"summary\") return self._super(surrogateKey, value);\n\n    if (value == null) {\n      decorated.setValue(value, false);\n      decorated.properties.displayValue = \"\";\n    }\n\n    var date = bizagi.util.dateFormatter.getDateFromInvariant(value, decorated.properties.showTime);\n\n    if (date === 0) {\n      // force another attempt in order to check invariant format for the value with time or without time (reverse option)\n      date = bizagi.util.dateFormatter.getDateFromInvariant(value, !decorated.properties.showTime);\n    }\n    // Format date to current format\n    if (date !== 0) {\n      var datePickerRegional = bizagi.localization.getResource(\"datePickerRegional\");\n      var formattedDate = bizagi.util.dateFormatter.formatDate(date, decorated.properties.fullFormat, datePickerRegional);\n\n      // Set formatted value in display value property\n      decorated.properties.displayValue = formattedDate;\n\n      // Send original value to decorated control, because it must be with invariant format\n      decorated.setValue(value, false);\n    }\n  },\n\n  /*\r\n     * Set the cell default value and make this action as a change to send it to server\r\n     */\n  setDefaultValue: function setDefaultValue(surrogateKey, decorated) {\n    var self = this;\n    var value = self.properties.defaultvalue;\n\n    decorated.grid.changes[surrogateKey] = decorated.grid.changes[surrogateKey] || {};\n\n    value = bizagi.util.dateFormatter.getDateFromInvariant(value, decorated.properties.showTime || false);\n\n    value = bizagi.util.dateFormatter.formatInvariant(value, true);\n    decorated.grid.changes[surrogateKey][self.properties.xpath] = value;\n\n    return value;\n  } });","/**\r\n *   Name: BizAgi Render Combo Column Decorator Class\r\n *   Author: Diego Parra\r\n *   Comments:\r\n *   -   This script will define basic stuff for Combo Columns\r\n */\n\n$.Class.extend(\"bizagi.rendering.columns.search\", {}, {\n  /*\r\n                                                        *   Constructor\r\n                                                        */\n  init: function init(params) {\n    // Call base\n    this._super(params);\n\n    // Set base column styles\n    var properties = this.properties;\n\n    if (properties.advancedSearch && this.getMode() === \"execution\") {\n      properties.submitOnChange = bizagi.util.parseBoolean(properties.submitOnChange) || false;\n      properties.submitOnChange = (properties.submitVersion || 1) > 1 ? properties.submitOnChange : true;\n    }\n  },\n\n  /**\r\n      * Apply custom overrides to each decorated instance\r\n      * @param decorated\r\n      */\n  applyOverrides: function applyOverrides(decorated) {\n    this._super(decorated);\n\n    // Change the xpath context\n    var xpathContext;\n\n    if (this.properties.xpathContext.length > 0) {\n      xpathContext = this.properties.xpathContext + \".\" + this.grid.properties.xpath + \"[id=\" + decorated.surrogateKey + \"]\";\n    } else {\n      xpathContext = this.grid.properties.xpath + \"[id=\" + decorated.surrogateKey + \"]\";\n    }\n\n    decorated.properties.xpathContext = xpathContext;\n  },\n\n  /*\r\n     *   Returns the in-memory processed element\r\n     *   so the caller could append it to any place\r\n     */\n  render: function render(surrogateKey, value, tableCell) {\n    var self = this;\n    var decorated = self.getDecorated(surrogateKey);\n    var properties = self.properties;\n\n    // If the control needs to recalculate data, reset it on the decorated render\n    if (properties.recalculate) {\n      decorated.resetData();\n    }\n\n    // Render the control\n    var result = this._super(surrogateKey, value, tableCell);\n\n    return result;\n  },\n\n  /*\r\n     *   Gets the internal value\r\n     */\n  getValue: function getValue(surrogateKey) {\n    var self = this;\n    var decorated = self.getDecorated(surrogateKey);\n    var value = decorated.getValue();\n    return value;\n  },\n\n  setValue: function setValue(surrogateKey, value) {\n    var self = this;\n    var decorated = self.getDecorated(surrogateKey);\n    if (decorated === null) {\n      return;\n    }\n\n    // Perform default set value when rendering summary row\n    if (surrogateKey == \"summary\") return self._super(surrogateKey, value);\n\n    var compositeValue = self.getCompositeValue(surrogateKey);\n    if (!!compositeValue && typeof compositeValue.id !== \"undefined\" && compositeValue.id == value) {\n      value = compositeValue;\n    }\n\n    if (value && value.length > 0) {\n      // Create the value property\n      var newValue = {\n        id: value[0][0],\n        value: value[0].length > 2 ? $.grep(value[0], function (item, i) {\n          return i != 0;\n        }) : value[0][1] };\n\n      // Call base\n      self._super(surrogateKey, newValue);\n      decorated.selectedValue = newValue.value;\n    } else if (value && value.id && value.value) {\n      self._super(surrogateKey, value);\n      decorated.selectedValue = value.value;\n    } else if (value && value.id && value.label) {\n      self._super(surrogateKey, value);\n      decorated.selectedValue = value.label;\n    } else {\n      self._super(surrogateKey, value);\n      decorated.selectedValue = \"\";\n    }\n  } });","/**\r\n *   Name: Bizgi Render Hidden Column Decorator Class\r\n *   Author: UI Forms Team\r\n *   Comments:\r\n *   -   This script will define basic stuff for hidden-columns\r\n */\n\n$.Class.extend(\"bizagi.rendering.columns.hidden\", {}, {\n\n  /**\r\n                                                         * Method to determine if the render value can be sent to the server or not\r\n                                                         * @returns {}\r\n                                                         */\n  canBeSent: function canBeSent() {\n    return true;\n  } });","/*\r\n *   Name: Bizagi Base Render Factory\r\n *   Author: Diego Parra\r\n *   Comments:\r\n *   -   This script will define an abstract render factory in order to do common stuff for all device factories\r\n */\n\n$.Class.extend(\"bizagi.rendering.base.factory\", {}, {\n  /* \r\n                                                      *   Constructor\r\n                                                      */\n  init: function init(dataService) {\n    this.templates = {};\n    this.dataService = dataService;\n  },\n\n  /**\r\n     * Load client resources in order to override a default behavior\r\n     */\n  loadOverrides: function loadOverrides() {\n  },\n  /*\r\n     *   This function will load asynchronous stuff needed in the module\r\n     */\n  initAsyncStuff: function initAsyncStuff() {\n    return $.when.apply($, [this.loadOverrides(), this.loadTemplates()]);\n  },\n  /*\r\n     *   Load all the templates used for rendering\r\n     */\n  loadTemplates: function loadTemplates() {\n  },\n  /*\r\n     *   Load one template and save it internally\r\n     */\n  loadTemplate: function loadTemplate(template, templateDestination) {\n    var self = this;\n\n    // Go fetch the template\n    return bizagi.templateService.getTemplate(templateDestination, template).\n    done(function (resolvedTemplate) {\n      self.templates[template] = resolvedTemplate;\n    });\n  },\n  /*\r\n     * Returns a common  used template for the framework\r\n     */\n  getCommonTemplate: function getCommonTemplate(template) {\n    return this.templates[template];\n  },\n  /*\r\n     *   Returns the appropiate container based on the container type\r\n     */\n  getContainer: function getContainer(params) {\n    // TODO: REMOVE IMPLEMENTATION\n\n    var type = params.type;\n    var data = params.data;\n    var containerParams = $.extend(params, {\n      renderFactory: this,\n      dataService: params.dataService || this.dataService });\n\n\n    if (type == \"form\") {\n      return new bizagi.rendering.form(containerParams);\n    }\n\n    if (type == \"mobileform\") {\n      return new bizagi.rendering.mobileform(containerParams);\n    }\n\n    if (type == \"template\") {\n      return new bizagi.rendering.formTemplate(containerParams);\n    }\n\n    if (type == \"queryForm\") {\n      return new bizagi.rendering.queryForm(containerParams);\n    }\n\n    if (type == \"layout\") {\n      return new bizagi.rendering.layout(containerParams);\n    }\n\n    if (type == \"usersForm\") {\n      return new bizagi.rendering.usersForm(containerParams);\n    }\n\n    if (type == \"panel\") {\n      return new bizagi.rendering.panel(containerParams);\n    }\n\n    if (type == \"section\") {\n      return new bizagi.rendering.section(containerParams);\n    }\n\n    if (type == \"contentPanel\" || type == \"contentpanel\") {\n      return new bizagi.rendering.contentPanel(containerParams);\n    }\n\n    if (type.toLowerCase() == \"nestedform\") {\n      return new bizagi.rendering.nestedForm(containerParams);\n    }\n\n    if (type == \"tab\") {\n      return new bizagi.rendering.tab(containerParams);\n    }\n\n    if (type == \"tabItem\" || type == \"tabitem\") {\n      return new bizagi.rendering.tabItem(containerParams);\n    }\n\n    if (type == \"horizontal\") {\n      return new bizagi.rendering.horizontal(containerParams);\n    }\n\n    if (type == \"accordion\") {\n      return new bizagi.rendering.accordion(containerParams);\n    }\n\n    if (type == \"accordionItem\") {\n      return new bizagi.rendering.accordionItem(containerParams);\n    }\n\n    if (type == \"group\") {\n      return new bizagi.rendering.group(containerParams);\n    }\n\n    if (type == \"mobilegroup\") {\n      return new bizagi.rendering.mobilegroup(containerParams);\n    }\n\n    if (type == \"searchForm\") {\n      containerParams.context = \"search\";\n      containerParams.contexttype = \"metadata\";\n      return new bizagi.rendering.searchForm(containerParams);\n    }\n\n    // No type supported\n    bizagi.log(type + \" not supported in render factory\", data, \"error\");\n    return null;\n  },\n  /*\r\n     *   Returns the appropiate render based on the render type\r\n     */\n  getRender: function getRender(params) {\n\n    // TODO: REMOVE IMPLEMENTATION\n    var type = params.type;\n    var data = params.data;\n    var renderParams = $.extend(params, {\n      renderFactory: this,\n      dataService: params.dataService || this.dataService });\n\n\n    if (!type)\n    type = \"label\";\n\n    if (type == \"text\") {\n      var isExtended = bizagi.util.parseBoolean(data.properties.isExtended) || false;\n\n      if (isExtended) {\n        // Creates one extended render\n        return new bizagi.rendering.extendedText(renderParams);\n      }\n\n      // Creates one normal text render\n      return new bizagi.rendering.text(renderParams);\n    }\n    if (type == \"mobiletext\") {\n      return new bizagi.rendering.mobiletext(renderParams);\n    }\n\n    if (type == \"association\") {\n      return new bizagi.rendering.association(renderParams);\n    }\n\n    if (type == \"label\") {\n      return new bizagi.rendering.label(renderParams);\n    }\n\n    if (type == \"hidden\") {\n      return new bizagi.rendering.hidden(renderParams);\n    }\n\n    if (type == \"number\") {\n      return new bizagi.rendering.number(renderParams);\n    }\n\n    if (type == \"money\") {\n      return new bizagi.rendering.money(renderParams);\n    }\n\n    if (type == \"date\") {\n      return new bizagi.rendering.date(renderParams);\n    }\n\n    if (type == \"boolean\") {\n      var display = data.properties.display || \"option\";\n\n      if (display == \"check\") {\n        // Creates one check render\n        return new bizagi.rendering.check(renderParams);\n      }\n\n      // Creates one yes-no render\n      return new bizagi.rendering.yesno(renderParams);\n    }\n\n    if (type == \"combo\") {\n      return new bizagi.rendering.combo(renderParams);\n    }\n\n    if (/^cascadingcombo$/i.test(type)) {\n      return new bizagi.rendering.cascadingCombo(renderParams);\n    }\n\n    if (type == \"list\") {\n      return new bizagi.rendering.list(renderParams);\n    }\n\n    if (type == \"multiSelect\") {\n      return new bizagi.rendering.multiSelect(renderParams);\n    }\n\n    if (type == \"radio\") {\n      return new bizagi.rendering.radio(renderParams);\n    }\n\n    if (type == \"image\") {\n      // Override for test purposes\n      return new bizagi.rendering.image(renderParams);\n    }\n    if (type == \"uploadecm\") {\n      // Check if its ECM file            \n      return new bizagi.rendering.ecm(renderParams);\n    }\n\n    if (type == \"upload\") {\n      return new bizagi.rendering.upload(renderParams);\n    }\n    if (type == \"grid\") {\n      return new bizagi.rendering.grid(renderParams);\n    }\n\n    if (type == \"groupedgrid\") {\n      return new bizagi.rendering.grid(renderParams);\n    }\n\n    if (type == \"search\") {\n      return new bizagi.rendering.search(renderParams);\n    }\n\n    if (type == \"suggest\") {\n      renderParams.data.properties.enableQuerySuggestBehavior = true;\n      return new bizagi.rendering.search(renderParams);\n    }\n\n    if (type == \"searchList\") {\n      return new bizagi.rendering.searchList(renderParams);\n    }\n\n    if (type == \"letter\") {\n      return new bizagi.rendering.letter(renderParams);\n    }\n\n    if (type == \"button\") {\n      return new bizagi.rendering.button(renderParams);\n    }\n\n    if (type == \"formLink\") {\n      return new bizagi.rendering.formLink(renderParams);\n    }\n\n    if (type == \"link\") {\n      return new bizagi.rendering.link(renderParams);\n    }\n\n    if (type == \"layoutImage\") {\n      return new bizagi.rendering.layoutImage(renderParams);\n    }\n\n    if (type == \"layoutLink\") {\n      return new bizagi.rendering.layoutLink(renderParams);\n    }\n\n    if (type == \"layoutLabel\") {\n      return new bizagi.rendering.layoutLabel(renderParams);\n    }\n\n    if (type == \"layoutText\") {\n      return new bizagi.rendering.layoutText(renderParams);\n    }\n\n    if (type == \"layoutDateTime\") {\n      return new bizagi.rendering.layoutDateTime(renderParams);\n    }\n\n    if (type == \"layoutNumber\") {\n      return new bizagi.rendering.layoutNumber(renderParams);\n    }\n\n    if (type == \"layoutMoney\") {\n      return new bizagi.rendering.layoutMoney(renderParams);\n    }\n\n    if (type == \"layoutPlaceholder\") {\n      return new bizagi.rendering.layoutPlaceholder(renderParams);\n    }\n\n    if (type == \"actionLauncher\") {\n      return new bizagi.rendering.actionLauncher(renderParams);\n    }\n\n    if (type == \"layoutBoolean\") {\n      return new bizagi.rendering.layoutBoolean(renderParams);\n    }\n\n    if (type == \"layoutUpload\") {\n      return new bizagi.rendering.layoutUpload(renderParams);\n    }\n\n    if (type == \"entityTemplate\") {\n      return new bizagi.rendering.entityTemplate(renderParams);\n    }\n\n    if (type == \"polymorphicLauncher\") {\n      return new bizagi.rendering.polymorphicLauncher(renderParams);\n    }\n\n    if (type == \"userfield\") {\n      return new bizagi.rendering.userfieldWrapper(renderParams);\n    }\n\n    // Check search renders (starts with \"search\")\n    if (type.indexOf(\"search\") == 0) {\n      return this.getSearchRender(params);\n    }\n\n    if (type.indexOf(\"query\") == 0) {\n      return this.getQueryRender(params);\n    }\n\n    if (type == \"document\") {\n      return new bizagi.rendering.document(renderParams);\n    }\n\n    if (type == \"image\") {\n      return new bizagi.rendering.image(renderParams);\n    }\n    if (type == \"fileprint\") {\n      return new bizagi.rendering.fileprint(renderParams);\n    }\n    if (type == \"geolocation\") {\n      return new bizagi.rendering.geolocation(renderParams);\n    }\n\n    if (type == \"collectionnavigator\") {\n      return new bizagi.rendering.collectionnavigator(renderParams);\n    }\n\n    if (type == \"getUser\") {\n      return new bizagi.rendering.getUser(renderParams);\n    }\n\n    if (type == \"rangeDate\") {\n      return new bizagi.rendering.rangeDate(renderParams);\n    }\n\n    if (type == \"rangeMoney\") {\n      return new bizagi.rendering.rangeMoney(renderParams);\n    }\n\n    if (type == \"rangeNumber\") {\n      return new bizagi.rendering.rangeNumber(renderParams);\n    }\n\n    if (type == \"activityCheckList\") {\n      return new bizagi.rendering.activityCheckList(renderParams);\n    }\n\n    // No type supported\n    bizagi.log(type + \" not supported in render factory\", data, \"error\");\n    return null;\n  },\n  /*\r\n     *   Returns the appropiate column based on the render type\r\n     */\n  getColumn: function getColumn(params) {\n    var type = params.type;\n    var data = params.data;\n    var columnParams = $.extend(params, {\n      renderFactory: this,\n      dataService: params.dataService || this.dataService,\n      singleInstance: bizagi.util.isEmpty(params.singleInstance) ? true : params.singleInstance });\n\n\n    if (type == \"columnText\") {\n      var isExtended = bizagi.util.parseBoolean(data.properties.isExtended) || false;\n\n      if (isExtended) {\n        // Creates one extended render\n        columnParams.decorated = bizagi.rendering.extendedText;\n      } else {\n        // Creates one normal text render\n        columnParams.decorated = bizagi.rendering.text;\n      }\n      return new bizagi.rendering.columns.text(columnParams);\n    }\n\n    if (type == \"columnSearchList\") {\n      columnParams.decorated = bizagi.rendering.searchList;\n      return new bizagi.rendering.columns.searchList(columnParams);\n    }\n\n    if (type == \"columnNumber\") {\n      columnParams.decorated = bizagi.rendering.number;\n      return new bizagi.rendering.columns.number(columnParams);\n    }\n\n    if (type == \"columnMoney\") {\n      columnParams.decorated = bizagi.rendering.money;\n      return new bizagi.rendering.columns.number(columnParams);\n    }\n\n    if (type == \"columnDate\") {\n      columnParams.decorated = bizagi.rendering.date;\n      return new bizagi.rendering.columns.date(columnParams);\n    }\n\n    if (type == \"columnBoolean\") {\n      var display = data.properties.display || \"option\";\n\n      if (display == \"check\") {\n        // Creates one check render\n        columnParams.decorated = bizagi.rendering.check;\n        if (params.data.properties.isExclusive) {\n          return new bizagi.rendering.columns.exclusiveCheck(columnParams);\n        }\n      } else {\n        // Creates one yes-no render\n        columnParams.decorated = bizagi.rendering.yesno;\n      }\n      return new bizagi.rendering.columns.column(columnParams);\n    }\n\n    if (type == \"columnCombo\") {\n      columnParams.decorated = bizagi.rendering.combo;\n      return new bizagi.rendering.columns.combo(columnParams);\n    }\n\n    if (type == \"columnRadio\") {\n      columnParams.decorated = bizagi.rendering.radio;\n      return new bizagi.rendering.columns.radio(columnParams);\n    }\n\n    if (type == \"columnList\") {\n      columnParams.decorated = bizagi.rendering.list;\n      return new bizagi.rendering.columns.list(columnParams);\n    }\n\n    if (type == \"columnHidden\") {\n      columnParams.decorated = bizagi.rendering.hidden;\n      return new bizagi.rendering.columns.column(columnParams);\n    }\n\n    if (type == \"columnUpload\") {\n      columnParams.decorated = bizagi.rendering.upload;\n      return new bizagi.rendering.columns.upload(columnParams);\n    }\n\n    if (type == \"columnImage\") {\n      columnParams.decorated = bizagi.rendering.image;\n      return new bizagi.rendering.columns.image(columnParams);\n    }\n\n    if (type == \"columnUploadEcm\") {\n      columnParams.decorated = bizagi.rendering.ecm;\n      return new bizagi.rendering.columns.uploadecm(columnParams);\n    }\n    if (type == \"columnLink\") {\n      columnParams.decorated = bizagi.rendering.link;\n      return new bizagi.rendering.columns.link(columnParams);\n    }\n\n    if (type == \"columnFormLink\") {\n      columnParams.decorated = bizagi.rendering.formLink;\n      return new bizagi.rendering.columns.link(columnParams);\n    }\n\n    if (type == \"columnUserfield\") {\n      columnParams.decorated = bizagi.rendering.userfieldWrapper;\n      return new bizagi.rendering.columns.column(columnParams);\n    }\n\n    if (type == \"columnSearch\") {\n      columnParams.decorated = bizagi.rendering.search;\n      return new bizagi.rendering.columns.search(columnParams);\n    }\n\n    if (type == \"columnLabel\") {\n      columnParams.decorated = bizagi.rendering.label;\n      return new bizagi.rendering.columns.column(columnParams);\n    }\n\n    if (type == \"columnReadonly\") {\n      columnParams.decorated = bizagi.rendering.label;\n      return new bizagi.rendering.columns.readonly(columnParams);\n    }\n\n    if (type == \"columnDocument\") {\n      columnParams.decorated = bizagi.rendering.document;\n      return new bizagi.rendering.columns.document(columnParams);\n    }\n\n    if (type == \"columnLetter\") {\n      columnParams.decorated = bizagi.rendering.letter;\n      return new bizagi.rendering.columns.letter(columnParams);\n    }\n\n    if (type == \"columnButton\") {\n      columnParams.decorated = bizagi.rendering.button;\n      return new bizagi.rendering.columns.button(columnParams);\n    }\n\n    // No type supported\n    bizagi.log(type + \" not supported in render factory\", data, \"error\");\n    return null;\n  },\n  /*\r\n     *   Returns the appropiate search render based on the type\r\n     */\n  getSearchRender: function getSearchRender(params) {\n    var type = params.type;\n    var data = params.data;\n    var searchParams = $.extend(params, {\n      renderFactory: this,\n      dataService: params.dataService || this.dataService });\n\n\n    if (type == \"searchText\") {\n      var isExtended = bizagi.util.parseBoolean(data.properties.isExtended) || false;\n\n      if (isExtended) {\n        // Creates one extended render\n        return new bizagi.rendering.extendedText(searchParams);\n      }\n\n      // Creates one normal text render\n      return new bizagi.rendering.text(searchParams);\n    }\n\n    if (type == \"searchBoolean\") {\n      var display = data.properties.display || \"option\";\n\n      if (display == \"check\") {\n        // Creates one check render\n        return new bizagi.rendering.check(searchParams);\n      }\n\n      // Creates one yes-no render\n      return new bizagi.rendering.yesno(searchParams);\n    }\n\n    if (type == \"searchNumber\") {\n      if (data.properties.dataType == 29) {\n        //Creates a Scientific Notation render\n        return new bizagi.rendering.numberScientificNotation(searchParams);\n      }\n      return new bizagi.rendering.number(searchParams);\n    }\n\n    if (type == \"searchMoney\") {\n      return new bizagi.rendering.money(searchParams);\n    }\n\n    if (type == \"searchDate\") {\n      return new bizagi.rendering.date(searchParams);\n    }\n\n    if (type == \"searchCombo\") {\n      return new bizagi.rendering.combo(searchParams);\n    }\n\n    if (type == \"searchSuggest\") {\n      return new bizagi.rendering.search(searchParams);\n    }\n\n    if (type == \"searchLabel\") {\n      return new bizagi.rendering.label(searchParams);\n    }\n\n    // No type supported\n    bizagi.log(type + \" not supported in render factory\", data, \"error\");\n    return null;\n  },\n  /*\r\n     *   Returns the appropiate search render based on the type\r\n     */\n  getQueryRender: function getQueryRender(params) {\n    var type = params.type;\n    var data = params.data;\n    var searchParams = $.extend(params, {\n      renderFactory: this,\n      dataService: params.dataService || this.dataService });\n\n\n    if (type == \"queryText\") {\n      var isExtended = bizagi.util.parseBoolean(data.properties.isExtended) || false;\n\n      if (isExtended) {\n        // Creates one extended render\n        return new bizagi.rendering.queryExtendedText(searchParams);\n      }\n\n      // Creates one normal text render\n      return new bizagi.rendering.queryText(searchParams);\n    }\n\n    if (type == \"queryBoolean\") {\n      var display = data.properties.display || \"option\";\n\n      if (display == \"check\") {\n        // Creates one check render\n        return new bizagi.rendering.queryCheck(searchParams);\n      }\n\n      // Creates one yes-no render\n      return new bizagi.rendering.queryYesNo(searchParams);\n    }\n\n    if (type == \"queryNumber\") {\n\n      return new bizagi.rendering.queryNumber(searchParams);\n    }\n\n    if (type == \"queryMoney\") {\n      return new bizagi.rendering.queryMoney(searchParams);\n    }\n\n    if (type == \"queryDate\") {\n      return new bizagi.rendering.queryDate(searchParams);\n    }\n\n    if (type == \"queryCombo\") {\n      return new bizagi.rendering.queryCombo(searchParams);\n    }\n\n    if (type == \"queryCascadingCombo\") {\n      return new bizagi.rendering.queryCascadingCombo(searchParams);\n    }\n\n    if (type == \"querySuggest\") {\n      return new bizagi.rendering.querySuggest(searchParams);\n    }\n\n    if (type == \"queryLabel\") {\n      return new bizagi.rendering.queryLabel(searchParams);\n    }\n\n    if (type == \"queryList\") {\n      return new bizagi.rendering.queryList(searchParams);\n    }\n\n    if (type == \"queryMultiSelect\") {\n      return new bizagi.rendering.queryMultiSelect(searchParams);\n    }\n\n    if (type == \"querySearch\") {\n      return new bizagi.rendering.querySearch(searchParams);\n    }\n\n    if (type == \"queryRadio\") {\n      return new bizagi.rendering.queryRadio(searchParams);\n    }\n\n    if (type == \"queryState\") {\n      return new bizagi.rendering.queryState(searchParams);\n    }\n\n    if (type == \"queryCaseState\") {\n      return new bizagi.rendering.queryCaseState(searchParams);\n    }\n\n    if (type == \"queryProcess\") {\n      return new bizagi.rendering.queryProcess(searchParams);\n    }\n\n    if (type == \"querySearchUser\") {\n      return new bizagi.rendering.querySearchUser(searchParams);\n    }\n\n    if (type == \"queryHidden\") {\n      return new bizagi.rendering.hidden(searchParams);\n    }\n\n    // No type supported\n    bizagi.log(type + \" not supported in render factory\", data, \"error\");\n    return null;\n  },\n  /*\r\n     *   Method to fetch templates from a private dictionary\r\n     */\n  getTemplate: function getTemplate(template) {\n    var self = this;\n    return self.templates[template];\n  } });","/*\r\n*   Name: Bizagi Device Render Factory\r\n*   Author: UI Forms Team\r\n*   Comments:\r\n*   -   This script will detect the current device and then will load the appropriate factory on demand\r\n*/\n\n$.Class.extend(\"bizagi.rendering.device.factory\", {}, {\n\n  /**\r\n                                                         * Constructor, detects the device\r\n                                                         * @param params\r\n                                                         */\n  init: function init(params) {\n    this.execution_device = bizagi.util.detectDevice();\n    this.cachedFactory = {};\n  },\n\n  /**\r\n      * Returns the appropriate render factory based on the device detection\r\n      * Because it loads the scripts on demand it must return a promise\r\n      * @param dataService\r\n      * @param device\r\n      * @returns {*}\r\n      */\n  getRenderFactory: function getRenderFactory(dataService, device) {\n    var self = this;\n    device = device || \"desktop\";\n    var defer = new $.Deferred();\n\n    if (typeof self.cachedFactory[device] !== \"undefined\") {\n      // Reset print version value\n      self.cachedFactory[device].printVersion = false;\n      // Resolve with cached factory                \n      defer.resolve(self.cachedFactory[device]);\n    } else {\n      // If factory is not cached then build it\n      if (device === \"print\") {\n\n        // Load print version references\n        self.cachedFactory[device] = new bizagi.rendering.print.factory(dataService);\n\n        // Wait for async loading\n        self.cachedFactory[device].initAsyncStuff().\n        done(function () {\n          // Resolve operation\n          defer.resolve(self.cachedFactory[device]);\n        });\n\n      } else if (device === \"desktop\") {\n\n        // Load desktop references\n        self.cachedFactory[device] = new bizagi.rendering.desktop.factory(dataService);\n\n        // Wait for async loading\n        self.cachedFactory[device].initAsyncStuff().\n        done(function () {\n          // Resolve operation\n          defer.resolve(self.cachedFactory[device]);\n        });\n\n      } else if (bizagi.util.isTabletDevice(device)) {\n\n        // Load tablet references\n        self.cachedFactory[device] = new bizagi.rendering.tablet.factory(dataService);\n\n        // Wait for async loading\n        self.cachedFactory[device].initAsyncStuff().\n        done(function () {\n          // Resolve operation\n          defer.resolve(self.cachedFactory[device]);\n        });\n      } else if (bizagi.util.isSmartphoneDevice(device)) {\n\n        // Load tablet references\n        self.cachedFactory[device] = new bizagi.rendering.smartphone.factory(dataService);\n\n        // Wait for async loading\n        self.cachedFactory[device].initAsyncStuff().\n        done(function () {\n\n          // Resolve operation\n          defer.resolve(self.cachedFactory[device]);\n        });\n      } else {\n        // if no device suuported\n        bizagi.showMessageBox(\"Not supported device: \" + device);\n        defer.reject(\"Not supported device: \" + device);\n      }\n    }\n\n    return defer.promise();\n  },\n\n  /**\r\n      * Returns the current data service being used\r\n      * @returns {*}\r\n      */\n  getDataService: function getDataService() {\n    return this.dataService;\n  } });"]}